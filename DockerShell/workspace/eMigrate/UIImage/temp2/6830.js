"use strict";(self.webpackChunke_migrate=self.webpackChunke_migrate||[]).push([[6830],{6830:($,F,u)=>{u.r(F),u.d(F,{AdministrationModule:()=>nt});var p=u(6895),_=u(6270),h=u(3599),e=u(1571);let v=(()=>{var o;class l{}return(o=l).\u0275fac=function(s){return new(s||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["emigrate-batch-administration"]],decls:2,vars:0,template:function(s,t){1&s&&(e.TgZ(0,"p"),e._uU(1,"batch-administration works!"),e.qZA())}}),l})(),w=(()=>{var o;class l{}return(o=l).\u0275fac=function(s){return new(s||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["emigrate-payment-reconciliation"]],decls:2,vars:0,template:function(s,t){1&s&&(e.TgZ(0,"p"),e._uU(1,"payment-reconciliation works!"),e.qZA())}}),l})();var k=u(5593),b=u(1740),r=u(4006);let n=(()=>{var o;class l{}return(o=l).\u0275fac=function(s){return new(s||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["emigrate-service-levels"]],decls:46,vars:0,consts:[[1,"content"],[1,"mb-0"],[1,"border","p-3"],[1,"form"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","4",1,"block"],["id","4","type","username","aria-describedby","username1-help","pInputText",""],[1,"buttons","mt-3"],["pButton","","type","button","label","Cancel",1,"btn-blue","mr-2","btn-format"],["pButton","","type","button","label","Clear",1,"btn-format","btn-blue","mr-2"],["pButton","","type","button","label"," Save ",1,"btn-format","btn-blue"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"Add Employee PAC"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"form")(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),e._uU(10,"1. Service Level PGoE Executive "),e.TgZ(11,"span"),e._uU(12,"*"),e.qZA()(),e._UZ(13,"input",8),e.qZA()(),e.TgZ(14,"div",5)(15,"div",6)(16,"label",7),e._uU(17,"2. Service Level PGoE Officer "),e.TgZ(18,"span"),e._uU(19,"*"),e.qZA()(),e._UZ(20,"input",8),e.qZA()(),e.TgZ(21,"div",5)(22,"div",6)(23,"label",7),e._uU(24,"3. Service Level PGoE "),e.TgZ(25,"span"),e._uU(26,"*"),e.qZA()(),e._UZ(27,"input",8),e.qZA()(),e.TgZ(28,"div",5)(29,"div",6)(30,"label",7),e._uU(31,"4. Service Level Embassy / Consulate Officer "),e.TgZ(32,"span"),e._uU(33,"*"),e.qZA()(),e._UZ(34,"input",8),e.qZA()(),e.TgZ(35,"div",5)(36,"div",6)(37,"label",7),e._uU(38,"5. Service Level Embassy / Consulate Executive "),e.TgZ(39,"span"),e._uU(40,"*"),e.qZA()(),e._UZ(41,"input",8),e.qZA()()()()()(),e.TgZ(42,"div",9),e._UZ(43,"button",10)(44,"button",11)(45,"button",12),e.qZA()())},dependencies:[k.Hq,b.o,r._Y,r.JL,r.F]}),l})();var c=u(1358),d=u(2976),A=u(6945),g=u(805),ne=u(8725),le=u(5518),y=u(2453),E=u(2210),W=u(6625);function ae(o,l){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&o){const i=l.$implicit;e.xp6(1),e.hij(" ",i.label," ")}}const ee=function(){return{height:"20rem"}};let ce=(()=>{var o;class l{constructor(){this.moveToTarget=new e.vpe,this.moveToSource=new e.vpe,this.moveAllToTarget=new e.vpe,this.moveAllToSource=new e.vpe,this.saveForm=new e.vpe,this.clearForm=new e.vpe,this.closeForm=new e.vpe}onMoveToTarget(s){this.moveToTarget.emit(s)}onMoveToSource(s){this.moveToSource.emit(s)}onMoveAllToTarget(s){this.moveAllToTarget.emit(s)}onMoveAllToSource(s){this.moveAllToSource.emit(s)}saveFormData(){this.saveForm.emit()}clearFormData(){this.clearForm.emit()}redirectToDashboard(){this.closeForm.emit()}}return(o=l).\u0275fac=function(s){return new(s||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["emigrate-report-recipient-form"]],inputs:{title:"title",reportRecipientFormGroup:"reportRecipientFormGroup",recipients:"recipients",selectedRecipients:"selectedRecipients",frequencyList:"frequencyList",reportList:"reportList"},outputs:{moveToTarget:"moveToTarget",moveToSource:"moveToSource",moveAllToTarget:"moveAllToTarget",moveAllToSource:"moveAllToSource",saveForm:"saveForm",clearForm:"clearForm",closeForm:"closeForm"},decls:25,vars:21,consts:[[1,"clearfix"],[1,"form"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","report","inputLabel","1. Report","inputId","report",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","report","placeholder","Select Report","EmigrateShDropdown","",1,"w-100",3,"options","formControl"],["for","frequency","inputLabel","2. Frequency","inputId","frequency",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","passportType","placeholder","Select Frequency","EmigrateShDropdown","",1,"w-100",3,"options","formControl"],[1,"row","mt-2"],[1,"col-md-12","col-sm-12"],["sourceHeader","Available Recipient List","targetHeader","Assigned Recipient List","filterBy","label","sourceFilterPlaceholder","Search by Recipient","targetFilterPlaceholder","Search by Recipient","breakpoint","700px",3,"source","target","dragdrop","responsive","sourceStyle","targetStyle","showSourceControls","showTargetControls","onMoveToTarget","onMoveToSource","onMoveAllToTarget","onMoveAllToSource"],["pTemplate","item"],[1,"row","mt-2","mb-2"],[1,"col-md-12"],[1,"buttons"],["pButton","","type","submit","label","Save",1,"btn-format","btn-blue","mr-2",3,"click"],["pButton","","type","button","label","Clear",1,"btn-blue","btn-format","mr-2",3,"click"],["pButton","","type","button","label","Cancel",1,"btn-format","btn-blue",3,"click"]],template:function(s,t){1&s&&(e._UZ(0,"div",0),e.TgZ(1,"div",1)(2,"h4"),e._uU(3),e.qZA(),e.TgZ(4,"form")(5,"div",2)(6,"div",3)(7,"div",4)(8,"emigrate-sh-html-input",5),e._UZ(9,"p-dropdown",6),e.qZA()()(),e.TgZ(10,"div",3)(11,"div",4)(12,"emigrate-sh-html-input",7),e._UZ(13,"p-dropdown",8),e.qZA()()()(),e.TgZ(14,"div",9)(15,"div",10)(16,"div",4)(17,"p-pickList",11),e.NdJ("onMoveToTarget",function(m){return t.onMoveToTarget(m)})("onMoveToSource",function(m){return t.onMoveToSource(m)})("onMoveAllToTarget",function(m){return t.onMoveAllToTarget(m)})("onMoveAllToSource",function(m){return t.onMoveAllToSource(m)}),e.YNc(18,ae,2,1,"ng-template",12),e.qZA()()()(),e.TgZ(19,"div",13)(20,"div",14)(21,"div",15)(22,"button",16),e.NdJ("click",function(){return t.saveFormData()}),e.qZA(),e.TgZ(23,"button",17),e.NdJ("click",function(){return t.clearFormData()}),e.qZA(),e.TgZ(24,"button",18),e.NdJ("click",function(){return t.redirectToDashboard()}),e.qZA()()()()()()),2&s&&(e.xp6(3),e.Oqu(t.title),e.xp6(5),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.reportRecipientFormGroup.controls.report),e.xp6(1),e.Q6J("options",t.reportList)("formControl",t.reportRecipientFormGroup.controls.report),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.reportRecipientFormGroup.controls.frequency),e.xp6(1),e.Q6J("options",t.frequencyList)("formControl",t.reportRecipientFormGroup.controls.frequency),e.xp6(4),e.Q6J("source",t.recipients)("target",t.selectedRecipients)("dragdrop",!0)("responsive",!0)("sourceStyle",e.DdM(19,ee))("targetStyle",e.DdM(20,ee))("showSourceControls",!1)("showTargetControls",!1))},dependencies:[c.KR,c.lC,g.jx,k.Hq,E.Lt,r._Y,r.JJ,r.JL,r.F,W.G,r.oH]}),l})();function ue(o,l){if(1&o&&(e.TgZ(0,"div",5),e._UZ(1,"emigrate-sh-page-instructions",6),e.qZA()),2&o){const i=e.oxw();e.xp6(1),e.Q6J("instructionsText",i.pageInstructionText)("toolTipText",i.pageInstructionHelpText)}}function de(o,l){if(1&o){const i=e.EpF();e.TgZ(0,"emigrate-report-recipient-form",7),e.NdJ("moveToTarget",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.onMoveToTarget(t))})("moveToSource",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.onMoveToSource(t))})("moveAllToTarget",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.onMoveAllToTarget(t))})("moveAllToSource",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.onMoveAllToSource(t))})("saveForm",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.saveFormData())})("clearForm",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.clearFormData())})("closeForm",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.redirectToDashboard())}),e.qZA()}if(2&o){const i=e.oxw();e.Q6J("title",i.title)("reportRecipientFormGroup",i.reportRecipientFormGroup)("recipients",i.recipients)("selectedRecipients",i.selectedRecipients)("frequencyList",i.frequencyList)("reportList",i.reportList)}}function pe(o,l){if(1&o){const i=e.EpF();e.TgZ(0,"emigrate-sh-status-confirmation",8),e.NdJ("close",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.redirectToDashboard())}),e.qZA()}if(2&o){const i=e.oxw();e.Q6J("title",i.confirmationTitle)("confirmationMsgLine1",i.confirmationMsg)("confirmationMsgLine2","")("status","success")}}let me=(()=>{var o;class l extends c.H6{constructor(s,t,a,m,T){super(t),this.uiService=s,this.router=a,this.formHelper=m,this.userMgmntService=T,this.showSuccessPage=!1,this.selectedRecipientIds=[],this.pageInstructionText=d.Xef.PAGE_INSTRUCTION_TEXT,this.pageInstructionHelpText=d.Xef.PAGE_INSTRUCTION_HELP_TEXT,this.title="Configure System Parameters",this.confirmationTitle="Success Page",this.confirmationMsg="Report Recipient Parameters are assigned successfully to users !!!"}ngOnInit(){this.breadcrumb=[{label:"Dashboard",routerLink:["/admin"]},{label:"User Management",routerLink:["/admin"]},{label:"Maintain Report Recipient List"}],this.uiService.initPageSetup(this.breadcrumb,"Maintain Report Recipient List"),this.reportRecipientFormGroup=this.formHelper.createReportRecipientListForm(!1),this.selectedRecipients=[],this.recipients=[{label:"Recipient1",value:"1"},{label:"Recipient2",value:"2"},{label:"Recipient3",value:"3"},{label:"Recipient4",value:"4"},{label:"Recipient5",value:"5"},{label:"Recipient6",value:"6"},{label:"Recipient7",value:"7"},{label:"Recipient8",value:"8"}],this.recipientsBk=[...this.recipients]}onMoveToTarget(s){this.updateFormRecipient()}onMoveAllToTarget(s){this.updateFormRecipient()}onMoveToSource(s){this.updateFormRecipient()}onMoveAllToSource(s){this.updateFormRecipient()}updateFormRecipient(){this.selectedRecipientIds=[],this.selectedRecipientIds=this.selectedRecipients.map(t=>t.value);let s=this.reportRecipientFormGroup.getRawValue();s.recipient=this.selectedRecipientIds,this.reportRecipientFormGroup.patchValue({...s})}saveFormData(){let s=!1;this.showSuccessPage=!1,this.reportRecipientFormGroup.markAllAsTouched(),s=this.reportRecipientFormGroup.valid,this.selectedRecipients.length<1&&this.showErrorToast("Please assign recipient"),s&&(this.showSuccessPage=!0)}clearFormData(){this.reportRecipientFormGroup.reset(),this.selectedRecipientIds=[],this.selectedRecipients=[],this.recipients=this.recipientsBk}redirectToDashboard(){this.router.navigate(["/admin/dashboard"])}}return(o=l).\u0275fac=function(s){return new(s||o)(e.Y36(A.n),e.Y36(g.ez),e.Y36(h.F0),e.Y36(ne.j),e.Y36(le.L))},o.\u0275cmp=e.Xpm({type:o,selectors:[["emigrate-report-recipient-list"]],features:[e.qOj],decls:6,vars:3,consts:[[1,"container"],[1,"content","p-3","border","mt-2","mb-2"],["class","row",4,"ngIf"],[3,"title","reportRecipientFormGroup","recipients","selectedRecipients","frequencyList","reportList","moveToTarget","moveToSource","moveAllToTarget","moveAllToSource","saveForm","clearForm","closeForm",4,"ngIf"],[3,"title","confirmationMsgLine1","confirmationMsgLine2","status","close",4,"ngIf"],[1,"row"],[3,"instructionsText","toolTipText"],[3,"title","reportRecipientFormGroup","recipients","selectedRecipients","frequencyList","reportList","moveToTarget","moveToSource","moveAllToTarget","moveAllToSource","saveForm","clearForm","closeForm"],[3,"title","confirmationMsgLine1","confirmationMsgLine2","status","close"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"p-toast"),e.YNc(3,ue,2,2,"div",2),e.YNc(4,de,1,6,"emigrate-report-recipient-form",3),e.YNc(5,pe,1,4,"emigrate-sh-status-confirmation",4),e.qZA()()),2&s&&(e.xp6(3),e.Q6J("ngIf",!t.showSuccessPage),e.xp6(1),e.Q6J("ngIf",!t.showSuccessPage),e.xp6(1),e.Q6J("ngIf",t.showSuccessPage))},dependencies:[p.O5,c.dB,c.r2,y.FN,ce]}),l})(),he=(()=>{var o;class l{}return(o=l).\u0275fac=function(s){return new(s||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["emigrate-validity-parameters"]],decls:2,vars:0,template:function(s,t){1&s&&(e.TgZ(0,"p"),e._uU(1,"validity-parameters works!"),e.qZA())}}),l})(),fe=(()=>{var o;class l{}return(o=l).\u0275fac=function(s){return new(s||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["emigrate-country-parameters"]],decls:2,vars:0,template:function(s,t){1&s&&(e.TgZ(0,"p"),e._uU(1,"country-parameters works!"),e.qZA())}}),l})(),Te=(()=>{var o;class l{constructor(s){this.fb=s}createRole(){return this.fb.group({createRole:this.fb.group({newRole:this.fb.control("",r.kI.compose([r.kI.required,c.YO.fullNameValidator()])),shortName:this.fb.control("",r.kI.compose([r.kI.required,c.YO.fullNameValidator()]))})})}addnewRole(s){const t=s.getRawValue();return(new d.A6o).deserialize({name:t.createRole.newRole,shortName:t.createRole.shortName})}updateRole(s,t){const a=s.getRawValue();return(new d.wch).deserialize({id:t,name:a.createRole.newRole,shortName:a.createRole.shortName})}}return(o=l).\u0275fac=function(s){return new(s||o)(e.LFG(r.qu))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),l})();var N,C=u(655),f=u(262),P=u(8513);class G{constructor(l){this.CreateRoleService=l}createNewRole(l){return this.CreateRoleService.saveNewRole(l).pipe((0,f.K)(i=>{throw i}))}getlistRole(){return this.CreateRoleService.getRole().pipe((0,f.K)(l=>{throw l}))}deleteRole(l){return this.CreateRoleService.deleteRole(l).pipe((0,f.K)(i=>{throw i}))}updateRole(l){return this.CreateRoleService.updateRole(l).pipe((0,f.K)(i=>{throw i}))}}(N=G).\u0275fac=function(l){return new(l||N)(e.LFG(d._af))},N.\u0275prov=e.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),(0,C.gn)([(0,P.PS)()],G.prototype,"createNewRole",null),(0,C.gn)([(0,P.PS)()],G.prototype,"getlistRole",null);var S=u(4826),K=u(2137);function ge(o,l){1&o&&(e.TgZ(0,"tr")(1,"th",25),e._uU(2,"Role Name"),e._UZ(3,"p-sortIcon",26),e.qZA(),e.TgZ(4,"th",27),e._uU(5," Short Name"),e._UZ(6,"p-sortIcon",28),e.qZA(),e.TgZ(7,"th",29),e._uU(8,"Action"),e.qZA()())}function ve(o,l){if(1&o){const i=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"div",30)(7,"button",31),e.NdJ("click",function(){const a=e.CHM(i).$implicit,m=e.oxw();return e.KtG(m.selectedRoleValue(a))}),e._UZ(8,"i",32),e.qZA(),e.TgZ(9,"button",33),e.NdJ("click",function(){const a=e.CHM(i).$implicit,m=e.oxw();return e.KtG(m.deleteRole(a))}),e._UZ(10,"i",34),e.qZA()()()()}if(2&o){const i=l.$implicit;e.xp6(2),e.Oqu(i.name),e.xp6(2),e.Oqu(i.shortName)}}const be=function(){return{"min-width":"50rem"}},Ce=function(){return[5,10,25,50]},Pe=function(){return{width:"40vw"}};let _e=(()=>{var o;class l extends c.H6{constructor(s,t,a,m,T,Z){super(m),this.helperServices=s,this._roleServices=t,this.route=a,this.uiService=T,this.confirmationService=Z}ngOnInit(){this.uiService.initPageSetup([],""),this.roleFormGroup=this.helperServices.createRole(),this.getRolelist()}get createRoleControl(){return this.roleFormGroup.controls.createRole}selectedRoleValue(s){this.selectedRoleid=s.id,this.createRoleControl.patchValue({newRole:s.name,shortName:s.shortName}),this.enableUpdate=!0,this.gotoTop(220,0)}getRolelist(){this._roleServices.getlistRole().subscribe({next:s=>{this.listOfRole=s.data.sort((t,a)=>a.id-t.id)},error:s=>{this.showErrorToast(s.message),this.uiService.hideSpinner()},complete:()=>{this.uiService.hideSpinner()}})}saveCreateRole(){if(this.roleFormGroup.markAllAsTouched(),this.roleFormGroup.valid){this.uiService.showSpinner();const s=Object.assign(new d.A6o,this.helperServices.addnewRole(this.roleFormGroup));this._roleServices.createNewRole(s).subscribe({next:t=>{t.status==d.Xef.SUCCESS?(this.clear(),this.uiService.hideSpinner(),this.showSuccessToast(t.message,"Create New Role"),this.getRolelist()):this.showErrorToast(t.message,"Create New Role")},error:t=>{this.showErrorToast(t.message,"Create New Role"),this.uiService.hideSpinner()},complete:()=>{this.uiService.hideSpinner()}})}}deleteRole(s){this.confirmationService.confirm({message:"Are you sure you want to Delete Role",header:"Confirmation",accept:()=>{this.uiService.showSpinner(),this._roleServices.deleteRole(s.id).subscribe({next:t=>{"success"==t.status?(this.uiService.hideSpinner(),this.showSuccessToast(t.message,"Create New Role"),this.getRolelist(),this.clear()):this.showErrorToast(t.message,"Create New Role")},error:t=>{this.showErrorToast(t.message,"Create New Role"),this.uiService.hideSpinner()},complete:()=>{this.uiService.hideSpinner()}})},reject:()=>{}})}updateRole(){if(this.roleFormGroup.markAllAsTouched(),this.roleFormGroup.valid){const s=Object.assign(new d.wch,this.helperServices.updateRole(this.roleFormGroup,this.selectedRoleid));this._roleServices.updateRole(s).subscribe({next:t=>{"success"==t.status?(this.uiService.hideSpinner(),this.clear(),this.showSuccessToast(t.message,"Create New Role"),this.getRolelist()):this.showErrorToast(t.message,"Create New Role")},error:t=>{this.showErrorToast(t.message),this.uiService.hideSpinner()},complete:()=>{this.uiService.hideSpinner()}})}}clear(){this.roleFormGroup.reset(),this.enableUpdate=!1}cancel(){this.route.navigateByUrl("admin/dashboard")}}return(o=l).\u0275fac=function(s){return new(s||o)(e.Y36(Te),e.Y36(G),e.Y36(h.F0),e.Y36(g.ez),e.Y36(A.n),e.Y36(g.YP))},o.\u0275cmp=e.Xpm({type:o,selectors:[["emigrate-create-role"]],features:[e.qOj],decls:31,vars:21,consts:[[1,"middle_section"],[1,"container"],[1,"row"],[3,"pageTitle"],[1,"border","p-3","mb-3"],[3,"instructionsText","toolTipText"],[1,"content"],[3,"pageSubTitle"],[1,"form"],[3,"formGroup"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","newRole","inputLabel","Create New Role","inputId","newRole",1,"block",3,"inputFormControl"],["id","newRole","type","text","pInputText","","placeholder","","maxlength","30",3,"formControl"],["for","shortName","inputLabel","Short Name","inputId","shortName",1,"block",3,"inputFormControl"],["id","shortName","type","text","pInputText","","placeholder","","maxlength","30",3,"formControl"],[1,"buttons","mb-3"],["pButton","","type","button",1,"btn-format","mr-2","btn-blue",3,"click"],["pButton","","type","button","label","Clear",1,"p-button-secondary","mr-2","btn-format",3,"click"],["pButton","","type","button","label","Cancel",1,"btn-format","btn-blue",3,"click"],[1,"card","table"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"paginator","rows","showCurrentPageReport","tableStyle","value","rowsPerPageOptions"],["ec",""],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","name",2,"width","20%"],["field","name"],["pSortableColumn","shortName",2,"width","20%"],["field","shortName"],[2,"width","20%"],[1,"user_action"],[1,"text-primary",3,"click"],[1,"pi","pi-file-edit",2,"font-size","0.8rem"],[1,"text-danger",3,"click"],[1,"pi","pi-trash",2,"font-size","0.8rem"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"p-toast"),e.TgZ(3,"div",2),e._UZ(4,"emigrate-sh-page-title",3),e.qZA(),e.TgZ(5,"div",4),e._UZ(6,"emigrate-sh-page-instructions",5),e.TgZ(7,"div",6),e._UZ(8,"emigrate-sh-page-sub-title",7),e.TgZ(9,"div",8)(10,"form",9)(11,"div",2)(12,"div",10)(13,"div",11)(14,"emigrate-sh-html-input",12),e._UZ(15,"input",13),e.qZA()()(),e.TgZ(16,"div",10)(17,"div",11)(18,"emigrate-sh-html-input",14),e._UZ(19,"input",15),e.qZA()()()()()(),e.TgZ(20,"div",16)(21,"button",17),e.NdJ("click",function(){return t.enableUpdate?t.updateRole():t.saveCreateRole()}),e._uU(22),e.qZA(),e.TgZ(23,"button",18),e.NdJ("click",function(){return t.clear()}),e.qZA(),e.TgZ(24,"button",19),e.NdJ("click",function(){return t.cancel()}),e.qZA()(),e.TgZ(25,"div",20)(26,"p-table",21,22),e.YNc(28,ge,9,0,"ng-template",23),e.YNc(29,ve,11,2,"ng-template",24),e.qZA()()()(),e._UZ(30,"p-confirmDialog"),e.qZA()()),2&s&&(e.xp6(4),e.Q6J("pageTitle","Create Role"),e.xp6(2),e.Q6J("instructionsText","Fields marked with * (asterisk) are mandatory")("toolTipText","1. Fields marked with * (asterisk) are mandatory.\n        2. Please do not press F5 or Back Button"),e.xp6(2),e.Q6J("pageSubTitle","Create New Role"),e.xp6(2),e.Q6J("formGroup",t.createRoleControl),e.xp6(4),e.Q6J("inputFormControl",null==t.createRoleControl||null==t.createRoleControl.controls?null:t.createRoleControl.controls.newRole),e.xp6(1),e.Q6J("formControl",null==t.createRoleControl||null==t.createRoleControl.controls?null:t.createRoleControl.controls.newRole),e.xp6(3),e.Q6J("inputFormControl",null==t.createRoleControl||null==t.createRoleControl.controls?null:t.createRoleControl.controls.shortName),e.xp6(1),e.Q6J("formControl",null==t.createRoleControl||null==t.createRoleControl.controls?null:t.createRoleControl.controls.shortName),e.xp6(3),e.hij(" ",t.enableUpdate?"Update":"Save"," "),e.xp6(4),e.Q6J("paginator",!0)("rows",10)("showCurrentPageReport",!0)("tableStyle",e.DdM(18,be))("value",t.listOfRole)("rowsPerPageOptions",e.DdM(19,Ce)),e.xp6(4),e.Akn(e.DdM(20,Pe)))},dependencies:[c.KR,c.TM,c.jZ,c.dB,g.jx,k.Hq,b.o,y.FN,S.iA,S.lQ,S.fz,r._Y,r.Fj,r.JJ,r.JL,r.nD,K.Q,r.oH,r.sg]}),l})();var U,Q=u(4325);class q{constructor(l){this.AddBusinessProccessservice=l}createNewRole(l){return this.AddBusinessProccessservice.AddBusinessProces(l).pipe((0,f.K)(i=>{throw i}))}getBusinessProcesslist(){return this.AddBusinessProccessservice.getBusinessProcesslist().pipe((0,f.K)(l=>{throw l}))}deleteBusinessProcess(l){return this.AddBusinessProccessservice.deleteBusinessProcess(l).pipe((0,f.K)(i=>{throw i}))}updateBusinessProcess(l){return this.AddBusinessProccessservice.updateBusinessProcess(l).pipe((0,f.K)(i=>{throw i}))}validateBusinessProcess(l){return this.AddBusinessProccessservice.validateBusinessProcess(l).pipe((0,f.K)(i=>{throw i}))}}(U=q).\u0275fac=function(l){return new(l||U)(e.LFG(d.tux))},U.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),(0,C.gn)([(0,P.PS)()],q.prototype,"createNewRole",null),(0,C.gn)([(0,P.PS)()],q.prototype,"getBusinessProcesslist",null);let ke=(()=>{var o;class l extends c.H6{constructor(s,t,a,m,T){super(a),this.ref=s,this.uiService=t,this.config=m,this._AddBusinessProcessService=T}ngOnInit(){this.addBusinessProcess=this.config.data.AddBusiness}submit(){this.ref.close(this.addBusinessProcess.processId)}}return(o=l).\u0275fac=function(s){return new(s||o)(e.Y36(Q.E7),e.Y36(A.n),e.Y36(g.ez),e.Y36(Q.S),e.Y36(q))},o.\u0275cmp=e.Xpm({type:o,selectors:[["emigrate-validate-add-business-process"]],features:[e.qOj],decls:8,vars:0,consts:[[1,"content"],[1,"row"],[1,"col-12"],[1,"buttons","mb-3"],["pButton","","type","submit","label","Submit",1,"btn-format","btn-blue",3,"click"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"p"),e._uU(3,"Business Process validate successfully"),e.qZA()(),e.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"button",4),e.NdJ("click",function(){return t.submit()}),e.qZA()()()()())},dependencies:[k.Hq]}),l})(),Ae=(()=>{var o;class l{constructor(s){this.fb=s}createBusinessProcess(){return this.fb.group({AddBusinessProcess:this.fb.group({processName:this.fb.control("",r.kI.compose([r.kI.required,c.YO.fullNameValidator()])),processDescription:this.fb.control("",r.kI.compose([r.kI.required,c.YO.fullNameValidator()]))})})}addBusiness(s){const t=s.getRawValue();return(new d.DoI).deserialize({processName:t.AddBusinessProcess.processName,processDescription:t.AddBusinessProcess.processDescription})}updateBusiness(s,t){const a=s.getRawValue();return(new d.D7K).deserialize({id:t,processName:a.AddBusinessProcess.processName,processDescription:a.AddBusinessProcess.processDescription})}}return(o=l).\u0275fac=function(s){return new(s||o)(e.LFG(r.qu))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),l})();function Se(o,l){1&o&&(e.TgZ(0,"tr")(1,"th",25),e._uU(2," Process Name"),e._UZ(3,"p-sortIcon",26),e.qZA(),e.TgZ(4,"th",27),e._uU(5," Process ID"),e._UZ(6,"p-sortIcon",28),e.qZA(),e.TgZ(7,"th",29),e._uU(8," Process Description"),e._UZ(9,"p-sortIcon",30),e.qZA(),e.TgZ(10,"th",31),e._uU(11,"Actions"),e.qZA()())}function we(o,l){if(1&o){const i=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"div",32)(9,"button",33),e.NdJ("click",function(){const a=e.CHM(i).$implicit,m=e.oxw();return e.KtG(m.selectedRoleValue(a))}),e._UZ(10,"i",34),e.qZA(),e.TgZ(11,"button",35),e.NdJ("click",function(){const a=e.CHM(i).$implicit,m=e.oxw();return e.KtG(m.deleteProcess(a))}),e._UZ(12,"i",36),e.qZA(),e.TgZ(13,"button",37),e.NdJ("click",function(){const a=e.CHM(i).$implicit,m=e.oxw();return e.KtG(m.open(a))}),e._UZ(14,"i",38),e.qZA()()()()}if(2&o){const i=l.$implicit;e.xp6(2),e.Oqu(i.name),e.xp6(2),e.Oqu(i.processId),e.xp6(2),e.Oqu(i.processDescription),e.xp6(7),e.Q6J("disabled",i.valStatus)}}const Ze=function(){return{"min-width":"50rem"}},ye=function(){return[5,10,25,50]},Ie=function(){return{width:"40vw"}};let Re=(()=>{var o;class l extends c.H6{constructor(s,t,a,m,T,Z,B,J){super(m),this.helperService=s,this._AddBusinessProcessService=t,this.route=a,this.uiService=T,this.dialogService=Z,this.confirmationService=B,this.ref=J}ngOnInit(){this.AddBusinessFormGroup=this.helperService.createBusinessProcess(),this.getProcessList()}get AddBusinessProcessControl(){return this.AddBusinessFormGroup.controls.AddBusinessProcess}saveAddBusinessProcess(){this.enableUpdate?this.updateProcess():this.saveProcess()}getProcessList(){this._AddBusinessProcessService.getBusinessProcesslist().subscribe({next:s=>{this.businessProcessList=s.data.sort((t,a)=>a.id-t.id)},error:s=>{this.showErrorToast(s.message,"Add Business Process"),this.uiService.hideSpinner()},complete:()=>{this.uiService.hideSpinner()}})}selectedRoleValue(s){this.selectedid=s.id,this.AddBusinessProcessControl.patchValue({processName:s.processName,processDescription:s.processDescription}),this.enableUpdate=!0,this.gotoTop(220,0)}open(s){this.ref=this.dialogService.open(ke,{header:"Validate Business Process",width:"50%",data:{AddBusiness:s}}),this.ref.onClose.subscribe(t=>{this._AddBusinessProcessService.validateBusinessProcess(t).subscribe({next:a=>{"success"==a.status?(this.uiService.hideSpinner(),this.showSuccessToast(a.message,"Add Business Process"),this.getProcessList()):this.showErrorToast(a.message,"Add Business Process")},error:a=>{this.showErrorToast(a.message,"Add Business Process"),this.uiService.hideSpinner()},complete:()=>{this.uiService.hideSpinner()}})})}saveProcess(){if(this.AddBusinessProcessControl.markAllAsTouched(),this.AddBusinessProcessControl.valid){this.uiService.showSpinner();const s=Object.assign(new d.DoI,this.helperService.addBusiness(this.AddBusinessFormGroup));this._AddBusinessProcessService.createNewRole(s).subscribe({next:t=>{"success"==t.status?(this.clear(),this.uiService.hideSpinner(),this.showSuccessToast(t.message,"Add Business Process"),this.getProcessList()):this.showErrorToast(t.message,"Add Business Process")},error:t=>{this.showErrorToast(t.message,"Add Business Process"),this.uiService.hideSpinner()},complete:()=>{this.uiService.hideSpinner()}})}}validateProcess(){}deleteProcess(s){this.confirmationService.confirm({message:"Are you sure you want to Delete Business Process",header:"Confirmation",accept:()=>{this.uiService.showSpinner(),this._AddBusinessProcessService.deleteBusinessProcess(s.id).subscribe({next:t=>{"success"==t.status?(this.uiService.hideSpinner(),this.showSuccessToast(t.message,"Add Business Process"),this.getProcessList()):this.showErrorToast(t.message,"Add Business Process")},error:t=>{this.showErrorToast(t.message,"Add Business Process"),this.uiService.hideSpinner()},complete:()=>{this.uiService.hideSpinner()}})},reject:()=>{}})}updateProcess(){if(this.AddBusinessProcessControl.markAllAsTouched(),this.AddBusinessProcessControl.valid){const s=Object.assign(new d.D7K,this.helperService.updateBusiness(this.AddBusinessFormGroup,this.selectedid));this._AddBusinessProcessService.updateBusinessProcess(s).subscribe({next:t=>{"success"==t.status?(this.uiService.hideSpinner(),this.showSuccessToast(t.message,"Add Business Process"),this.clear(),this.getProcessList()):this.showErrorToast(t.message,"Add Business Process")},error:t=>{this.showErrorToast(t.message,"Add Business Process"),this.uiService.hideSpinner()},complete:()=>{this.uiService.hideSpinner()}}),this.enableUpdate=!0}}clear(){this.AddBusinessFormGroup.reset(),this.enableUpdate=!1}cancel(){this.route.navigateByUrl("admin/dashboard")}}return(o=l).\u0275fac=function(s){return new(s||o)(e.Y36(Ae),e.Y36(q),e.Y36(h.F0),e.Y36(g.ez),e.Y36(A.n),e.Y36(Q.xA),e.Y36(g.YP),e.Y36(Q.E7))},o.\u0275cmp=e.Xpm({type:o,selectors:[["emigrate-add-business-process"]],features:[e.qOj],decls:34,vars:22,consts:[[1,"middle_section"],[1,"container"],[1,"row"],[3,"pageTitle"],[1,"border","p-3","mb-3"],[3,"instructionsText","toolTipText"],[1,"content"],[3,"pageSubTitle"],[1,"form"],[3,"formGroup"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","processName","inputLabel","Process Name","inputId","processName",1,"block",3,"inputFormControl"],["id","processName","type","text","pInputText","","placeholder","","maxlength","30",3,"formControl"],["for","processDescription","inputLabel","Process Description","inputId","processDescription",1,"block",3,"inputFormControl"],["id","processDescription","type","text","pInputText","","placeholder","","maxlength","",3,"formControl"],[1,"buttons","mb-3"],["pButton","","type","button",1,"btn-format","mr-2","btn-blue",3,"click"],["pButton","","type","button","label","Clear",1,"p-button-secondary","mr-2","btn-format",3,"click"],["pButton","","type","button","label","Cancel",1,"btn-format","btn-blue",3,"click"],[1,"card","table"],["styleClass","p-datatable-gridlines","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"paginator","rows","showCurrentPageReport","tableStyle","value","rowsPerPageOptions"],["ec",""],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","processName",2,"width","20%"],["field","processName"],["pSortableColumn","processId",2,"width","35%"],["field","processId"],["pSortableColumn","processDescription",2,"width","35%"],["field","processDescription"],[2,"width","9%"],[1,"user_action"],[1,"text-primary",3,"click"],[1,"pi","pi-file-edit",2,"font-size","1rem"],[1,"text-danger",3,"click"],[1,"pi","pi-trash",2,"font-size","1rem"],[1,"text-success",3,"disabled","click"],[1,"pi","pi-check",2,"font-size","1rem"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"p-toast"),e.TgZ(3,"div",2),e._UZ(4,"emigrate-sh-page-title",3),e.qZA(),e.TgZ(5,"div",4),e._UZ(6,"emigrate-sh-page-instructions",5),e.TgZ(7,"div",6),e._UZ(8,"emigrate-sh-page-sub-title",7),e.TgZ(9,"div",8)(10,"form",9)(11,"div",2)(12,"div",10)(13,"div",11)(14,"emigrate-sh-html-input",12),e._UZ(15,"input",13),e.qZA()()(),e.TgZ(16,"div",10)(17,"div",11)(18,"emigrate-sh-html-input",14)(19,"textarea",15),e._uU(20,"                                        "),e.qZA()()()()()()(),e.TgZ(21,"div",16)(22,"button",17),e.NdJ("click",function(){return t.enableUpdate?t.updateProcess():t.saveProcess()}),e._uU(23),e.qZA(),e.TgZ(24,"button",18),e.NdJ("click",function(){return t.clear()}),e.qZA(),e.TgZ(25,"button",19),e.NdJ("click",function(){return t.cancel()}),e.qZA()(),e.TgZ(26,"div",6),e._UZ(27,"emigrate-sh-page-sub-title",7),e.TgZ(28,"div",20)(29,"p-table",21,22),e.YNc(31,Se,12,0,"ng-template",23),e.YNc(32,we,15,4,"ng-template",24),e.qZA()()()()(),e._UZ(33,"p-confirmDialog"),e.qZA()()),2&s&&(e.xp6(4),e.Q6J("pageTitle","Create Business Process"),e.xp6(2),e.Q6J("instructionsText","Fields marked with * (asterisk) are mandatory")("toolTipText","1. Fields marked with * (asterisk) are mandatory.\n        2. Please do not press F5 or Back Button"),e.xp6(2),e.Q6J("pageSubTitle","Create Business Process"),e.xp6(2),e.Q6J("formGroup",t.AddBusinessProcessControl),e.xp6(4),e.Q6J("inputFormControl",null==t.AddBusinessProcessControl||null==t.AddBusinessProcessControl.controls?null:t.AddBusinessProcessControl.controls.processName),e.xp6(1),e.Q6J("formControl",null==t.AddBusinessProcessControl||null==t.AddBusinessProcessControl.controls?null:t.AddBusinessProcessControl.controls.processName),e.xp6(3),e.Q6J("inputFormControl",null==t.AddBusinessProcessControl||null==t.AddBusinessProcessControl.controls?null:t.AddBusinessProcessControl.controls.processDescription),e.xp6(1),e.Q6J("formControl",null==t.AddBusinessProcessControl||null==t.AddBusinessProcessControl.controls?null:t.AddBusinessProcessControl.controls.processDescription),e.xp6(4),e.hij(" ",t.enableUpdate?"Update":"Save"," "),e.xp6(4),e.Q6J("pageSubTitle","Business Process List"),e.xp6(2),e.Q6J("paginator",!0)("rows",10)("showCurrentPageReport",!0)("tableStyle",e.DdM(19,Ze))("value",t.businessProcessList)("rowsPerPageOptions",e.DdM(20,ye)),e.xp6(4),e.Akn(e.DdM(21,Ie)))},dependencies:[c.KR,c.TM,c.jZ,c.dB,g.jx,k.Hq,b.o,y.FN,S.iA,S.lQ,S.fz,r._Y,r.Fj,r.JJ,r.JL,r.nD,K.Q,r.oH,r.sg]}),l})(),te=(()=>{var o;class l{constructor(s){this.fb=s}createAddTaskToBusinessProcess(){return this.fb.group({AddTaskToBusinessProces:this.fb.group({processName:this.fb.control(null,r.kI.compose([r.kI.required])),taskName:this.fb.control("",r.kI.compose([r.kI.required,c.YO.fullNameValidator()])),taskLabel:this.fb.control("",r.kI.compose([r.kI.required,c.YO.fullNameValidator()])),taskType:this.fb.control("",r.kI.compose([r.kI.required])),taskSequence:this.fb.control(null,r.kI.compose([r.kI.required])),nextTaskName:this.fb.control([],r.kI.compose([r.kI.required])),nextTaskUser:this.fb.control([],r.kI.compose([r.kI.required])),taskDescription:this.fb.control("",r.kI.compose([r.kI.required,c.YO.fullNameValidator()])),taskId:this.fb.control(null),locationAgnostic:this.fb.control(null)})})}}return(o=l).\u0275fac=function(s){return new(s||o)(e.LFG(r.qu))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),l})();var x,I=u(8505);class z{constructor(l){this.addtaskToBusinessProcessservice=l}validateTasks(l){return this.addtaskToBusinessProcessservice.creatTaskprocess(l).pipe((0,I.b)(i=>{}),(0,f.K)(i=>{throw i}))}deleteTask(l){return this.addtaskToBusinessProcessservice.deleteTaskProcess(l).pipe((0,I.b)(i=>{}),(0,f.K)(i=>{throw i}))}}(x=z).\u0275fac=function(l){return new(l||x)(e.LFG(d.k5t))},x.\u0275prov=e.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),(0,C.gn)([(0,P.PS)()],z.prototype,"validateTasks",null);var Be=u(613),se=u(5722);function Fe(o,l){if(1&o&&e._UZ(0,"p-radioButton",36),2&o){const i=l.$implicit,s=e.oxw();e.Q6J("formControl",null==s.AddTaskToBusinessProcessControl||null==s.AddTaskToBusinessProcessControl.controls?null:s.AddTaskToBusinessProcessControl.controls.taskType)("label",i.label)("value",i.value)}}function Ne(o,l){if(1&o&&(e.TgZ(0,"div",37)(1,"div",38),e._UZ(2,"p-radioButton",39),e.TgZ(3,"label",40),e._uU(4),e.qZA()()()),2&o){const i=l.$implicit,s=e.oxw();e.xp6(2),e.Q6J("value",i.value)("inputId",i.value)("formControl",null==s.AddTaskToBusinessProcessControl||null==s.AddTaskToBusinessProcessControl.controls?null:s.AddTaskToBusinessProcessControl.controls.taskSequence),e.xp6(1),e.Q6J("for",i.label),e.xp6(1),e.Oqu(i.label)}}function Ue(o,l){1&o&&(e.TgZ(0,"tr")(1,"th",41),e._uU(2,"Is First "),e._UZ(3,"p-sortIcon",42),e.qZA(),e.TgZ(4,"th",41),e._uU(5,"Is Last "),e._UZ(6,"p-sortIcon",42),e.qZA(),e.TgZ(7,"th",43),e._uU(8,"Task Name "),e._UZ(9,"p-sortIcon",42),e.qZA(),e.TgZ(10,"th",44),e._uU(11,"Task Label "),e._UZ(12,"p-sortIcon",42),e.qZA(),e.TgZ(13,"th",45),e._uU(14,"Task Type "),e._UZ(15,"p-sortIcon",42),e.qZA(),e.TgZ(16,"th",46),e._uU(17,"Description "),e._UZ(18,"p-sortIcon",42),e.qZA(),e.TgZ(19,"th",47),e._uU(20,"Action"),e.qZA()())}const xe=function(o){return{disabled:o}};function Oe(o,l){if(1&o){const i=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"div",48)(15,"button",49)(16,"i",50),e.NdJ("click",function(){const a=e.CHM(i).$implicit,m=e.oxw();return e.KtG(m.editTask(a.taskId,a.id))}),e.qZA()(),e.TgZ(17,"button",51)(18,"i",52),e.NdJ("click",function(){const a=e.CHM(i).$implicit,m=e.oxw();return e.KtG(m.deleteTask(a.taskId,a.id))}),e.qZA()(),e.TgZ(19,"button",53)(20,"i",54),e.NdJ("click",function(){const a=e.CHM(i).$implicit,m=e.oxw();return e.KtG(m.validateTask(a.id))}),e.qZA()()()()()}if(2&o){const i=l.$implicit,s=e.oxw();e.xp6(2),e.Oqu("F"===i.taskSequence?"True":"False"),e.xp6(2),e.Oqu("L"===i.taskSequence?"True":"False"),e.xp6(2),e.Oqu(i.taskName),e.xp6(2),e.Oqu(i.taskLabel),e.xp6(2),e.Oqu("H"===i.taskType?"Human":"Automatic"),e.xp6(2),e.Oqu(i.taskDescription),e.xp6(8),e.Udp("font-size",s.isUpdatingTask?"1.0":"0.8","rem"),e.Q6J("ngClass",e.VKq(9,xe,s.isUpdatingTask))}}const Le=function(){return{"min-width":"50rem"}},De=function(){return[5,10,25,50]},Me=function(){return{width:"40vw"}};let qe=(()=>{var o;class l extends c.H6{constructor(s,t,a,m,T,Z,B,J){super(a),this.helperService=s,this.route=t,this.uiService=m,this.apiService=T,this.addTaskToBusinessService=Z,this.formHelperservice=B,this.confirmationService=J,this.searchList=[],this.selectedTaskId=null,this.isUpdatingTask=!1,this.taskType=[{label:"Human",value:"H"},{label:"Automatic",value:"A"}],this.taskSequence=[{label:"Is First",value:"F"},{label:"Is Last",value:"L"}],this.processNames=[],this.nextTaskNames=[],this.nextTaskusers=[],this.selectedProcesses=[]}ngOnInit(){this.addTaskToBusinessProcessForm=this.helperService.createAddTaskToBusinessProcess(),console.log(this.AddTaskToBusinessProcessControl.controls),this.getProcessNames(),this.processNameChangeListener()}processNameChangeListener(){this.AddTaskToBusinessProcessControl.controls.processName.valueChanges.subscribe(s=>{s&&this.apiService.getTasksBasedOnProcessId(parseInt(s.toString())).subscribe(t=>{this.searchList="Success"==t.status&&t.data&&t.data.length?t.data:[]})})}getProcessNames(){this.apiService.getProcessNames().subscribe(s=>{s&&(this.processNames=s.data.map(a=>({label:a.name,value:a.id,processId:a.processId})),this.getNextTaskNames(s.data[0].processId))})}getNextTaskNames(s){this.apiService.getNextTaskNames(s).subscribe(t=>{t&&(this.nextTaskNames=t.data.map(a=>({label:a.taskName,taskId:a.taskId,processId:a.processId})))})}get AddTaskToBusinessProcessControl(){return this.addTaskToBusinessProcessForm.controls.AddTaskToBusinessProces}clear(){this.addTaskToBusinessProcessForm.reset()}cancel(){this.route.navigateByUrl("admin/dashboard")}savetask(){if(console.log(this.AddTaskToBusinessProcessControl.controls),this.AddTaskToBusinessProcessControl.markAllAsTouched(),this.AddTaskToBusinessProcessControl.valid){if(this.isUpdatingTask&&this.selectedTaskId){const s=this.searchList.findIndex(t=>t.id===this.selectedTaskId);-1!==s&&(this.searchList[s]={id:this.selectedTaskId,processName:this.AddTaskToBusinessProcessControl.get("processName")?.value,taskName:this.AddTaskToBusinessProcessControl.get("taskName")?.value,taskLabel:this.AddTaskToBusinessProcessControl.get("taskLabel")?.value,taskType:this.AddTaskToBusinessProcessControl.get("taskType")?.value,taskDesc:this.AddTaskToBusinessProcessControl.get("taskDescription")?.value,taskSequence:this.AddTaskToBusinessProcessControl.get("taskSequence")?.value,processId:this.processNames.find(t=>t.value===this.AddTaskToBusinessProcessControl.get("processName").value)?.processId,locationAgnostic:!1,taskId:null,commaSeparatedNextTaskNames:this.AddTaskToBusinessProcessControl.controls.nextTaskName.value.toString(),commaSeparatedNextTaskUsers:this.AddTaskToBusinessProcessControl.controls.nextTaskUser.value.toString()})}else{const s={id:(this.searchList?.length||0)+1,processName:this.AddTaskToBusinessProcessControl.get("processName")?.value,taskName:this.AddTaskToBusinessProcessControl.get("taskName")?.value,taskLabel:this.AddTaskToBusinessProcessControl.get("taskLabel")?.value,taskType:this.AddTaskToBusinessProcessControl.get("taskType")?.value,taskDesc:this.AddTaskToBusinessProcessControl.get("taskDescription")?.value,taskSequence:this.AddTaskToBusinessProcessControl.get("taskSequence")?.value,processId:this.processNames.find(t=>t.value===this.AddTaskToBusinessProcessControl.get("processName").value)?.processId,locationAgnostic:!1,taskId:null,commaSeparatedNextTaskNames:this.AddTaskToBusinessProcessControl.controls.nextTaskName.value.toString(),commaSeparatedNextTaskUsers:this.AddTaskToBusinessProcessControl.controls.nextTaskUser.value.toString()};this.searchList.push(s)}this.addTaskToBusinessProcessForm.reset(),this.isUpdatingTask=!1}}deleteTask(s,t){this.confirmationService.confirm({message:"Are you sure you want to delete this task?",header:"Confirmation",accept:()=>{this.uiService.showSpinner(),s?this.addTaskToBusinessService.deleteTask(s).subscribe({next:a=>{"Success"===a.status?(this.searchList=this.searchList.filter(m=>m.taskId!==s),this.showSuccessToast(a.message,"Delete Task")):this.showErrorToast(a.message,"Delete Task")},error:a=>{this.showErrorToast("An error occurred while deleting tasks.")},complete:()=>{this.uiService.hideSpinner()}}):(this.searchList=this.searchList.filter(a=>a.id!==t),this.uiService.hideSpinner())},reject:()=>{}})}editTask(s,t){let a=this.searchList.find(m=>m.taskId===s);a||(a=this.searchList.find(m=>m.id===t)),a?(this.AddTaskToBusinessProcessControl.patchValue({processName:parseInt(a.processName.toString()),taskName:a.taskName,taskLabel:a.taskLabel,taskType:a.taskType,nextTaskName:a.commaSeparatedNextTaskNames&&a.commaSeparatedNextTaskNames.split(",").map(Number),nextTaskUser:a.commaSeparatedNextTaskUsers&&a.commaSeparatedNextTaskUsers.split(",").map(Number),taskDescription:a.taskDesc,taskSequence:"isFirst"==a.taskSequence?"F":"L"}),this.selectedTaskId=s,this.isUpdatingTask=!0):console.log(`Task with id ${s} not found.`)}validateTask(s){const t=this.searchList.find(a=>a.id===s);this.addTaskToBusinessService.validateTasks(t).subscribe({next:a=>{"500"==a.statusCode?this.showErrorToast(a.error.errorMessage):this.showSuccessToast(a.message)},error:a=>{this.showErrorToast(a.message)}})}}return(o=l).\u0275fac=function(s){return new(s||o)(e.Y36(te),e.Y36(h.F0),e.Y36(g.ez),e.Y36(A.n),e.Y36(d.k5t),e.Y36(z),e.Y36(te),e.Y36(g.YP))},o.\u0275cmp=e.Xpm({type:o,selectors:[["emigrate-add-task-to-business-process"]],features:[e.qOj],decls:57,vars:37,consts:[[1,"row"],[3,"pageTitle"],[1,"border","p-3","mb-3"],[3,"instructionsText","toolTipText"],[1,"content"],[3,"pageSubTitle"],[1,"form"],[3,"formGroup"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","processName","inputLabel","Process Name","inputId","processName",1,"block",3,"inputFormControl"],["EmigrateShDropdown","","id","processName","placeholder","Select process",3,"options","formControl"],["for","taskName","inputLabel","Task Name","inputId","taskName",1,"block",3,"inputFormControl"],["id","taskName","type","text","pInputText","","placeholder","",3,"formControl"],["for","taskLabel","inputLabel","Task Label","inputId","taskLabel",1,"block",3,"inputFormControl"],["id","taskLabel","type","text","pInputText","","placeholder","",3,"formControl"],["for","taskType","inputLabel","Task Type","inputId","taskType",1,"block",3,"inputFormControl"],[1,"d-flex","justify-content-between","mt-2","align-items-center"],["name","taskType","inputId","1",3,"formControl","label","value",4,"ngFor","ngForOf"],["for","taskSequence","inputLabel","Task Sequence","inputId","taskSequence",1,"block",3,"inputFormControl"],["class","field-checkbox",4,"ngFor","ngForOf"],["for","nextTaskName","inputLabel","Next Task Name","inputId","nextTaskName",1,"block",2,"overflow","auto",3,"inputFormControl"],["optionLabel","label","optionValue","taskId",2,"overflow","auto",3,"options","formControl"],["for","nextTaskUser","inputLabel","Next Task User","inputId","nextTaskUser",1,"block",3,"inputFormControl"],["optionLabel","label","optionValue","taskId",3,"options","formControl"],["for","taskDescription","inputLabel","Task Description","inputId","taskDescription",1,"block",3,"inputFormControl"],["id","taskDescription","type","text","pInputText","","placeholder","","maxlength","",3,"formControl"],[1,"buttons","mb-3"],["pButton","","type","button",1,"btn-format","mr-2","btn-blue",3,"label","click"],["pButton","","type","button","label","Clear",1,"p-button-secondary","mr-2","btn-format",3,"click"],["pButton","","type","button","label","Cancel",1,"btn-format","btn-blue",3,"click"],[1,"card","table"],["styleClass","p-datatable-gridlines","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"paginator","rows","showCurrentPageReport","tableStyle","value","rowsPerPageOptions"],["ec",""],["pTemplate","header"],["pTemplate","body"],["name","taskType","inputId","1",3,"formControl","label","value"],[1,"field-checkbox"],[1,"d-flex","align-items-center"],["name","group",3,"value","inputId","formControl"],[1,"ml-2",3,"for"],["pSortableColumn","",2,"width","10%"],["field",""],["pSortableColumn","",2,"width","28%"],["pSortableColumn","",2,"width","20%"],["pSortableColumn","",2,"width","15%"],["pSortableColumn","",2,"width","45%"],[2,"width","20%"],[1,"user_action"],["type","button","label","",1,"text-primary","button"],[1,"pi","pi-file-edit",2,"font-size","1rem",3,"click"],["type","button","label","",1,"text-danger","button"],[1,"pi","pi-trash",2,"font-size","1rem",3,"click"],["type","button","label","",1,"text-success","button"],[1,"pi","pi-check",3,"ngClass","click"]],template:function(s,t){1&s&&(e._UZ(0,"p-toast"),e.TgZ(1,"div",0),e._UZ(2,"emigrate-sh-page-title",1),e.qZA(),e.TgZ(3,"div",2),e._UZ(4,"emigrate-sh-page-instructions",3),e.TgZ(5,"div",4),e._UZ(6,"emigrate-sh-page-sub-title",5),e.TgZ(7,"div",6)(8,"form",7)(9,"div",0)(10,"div",8)(11,"div",9)(12,"emigrate-sh-html-input",10),e._UZ(13,"p-dropdown",11),e.qZA()()(),e.TgZ(14,"div",8)(15,"div",9)(16,"emigrate-sh-html-input",12),e._UZ(17,"input",13),e.qZA()()(),e.TgZ(18,"div",8)(19,"div",9)(20,"emigrate-sh-html-input",14),e._UZ(21,"input",15),e.qZA()()(),e.TgZ(22,"div",8)(23,"div",9)(24,"emigrate-sh-html-input",16)(25,"div",17),e.YNc(26,Fe,1,3,"p-radioButton",18),e.qZA()()()(),e.TgZ(27,"div",8)(28,"div",9)(29,"emigrate-sh-html-input",19)(30,"div",17),e.YNc(31,Ne,5,5,"div",20),e.qZA()()()(),e.TgZ(32,"div",8)(33,"div",9)(34,"emigrate-sh-html-input",21),e._UZ(35,"p-multiSelect",22),e.qZA()()(),e.TgZ(36,"div",8)(37,"div",9)(38,"emigrate-sh-html-input",23),e._UZ(39,"p-multiSelect",24),e.qZA()()(),e.TgZ(40,"div",8)(41,"div",9)(42,"emigrate-sh-html-input",25)(43,"textarea",26),e._uU(44,"                                "),e.qZA()()()()()()(),e.TgZ(45,"div",27)(46,"button",28),e.NdJ("click",function(){return t.savetask()}),e.qZA(),e.TgZ(47,"button",29),e.NdJ("click",function(){return t.clear()}),e.qZA(),e.TgZ(48,"button",30),e.NdJ("click",function(){return t.cancel()}),e.qZA()(),e.TgZ(49,"div",4),e._UZ(50,"emigrate-sh-page-sub-title",5),e.TgZ(51,"div",31)(52,"p-table",32,33),e.YNc(54,Ue,21,0,"ng-template",34),e.YNc(55,Oe,21,11,"ng-template",35),e.qZA()()()()(),e._UZ(56,"p-confirmDialog")),2&s&&(e.xp6(2),e.Q6J("pageTitle","Add Task To Business Process"),e.xp6(2),e.Q6J("instructionsText","Fields marked with * (asterisk) are mandatory")("toolTipText","1. Fields marked with * (asterisk) are mandatory.\n        2. Please do not press F5 or Back Button"),e.xp6(2),e.Q6J("pageSubTitle","Add Task"),e.xp6(2),e.Q6J("formGroup",t.AddTaskToBusinessProcessControl),e.xp6(4),e.Q6J("inputFormControl",null==t.AddTaskToBusinessProcessControl||null==t.AddTaskToBusinessProcessControl.controls?null:t.AddTaskToBusinessProcessControl.controls.processName),e.xp6(1),e.Q6J("options",t.processNames)("formControl",null==t.AddTaskToBusinessProcessControl||null==t.AddTaskToBusinessProcessControl.controls?null:t.AddTaskToBusinessProcessControl.controls.processName),e.xp6(3),e.Q6J("inputFormControl",null==t.AddTaskToBusinessProcessControl||null==t.AddTaskToBusinessProcessControl.controls?null:t.AddTaskToBusinessProcessControl.controls.taskName),e.xp6(1),e.Q6J("formControl",null==t.AddTaskToBusinessProcessControl||null==t.AddTaskToBusinessProcessControl.controls?null:t.AddTaskToBusinessProcessControl.controls.taskName),e.xp6(3),e.Q6J("inputFormControl",null==t.AddTaskToBusinessProcessControl||null==t.AddTaskToBusinessProcessControl.controls?null:t.AddTaskToBusinessProcessControl.controls.taskLabel),e.xp6(1),e.Q6J("formControl",null==t.AddTaskToBusinessProcessControl||null==t.AddTaskToBusinessProcessControl.controls?null:t.AddTaskToBusinessProcessControl.controls.taskLabel),e.xp6(3),e.Q6J("inputFormControl",null==t.AddTaskToBusinessProcessControl||null==t.AddTaskToBusinessProcessControl.controls?null:t.AddTaskToBusinessProcessControl.controls.taskType),e.xp6(2),e.Q6J("ngForOf",t.taskType),e.xp6(3),e.Q6J("inputFormControl",null==t.AddTaskToBusinessProcessControl||null==t.AddTaskToBusinessProcessControl.controls?null:t.AddTaskToBusinessProcessControl.controls.taskSequence),e.xp6(2),e.Q6J("ngForOf",t.taskSequence),e.xp6(3),e.Q6J("inputFormControl",null==t.AddTaskToBusinessProcessControl||null==t.AddTaskToBusinessProcessControl.controls?null:t.AddTaskToBusinessProcessControl.controls.nextTaskName),e.xp6(1),e.Q6J("options",t.nextTaskNames)("formControl",null==t.AddTaskToBusinessProcessControl||null==t.AddTaskToBusinessProcessControl.controls?null:t.AddTaskToBusinessProcessControl.controls.nextTaskName),e.xp6(3),e.Q6J("inputFormControl",null==t.AddTaskToBusinessProcessControl||null==t.AddTaskToBusinessProcessControl.controls?null:t.AddTaskToBusinessProcessControl.controls.nextTaskUser),e.xp6(1),e.Q6J("options",t.nextTaskNames)("formControl",null==t.AddTaskToBusinessProcessControl||null==t.AddTaskToBusinessProcessControl.controls?null:t.AddTaskToBusinessProcessControl.controls.nextTaskUser),e.xp6(3),e.Q6J("inputFormControl",null==t.AddTaskToBusinessProcessControl||null==t.AddTaskToBusinessProcessControl.controls?null:t.AddTaskToBusinessProcessControl.controls.taskDescription),e.xp6(1),e.Q6J("formControl",null==t.AddTaskToBusinessProcessControl||null==t.AddTaskToBusinessProcessControl.controls?null:t.AddTaskToBusinessProcessControl.controls.taskDescription),e.xp6(3),e.Q6J("label",t.isUpdatingTask?"Update":"Add"),e.xp6(4),e.Q6J("pageSubTitle","Business Process List"),e.xp6(2),e.Q6J("paginator",!0)("rows",10)("showCurrentPageReport",!0)("tableStyle",e.DdM(34,Le))("value",t.searchList)("rowsPerPageOptions",e.DdM(35,De)),e.xp6(4),e.Akn(e.DdM(36,Me)))},dependencies:[p.mk,p.sg,c.KR,c.TM,c.jZ,c.dB,c.lC,g.jx,k.Hq,E.Lt,b.o,y.FN,S.iA,S.lQ,S.fz,Be.EU,r._Y,r.Fj,r.JJ,r.JL,r.nD,K.Q,r.oH,r.sg,se.NU]}),l})();class V{deserialize(l){return Object.assign(this,l),this}}var O,Je=u(5963);class R{constructor(l){this.updateProfileCoreService=l}updatePassword(l){return this.updateProfileCoreService.updatePassword(l).pipe((0,I.b)(i=>{}),(0,f.K)(i=>{throw i}))}forgotPassword(l){return this.updateProfileCoreService.forgotPassword(l).pipe((0,I.b)(i=>{}),(0,f.K)(i=>{throw i}))}validateOtp(l){return this.updateProfileCoreService.validateOtp(l).pipe((0,I.b)(i=>{}),(0,f.K)(i=>{throw i}))}resendOtp(l){return this.updateProfileCoreService.resendOtp(l).pipe((0,I.b)(i=>{}),(0,f.K)(i=>{throw i}))}sendOtp(l){return this.updateProfileCoreService.sendOtp(l).pipe((0,I.b)(i=>{}),(0,f.K)(i=>{throw i}))}}(O=R).\u0275fac=function(l){return new(l||O)(e.LFG(d.bqK))},O.\u0275prov=e.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),(0,C.gn)([(0,P.PS)()],R.prototype,"updatePassword",null),(0,C.gn)([(0,P.PS)()],R.prototype,"forgotPassword",null),(0,C.gn)([(0,P.PS)()],R.prototype,"validateOtp",null),(0,C.gn)([(0,P.PS)()],R.prototype,"resendOtp",null),(0,C.gn)([(0,P.PS)()],R.prototype,"sendOtp",null);let Ee=(()=>{var o;class l{constructor(s){this.fb=s}updatePassword(s){return this.fb.group({oldPassword:this.fb.control("",r.kI.required),newPassword:this.fb.control({value:null,disabled:s},r.kI.compose([r.kI.required,c.YO.passwordValidator("reTypeNewPassword",!0)])),reTypeNewPassword:this.fb.control({value:null,disabled:s},r.kI.compose([r.kI.required,c.YO.passwordValidator("newPassword")])),enterOtp:this.fb.control({value:null,disabled:s},r.kI.compose([r.kI.required,c.YO.numericValidator()])),id:this.fb.control(null,r.kI.required)})}updateProfileApi(s,t){const a=s.getRawValue();return(new V).deserialize({oldPassword:a.oldPassword,newPassword:a.newPassword,id:t})}}return(o=l).\u0275fac=function(s){return new(s||o)(e.LFG(r.qu))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),l})();var j=u(1754),Ge=u(1493);function Qe(o,l){if(1&o&&(e.TgZ(0,"div",2)(1,"div",3),e._UZ(2,"div",4),e.TgZ(3,"div",5)(4,"h6"),e._uU(5,"Update Account Details"),e.qZA()(),e._UZ(6,"div",4),e.qZA(),e._UZ(7,"emigrate-sh-page-instructions",6),e.qZA()),2&o){const i=e.oxw();e.xp6(7),e.Q6J("instructionsText",i.pageInstructionText)}}function Ye(o,l){if(1&o){const i=e.EpF();e.TgZ(0,"div")(1,"div",7)(2,"div",8),e._UZ(3,"emigrate-sh-page-sub-title",9),e.qZA(),e.TgZ(4,"div",10)(5,"div",11)(6,"div",12)(7,"div",13)(8,"span"),e._uU(9,"Name"),e.qZA(),e._UZ(10,"br"),e.TgZ(11,"span"),e._uU(12),e.qZA(),e._UZ(13,"br")(14,"br"),e.qZA(),e.TgZ(15,"form",14)(16,"div",13)(17,"div",15)(18,"div",16)(19,"emigrate-sh-html-input",17),e._UZ(20,"input",18),e.qZA(),e.TgZ(21,"span",19),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.otpNumber())}),e._uU(22," Forgot Password "),e.qZA()()()(),e.TgZ(23,"div",13)(24,"div",15)(25,"div",16)(26,"emigrate-sh-html-input",20),e._UZ(27,"input",21),e.qZA()()(),e.TgZ(28,"div",15)(29,"div",16)(30,"emigrate-sh-html-input",22),e._UZ(31,"input",23),e.qZA()()()()()()(),e.TgZ(32,"div")(33,"div",13)(34,"div",24)(35,"div")(36,"button",25),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.update())}),e.qZA(),e.TgZ(37,"button",26),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.goToHome())}),e.qZA()()()()()()()()}if(2&o){const i=e.oxw();e.xp6(3),e.Q6J("pageSubTitle","Update Profile"),e.xp6(9),e.Oqu(i.loginName),e.xp6(3),e.Q6J("formGroup",i.updateProfileFormGroup),e.xp6(4),e.Q6J("inputFormControl",i.updateProfileFormGroup.controls.oldPassword),e.xp6(1),e.Q6J("formControl",i.updateProfileFormGroup.controls.oldPassword),e.xp6(6),e.Q6J("inputFormControl",i.updateProfileFormGroup.controls.newPassword),e.xp6(1),e.Q6J("formControl",i.updateProfileFormGroup.controls.newPassword),e.xp6(3),e.Q6J("inputFormControl",i.updateProfileFormGroup.controls.reTypeNewPassword),e.xp6(1),e.Q6J("formControl",i.updateProfileFormGroup.controls.reTypeNewPassword)}}const He=function(){return{width:"50vw"}};function Ke(o,l){if(1&o){const i=e.EpF();e.TgZ(0,"div")(1,"div",27)(2,"div",2)(3,"div",2)(4,"div")(5,"div",28)(6,"div",13),e._UZ(7,"emigrate-sh-page-sub-title",9),e.qZA(),e.TgZ(8,"div",29)(9,"form",14)(10,"div",13)(11,"div",15)(12,"div",16)(13,"emigrate-sh-html-input",30),e._UZ(14,"input",31),e.qZA()()()()()(),e.TgZ(15,"div",2)(16,"div",13)(17,"div",24)(18,"button",32),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.previous())}),e.qZA(),e.TgZ(19,"button",33),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.reSendOtp())}),e._uU(20),e.ALo(21,"formatTime"),e.qZA(),e.TgZ(22,"button",34),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.showDialog())}),e.qZA()()()(),e.TgZ(23,"p-dialog",35),e.NdJ("visibleChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.visible=t)}),e.TgZ(24,"div",27)(25,"div",2)(26,"div",2)(27,"div")(28,"div",36)(29,"div",13),e._UZ(30,"emigrate-sh-page-sub-title",9),e.qZA(),e.TgZ(31,"div",29)(32,"form",14)(33,"div",13)(34,"div",37)(35,"div",16)(36,"emigrate-sh-html-input",38),e._UZ(37,"input",21),e.qZA()()(),e.TgZ(38,"div",37)(39,"div",16)(40,"emigrate-sh-html-input",39),e._UZ(41,"input",40),e.qZA()()()()()()(),e.TgZ(42,"div",2)(43,"div",13),e._UZ(44,"div",41),e.TgZ(45,"div",42)(46,"button",43),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.updateDetailsSuccessfully())}),e.qZA(),e.TgZ(47,"button",44),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.back())}),e.qZA()()()()()()()()()()()()()()()}if(2&o){const i=e.oxw();e.xp6(7),e.Q6J("pageSubTitle",i.registeredUserName),e.xp6(2),e.Q6J("formGroup",i.updateProfileFormGroup),e.xp6(4),e.Q6J("inputFormControl",i.updateProfileFormGroup.controls.enterOtp),e.xp6(1),e.Q6J("formControl",i.updateProfileFormGroup.controls.enterOtp),e.xp6(5),e.Q6J("disabled",i.disableResendButton),e.xp6(1),e.hij(" Resend OTP ",e.lcZ(21,19,i.counter)," "),e.xp6(3),e.Akn(e.DdM(21,He)),e.Q6J("visible",i.visible)("modal",!0)("draggable",!1)("resizable",!1)("formGroup",i.dialogFormGroup),e.xp6(7),e.Q6J("pageSubTitle","Update Profile"),e.xp6(2),e.Q6J("formGroup",i.dialogFormGroup),e.xp6(4),e.Q6J("inputFormControl",i.dialogFormGroup.controls.newPassword),e.xp6(1),e.Q6J("formControl",i.dialogFormGroup.controls.newPassword),e.xp6(3),e.Q6J("inputFormControl",i.dialogFormGroup.controls.reTypeNewPassword),e.xp6(1),e.Q6J("formControl",i.dialogFormGroup.controls.reTypeNewPassword)}}function ze(o,l){if(1&o){const i=e.EpF();e.TgZ(0,"div")(1,"div",45)(2,"div",46),e._UZ(3,"emigrate-sh-page-sub-title",9),e.TgZ(4,"div",47)(5,"div",13),e._UZ(6,"div",48),e.TgZ(7,"div",49)(8,"span",50),e._uU(9),e.qZA()()()()()(),e.TgZ(10,"div",2)(11,"div",13)(12,"div",51)(13,"button",52),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.close())}),e.qZA()(),e._UZ(14,"div",4),e.qZA()()()}if(2&o){const i=e.oxw();e.xp6(3),e.Q6J("pageSubTitle","Status"),e.xp6(6),e.Oqu(i.message)}}let oe=(()=>{var o;class l extends c.H6{constructor(s,t,a,m,T,Z,B,J){super(s),this.uiService=t,this.updateProfiles=a,this.sessionQuery=m,this.updateProfilehelper=T,this.routerQuery=Z,this.router=B,this.fb=J,this.updateProfile=!0,this.showSuccess=!1,this.pageInstructionText=d.Xef.PAGE_INSTRUCTION_TEXT,this.showOtp=!1,this.topMenu=!0,this.disableResendButton=!0,this.counter=0,this.tick=1e3}ngOnInit(){this.updateProfileFormGroup=this.updateProfilehelper.updatePassword(!1),this.setLoginName(),this.dialogFormGroup=this.updateProfilehelper.updatePassword(!1)}setLoginName(){this.sessionQuery.selectUser$.subscribe(s=>{this.loginName=s.employeeDTO.employerName,this.email=s.emailAddress,this.registeredUserName="Please enter the OTP sent to your Registered Email ID ("+this.email+")",this.userId=s.userId})}saveData(){this.updateProfile=!1,this.showSuccess=!0}close(){this.router.navigate(["/admin/dashboard"])}clear(){this.updateProfileFormGroup.reset()}back(){this.visible=!1}otpNumber(){this.showOtp=!0,this.updateProfile=!1,this.sessionQuery.selectUser$.subscribe(s=>{this.updateProfiles.sendOtp(s.emailAddress).subscribe(a=>{this.showSuccessToast(a.message),this.startCountdownTimer()},a=>{409===a.status&&this.showErrorToast(a.error.error.errorMessage)})})}reSendOtp(){this.disableResendButton=!0,this.resetCounter(),this.sessionQuery.selectUser$.subscribe(s=>{this.updateProfiles.resendOtp(s.emailAddress).subscribe(a=>{this.showSuccessToast(a.message)},a=>{})})}cancel(){this.router.navigate(["/admin/dashboard"])}goToHome(){this.router.navigateByUrl("/admin/dashboard")}previous(){this.showOtp=!1,this.updateProfile=!0,this.topMenu=!0}showDialog(){if(this.updateProfileFormGroup.markAllAsTouched(),this.updateProfileFormGroup.controls.enterOtp.valid){const s=new d.CQT;s.otp=this.updateProfileFormGroup.controls.enterOtp.value,s.email=this.email,this.updateProfiles.validateOtp(s).subscribe(t=>{t.status.toLowerCase()===d.Xef.SUCCESS.toLowerCase()?this.visible=!0:this.showErrorToast(t.message)},t=>{this.showErrorToast(t.message)})}this.dialogFormGroup.reset()}updateDetailsSuccessfully(){this.sessionQuery.selectUser$.subscribe(s=>{const t=s.userId,a=this.dialogFormGroup.controls.newPassword.value,m=new V;m.newPassword=a,m.id=t,this.updateProfiles.forgotPassword(m).subscribe(T=>{this.message=T.message,this.showSuccess=!0,this.updateProfile=!1,this.showOtp=!1},T=>{this.showErrorToast(T?.error?.message)})}),this.stopCountdownTimer(),this.updateProfileFormGroup.reset()}update(){if(this.updateProfileFormGroup.markAllAsTouched(),this.updateProfileFormGroup.controls.oldPassword.valid&&this.updateProfileFormGroup.controls.newPassword.valid&&this.updateProfileFormGroup.controls.reTypeNewPassword.valid){const s=Object.assign(new V,this.updateProfilehelper.updateProfileApi(this.updateProfileFormGroup,this.userId));this.updateProfiles.updatePassword(s).subscribe({next:t=>{t.status.toLowerCase()===d.Xef.SUCCESS.toLowerCase()?(this.showSuccessToast(t.message),this.showSuccess=!0,this.message=t.message,this.updateProfile=!1,this.showOtp=!1):this.showErrorToast(t.message),this.uiService.hideSpinner()},error:t=>{this.uiService.hideSpinner();const a=t?.error?.message;this.showErrorToast(a)},complete:()=>{this.uiService.hideSpinner(),this.updateProfileFormGroup.reset()}})}}startCountdownTimer(){this.resetCounter(),this.countDown=(0,Je.H)(0,this.tick).subscribe(()=>(this.counter<=0?(this.disableResendButton=!1,this.clearCountDown()):(this.disableResendButton=!0,--this.counter),this.counter))}clearCountDown(){this.countDown=null}resetCounter(){this.counter=d.Xef.OTP_EXP_IN_SEC,this.clearCountDown()}stopCountdownTimer(){this.timerSubscription&&(this.timerSubscription.unsubscribe(),this.showOtp=!1)}}return(o=l).\u0275fac=function(s){return new(s||o)(e.Y36(g.ez),e.Y36(A.n),e.Y36(R),e.Y36(d.U_o),e.Y36(Ee),e.Y36(j.dt),e.Y36(h.F0),e.Y36(r.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["emigrate-update-profile"]],features:[e.qOj],decls:5,vars:4,consts:[["class","container",4,"ngIf"],[4,"ngIf"],[1,"container"],[1,"row","mb-2","text-white"],[1,"col-1"],[1,"col-12","prime-900","p-2"],[3,"instructionsText"],[1,"content","border","mt-2","mb-4"],[1,""],[3,"pageSubTitle"],[1,"container","mt-2"],[1,"row_box"],[1,"form"],[1,"row"],[3,"formGroup"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","1","inputLabel","Old Password","inputId","oldPassword",1,"block",3,"inputFormControl"],["id","","type","text","pInputText","","placeholder","Enter Your Old Password",3,"formControl"],[1,"p-button-link","text-danger",3,"click"],["for","1","inputLabel","New Password","inputId","changePassword",1,"block",3,"inputFormControl"],["id","changePassword","type","text","pInputText","","placeholder","Enter New Password",3,"formControl"],["for","1","inputLabel","Re-type New Password","inputId","retypeNewPassword",1,"block",3,"inputFormControl"],["id","retypeNewPassword","type","text","pInputText","","placeholder","Re-Type Password",3,"formControl"],[1,"col-10","mb-2"],["pButton","","type","button","pButton","","pRipple","","label","UPDATE",1,"btn-format","mr-2","btn-blue",3,"click"],["pButton","","type","button","label","CANCEL",1,"p-button-secondary","mr-2","btn-format",3,"click"],[1,"middle_section"],[1,"content","info-table","border","mb-3"],[1,"form","container","mt-2"],["for","1","inputLabel","1.Enter Otp","inputId","otp",1,"block",3,"inputFormControl"],["id","","type","text","pInputText","","placeholder","","maxlength","6",3,"formControl"],["pButton","","type","button","label","CANCEL",1,"btn-format","mr-2","btn-blue",3,"click"],["pButton","","type","button",1,"btn-format","mr-2","btn-blue",3,"disabled","click"],["pButton","","type","submit","label","VALIDATE OTP",1,"btn-format","btn-blue",3,"click"],["header","Update Account Details",3,"visible","modal","draggable","resizable","formGroup","visibleChange"],[1,"content","border","mb-3"],[1,"col-md-6","col-sm-6"],["for","1","inputLabel","New Password","inputId","newPassword",1,"block",3,"inputFormControl"],["for","1","inputLabel","Re-type New Password","inputId","retypeNewPassword1",1,"block",3,"inputFormControl"],["id","retypeNewPassword1","type","text","pInputText","","placeholder","Re-type New Password",3,"formControl"],[1,"col-7"],[1,"col-5","mb-2"],["pButton","","type","button","label","UPDATE",1,"btn-format","mr-2","btn-blue",3,"click"],["pButton","","type","button","label","CLOSE",1,"btn-format","mr-2","btn-blue",3,"click"],[1,"border","mb-4"],[1,"content"],[1,"form","container","m-3"],[1,"col-md-4"],[1,"col-md-8"],[2,"color","green"],[1,"col-10"],["pButton","","type","submit","label","CLOSE",1,"btn-format","mr-2","mb-3","btn-blue",3,"click"]],template:function(s,t){1&s&&(e._UZ(0,"p-toast"),e.YNc(1,Qe,8,1,"div",0),e.YNc(2,Ye,38,9,"div",1),e.YNc(3,Ke,48,22,"div",1),e.YNc(4,ze,15,2,"div",1)),2&s&&(e.xp6(1),e.Q6J("ngIf",t.topMenu),e.xp6(1),e.Q6J("ngIf",t.updateProfile),e.xp6(1),e.Q6J("ngIf",t.showOtp),e.xp6(1),e.Q6J("ngIf",t.showSuccess))},dependencies:[p.O5,c.KR,c.jZ,c.dB,k.Hq,Ge.V,b.o,y.FN,r._Y,r.Fj,r.JJ,r.JL,r.nD,r.oH,r.sg,c.Q3]}),l})(),Ve=(()=>{var o;class l{constructor(s){this.fb=s}createBusinessProcess(){return this.fb.group({businessProcessRole:this.fb.group({role:this.fb.control({value:null},r.kI.required),process:this.fb.control({value:null},r.kI.required),assignmentDate:this.fb.control({value:null},r.kI.required),taskToRole:this.fb.array([])})})}}return(o=l).\u0275fac=function(s){return new(s||o)(e.LFG(r.qu))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),l})();var L;class X{constructor(l){this.businessProcessRole=l}getAvailableTaskList(l){return this.businessProcessRole.getAvailableTaskList(l).pipe((0,f.K)(i=>{throw i}))}}(L=X).\u0275fac=function(l){return new(l||L)(e.LFG(d.Mk1))},L.\u0275prov=e.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),(0,C.gn)([(0,P.PS)()],X.prototype,"getAvailableTaskList",null);var je=u(8645);function Xe(o,l){}let $e=(()=>{var o;class l extends c.H6{constructor(s,t,a,m,T){super(a),this.helperservice=s,this.routerQuery=t,this.BusinessProcessRoleService=m,this.uiService=T,this.todayDate=new Date,this.userRole=[],this.processName=[]}ngOnInit(){this.userRole=this.routerQuery.getData()[0][d.nJz.USER_ROLES],this.processName=this.routerQuery.getData()[0][d.nJz.PROCESS_NAME],this.businessProcess=this.helperservice.createBusinessProcess()}get businessProcessRole(){return this.businessProcess.controls.businessProcessRole}getAvailableTaskList(){this.BusinessProcessRoleService.getAvailableTaskList(this.businessProcessRole.controls.process.value).subscribe({next:s=>{this.availableTaskList=s?.taskName,console.log(this.availableTaskList),console.log(s)},error:s=>{this.showErrorToast(s.message,"Add Business Process"),this.uiService.hideSpinner()},complete:()=>{this.uiService.hideSpinner()}})}}return(o=l).\u0275fac=function(s){return new(s||o)(e.Y36(Ve),e.Y36(j.dt),e.Y36(g.ez),e.Y36(X),e.Y36(A.n))},o.\u0275cmp=e.Xpm({type:o,selectors:[["emigrate-assign-business-process-to-role"]],features:[e.qOj],decls:27,vars:14,consts:[[1,"Section"],[3,"pageSubTitle"],[1,"row"],[3,"instructionsText","toolTipText"],[1,"content"],[1,"form"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","role","inputLabel","Role","inputId","role",1,"block",3,"inputFormControl"],["EmigrateShDropdown","","id","role","placeholder","Select Role",3,"options","formControl"],["for","process","inputLabel","Process","inputId","process",1,"block",3,"inputFormControl"],["EmigrateShDropdown","","id","process","placeholder","Select Process",3,"options","formControl","onChange"],["for","assignmentDate","inputLabel","Assignment Date","inputId","assignmentDate",1,"block",3,"inputFormControl"],["inputId","assignmentDate",3,"maxDate","formControl"],["sourceHeader","Available Task","targetHeader","Assigned Task to the Role","filterBy","name","sourceFilterPlaceholder","Search by name","targetFilterPlaceholder","Search by Task","breakpoint","1400px",3,"source","target","dragdrop","responsive"],["pTemplate","item"],[1,"buttons","mb-3"],["pButton","","type","button","label","Save",1,"btn-format","mr-2","btn-blue"],["pButton","","type","button","label","Clear",1,"p-button-secondary","mr-2","btn-format"],["pButton","","type","button","label","Cancel",1,"btn-format","btn-blue"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0),e._UZ(1,"p-toast")(2,"emigrate-sh-page-sub-title",1),e.TgZ(3,"div",2),e._UZ(4,"emigrate-sh-page-instructions",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"div",2)(8,"div",6)(9,"div",7)(10,"emigrate-sh-html-input",8),e._UZ(11,"p-dropdown",9),e.qZA()()(),e.TgZ(12,"div",6)(13,"div",7)(14,"emigrate-sh-html-input",10)(15,"p-dropdown",11),e.NdJ("onChange",function(){return t.getAvailableTaskList()}),e.qZA()()()(),e.TgZ(16,"div",6)(17,"div",7)(18,"emigrate-sh-html-input",12),e._UZ(19,"p-calendar",13),e.qZA()()()()(),e.TgZ(20,"div",2)(21,"p-pickList",14),e.YNc(22,Xe,0,0,"ng-template",15),e.qZA()(),e.TgZ(23,"div",16),e._UZ(24,"button",17)(25,"button",18)(26,"button",19),e.qZA()()()),2&s&&(e.xp6(2),e.Q6J("pageSubTitle","Role Task Assignment"),e.xp6(2),e.Q6J("instructionsText","1.Fields marked with * (asterisk) are mandatory")("toolTipText","1. Fields marked with * (asterisk) are mandatory.\n            2. Please do not press F5 or Back Button"),e.xp6(6),e.Q6J("inputFormControl",null==t.businessProcessRole||null==t.businessProcessRole.controls?null:t.businessProcessRole.controls.role),e.xp6(1),e.Q6J("options",t.userRole)("formControl",null==t.businessProcessRole||null==t.businessProcessRole.controls?null:t.businessProcessRole.controls.role),e.xp6(3),e.Q6J("inputFormControl",null==t.businessProcessRole||null==t.businessProcessRole.controls?null:t.businessProcessRole.controls.process),e.xp6(1),e.Q6J("options",t.processName)("formControl",null==t.businessProcessRole||null==t.businessProcessRole.controls?null:t.businessProcessRole.controls.process),e.xp6(3),e.Q6J("inputFormControl",null==t.businessProcessRole||null==t.businessProcessRole.controls?null:t.businessProcessRole.controls.assignmentDate),e.xp6(1),e.Q6J("maxDate",t.todayDate)("formControl",null==t.businessProcessRole||null==t.businessProcessRole.controls?null:t.businessProcessRole.controls.assignmentDate),e.xp6(2),e.Q6J("dragdrop",!0)("responsive",!0))},dependencies:[c.KR,c.jZ,c.dB,c.lC,g.jx,k.Hq,E.Lt,y.FN,je.f,r.JJ,W.G,r.oH]}),l})();class re{deserialize(l){return Object.assign(this,l),this}}let We=(()=>{var o;class l{poeOfficeFormToOffice(s,t){const a=s.getRawValue();return(new re).deserialize({name:a.name,locationId:a.district,type:t})}constructor(s){this.fb=s}createPoeOfficeForm(){return this.fb.group({name:this.fb.control(null,[r.kI.required,c.YO.fullNameValidator()]),state:this.fb.control(null,r.kI.required),district:this.fb.control(null,r.kI.required)})}}return(o=l).\u0275fac=function(s){return new(s||o)(e.LFG(r.qu))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),l})();var D,Y=u(5861),H=u(3900);class M{constructor(l,i){this.locationService=l,this.meaServ=i}fetchState(l){return this.locationService.fetchState(l).pipe((0,H.w)(function(){var i=(0,Y.Z)(function*(s){return s});return function(s){return i.apply(this,arguments)}}()),(0,f.K)(i=>{throw i}))}fetchDistrict(l){return this.locationService.fetchDistrict(l).pipe((0,H.w)(function(){var i=(0,Y.Z)(function*(s){return s});return function(s){return i.apply(this,arguments)}}()),(0,f.K)(i=>{throw i}))}getOffices(l){return this.meaServ.getOfficeByType(l).pipe((0,H.w)(function(){var i=(0,Y.Z)(function*(s){return s});return function(s){return i.apply(this,arguments)}}()),(0,f.K)(i=>{throw i}))}postOffice(l){return this.meaServ.postOffice(l).pipe((0,H.w)(function(){var i=(0,Y.Z)(function*(s){return s});return function(s){return i.apply(this,arguments)}}()),(0,f.K)(i=>{throw i}))}}function et(o,l){1&o&&(e.TgZ(0,"tr")(1,"th",25)(2,"div",26),e._uU(3," Office Name "),e._UZ(4,"p-sortIcon",27),e.qZA()(),e.TgZ(5,"th",28)(6,"div",26),e._uU(7," State "),e._UZ(8,"p-sortIcon",29),e.qZA()(),e.TgZ(9,"th",30)(10,"div",26),e._uU(11," District "),e._UZ(12,"p-sortIcon",31),e.qZA()()())}function tt(o,l){if(1&o&&(e.TgZ(0,"tr")(1,"td")(2,"span",32),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"span",33),e._uU(6),e.qZA()(),e.TgZ(7,"td")(8,"span",32),e._uU(9),e.qZA()()()),2&o){const i=l.$implicit;e.xp6(3),e.Oqu(i.name),e.xp6(3),e.Oqu(i.stateName),e.xp6(3),e.Oqu(i.districtName)}}function st(o,l){1&o&&(e.TgZ(0,"tr")(1,"td",34),e._uU(2,"No Demand found."),e.qZA()())}(D=M).\u0275fac=function(l){return new(l||D)(e.LFG(d.aUv),e.LFG(d.vom))},D.\u0275prov=e.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),(0,C.gn)([(0,P.PS)()],M.prototype,"fetchState",null),(0,C.gn)([(0,P.PS)()],M.prototype,"fetchDistrict",null),(0,C.gn)([(0,P.PS)()],M.prototype,"getOffices",null),(0,C.gn)([(0,P.PS)()],M.prototype,"postOffice",null);const ot=function(){return{"min-width":"50rem"}};let ie=(()=>{var o;class l extends c.H6{constructor(s,t,a,m,T,Z,B){super(s),this.formHelper=t,this.routerQuery=a,this.uiService=m,this.router=T,this.sessionQuery=Z,this.mngServ=B}ngOnInit(){this.type=this.routerQuery.getData("type"),this.officeType="MEA"==this.type?"MEA Head":"PoE",this.getMasterData(),this.getAllOffices(),console.log(this.offices),this.countries.length>0&&(this.countryId=this.countries.filter(s=>s?.label?.toLowerCase()=="INDIA".toLowerCase())[0].value),this.fetchState(),this.poeOfficeForm=this.formHelper.createPoeOfficeForm(),this.poeOfficeForm.controls.state.valueChanges.subscribe(s=>this.fetchDistrict(s))}getMasterData(){this.countries=this.routerQuery.getData()[0][d.Yo_.COUNTRY]}fetchState(){this.mngServ.fetchState(this.countryId).subscribe({next:s=>{this.states=s.length>0?s:[]},error:()=>{this.showErrorToast(d.rmt.TOAST_COMMON_ERROR)}})}fetchDistrict(s){s&&this.mngServ.fetchDistrict(s).subscribe({next:a=>{this.districts=a.length>0?a:[]},error:()=>{this.showErrorToast(d.rmt.TOAST_COMMON_ERROR)}})}addOffice(){if(this.poeOfficeForm.valid){this.uiService.showSpinner();const s=Object.assign(new re,this.formHelper.poeOfficeFormToOffice(this.poeOfficeForm,this.type));this.mngServ.postOffice(s).subscribe({next:t=>{this.uiService.hideSpinner(),this.showSuccessToast(t.message)},error:t=>{this.uiService.hideSpinner(),this.showErrorToast(t.error.error.errorMessage)},complete:()=>{this.getAllOffices(),this.uiService.hideSpinner()}})}this.poeOfficeForm.valid||this.showWarningToast("Please fill all required fields")}getAllOffices(){this.mngServ.getOffices(this.type).subscribe(s=>this.offices=s)}}return(o=l).\u0275fac=function(s){return new(s||o)(e.Y36(g.ez),e.Y36(We),e.Y36(j.dt),e.Y36(A.n),e.Y36(h.F0),e.Y36(d.U_o),e.Y36(M))},o.\u0275cmp=e.Xpm({type:o,selectors:[["emigrate-poe-offices"]],features:[e.qOj],decls:36,vars:18,consts:[[1,"middle_section"],[1,"container"],[1,"row"],[3,"pageTitle"],[1,"content"],[3,"instructionsText","toolTipText"],[3,"pageSubTitle"],[1,"form"],[1,"col-md-4","col-sm-6"],[1,"field"],["inputLabel","Name","inputId","address",1,"block",3,"inputFormControl"],["id","address","type","text","pInputText","","placeholder","Name",3,"formControl"],["inputLabel","State/UT","inputId","state",1,"block",3,"inputFormControl"],["EmigrateShDropdown","","id","state","placeholder","Select",3,"formControl","options"],["inputLabel","Country","inputId","country",1,"block",3,"inputFormControl"],["EmigrateShDropdown","","id","country","placeholder","Select",3,"formControl","options"],[1,"row","mb-2"],[1,"col-12"],[1,"buttons"],["pButton","","type","button","label","Add",1,"btn-format","btn-blue","mr-2","btn-format",3,"click"],["dataKey","arn","title","Offices","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","showCurrentPageReport","tableStyle"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pSortableColumn","arn",2,"min-width","18rem"],[1,"flex","align-items-center"],["field","arn"],["pSortableColumn","employerName",2,"min-width","12rem"],["field","employerName"],["pSortableColumn","feId",2,"min-width","10rem"],["field","feId"],[1,"align-items-center","vertical-align-middle"],[1,"text-center","vertical-align-middle"],["colspan","7"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0),e._UZ(1,"p-toast"),e.TgZ(2,"div",1)(3,"div",2),e._UZ(4,"emigrate-sh-page-title",3),e.qZA(),e.TgZ(5,"div",4),e._UZ(6,"emigrate-sh-page-instructions",5)(7,"emigrate-sh-page-sub-title",6),e.TgZ(8,"div",7)(9,"form")(10,"div",2)(11,"div",8)(12,"div",9)(13,"emigrate-sh-html-input",10),e._UZ(14,"input",11),e.qZA()()(),e.TgZ(15,"div",8)(16,"div",9)(17,"emigrate-sh-html-input",12),e._UZ(18,"p-dropdown",13),e.qZA()()(),e.TgZ(19,"div",8)(20,"div",9)(21,"emigrate-sh-html-input",14),e._UZ(22,"p-dropdown",15),e.qZA()()()(),e.TgZ(23,"div",16)(24,"div",17)(25,"div",18)(26,"button",19),e.NdJ("click",function(){return t.addOffice()}),e.qZA()()()()()()()(),e.TgZ(27,"div",4)(28,"h4"),e._uU(29),e.qZA(),e.TgZ(30,"div")(31,"p-table",20,21),e.YNc(33,et,13,0,"ng-template",22),e.YNc(34,tt,10,3,"ng-template",23),e.YNc(35,st,3,0,"ng-template",24),e.qZA()()()()),2&s&&(e.xp6(4),e.MGl("pageTitle","Manage ",t.officeType," Office"),e.xp6(2),e.Q6J("instructionsText","1. Fields marked with * (asterisk) are mandatory.")("toolTipText","Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions."),e.xp6(1),e.MGl("pageSubTitle","Create ",t.officeType," Office"),e.xp6(6),e.Q6J("inputFormControl",t.poeOfficeForm.controls.name),e.xp6(1),e.Q6J("formControl",t.poeOfficeForm.controls.name),e.xp6(3),e.Q6J("inputFormControl",t.poeOfficeForm.controls.state),e.xp6(1),e.Q6J("formControl",t.poeOfficeForm.controls.state)("options",t.states),e.xp6(3),e.Q6J("inputFormControl",t.poeOfficeForm.controls.district),e.xp6(1),e.Q6J("formControl",t.poeOfficeForm.controls.district)("options",t.districts),e.xp6(7),e.hij("Available ",t.officeType," Offices"),e.xp6(2),e.Q6J("value",t.offices)("rows",10)("showCurrentPageReport",!0)("tableStyle",e.DdM(17,ot)))},dependencies:[c.KR,c.TM,c.jZ,c.dB,c.lC,g.jx,k.Hq,E.Lt,b.o,y.FN,S.iA,S.lQ,S.fz,r._Y,r.Fj,r.JJ,r.JL,r.F,r.oH]}),l})();const rt=[{path:"user",loadChildren:()=>Promise.all([u.e(8592),u.e(982)]).then(u.bind(u,7159)).then(o=>o.UserManagementModule)},{path:"batch-administration",pathMatch:"full",component:v,resolve:[]},{path:"notified-coutries",loadChildren:()=>u.e(1694).then(u.bind(u,1694)).then(o=>o.NotifiedCountriesModule),resolve:[d.nIO]},{path:"payment-reconciliation",pathMatch:"full",component:w,resolve:[]},{path:"service-levels",pathMatch:"full",component:n,resolve:[]},{path:"report-recipient-list",pathMatch:"full",component:me,resolve:[]},{path:"configure-validity-paramaters",pathMatch:"full",component:he,resolve:[]},{path:"country-parameters",pathMatch:"full",component:fe,resolve:[]},{path:"add-business-process",pathMatch:"full",component:Re,resolve:[]},{path:"add-taskto-business",pathMatch:"full",component:qe,resolve:[]},{path:"create-internal-role",pathMatch:"full",component:_e,resolve:[]},{path:"assign-business-process",pathMatch:"full",component:$e,resolve:[d.UBG]},{path:"update-profile",pathMatch:"full",component:oe,resolve:[]},{path:"mark-work-item",pathMatch:"full",component:oe,resolve:[]},{path:"consulate",loadChildren:()=>u.e(5609).then(u.bind(u,5609)).then(o=>o.ConsulateModule)},{path:"business-parameters",loadChildren:()=>u.e(78).then(u.bind(u,78)).then(o=>o.BusinessParametersModule)},{path:"job",loadChildren:()=>u.e(8833).then(u.bind(u,8833)).then(o=>o.JobModule)},{path:"permission",loadChildren:()=>u.e(2131).then(u.bind(u,2131)).then(o=>o.PermissionModule)},{path:"insurance-agency",loadChildren:()=>u.e(7405).then(u.bind(u,7405)).then(o=>o.InsuranceAgencyModule)},{path:"job-designation",loadChildren:()=>u.e(5793).then(u.bind(u,5793)).then(o=>o.JobDesignationModule)},{path:"work-item",loadChildren:()=>Promise.all([u.e(7612),u.e(9899)]).then(u.bind(u,9899)).then(o=>o.WorkItemModule)},{path:"grievance-workitem",loadChildren:()=>u.e(842).then(u.bind(u,842)).then(o=>o.GrievanceWorkitemModule)},{path:"referral-wages",loadChildren:()=>Promise.all([u.e(7612),u.e(2052),u.e(4925)]).then(u.bind(u,4925)).then(o=>o.ReferralWagesModule)},{path:"business-process",loadChildren:()=>Promise.all([u.e(7612),u.e(6088)]).then(u.bind(u,6088)).then(o=>o.BusinessProcessModule)},{path:"emigrant-association-details",loadChildren:()=>u.e(2093).then(u.bind(u,2093)).then(o=>o.UpdateEmigrantAssociationDetailsModule)},{path:"manage-poe-office",pathMatch:"full",component:ie,data:{type:"POE"},resolve:[d.myw]},{path:"manage-mea-office",pathMatch:"full",component:ie,data:{type:"MEA"},resolve:[d.myw]}];let it=(()=>{var o;class l{}return(o=l).\u0275fac=function(s){return new(s||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[h.Bz.forChild(rt),h.Bz]}),l})(),nt=(()=>{var o;class l{}return(o=l).\u0275fac=function(s){return new(s||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,it,c.uR,_.g,r.UX,r.u5,se.q4]}),l})()},8725:($,F,u)=>{u.d(F,{j:()=>v});var p=u(4006),_=u(2976),h=u(1358),e=u(1571);let v=(()=>{var w;class k{constructor(r){this.fb=r}createAddUserForm(r){return this.fb.group({userPersonalDetails:this.fb.group({firstName:this.fb.control({value:null,disabled:r},p.kI.compose([p.kI.required,h.YO.characterValidator()])),lastName:this.fb.control({value:null,disabled:r},p.kI.compose([h.YO.characterValidator()])),employeeId:this.fb.control({value:null,disabled:r},p.kI.required),address1:this.fb.control({value:null,disabled:r},p.kI.compose([p.kI.required,h.YO.addressValidator()])),address2:this.fb.control({value:null,disabled:r},p.kI.compose([h.YO.addressValidator()])),countryId:this.fb.control({value:null,disabled:r},p.kI.required),stateId:this.fb.control({value:null,disabled:r},p.kI.required),cityId:this.fb.control({value:null,disabled:r},p.kI.required),emailAddress:this.fb.control({value:null,disabled:r},p.kI.compose([p.kI.required,h.YO.emailValidator()])),landlineNumber:this.fb.control({value:null,disabled:r},p.kI.compose([h.YO.phoneNumberValidator()])),zipCode:this.fb.control({value:null,disabled:r},p.kI.compose([p.kI.required,h.YO.pincodeValidator()])),mobileNumber:this.fb.control({value:null,disabled:r},p.kI.compose([p.kI.required,h.YO.intMobileNumberValidator()]))}),userOtherDetails:this.fb.group({organisationId:this.fb.control({value:null,disabled:r},p.kI.compose([p.kI.required])),roleId:this.fb.control({value:null,disabled:r},p.kI.required),workCountryId:this.fb.control({value:null,disabled:r},p.kI.required),workStateId:this.fb.control({value:null,disabled:r},p.kI.required),timeZone:this.fb.control({value:null,disabled:!0}),accessTimeFrom:this.fb.control({value:null,disabled:!0}),accessTimeTo:this.fb.control({value:null,disabled:!0}),poeOfficeId:this.fb.control({value:null,disabled:r}),consulateId:this.fb.control({value:null,disabled:r}),userDocument:this.fb.group({id:this.fb.control({value:null,disabled:r}),name:this.fb.control({value:null,disabled:r}),file:this.fb.control({value:null,disabled:r},p.kI.required),fileType:this.fb.control({value:null,disabled:r}),size:this.fb.control({value:null,disabled:r})}),file:this.fb.control({value:null})})})}addUserFormToUser(r){const n=r.getRawValue();return(new _.RmF).deserialize({firstName:n.userPersonalDetails.firstName,lastName:n.userPersonalDetails.lastName,employeeId:n.userPersonalDetails.employeeId,address1:n.userPersonalDetails.address1,address2:n.userPersonalDetails.address2,countryId:n.userPersonalDetails.countryId,cityId:n.userPersonalDetails.cityId,stateId:n.userPersonalDetails.stateId,emailAddress:n.userPersonalDetails.emailAddress,zipCode:n.userPersonalDetails.zipCode,landlineNumber:n.userPersonalDetails.landlineNumber,mobileNumber:n.userPersonalDetails.mobileNumber,organisationId:n.userOtherDetails.organisationId,roleId:n.userOtherDetails.roleId,workCountryId:n.userOtherDetails.workCountryId,workStateId:n.userOtherDetails.workStateId,poeOfficeId:n.userOtherDetails.poeOfficeId,consulateId:n.userOtherDetails.consulateId,userDocument:{id:n.userOtherDetails.userDocument.id,name:n.userOtherDetails.userDocument.name,file:n.userOtherDetails.userDocument.file,fileType:n.userOtherDetails.userDocument.fileType}})}viewEditUserForm(r,n){return this.fb.group({employeeId:this.fb.control({value:n?n.employeeId:null,disabled:r}),personalInformation:this.fb.group({firstName:this.fb.control({value:n?n.firstName:null,disabled:r}),lastName:this.fb.control({value:n?n.lastName:null,disabled:r})}),address:this.fb.group({address:this.fb.control({value:n?n.address1+" "+n.address2:null,disabled:r}),cityId:this.fb.control({value:n?n.cityId:null,disabled:r}),stateId:this.fb.control({value:n?n.stateId:null,disabled:r}),zipCode:this.fb.control({value:n?n.zipCode:null,disabled:r}),countryId:this.fb.control({value:n?n.countryId:null,disabled:r}),landlineNumber:this.fb.control({value:n?n.landlineNumber:null,disabled:r})}),contactDetails:this.fb.group({mobileNumber:this.fb.control({value:n?n.mobileNumber:null,disabled:!1},p.kI.compose([p.kI.required,h.YO.intMobileNumberValidator()])),emailAddress:this.fb.control({value:n?n.emailAddress:null,disabled:!1},p.kI.compose([p.kI.required,h.YO.emailValidator()]))}),workLocationInfo:this.fb.group({workCountryId:this.fb.control({value:n?n.workCountryId:null,disabled:!1}),workStateId:this.fb.control({value:n?n.workStateId:null,disabled:!1}),timeZone:this.fb.control({value:n?n.timeZone:null,disabled:r}),accessTimeFrom:this.fb.control({value:n?n.accessTimeFrom:null,disabled:!0}),accessTimeTo:this.fb.control({value:n?n.accessTimeTo:null,disabled:r})})})}viewEditUserFormToUser(r,n){const c=r.getRawValue();return(new _.rsX).deserialize({id:n,emailAddress:c.contactDetails.emailAddress,mobileNumber:c.contactDetails.mobileNumber,workCountryId:c.workLocationInfo.workCountryId,workStateId:c.workLocationInfo.workStateId})}deactivateUserForm(r,n){return this.fb.group({employeeId:this.fb.control({value:n?n.employeeId:null,disabled:r}),personalInformation:this.fb.group({firstName:this.fb.control({value:n?n.firstName:null,disabled:r}),lastName:this.fb.control({value:n?n.lastName:null,disabled:r})}),address:this.fb.group({address:this.fb.control({value:n?n.address1+" "+n.address2:null,disabled:r}),cityId:this.fb.control({value:n?n.cityId:null,disabled:r}),stateId:this.fb.control({value:n?n.stateId:null,disabled:r}),zipCode:this.fb.control({value:n?n.zipCode:null,disabled:r}),countryId:this.fb.control({value:n?n.countryId:null,disabled:r}),landlineNumber:this.fb.control({value:n?n.landlineNumber:null,disabled:r})}),contactDetails:this.fb.group({mobileNumber:this.fb.control({value:n?n.mobileNumber:null,disabled:r},p.kI.compose([p.kI.required,h.YO.intMobileNumberValidator()])),emailAddress:this.fb.control({value:n?n.emailAddress:null,disabled:r},p.kI.compose([p.kI.required,h.YO.emailValidator()]))}),workLocationInfo:this.fb.group({workCountryId:this.fb.control({value:n?n.workCountryId:null,disabled:r}),workStateId:this.fb.control({value:n?n.workStateId:null,disabled:r}),timeZone:this.fb.control({value:n?n.timeZone:null,disabled:r}),accessTimeFrom:this.fb.control({value:n?n.accessTimeFrom:null,disabled:!0}),accessTimeTo:this.fb.control({value:n?n.accessTimeTo:null,disabled:r})}),reasonFrom:this.fb.group({remark:this.fb.control({value:null,disabled:!1},p.kI.required),userDocument:this.fb.group({id:this.fb.control({value:null,disabled:!1}),name:this.fb.control({value:null,disabled:!1}),file:this.fb.control({value:null,disabled:!1}),fileType:this.fb.control({value:null,disabled:!1}),size:this.fb.control({value:null,disabled:!1})})})})}createUserRoleForm(r,n){return this.fb.group({employeeId:this.fb.control({value:n?n.employeeId:null,disabled:r}),personalInformation:this.fb.group({firstName:this.fb.control({value:n?n.firstName:null,disabled:r}),lastName:this.fb.control({value:n?n.lastName:null,disabled:r})}),contactDetails:this.fb.group({mobileNumber:this.fb.control({value:n?n.mobileNumber:null,disabled:r}),emailAddress:this.fb.control({value:n?n.emailAddress:null,disabled:r})}),userRoles:this.fb.group({organisationId:this.fb.control({value:n?n.organisationId:null,disabled:r}),roles:this.fb.control({value:n?n.roles:null,disabled:r})})})}createUserJurisdictionForm(r,n){return this.fb.group({employeeId:this.fb.control({value:n?n.employeeId:null,disabled:r}),personalInformation:this.fb.group({firstName:this.fb.control({value:n?n.firstName:null,disabled:r}),lastName:this.fb.control({value:n?n.lastName:null,disabled:r})}),address:this.fb.group({address:this.fb.control({value:n?n.address1+" "+n.address2:null,disabled:r}),cityId:this.fb.control({value:n?n.cityId:null,disabled:r}),stateId:this.fb.control({value:n?n.stateId:null,disabled:r}),zipCode:this.fb.control({value:n?n.zipCode:null,disabled:r}),countryId:this.fb.control({value:n?n.countryId:null,disabled:r}),landlineNumber:this.fb.control({value:n?n.landlineNumber:null,disabled:r})}),contactDetails:this.fb.group({mobileNumber:this.fb.control({value:n?n.mobileNumber:null,disabled:r}),emailAddress:this.fb.control({value:n?n.emailAddress:null,disabled:r})}),organisationInfo:this.fb.group({organisationId:this.fb.control({value:n?n.organisationId:null,disabled:r}),organisationName:this.fb.control({value:n?n.organisationName:null,disabled:r}),processId:this.fb.control({value:n?n.processId:null,disabled:r}),jurisdictions:this.fb.control({value:n?.locations?.length?n.locations.map(c=>c.id):null,disabled:r})})})}createUserLocationForm(r,n){return this.fb.group({employeeId:this.fb.control({value:n?n.employeeId:null,disabled:r}),personalInformation:this.fb.group({firstName:this.fb.control({value:n?n.firstName:null,disabled:r}),lastName:this.fb.control({value:n?n.lastName:null,disabled:r})}),address:this.fb.group({address:this.fb.control({value:n?n.address1+" "+n.address2:null,disabled:r}),cityId:this.fb.control({value:n?n.cityId:null,disabled:r}),stateId:this.fb.control({value:n?n.stateId:null,disabled:r}),zipCode:this.fb.control({value:n?n.zipCode:null,disabled:r}),countryId:this.fb.control({value:n?n.countryId:null,disabled:r}),landlineNumber:this.fb.control({value:n?n.landlineNumber:null,disabled:r})}),contactDetails:this.fb.group({mobileNumber:this.fb.control({value:n?n.mobileNumber:null,disabled:r}),emailAddress:this.fb.control({value:n?n.emailAddress:null,disabled:r})}),organisationInfo:this.fb.group({organisationId:this.fb.control({value:n?n.organisationId:null,disabled:r}),processId:this.fb.control({value:n?n.processId:null,disabled:r}),locations:this.fb.control({value:n?n.locations:null,disabled:r})})})}createRoleFeatureForm(r,n){return this.fb.group({id:this.fb.control({value:n?n.roleId:null,disabled:r}),roleFeatures:this.fb.group({features:this.fb.control({value:n?n.featureList.map(c=>c.id):null,disabled:r})})})}roleFeatureFormToEmigrateRole(r){const n=r.getRawValue();return(new _.tPd).deserialize({roleId:n.id,featureList:n.roleFeatures.features?.map(c=>(new _.Zy9).deserialize({id:c}))})}userRoleFormToEmigrateUpdateUserRole(r,n){const c=n.getRawValue();return(new _.sj7).deserialize({userId:r,roleIds:c.userRoles?.roles})}createReportRecipientListForm(r,n){return this.fb.group({report:this.fb.control({value:n?.report,disabled:r},p.kI.required),frequency:this.fb.control({value:n?.frequency,disabled:r},p.kI.required),recipient:this.fb.control({value:n?.recipient,disabled:r},p.kI.required)})}userJurisdictionFormToEmigrateUpdateUserJurisdiction(r,n){const c=n.getRawValue();return(new _.VmY).deserialize({userId:r,locationIds:c.organisationInfo?.jurisdictions})}}return(w=k).\u0275fac=function(r){return new(r||w)(e.LFG(p.qu))},w.\u0275prov=e.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),k})()},5518:($,F,u)=>{u.d(F,{L:()=>r});var b,p=u(655),_=u(4004),h=u(262),e=u(8505),v=u(8513),w=u(1571),k=u(2976);class r{constructor(c){this.userMgnmtService=c}getAll(){return this.userMgnmtService.getAllUsers().pipe((0,_.U)(c=>c.data),(0,h.K)(c=>{throw c}))}add(c){return this.userMgnmtService.saveUser(c).pipe((0,e.b)(d=>{}),(0,h.K)(d=>{throw d}))}updateUser(c){return this.userMgnmtService.updateUser(c).pipe((0,e.b)(d=>{}),(0,h.K)(d=>{throw d}))}getById(c){return this.userMgnmtService.getUserById(c).pipe((0,_.U)(d=>d),(0,h.K)(d=>{throw d}))}getByIdForJurisdiction(c){return this.userMgnmtService.getUserByIdForJurisdiction(c).pipe((0,_.U)(d=>d),(0,h.K)(d=>{throw d}))}deleteById(c){return this.userMgnmtService.deleteUserById(c).pipe((0,_.U)(d=>d),(0,h.K)(d=>{throw d}))}deactivate(c){return this.userMgnmtService.deactivateUser(c).pipe((0,e.b)(d=>{}),(0,h.K)(d=>{throw d}))}addFeaturesToRole(c){return this.userMgnmtService.addFeaturesToRole(c).pipe((0,e.b)(d=>{}),(0,h.K)(d=>{throw d}))}getUserByRoleIdAndFeatureId(c,d){return this.userMgnmtService.getUserByRoleIdAndFeatureId(c,d).pipe((0,_.U)(A=>A),(0,h.K)(A=>{throw A}))}addRolesToUser(c){return this.userMgnmtService.addRolesToUser(c).pipe((0,e.b)(d=>{}),(0,h.K)(d=>{throw d}))}addJurisdictionsToUser(c){return this.userMgnmtService.addJurisdictionsToUser(c).pipe((0,e.b)(d=>{}),(0,h.K)(d=>{throw d}))}}(b=r).\u0275fac=function(c){return new(c||b)(w.LFG(k.xhG))},b.\u0275prov=w.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),(0,p.gn)([(0,v.PS)()],r.prototype,"getAll",null),(0,p.gn)([(0,v.PS)()],r.prototype,"add",null),(0,p.gn)([(0,v.PS)()],r.prototype,"updateUser",null),(0,p.gn)([(0,v.PS)()],r.prototype,"getById",null),(0,p.gn)([(0,v.PS)()],r.prototype,"getByIdForJurisdiction",null),(0,p.gn)([(0,v.PS)()],r.prototype,"deleteById",null),(0,p.gn)([(0,v.PS)()],r.prototype,"deactivate",null),(0,p.gn)([(0,v.PS)()],r.prototype,"addFeaturesToRole",null),(0,p.gn)([(0,v.PS)()],r.prototype,"getUserByRoleIdAndFeatureId",null),(0,p.gn)([(0,v.PS)()],r.prototype,"addRolesToUser",null),(0,p.gn)([(0,v.PS)()],r.prototype,"addJurisdictionsToUser",null)}}]);