"use strict";(self.webpackChunke_migrate=self.webpackChunke_migrate||[]).push([[6125],{6125:(ie,_,a)=>{a.r(_),a.d(_,{AddEmployerInPacModule:()=>ee});var f=a(6895),u=a(1358),c=a(4006),E=a(1740),v=a(3599),A=a(5861),p=a(2976),e=a(1571),h=a(805),b=a(4325),x=a(5593),d=a(4826);function D(i,n){1&i&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Select"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Grievance Reference Number"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Grievance Type"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Status"),e.qZA()())}function I(i,n){if(1&i){const r=e.EpF();e.TgZ(0,"tr",12)(1,"td")(2,"input",13),e.NdJ("change",function(o){e.CHM(r);const l=e.oxw();return e.KtG(l.onSelectGrievance(o))}),e.qZA()(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA()()}if(2&i){const r=n.$implicit;e.Q6J("pSelectableRow",r),e.xp6(2),e.Q6J("checked",r.select)("value",r.refNumber),e.xp6(2),e.Oqu(r.refNumber),e.xp6(2),e.Oqu(r.grievanceType),e.xp6(2),e.Oqu(r.status)}}function G(i,n){1&i&&(e.TgZ(0,"tr",14)(1,"td",15),e._uU(2,"No record found"),e.qZA()())}let S=(()=>{var i;class n extends u.H6{constructor(t,o,l,s){super(t),this.dialogConfig=o,this.ref=l,this.fb=s,this.selectedGrievances=[]}ngOnInit(){let t=this.dialogConfig?.data.dataList?this.dialogConfig.data.dataList:{};this.entityFormGroup=this.dialogConfig?.data.entityFormGroup?this.dialogConfig?.data.entityFormGroup:null,this.dataList=t}close(){this.dataList?.forEach(t=>{t.select=!1,this.listOfGrievanceFormArray.value?.forEach(o=>{o.grievanceRefNumber===t.refNumber&&(t.select=!0)})}),this.ref.close()}linkGrievances(){this.listOfGrievanceFormArray.clear(),this.dataList?.forEach(t=>{t.select&&this.listOfGrievanceFormArray.push(this.patchValue(t))}),this.ref.close()}onSelectGrievance(t){this.dataList?.forEach(t.target.checked?o=>{o.refNumber===t.target.value&&(o.select=!0)}:o=>{o.refNumber===t.target.value&&(o.select=!1)})}patchValue(t){return this.fb.group({select:t.select,grievanceRefNumber:t.refNumber,grievanceType:t.grievanceType,status:t.status})}get listOfGrievanceFormArray(){return this.entityFormGroup.get("listOfGrievance")}}return(i=n).\u0275fac=function(t){return new(t||i)(e.Y36(h.ez),e.Y36(b.S),e.Y36(b.E7),e.Y36(c.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["emigrate-link-grievance-dialog"]],inputs:{dataList:"dataList"},features:[e.qOj],decls:14,vars:1,consts:[[1,"container"],[1,"col-12"],[1,"content","mt-5"],[1,"form","border"],[1,"mt-0"],["responsiveLayout","scroll",3,"value"],["pTemplate","header"],["pTemplate","body",3,"formGroup"],["pTemplate","emptymessage"],[1,"buttons","mt-3","mb-3",2,"margin-left","60rem"],["pButton","","type","button","label","Link Grievance ",1,"btn-format","btn-blue","mr-2",3,"click"],["pButton","","type","button","label","Close",1,"btn-format","btn-blue","mr-2",3,"click"],[3,"pSelectableRow"],["type","checkbox",3,"checked","value","change"],[1,"align-items-center"],["colspan","10"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),e._uU(5,"Application Documents"),e.qZA(),e.TgZ(6,"p-table",5),e.YNc(7,D,9,0,"ng-template",6),e.YNc(8,I,9,6,"ng-template",7),e.YNc(9,G,3,0,"ng-template",8),e.qZA()()()(),e.TgZ(10,"div",1)(11,"div",9)(12,"button",10),e.NdJ("click",function(){return o.linkGrievances()}),e.qZA(),e.TgZ(13,"button",11),e.NdJ("click",function(){return o.close()}),e.qZA()()()()),2&t&&(e.xp6(6),e.Q6J("value",o.dataList))},dependencies:[c.JL,c.sg,h.jx,x.Hq,d.iA,d.Ei],styles:["input[type=checkbox][_ngcontent-%COMP%]{zoom:1.5;inline-size:-webkit-fill-available}input[type=checkbox][_ngcontent-%COMP%]{accent-color:darkblue}"]}),n})();var w=a(6945),P=a(1754);let k=(()=>{var i;class n{constructor(t){this.fb=t}createAddEmployerPacDetailsFormGroup(t){return this.fb.group({employerDetails:this.fb.group({employerId:this.fb.control({value:null,disabled:t}),name:this.fb.control({value:null,disabled:t}),registrationNumber:this.fb.control({value:null,disabled:t}),status:this.fb.control({value:null,disabled:t}),country:this.fb.control({value:null,disabled:t}),address:this.fb.control({value:null,disabled:t}),statusCD:this.fb.control({value:null,disabled:t}),countryCD:this.fb.control({value:null,disabled:t}),partnerArn:this.fb.control({value:null,disabled:t}),createdBy:this.fb.control({value:null,disabled:t})}),pacDocument:this.fb.group({fileName:this.fb.control({value:null,disabled:t}),fileContent:this.fb.control({value:null,disabled:t}),docExtension:this.fb.control({value:null,disabled:t}),size:this.fb.control({value:null,disabled:t}),id:this.fb.control({value:null,disabled:t})}),remarksDetails:this.fb.group({remarks:this.fb.control({value:null,disabled:t},[c.kI.required]),date:this.fb.control({value:null,disabled:t}),givenBy:this.fb.control({value:null,disabled:t})}),listOfGrievance:this.fb.array([])})}createSearchEmployerDetailsByIdFormGroup(t){return this.fb.group({employerId:this.fb.control({value:null,disabled:t}),name:this.fb.control({value:null,disabled:t}),country:this.fb.control({value:null,disabled:t}),countryCd:this.fb.control({value:null,disabled:t}),address:this.fb.control({value:null,disabled:t})})}createSearchEmployerFormGroup(t){return this.fb.group({name:this.fb.control({value:null,disabled:t}),firstName:this.fb.control({value:null,disabled:t}),country:this.fb.control({value:null,disabled:t}),lastName:this.fb.control({value:null,disabled:t})})}submitPacListDetails(t){const o=t.getRawValue();return(new p.NA8).deserialize({partnerArn:0,feId:o.employerDetails.employerId,registrationNumber:o.employerDetails.registrationNumber,statusCD:o.employerDetails.statusCD,endDt:null,createdBy:o.employerDetails.createdBy,createdDttm:null,modifiedDttm:null,name:o.employerDetails.name,address:o.employerDetails.address,countryCD:o.employerDetails.country.toString(),country:o.employerDetails.countryCD,documentList:null!==o.pacDocument.id?Array(this.documentToList(o.pacDocument)):null})}documentToList(t){return(new p.gxY).deserialize({id:t.id,name:t.fileName,file:t.fileContent,fileType:t.docExtension,size:t.size})}}return(i=n).\u0275fac=function(t){return new(t||i)(e.LFG(c.qu))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),n})();var m,F=a(655),T=a(8513),N=a(1135),C=a(8505),Z=a(262);class y{constructor(n){this.pacListService=n,this.getOTPDetails=new N.X({})}submitPacEmployerDetails(n){return this.pacListService.submitPacEmployerDetails(n).pipe((0,C.b)(r=>{}),(0,Z.K)(r=>{throw r}))}getEmployerDetails(n,r){return this.pacListService.getEmployerDetails(n,r).pipe((0,C.b)(t=>{}),(0,Z.K)(t=>{throw t}))}}(m=y).\u0275fac=function(n){return new(n||m)(e.LFG(p.Pew))},m.\u0275prov=e.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),(0,F.gn)([(0,T.PS)()],y.prototype,"submitPacEmployerDetails",null),(0,F.gn)([(0,T.PS)()],y.prototype,"getEmployerDetails",null);var q=a(3608),J=a(2210),L=a(2453),U=a(3054);function R(i,n){1&i&&(e.TgZ(0,"div",7)(1,"div",8)(2,"ul")(3,"li"),e._uU(4," 1. Fields marked with * (asterisk) are mandatory. "),e._UZ(5,"span",9),e.qZA(),e.TgZ(6,"li"),e._uU(7,"2. Documents exceeding 4 MB size will truncate non mandatory documents."),e.qZA(),e.TgZ(8,"li"),e._uU(9,"3. For Link Grievance Enter Employer ID."),e.qZA(),e.TgZ(10,"li"),e._uU(11,"4. Please do not press F5 or Back button."),e.qZA()()()())}function Q(i,n){if(1&i){const r=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"div",12),e._UZ(3,"emigrate-sh-page-sub-title",13),e.TgZ(4,"div",14)(5,"div",15)(6,"form",16)(7,"div",15)(8,"div",17)(9,"div",18)(10,"emigrate-sh-html-input",19)(11,"div")(12,"span",20)(13,"i",21),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.searchEmployer())}),e.qZA(),e.TgZ(14,"input",22),e.NdJ("focusout",function(o){e.CHM(r);const l=e.oxw();return e.KtG(l.getEmployerDetail(o))}),e.qZA()()()()()(),e.TgZ(15,"div",17)(16,"div",18)(17,"emigrate-sh-html-input",23),e._UZ(18,"input",24),e.qZA()()(),e.TgZ(19,"div",17)(20,"div",18)(21,"emigrate-sh-html-input",25),e._UZ(22,"p-dropdown",26),e.qZA()()(),e.TgZ(23,"div",17)(24,"div",18)(25,"emigrate-sh-html-input",27),e._UZ(26,"input",28),e.qZA()()()()()()()()(),e.TgZ(27,"div",15)(28,"div",29)(29,"div",30)(30,"button",31),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.searchById())}),e.qZA(),e.TgZ(31,"button",32),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.clearSearchEmployerByIdForm())}),e.qZA(),e.TgZ(32,"button",33),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.cancel())}),e.qZA()()()()()}if(2&i){const r=e.oxw();e.xp6(3),e.Q6J("pageSubTitle",r.pageSubTitle),e.xp6(3),e.Q6J("formGroup",r.searchEmployerDetailsByIdFormGroup),e.xp6(4),e.Q6J("inputRequired",!0)("inputFormControl",r.searchEmployerDetailsByIdFormGroup.controls.employerId),e.xp6(4),e.Q6J("formControl",r.searchEmployerDetailsByIdFormGroup.controls.employerId),e.xp6(3),e.Q6J("inputFormControl",r.searchEmployerDetailsByIdFormGroup.controls.name)("inputRequired",!0),e.xp6(1),e.Q6J("formControl",r.searchEmployerDetailsByIdFormGroup.controls.name),e.xp6(3),e.Q6J("inputFormControl",r.searchEmployerDetailsByIdFormGroup.controls.country)("inputRequired",!0),e.xp6(1),e.Q6J("options",r.countryOfEmployer)("formControl",r.searchEmployerDetailsByIdFormGroup.controls.country),e.xp6(3),e.Q6J("inputFormControl",r.searchEmployerDetailsByIdFormGroup.controls.address)("inputRequired",!0),e.xp6(1),e.Q6J("formControl",r.searchEmployerDetailsByIdFormGroup.controls.address)}}function B(i,n){if(1&i){const r=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"div",12),e._UZ(3,"emigrate-sh-page-sub-title",13),e.TgZ(4,"div",14)(5,"div",15)(6,"form",16)(7,"div",15)(8,"div",17)(9,"div",18)(10,"emigrate-sh-html-input",34),e._UZ(11,"input",24),e.qZA()()(),e.TgZ(12,"div",17)(13,"div",18)(14,"emigrate-sh-html-input",25),e._UZ(15,"p-dropdown",26),e.qZA()()(),e.TgZ(16,"div",17)(17,"div",18)(18,"emigrate-sh-html-input",35),e._UZ(19,"input",36),e.qZA()()(),e.TgZ(20,"div",17)(21,"div",18)(22,"emigrate-sh-html-input",37),e._UZ(23,"input",38),e.qZA()()()()()()()()(),e.TgZ(24,"div",15)(25,"div",29)(26,"div",30)(27,"button",31),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.searchFe())}),e.qZA(),e.TgZ(28,"button",32),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.clearSearchEmployerForm())}),e.qZA(),e.TgZ(29,"button",33),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.cancel())}),e.qZA()()()()()}if(2&i){const r=e.oxw();e.xp6(3),e.Q6J("pageSubTitle","Search FE"),e.xp6(3),e.Q6J("formGroup",r.searchEmployerFormGroup),e.xp6(4),e.Q6J("inputFormControl",r.searchEmployerFormGroup.controls.name)("inputRequired",!0),e.xp6(1),e.Q6J("formControl",r.searchEmployerFormGroup.controls.name),e.xp6(3),e.Q6J("inputFormControl",r.searchEmployerFormGroup.controls.country)("inputRequired",!0),e.xp6(1),e.Q6J("options",r.countryOfEmployer)("formControl",r.searchEmployerFormGroup.controls.country),e.xp6(3),e.Q6J("inputFormControl",r.searchEmployerFormGroup.controls.firstName)("inputRequired",!0),e.xp6(1),e.Q6J("formControl",r.searchEmployerFormGroup.controls.firstName),e.xp6(3),e.Q6J("inputFormControl",r.searchEmployerFormGroup.controls.lastName)("inputRequired",!0),e.xp6(1),e.Q6J("formControl",r.searchEmployerFormGroup.controls.lastName)}}function M(i,n){1&i&&(e.TgZ(0,"tr")(1,"th",50)(2,"div",51)(3,"span"),e._uU(4,"Select"),e.qZA(),e._UZ(5,"span",51),e.qZA()(),e.TgZ(6,"th",50)(7,"div",51)(8,"span"),e._uU(9,"FE/ PR ID"),e.qZA(),e._UZ(10,"span",51),e.qZA()(),e.TgZ(11,"th",52)(12,"div",51)(13,"span"),e._uU(14,"FE/ PE Name"),e.qZA(),e._UZ(15,"span",51),e.qZA()(),e.TgZ(16,"th",52)(17,"div",53),e._uU(18,"Authorized Signatory"),e.qZA()(),e.TgZ(19,"th",52)(20,"div",53),e._uU(21,"Registration Number"),e.qZA()(),e.TgZ(22,"th",52)(23,"div",53),e._uU(24,"Status"),e.qZA()(),e.TgZ(25,"th",50)(26,"div",53),e._uU(27,"FE Type"),e.qZA()()())}const O=function(i){return{" info-text cursor":i}};function H(i,n){if(1&i){const r=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"span",54)(3,"p-tableRadioButton",55),e.NdJ("click",function(){const l=e.CHM(r).rowIndex,s=e.oxw(2);return e.KtG(s.selectedEmployer(l))}),e.qZA()()(),e.TgZ(4,"td")(5,"span",56),e.NdJ("click",function(){const o=e.CHM(r),l=o.rowIndex,s=o.$implicit,g=e.oxw(2);return e.KtG(l===g.selectedEmployerIndex?g.searchEmployerDetails(s,l+1):"")}),e._uU(6),e.qZA()(),e.TgZ(7,"td")(8,"span",57),e._uU(9),e.qZA()(),e.TgZ(10,"td")(11,"span",57),e._uU(12),e.qZA()(),e.TgZ(13,"td")(14,"span",58),e._uU(15),e.qZA()(),e.TgZ(16,"td")(17,"span",58),e._uU(18),e.qZA()(),e.TgZ(19,"td")(20,"a",58),e._uU(21),e.qZA()()()}if(2&i){const r=n.$implicit,t=n.rowIndex,o=e.oxw(2);e.xp6(3),e.Q6J("value",r),e.xp6(2),e.Q6J("ngClass",e.VKq(8,O,t===o.selectedEmployerIndex)),e.xp6(1),e.Oqu(r.feId),e.xp6(3),e.hij(" ",r.name," "),e.xp6(3),e.hij(" ",r.authorizedSignatory," "),e.xp6(3),e.Oqu(r.registrationNumber),e.xp6(3),e.Oqu(r.statusCD),e.xp6(3),e.Oqu(r.feType)}}function Y(i,n){1&i&&(e.TgZ(0,"tr",59)(1,"td",60),e._uU(2,"No record found"),e.qZA()())}function z(i,n){if(1&i&&(e.TgZ(0,"div",39)(1,"div",40)(2,"div",41)(3,"h4",42),e._uU(4),e.qZA()()(),e.TgZ(5,"div",10)(6,"div",43)(7,"div",44)(8,"p-table",45,46),e.YNc(10,M,28,0,"ng-template",47),e.YNc(11,H,22,10,"ng-template",48),e.YNc(12,Y,3,0,"ng-template",49),e.qZA()()()()()),2&i){const r=e.oxw();e.xp6(4),e.Oqu(r.tableTitle),e.xp6(4),e.Q6J("value",r.tableData)("rows",10)("showCurrentPageReport",!1)("paginator",!1)("selectionMode","single")}}function K(i,n){if(1&i){const r=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"div",12),e._UZ(3,"emigrate-sh-page-sub-title",13),e.TgZ(4,"div",14)(5,"div",15)(6,"form",16)(7,"div",15)(8,"div",17)(9,"div",18)(10,"emigrate-sh-html-input",19),e._UZ(11,"input",61),e.qZA()()(),e.TgZ(12,"div",17)(13,"div",18)(14,"emigrate-sh-html-input",62),e._UZ(15,"input",63),e.qZA()()(),e.TgZ(16,"div",17)(17,"div",18)(18,"emigrate-sh-html-input",64),e._UZ(19,"input",65),e.qZA()()(),e.TgZ(20,"div",17)(21,"div",18)(22,"emigrate-sh-html-input",66),e._UZ(23,"input",67),e.qZA()()(),e.TgZ(24,"div",17)(25,"div",18)(26,"emigrate-sh-html-input",25),e._UZ(27,"p-dropdown",68),e.qZA()()(),e.TgZ(28,"div",17)(29,"div",18)(30,"emigrate-sh-html-input",27),e._UZ(31,"input",69),e.qZA()()()()()()()()(),e.TgZ(32,"div",11)(33,"div",12),e._UZ(34,"emigrate-sh-page-sub-title",13),e.TgZ(35,"div",14)(36,"div",15)(37,"form",16)(38,"div",15)(39,"div",17)(40,"div",18)(41,"div")(42,"label"),e._uU(43,"Attachment"),e.qZA(),e.TgZ(44,"div",70)(45,"emigrate-sh-file-upload",71),e.NdJ("uploadedFile",function(o){e.CHM(r);const l=e.oxw();return e.KtG(l.documentData(o))}),e.qZA()()()()()()()()()()(),e.TgZ(46,"div",11)(47,"div",12),e._UZ(48,"emigrate-sh-page-sub-title",13),e.TgZ(49,"div",14)(50,"div",15)(51,"form",16)(52,"div",15)(53,"div",17)(54,"div",72)(55,"emigrate-sh-html-input",73),e._UZ(56,"textarea",74),e.qZA()()()()()()()()(),e.TgZ(57,"div",15)(58,"div",29)(59,"div",30)(60,"button",75),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.showLinkGrievanceDialogBox())}),e.qZA(),e.TgZ(61,"button",76),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.submitToAddInPac())}),e.qZA(),e.TgZ(62,"button",32),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.clearEmployerDetailsForm())}),e.qZA(),e.TgZ(63,"button",33),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.cancel())}),e.qZA()()()()()}if(2&i){const r=e.oxw();e.xp6(3),e.Q6J("pageSubTitle",r.pageSubTitle),e.xp6(3),e.Q6J("formGroup",r.employerDetailsFormGroup),e.xp6(4),e.Q6J("inputFormControl",r.employerDetailsFormGroup.controls.employerId),e.xp6(1),e.Q6J("formControl",r.employerDetailsFormGroup.controls.employerId),e.xp6(3),e.Q6J("inputFormControl",r.employerDetailsFormGroup.controls.name)("inputRequired",!0),e.xp6(1),e.Q6J("formControl",r.employerDetailsFormGroup.controls.name),e.xp6(3),e.Q6J("inputFormControl",r.employerDetailsFormGroup.controls.registrationNumber)("inputRequired",!0),e.xp6(1),e.Q6J("formControl",r.employerDetailsFormGroup.controls.registrationNumber),e.xp6(3),e.Q6J("inputFormControl",r.employerDetailsFormGroup.controls.statusCD)("inputRequired",!0),e.xp6(1),e.Q6J("formControl",r.employerDetailsFormGroup.controls.statusCD),e.xp6(3),e.Q6J("inputFormControl",r.employerDetailsFormGroup.controls.country)("inputRequired",!0),e.xp6(1),e.Q6J("options",r.countryOfEmployer)("formControl",r.employerDetailsFormGroup.controls.country),e.xp6(3),e.Q6J("inputFormControl",r.employerDetailsFormGroup.controls.address)("inputRequired",!0),e.xp6(1),e.Q6J("formControl",r.employerDetailsFormGroup.controls.address),e.xp6(3),e.Q6J("pageSubTitle","Documents"),e.xp6(3),e.Q6J("formGroup",r.pacDocumentFormGroup),e.xp6(8),e.Q6J("uploadLabel","Browse")("documentId",1)("acceptedType",r.pdfFormat),e.xp6(3),e.Q6J("pageSubTitle","Reason for Adding in PAC"),e.xp6(3),e.Q6J("formGroup",r.remarksDetailsFormGroup),e.xp6(4),e.Q6J("inputRequired",!0)("inputFormControl",r.remarksDetailsFormGroup.controls.remarks),e.xp6(1),e.Q6J("formControl",r.remarksDetailsFormGroup.controls.remarks)}}function j(i,n){if(1&i){const r=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"div",12),e._UZ(3,"emigrate-sh-page-sub-title",13),e.TgZ(4,"div",14)(5,"div",15)(6,"form",10)(7,"div",15)(8,"div",77)(9,"div",78),e._uU(10," Request for 'Add employer in PAC' initiated successfully."),e._UZ(11,"br"),e._uU(12),e._UZ(13,"br"),e._uU(14,"The work item is forwarded to next level (PGOE Officer). "),e.qZA()()()()()()()(),e.TgZ(15,"div",15)(16,"div",29)(17,"div",30)(18,"button",79),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.close())}),e.qZA()()()()()}if(2&i){const r=e.oxw();e.xp6(3),e.Q6J("pageSubTitle","Success"),e.xp6(9),e.hij(" The application reference number is ",r.arnGenerated,". ")}}const V=[{path:"add-employer-in-pac",pathMatch:"full",component:(()=>{var i;class n extends u.H6{constructor(t,o,l,s,g,te,re,oe){super(t),this.sessionQuery=o,this.router=l,this.uiService=s,this.routerQuery=g,this.dialogService=te,this.addEmployerPacFormHelperService=re,this.addEmployerPacService=oe,this.isInternalUser=!1,this.userInfo=this.sessionQuery.user,this.pageTitle="Add Employer in PAC List",this.pageSubTitle="Add Employer in PAC List",this.tableTitle="Search Results",this.showSearchEmployer=!0,this.showSearchFE=!1,this.showSearchResults=!1,this.showEmployerDetails=!1,this.showLinkedGrievance=!1,this.showSuccessMessageForPac=!1,this.dataList=[],this.pdfFormat=p.Xef.TYPE_PDF}ngOnInit(){this.uiService.initPageSetup([],""),this.showSearchEmployer=!0,this.getData(),this.initForm()}getData(){this.countryOfEmployer=this.routerQuery.getData()[0][p.Gdm.COUNTRY],this.loginUsername=this.sessionQuery.username}initForm(){this.searchEmployerDetailsByIdFormGroup=this.addEmployerPacFormHelperService.createSearchEmployerDetailsByIdFormGroup(!1),this.pacDetailsFormGroup=this.addEmployerPacFormHelperService.createAddEmployerPacDetailsFormGroup(!1),this.searchEmployerFormGroup=this.addEmployerPacFormHelperService.createSearchEmployerFormGroup(!1),this.isInternalUser=this.routerQuery.getData("userType")===p.Xef.USER_TYPE,this.disableFields()}disableFields(){this.employerDetailsFormGroup.disable(),this.searchEmployerDetailsByIdFormGroup?.get("employerId").enable()}searchEmployer(){this.showSearchFE=!0,this.showSearchEmployer=!1}searchResults(){this.showEmployerDetails=!0,this.showSearchResults=!1,this.showSearchFE=!1,this.showSearchEmployer=!1}searchEmployerDetails(t,o){this.dataList=t?.grievanceList?t?.grievanceList:[],this.employerDetailsFormGroup.patchValue({employerId:t.feId,name:t.name,registrationNumber:t.registrationNumber,statusCD:t.statusCD,countryCD:t.countryCD,country:Number(t.country),status:t.status,partnerArn:t.partnerArn,createdBy:this.loginUsername,address:t.address}),this.showEmployerDetails=!0,this.showSearchResults=!1,this.showSearchFE=!1,this.showSearchEmployer=!1}submitToAddInPac(){if(this.remarksDetailsFormGroup.controls.remarks.value){if(this.showSearchEmployer=!1,this.showSearchResults=!1,this.showSearchFE=!1,this.pacDetailsFormGroup.valid){const o=Object.assign(new p.NA8,this.addEmployerPacFormHelperService.submitPacListDetails(this.pacDetailsFormGroup));this.uiService.showSpinner(),this.addEmployerPacService.submitPacEmployerDetails(o).subscribe({next:l=>{this.uiService.hideSpinner(),l.status?.toLowerCase()===p.Xef.SUCCESS?(this.arnGenerated=l.data.ARN,this.showSuccessMessageForPac=!0,this.showEmployerDetails=!1):this.showErrorToast(l.message)},error:l=>{this.uiService.hideSpinner(),this.showErrorToast(l?.error?.error?.errorMessage)},complete:()=>{this.uiService.hideSpinner()}})}}else this.showErrorToast(p.rmt.TOAST_FILL_ALL_FIELDS)}showLinkGrievanceDialogBox(){this.ref=this.dialogService.open(S,{header:"List of Grievance",width:"80%",contentStyle:{overflow:"auto"},data:{dataList:this.dataList,entityFormGroup:this.pacDetailsFormGroup},baseZIndex:1e4,maximizable:!0,closable:!1}),this.ref.onMaximize.subscribe(t=>{})}getEmployerDetail(t){t.target.value?(this.uiService.showSpinner(),this.getEmployerData(t.target.value,"",!0)):(this.searchEmployerDetailsByIdFormGroup.enable(),this.searchEmployerDetailsByIdFormGroup.reset())}searchById(){let t=this.searchEmployerDetailsByIdFormGroup.getRawValue();if(Object.values(t).every(s=>!s))return void this.showErrorToast(p.rmt.AT_LEAST_ONE_FIELD_REQUIRED);this.uiService.showSpinner();let l=this.searchEmployerDetailsByIdFormGroup.get("employerId").value;this.getEmployerData(l||null,this.searchEmployerDetailsByIdFormGroup.value,!1)}searchFe(){let t=this.searchEmployerFormGroup.getRawValue();Object.values(t).every(l=>!l)?this.showErrorToast(p.rmt.AT_LEAST_ONE_FIELD_REQUIRED):(this.showSearchEmployer=!1,this.uiService.showSpinner(),this.getEmployerData("",this.searchEmployerFormGroup.value,!1))}getEmployerData(t,o,l){this.addEmployerPacService.getEmployerDetails(t,o).subscribe({next:s=>{if(0===s.length)return this.tableData=s,this.searchEmployerDetailsByIdFormGroup.enable(),this.searchEmployerDetailsByIdFormGroup.reset(),void this.showErrorToast(p.rmt.DEFAULT_NO_DATA_FOUND);l?(this.uiService.hideSpinner(),this.searchEmployerDetailsByIdFormGroup.patchValue({name:(s=s[0]).name,address:s.address,country:Number(s.country),countryCd:s.countryCd}),this.searchEmployerDetailsByIdFormGroup.disable(),this.searchEmployerDetailsByIdFormGroup?.controls.employerId.enable()):(this.tableData=s,this.uiService.hideSpinner(),this.showSearchResults=!0,this.showSearchEmployer=!1)},error:s=>{this.uiService.hideSpinner(),this.showErrorToast(s?.error?.error?.errorMessage),this.searchEmployerDetailsByIdFormGroup.enable(),this.searchEmployerDetailsByIdFormGroup.reset()},complete:()=>{this.uiService.hideSpinner()}})}documentData(t){var o=this;return(0,A.Z)(function*(){if(t)switch(t.action){case p.Xef.ACTION.ADD:o.pacDocumentFormGroup.patchValue({docExtension:t.data.type,fileName:t.data.name,fileContent:t.data.file,id:t.data.id,size:t.data.size});break;case p.Xef.ACTION.REMOVE:o.pacDocumentFormGroup.reset()}})()}clearSearchEmployerByIdForm(){this.searchEmployerDetailsByIdFormGroup.reset()}clearSearchEmployerForm(){this.searchEmployerFormGroup.reset(),this.tableData=[],this.showSearchResults=!1}clearEmployerDetailsForm(){this.pacDetailsFormGroup.controls.remarksDetails.reset(),this.pacDetailsFormGroup.controls.pacDocument.reset()}cancel(){this.redirectToHome()}close(){this.redirectToHome()}redirectToHome(){this.router.navigate(["admin/dashboard"])}selectedEmployer(t){this.selectedEmployerIndex=this.selectedEmployerIndex===t?null:t}get employerDetailsFormGroup(){return this.pacDetailsFormGroup.controls.employerDetails}get pacDocumentFormGroup(){return this.pacDetailsFormGroup.controls.pacDocument}get remarksDetailsFormGroup(){return this.pacDetailsFormGroup.controls.remarksDetails}}return(i=n).\u0275fac=function(t){return new(t||i)(e.Y36(h.ez),e.Y36(p.U_o),e.Y36(v.F0),e.Y36(w.n),e.Y36(P.dt),e.Y36(b.xA),e.Y36(k),e.Y36(y))},i.\u0275cmp=e.Xpm({type:i,selectors:[["emigrate-add-employer-in-pac"]],features:[e.qOj],decls:11,vars:7,consts:[[1,"container"],[1,"row","header-background"],[3,"pageTitle"],["class","row instruction-row",4,"ngIf"],["class","content",4,"ngIf"],["class","content info-table",4,"ngIf"],[1,"mb-4"],[1,"row","instruction-row"],[1,"instruction"],["aria-hidden","true","pTooltip","'1. Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions.","tooltipPosition","top",1,"pi","pi-exclamation-circle"],[1,"content"],[1,"mb-3"],[1,"form","border"],[3,"pageSubTitle"],[1,"content","p-3"],[1,"row"],[1,"content",3,"formGroup"],[1,"col-md-4","col-sm-6"],[1,"field"],["inputLabel","Employer ID","inputId","employerId",1,"block",3,"inputRequired","inputFormControl"],[1,"p-input-icon-right"],[1,"pi","pi-search",3,"click"],["type","text","maxlength","13","pInputText","","id","employerId",2,"width","25rem",3,"formControl","focusout"],["inputLabel","Name","inputId","feName",1,"block",3,"inputFormControl","inputRequired"],["id","feName","type","text","pInputText","","maxlength","30",3,"formControl"],["inputLabel","Country","inputId","country",1,"block",3,"inputFormControl","inputRequired"],["id","country","placeholder","Select Country","EmigrateShDropdown","",3,"options","formControl"],["inputLabel","Address","inputId","address",1,"block",3,"inputFormControl","inputRequired"],["id","address","type","text","pInputText","","maxlength","30",3,"formControl"],[1,"col-12"],[1,"buttons","mt-3","mb-3"],["pButton","","type","button","label","Search",1,"btn-format","btn-blue","mr-2",3,"click"],["pButton","","type","button","label","Clear",1,"btn-format","btn-blue","mr-2",3,"click"],["pButton","","type","button","label","Cancel",1,"btn-format","btn-blue","mr-2",3,"click"],["inputLabel","FE Name","inputId","feName",1,"block",3,"inputFormControl","inputRequired"],["inputLabel","Authorized Signatory First Name","inputId","firstName",1,"block",3,"inputFormControl","inputRequired"],["id","firstName","type","text","pInputText","","maxlength","30",3,"formControl"],["inputLabel","Authorized Signatory Last Name","inputId","lastName",1,"block",3,"inputFormControl","inputRequired"],["id","lastName","type","text","pInputText","","maxlength","30",3,"formControl"],[1,"content","info-table"],[1,"row_box"],[1,"form"],[1,"mt-0"],[1,"card"],[1,"table-border","pbsk-detail-table","pr-4","pl-4","mb-0"],[3,"value","rows","showCurrentPageReport","loading","paginator","selectionMode"],["dt1",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"p-3"],[1,"d-flex","align-items-center"],["pSortableColumn","",1,"p-3"],[1,"flex","align-items-center"],[1,"align-items-center","vertical-align-middle","info-text","cursor"],[3,"value","click"],[1,"align-items-center","vertical-align-middle",3,"ngClass","click"],[1,"text-center","vertical-align-middle"],[1,"align-items-center","vertical-align-middle"],[1,"align-items-center"],["colspan","10"],["id","employerId","type","text","pInputText","","maxlength","30","readonly","",3,"formControl"],["inputLabel","Name","inputId","name",1,"block",3,"inputFormControl","inputRequired"],["id","name","type","text","pInputText","","maxlength","30","readonly","",3,"formControl"],["inputLabel","Registration Number","inputId","registrationNumber",1,"block",3,"inputFormControl","inputRequired"],["id","registrationNumber","type","text","pInputText","","maxlength","30","readonly","",3,"formControl"],["inputLabel","Status","inputId","status",1,"block",3,"inputFormControl","inputRequired"],["id","status","type","text","pInputText","","maxlength","30","readonly","",3,"formControl"],["id","country","EmigrateShDropdown","",3,"options","formControl"],["id","address","type","text","pInputText","","maxlength","30","readonly","",3,"formControl"],[1,"custom-file-uploader",2,"float","right"],[3,"uploadLabel","documentId","acceptedType","uploadedFile"],[1,"field",2,"width","77rem"],["inputLabel","Reason for Adding in PAC List","inputId","remarks",1,"block",3,"inputRequired","inputFormControl"],["maxlength","1000","rows","5","cols","","pInputTextarea","","placeholder","Enter Your Remark",3,"formControl"],["pButton","","type","button","label","Link Grievance",1,"btn-format","btn-blue","mr-2",3,"click"],["pButton","","type","submit","label","Submit",1,"btn-format","btn-blue","mr-2",3,"click"],[1,"col-md-12","col-sm-12"],[1,"",2,"text-align","center"],["pButton","","type","button","label","Close",1,"btn-format","btn-blue","mr-2",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"emigrate-sh-page-title",2),e.qZA(),e._UZ(3,"p-toast"),e.YNc(4,R,12,0,"div",3),e.YNc(5,Q,33,15,"div",4),e.YNc(6,B,30,15,"div",4),e.YNc(7,z,13,6,"div",5),e._UZ(8,"div",6),e.YNc(9,K,64,30,"div",4),e.YNc(10,j,19,2,"div",4),e.qZA()),2&t&&(e.xp6(2),e.Q6J("pageTitle",o.pageTitle),e.xp6(2),e.Q6J("ngIf",o.showEmployerDetails),e.xp6(1),e.Q6J("ngIf",o.showSearchEmployer),e.xp6(1),e.Q6J("ngIf",o.showSearchFE),e.xp6(1),e.Q6J("ngIf",o.showSearchResults),e.xp6(2),e.Q6J("ngIf",o.showEmployerDetails),e.xp6(1),e.Q6J("ngIf",o.showSuccessMessageForPac))},dependencies:[f.mk,f.O5,c._Y,c.Fj,c.JJ,c.JL,c.nD,c.oH,c.sg,u.KR,u.TM,u.jZ,u.Yr,u.lC,h.jx,q.u,x.Hq,J.Lt,E.o,L.FN,d.iA,d.lQ,d.GE,c.F,U.g],styles:[".pi-search[_ngcontent-%COMP%]:hover{cursor:pointer}.instruction[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-left:20px}.instruction[_ngcontent-%COMP%]{width:50%}.instruction-row[_ngcontent-%COMP%]{margin:0;flex-direction:row-reverse}"]}),n})()}];let X=(()=>{var i;class n{}return(i=n).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[v.Bz.forChild(V),v.Bz]}),n})();var $=a(6270),W=a(6388);let ee=(()=>{var i;class n{}return(i=n).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[f.ez,c.UX,u.uR,$.g,c.u5,X,E.j,W.EmigrateCommonModule]}),n})()}}]);