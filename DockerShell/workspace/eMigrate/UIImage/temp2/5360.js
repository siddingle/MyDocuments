"use strict";(self.webpackChunke_migrate=self.webpackChunke_migrate||[]).push([[5360],{699:(Y,G,a)=>{a.d(G,{O:()=>S});var s=a(1571),g=a(4325),e=a(6895),t=a(2498);function D(v,k){if(1&v&&(s.TgZ(0,"div",2),s._UZ(1,"pdf-viewer",3),s.qZA()),2&v){const y=s.oxw();s.xp6(1),s.Q6J("src",y.documentData)("rotation",0)("original-size",!1)("show-all",!0)("fit-to-page",!1)("zoom",1)("zoom-scale","page-width")("stick-to-page",!1)("render-text",!0)("external-link-target","blank")("autoresize",!0)("show-borders",!1)}}function x(v,k){if(1&v&&(s.TgZ(0,"div",2),s._UZ(1,"pdf-viewer",3),s.qZA()),2&v){const y=s.oxw();s.xp6(1),s.Q6J("src",y.documentData)("rotation",0)("original-size",!1)("show-all",!0)("fit-to-page",!1)("zoom",1)("zoom-scale","page-width")("stick-to-page",!1)("render-text",!0)("external-link-target","blank")("autoresize",!0)("show-borders",!1)}}function E(v,k){if(1&v&&(s.TgZ(0,"div",2),s._UZ(1,"img",4),s.qZA()),2&v){const y=s.oxw();s.xp6(1),s.s9C("src",y.documentData,s.LSH)}}function m(v,k){if(1&v&&(s.TgZ(0,"div",2),s._UZ(1,"img",4),s.qZA()),2&v){const y=s.oxw();s.xp6(1),s.s9C("src",y.documentData,s.LSH)}}function C(v,k){if(1&v&&(s.TgZ(0,"div",2),s._UZ(1,"img",4),s.qZA()),2&v){const y=s.oxw();s.xp6(1),s.s9C("src",y.documentData,s.LSH)}}function F(v,k){if(1&v&&(s.TgZ(0,"div",2),s._UZ(1,"img",4),s.qZA()),2&v){const y=s.oxw();s.xp6(1),s.s9C("src",y.documentData,s.LSH)}}function _(v,k){if(1&v&&(s.TgZ(0,"div",2),s._UZ(1,"img",4),s.qZA()),2&v){const y=s.oxw();s.xp6(1),s.s9C("src",y.documentData,s.LSH)}}function f(v,k){if(1&v&&(s.TgZ(0,"div",2),s._UZ(1,"img",4),s.qZA()),2&v){const y=s.oxw();s.xp6(1),s.s9C("src",y.documentData,s.LSH)}}let S=(()=>{var v;class k{constructor(A){this.config=A}ngOnInit(){this.documentData=this.config.data.feDocuments?.changingThisBreaksApplicationSecurity,this.type=this.config.data.type}}return(v=k).\u0275fac=function(A){return new(A||v)(s.Y36(g.S))},v.\u0275cmp=s.Xpm({type:v,selectors:[["emigrate-view-docs"]],decls:9,vars:9,consts:[[1,"container",3,"ngSwitch"],["class","content",4,"ngSwitchCase"],[1,"content"],[1,"viewDoc",3,"src","rotation","original-size","show-all","fit-to-page","zoom","zoom-scale","stick-to-page","render-text","external-link-target","autoresize","show-borders"],[3,"src"]],template:function(A,I){1&A&&(s.TgZ(0,"div",0),s.YNc(1,D,2,12,"div",1),s.YNc(2,x,2,12,"div",1),s.YNc(3,E,2,1,"div",1),s.YNc(4,m,2,1,"div",1),s.YNc(5,C,2,1,"div",1),s.YNc(6,F,2,1,"div",1),s.YNc(7,_,2,1,"div",1),s.YNc(8,f,2,1,"div",1),s.qZA()),2&A&&(s.Q6J("ngSwitch",I.type),s.xp6(1),s.Q6J("ngSwitchCase","pdf"),s.xp6(1),s.Q6J("ngSwitchCase","application/pdf"),s.xp6(1),s.Q6J("ngSwitchCase","png"),s.xp6(1),s.Q6J("ngSwitchCase","jpg"),s.xp6(1),s.Q6J("ngSwitchCase","jpeg"),s.xp6(1),s.Q6J("ngSwitchCase","image/png"),s.xp6(1),s.Q6J("ngSwitchCase","image/jpg"),s.xp6(1),s.Q6J("ngSwitchCase","image/jpeg"))},dependencies:[e.RF,e.n9,t.rQ],styles:[".viewDoc[_ngcontent-%COMP%]{min-height:600px}"]}),k})()},7203:(Y,G,a)=>{a.d(G,{F:()=>V});var f,s=a(2976),g=a(1358),e=a(1571),t=a(4006),D=a(1754),x=a(655),E=a(4004),m=a(262),C=a(8505),F=a(8513),_=a(529);class S{constructor(h,l){this.elockersService=h,this.http=l}getListOfDocumentsData(h){return this.elockersService.getListOfDocumentsData(h).pipe((0,E.U)(l=>l),(0,m.K)(l=>{throw l}))}getAllDocument(){return this.elockersService.getAllDocumentList().pipe((0,E.U)(h=>{const p=[...h.data];return console.log(p),p}),(0,m.K)(h=>{throw h}))}add(h){return this.elockersService.savePassport(h).pipe((0,C.b)(l=>{}),(0,m.K)(l=>{throw l}))}validateOtp(h){return this.elockersService.validateOtp(h).pipe((0,C.b)(l=>{}),(0,m.K)(l=>{throw l}))}validatePassport(h){return this.elockersService.validatePassport(h).pipe((0,C.b)(l=>{}),(0,m.K)(l=>{throw l}))}validateUser(h){return this.elockersService.validateUser(h).pipe((0,C.b)(l=>{}),(0,m.K)(l=>{throw l}))}resendOTP(h){return this.elockersService.resendOTP(h).pipe((0,C.b)(l=>{}),(0,m.K)(l=>{throw l}))}sendOTP(h){return this.elockersService.sendOTP(h).pipe((0,C.b)(l=>{}),(0,m.K)(l=>{throw l}))}mobilenumberOTP(h,l){return this.elockersService.mobilenumberOTP(h,l).pipe((0,C.b)(p=>{}),(0,m.K)(p=>{throw p}))}downloadDoc(h){return this.elockersService.dlDoc(h).pipe((0,C.b)(l=>l),(0,m.K)(l=>{throw l}))}}(f=S).\u0275fac=function(h){return new(h||f)(e.LFG(s.Kit),e.LFG(_.eN))},f.\u0275prov=e.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),(0,x.gn)([(0,F.PS)()],S.prototype,"getListOfDocumentsData",null),(0,x.gn)([(0,F.PS)()],S.prototype,"getAllDocument",null),(0,x.gn)([(0,F.PS)()],S.prototype,"add",null),(0,x.gn)([(0,F.PS)()],S.prototype,"validateOtp",null),(0,x.gn)([(0,F.PS)()],S.prototype,"validatePassport",null),(0,x.gn)([(0,F.PS)()],S.prototype,"validateUser",null),(0,x.gn)([(0,F.PS)()],S.prototype,"resendOTP",null),(0,x.gn)([(0,F.PS)()],S.prototype,"sendOTP",null),(0,x.gn)([(0,F.PS)()],S.prototype,"mobilenumberOTP",null),(0,x.gn)([(0,F.PS)()],S.prototype,"downloadDoc",null);var v=a(805);let k=(()=>{var d;class h{otpFormToOtpModel(p,u,T){const b=p.getRawValue();return console.log(p),(new s.CQT).deserialize({otp:b.otp,email:T})}constructor(p){this.fb=p}createElockerPassportForm(p){return this.fb.group({passportDetails:this.fb.group({passportNumber:this.fb.control("",t.kI.compose([t.kI.required,g.YO.alphaNumericValidator(),g.YO.passportNumberValidator()])),captcha:this.fb.control("",t.kI.required),captchaNumber:this.fb.control("")})})}createElockerUserForm(p){return this.fb.group({userDetails:this.fb.group({mobilenumber:this.fb.control("",t.kI.compose([t.kI.required,t.kI.maxLength(10),g.YO.mobileNumberValidator()])),email:this.fb.control("",{validators:t.kI.compose([t.kI.required,t.kI.maxLength(100),g.YO.emailValidator()]),updateOn:"blur"})})})}createElockerOtpForm(p){return this.fb.group({otpDetails:this.fb.group({otp:this.fb.control("",t.kI.compose([t.kI.required,g.YO.numericValidator()])),email:this.fb.control("",t.kI.compose([t.kI.required,g.YO.emailValidator(),t.kI.maxLength(100)])),mobileNumber:this.fb.control("",t.kI.compose([t.kI.required,g.YO.mobileNumberValidator()])),otpDetails:this.fb.control("",t.kI.compose([t.kI.required,g.YO.numericValidator()]))})})}passportFormToElocker(p){const u=p.getRawValue();return(new s.V_8).deserialize({passportNumber:u.passportDetails.passportNumber,captcha:u.passportDetails.captcha})}userFormToElocker(p){const u=p.getRawValue();return(new s.n5m).deserialize({mobilenumber:u.userDetails.mobilenumber,email:u.userDetails.email})}otpFormToElocker(p){const u=p.getRawValue();return(new s.mmY).deserialize({otpass:u.otpDetails.otp})}}return(d=h).\u0275fac=function(p){return new(p||d)(e.LFG(t.qu))},d.\u0275prov=e.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),h})();var y=a(3599),A=a(6945),I=a(6895),O=a(5593),q=a(2453),M=a(1740);let L=(()=>{var d;class h{}return(d=h).\u0275fac=function(p){return new(p||d)},d.\u0275cmp=e.Xpm({type:d,selectors:[["emigrate-elocker-passport-details"]],inputs:{entityFormGroup:"entityFormGroup"},decls:8,vars:4,consts:[[1,"row"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","1","inputLabel","1. Passport Number","inputId","",1,"block",3,"inputFormControl"],["id","passportNumber","type","text","pInputText","","placeholder","Passport Number",3,"formControl"],["for","1","inputLabel","Enter the captcha value (case sensitive)","inputId","",1,"block",3,"inputFormControl"],[3,"entityFormGroup"]],template:function(p,u){1&p&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"emigrate-sh-html-input",3),e._UZ(4,"input",4),e.qZA()()(),e.TgZ(5,"div",1)(6,"emigrate-sh-html-input",5),e._UZ(7,"emigrate-sh-recaptcha",6),e.qZA()()()),2&p&&(e.xp6(3),e.Q6J("inputFormControl",u.entityFormGroup.controls.passportNumber),e.xp6(1),e.Q6J("formControl",u.entityFormGroup.controls.passportNumber),e.xp6(2),e.Q6J("inputFormControl",u.entityFormGroup.controls.captchaNumber),e.xp6(1),e.Q6J("entityFormGroup",u.entityFormGroup))},dependencies:[g.KR,g.wT,M.o,t.Fj,t.JJ,t.oH]}),h})(),R=(()=>{var d;class h{}return(d=h).\u0275fac=function(p){return new(p||d)},d.\u0275cmp=e.Xpm({type:d,selectors:[["emigrate-elocker-user-details"]],inputs:{entityFormGroup:"entityFormGroup"},decls:9,vars:4,consts:[[1,"row"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","1","inputLabel","1. Mobile Number(10 digits)","inputId","mobileNumber",1,"block",3,"inputFormControl"],["id","mobileNumber","type","text","pInputText","","placeholder","Mobile Number",3,"formControl"],["for","1","inputLabel","2. Email ","inputId","email",1,"block",3,"inputFormControl"],["id","email","type","text","pInputText","","placeholder","Email",3,"formControl"]],template:function(p,u){1&p&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"emigrate-sh-html-input",3),e._UZ(4,"input",4),e.qZA()()(),e.TgZ(5,"div",1)(6,"div",2)(7,"emigrate-sh-html-input",5),e._UZ(8,"input",6),e.qZA()()()()),2&p&&(e.xp6(3),e.Q6J("inputFormControl",u.entityFormGroup.controls.mobilenumber),e.xp6(1),e.Q6J("formControl",u.entityFormGroup.controls.mobilenumber),e.xp6(3),e.Q6J("inputFormControl",u.entityFormGroup.controls.email),e.xp6(1),e.Q6J("formControl",u.entityFormGroup.controls.email))},dependencies:[g.KR,M.o,t.Fj,t.JJ,t.oH]}),h})();var z=a(4826);function B(d,h){1&d&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"ARN"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Document Name"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Submission Date"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Uploaded By"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Download"),e.qZA()())}function K(d,h){if(1&d){const l=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"a",5),e.NdJ("click",function(){const T=e.CHM(l).$implicit,b=e.oxw();return e.KtG(b.getDoc(T))}),e._UZ(11,"img",6),e.qZA()()()}if(2&d){const l=h.$implicit;e.xp6(2),e.Oqu(l.edcEmigrantArn),e.xp6(2),e.Oqu(l.edcDocTypeCd),e.xp6(2),e.Oqu(l.edcCreatedDttm),e.xp6(2),e.Oqu(l.edcCreatedBy)}}let U=(()=>{var d;class h extends g.H6{constructor(p,u){super(u),this._elockerService=p}ngOnInit(){let p=this.entityFormGroup.getRawValue().passportDetails.passportNumber;this._elockerService.getListOfDocumentsData(p).subscribe({next:u=>{this.listOfRoles=u},error:u=>{this.showErrorToast(u.error.errorMessage)},complete:()=>{}})}downloadPdf(p,u){const T=`data:application/pdf;base64,${p.data.base64File}`,b=document.createElement("a");b.href=T,b.download=`${u}.${p.data.docExtension}`,b.click()}getDoc(p){this._elockerService.downloadDoc(p.edcDocLocatorNum).subscribe({next:u=>{this.base64String=u},error:u=>{this.showErrorToast(u.error.error.errorMessage)},complete:()=>{this.downloadPdf(this.base64String,p.edcDocTypeCd)}})}get passportNumberControls(){return this.entityFormGroup.controls.passportDetails}}return(d=h).\u0275fac=function(p){return new(p||d)(e.Y36(S),e.Y36(v.ez))},d.\u0275cmp=e.Xpm({type:d,selectors:[["emigrate-elocker-documents"]],inputs:{entityFormGroup:"entityFormGroup"},features:[e.qOj],decls:5,vars:1,consts:[[1,"border"],[3,"value"],["myTab",""],["pTemplate","header"],["pTemplate","body"],[1,"download",3,"click"],["alt","Download","src","assets/icons/dl.png","width","25",1,"ml-5"]],template:function(p,u){1&p&&(e.TgZ(0,"div",0)(1,"p-table",1,2),e.YNc(3,B,11,0,"ng-template",3),e.YNc(4,K,12,4,"ng-template",4),e.qZA()()),2&p&&(e.xp6(1),e.Q6J("value",u.listOfRoles))},dependencies:[v.jx,z.iA]}),h})();function Q(d,h){if(1&d&&(e.TgZ(0,"div",9)(1,"div",4),e._UZ(2,"emigrate-sh-page-title",10),e.qZA(),e.TgZ(3,"div",11),e._UZ(4,"emigrate-sh-page-instructions",12),e.TgZ(5,"div",13),e._UZ(6,"emigrate-sh-page-sub-title",14),e.TgZ(7,"div",15)(8,"div",4),e._UZ(9,"emigrate-elocker-passport-details",16),e.qZA()()()()()),2&d){const l=e.oxw(2);e.xp6(2),e.Q6J("pageTitle","eMigrate eLocker for Emigrants"),e.xp6(2),e.Q6J("instructionsText","Fields marked with * (asterisk) are mandatory. To avoid mistakes,\n                please refer guidelines & instructions")("toolTipText","1. Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions."),e.xp6(2),e.Q6J("pageSubTitle","Passport Details"),e.xp6(3),e.Q6J("entityFormGroup",l.passportDetailsFormGroup)}}function j(d,h){if(1&d){const l=e.EpF();e.TgZ(0,"div")(1,"form",2),e.YNc(2,Q,10,5,"div",3),e.qZA(),e.TgZ(3,"div",4),e._UZ(4,"div",5),e.TgZ(5,"div",6)(6,"div",7)(7,"button",8),e.NdJ("click",function(){e.CHM(l);const u=e.oxw();return e.KtG(u.validatePassport())}),e.qZA()()()()()}if(2&d){const l=e.oxw();e.xp6(1),e.Q6J("formGroup",l.ElockerPassportFormGroup),e.xp6(1),e.Q6J("ngIf",!l.isPassportValidated)}}function X(d,h){if(1&d){const l=e.EpF();e.TgZ(0,"div")(1,"form",2)(2,"div",9)(3,"div",4),e._UZ(4,"emigrate-sh-page-title",10)(5,"emigrate-sh-page-instructions",12),e.qZA(),e.TgZ(6,"div",13),e._UZ(7,"emigrate-sh-page-sub-title",14),e.TgZ(8,"div",15)(9,"div",4),e._UZ(10,"emigrate-elocker-user-details",16),e.qZA(),e._UZ(11,"emigrate-sh-page-note",17),e.qZA(),e.TgZ(12,"div",4)(13,"div",18)(14,"div",7)(15,"button",19),e.NdJ("click",function(u){e.CHM(l);const T=e.oxw();return e.KtG(T.resetForm(u))}),e.qZA(),e.TgZ(16,"button",20),e.NdJ("click",function(u){e.CHM(l);const T=e.oxw();return e.KtG(T.saveUser(u))}),e.qZA()()()()()()()()}if(2&d){const l=e.oxw();e.xp6(1),e.Q6J("formGroup",l.ElockerUserFormGroup),e.xp6(3),e.Q6J("pageTitle","eMigrate eLocker for Emigrants"),e.xp6(1),e.Q6J("instructionsText","Fields marked with * (asterisk) are mandatory. To avoid mistakes,\n            please refer guidelines & instructions")("toolTipText","1. Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions."),e.xp6(2),e.Q6J("pageSubTitle","User Details"),e.xp6(3),e.Q6J("entityFormGroup",l.userDetailsFormGroup),e.xp6(1),e.Q6J("pageNote","Note")("pageNoteContent","All communication from e-Migrate system will be made over your operational office mail id ( which you have provided above ). An OTP will be sent to you on the mail id provided above, please use this OTP for proceeding further with your registration form.")}}function $(d,h){if(1&d){const l=e.EpF();e.TgZ(0,"div",9)(1,"div",4),e._UZ(2,"emigrate-sh-page-title",10)(3,"emigrate-sh-page-instructions",12),e.qZA(),e.TgZ(4,"div",13)(5,"div",15)(6,"div",4)(7,"emigrate-sh-otp-verification",21),e.NdJ("verifiedOtp",function(u){e.CHM(l);const T=e.oxw();return e.KtG(T.validateOtp(u))})("resendingOtp",function(u){e.CHM(l);const T=e.oxw();return e.KtG(T.resendOtp(u))})("cancel",function(u){e.CHM(l);const T=e.oxw();return e.KtG(T.cancelOtp(u))}),e.qZA()()()()()}if(2&d){const l=e.oxw();e.xp6(2),e.Q6J("pageTitle","eMigrate eLocker for Emigrants"),e.xp6(1),e.Q6J("instructionsText","Fields marked with * (asterisk) are mandatory. To avoid mistakes,\n        please refer guidelines & instructions")("toolTipText","1. Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions."),e.xp6(4),e.MGl("subTitleName","We have sent a mail to your email Id (",l.getEmailId,"). It contains an OTP. Please check your mail and enter the same below. Also, check your Spam/Junk folder before making more attempt."),e.Q6J("entityFormGroup",l.otpDetailsFormGroup)("inputFormControlName",l.otpDetailsFormGroup.controls.otp)("emailId",l.getEmailId)}}function W(d,h){if(1&d){const l=e.EpF();e.TgZ(0,"div",9)(1,"div",4),e._UZ(2,"emigrate-sh-page-title",10)(3,"emigrate-sh-page-instructions",12),e.qZA(),e.TgZ(4,"div",13)(5,"h4",22),e._uU(6,"Applicants Documents"),e.qZA(),e._UZ(7,"emigrate-elocker-documents",16),e.qZA(),e.TgZ(8,"div",4),e._UZ(9,"div",5),e.TgZ(10,"div")(11,"div",23)(12,"button",24),e.NdJ("click",function(){e.CHM(l);const u=e.oxw();return e.KtG(u.close())}),e.qZA()()()()()}if(2&d){const l=e.oxw();e.xp6(2),e.Q6J("pageTitle","List of Documents"),e.xp6(1),e.Q6J("instructionsText","Fields marked with * (asterisk) are mandatory. To avoid mistakes,\n        please refer guidelines & instructions")("toolTipText","1. Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions."),e.xp6(4),e.Q6J("entityFormGroup",l.ElockerPassportFormGroup)}}let V=(()=>{var d;class h extends g.H6{constructor(p,u,T,b,w,tt,et){super(b),this.fb=p,this.routerQuery=u,this._elockerService=T,this.formHelper=w,this.router=tt,this.uiService=et,this.passport=!0,this.user=!1,this.otp=!1,this.documents=!1,this.isPassportValidated=!1}ngOnInit(){this.initForm()}initForm(){this.ElockerPassportFormGroup=this.formHelper.createElockerPassportForm(!1),this.ElockerUserFormGroup=this.formHelper.createElockerUserForm(!1),this.ElockerOtpFormGroup=this.formHelper.createElockerOtpForm(!1)}resetForm(p){if(this.passport=!1,this.user=!0,this.otp=!1,this.documents=!1,p){this.uiService.showSpinner();const u=this.ElockerUserFormGroup.getRawValue(),T=this?.otpControl?.value;this._elockerService.mobilenumberOTP({mobilenumber:u.userDetails.mobilenumber},T).subscribe({next:w=>{this.uiService.hideSpinner(),this.showSuccessToast("Otp Sent Successfully"),setTimeout(()=>{},2e3)},error:w=>{this.uiService.hideSpinner(),this.showErrorToast(w.message)},complete:()=>{this.uiService.hideSpinner()}})}}validatePassport(){if(this.ElockerPassportFormGroup.markAllAsTouched(),this.ElockerPassportFormGroup.valid){this.ElockerPassportFormGroup.getRawValue();const u=Object.assign(new s.V_8,this.formHelper.passportFormToElocker(this.ElockerPassportFormGroup));this._elockerService.validatePassport(u).subscribe(T=>{"Success"===T.status?(this.showSuccessToast(T.message,"Elocker"),this.isPassportValidated=!0,this.user=!0,this.passport=!1,this.user=!0,this.otp=!1,this.documents=!1):this.showErrorToast(T.error.error.errorMessage,"Elocker")},T=>{this.isPassportValidated=!1,console.log(T),this.showErrorToast(T.error.error.errorMessage,"Elocker")})}}savePassport(){this.passport=!1,this.user=!0}saveUser(p){if(this.ElockerUserFormGroup.markAllAsTouched(),this.ElockerUserFormGroup.valid&&p){this.uiService.showSpinner();const T={email:this.ElockerUserFormGroup.getRawValue().userDetails.email};this._elockerService.sendOTP(T).subscribe({next:b=>{this.uiService.hideSpinner(),this.showSuccessToast("Otp Sent Successfully"),this.passport=!1,this.user=!1,this.otp=!0,this.documents=!1,setTimeout(()=>{},2e3)},error:b=>{this.uiService.hideSpinner(),this.showErrorToast(b.message)},complete:()=>{this.uiService.hideSpinner()}})}}otpDetails(p){if(this.ElockerOtpFormGroup.markAllAsTouched(),this.passport=!1,this.user=!1,this.otp=!1,this.documents=!0,this.ElockerOtpFormGroup.valid){this.ElockerOtpFormGroup.getRawValue();const T="";Object.assign(new s.mmY,this.formHelper.otpFormToElocker(this.ElockerOtpFormGroup)),this._elockerService.validateOtp(T).subscribe(w=>{"success"!==w.status?this.showErrorToast(w.message,"Elocker"):(this.showSuccessToast(w.message,"Elocker"),this.passport=!1,this.user=!1,this.otp=!1,this.documents=!0)},w=>{this.isPassportValidated=!1,this.showErrorToast(w,"Elocker")})}}validateOtp(p){const T=this.ElockerUserFormGroup.getRawValue().userDetails.email;if(p.otp){let b=Object.assign(new s.CQT,this.formHelper.otpFormToOtpModel(this.otpDetailsFormGroup,p.otp,T));this._elockerService.validateOtp(b).subscribe(w=>{w.status.toLowerCase()==s.Xef.SUCCESS.toLowerCase()?(this.showSuccessToast(w.message,"Elocker"),this.passport=!1,this.user=!1,this.otp=!1,this.documents=!0):this.showErrorToast(w.message,"Elocker")},w=>{this.otp=!1,this.showErrorToast(w,"Elocker")})}}saveOTP(){if(this.ElockerOtpFormGroup.markAllAsTouched(),this.passport=!1,this.user=!1,this.otp=!1,this.documents=!0,this.ElockerOtpFormGroup.valid){this.ElockerOtpFormGroup.getRawValue();const u="";Object.assign(new s.mmY,this.formHelper.otpFormToElocker(this.ElockerOtpFormGroup)),this._elockerService.validateOtp(u).subscribe(b=>{"success"!==b.status?this.showErrorToast(b.message,"Elocker"):(this.showSuccessToast(b.message,"Elocker"),this.passport=!1,this.user=!1,this.otp=!1,this.documents=!0)},b=>{this.isPassportValidated=!1,this.showErrorToast(b,"Elocker")})}}resendOtp(p){if(p&&this.ElockerUserFormGroup.valid){this.uiService.showSpinner();const T={email:this.ElockerUserFormGroup.getRawValue().userDetails.email};this._elockerService.resendOTP(T).subscribe({next:b=>{this.uiService.hideSpinner(),this.showSuccessToast(b.message),setTimeout(()=>{},2e3)},error:b=>{this.uiService.hideSpinner(),this.showErrorToast(b.error.errorMessage)},complete:()=>{this.uiService.hideSpinner()}})}}cancelOtp(p){this.router.navigateByUrl("/")}get otpDetailsFormGroup(){return this.ElockerOtpFormGroup.controls.otpDetails}get passportDetailsFormGroup(){return this.ElockerPassportFormGroup.controls.passportDetails}get userDetailsFormGroup(){return this.ElockerUserFormGroup.controls.userDetails}get otpControl(){return this.entityFormGroup?.controls?.mobileNumber}get getEmailId(){return this.ElockerUserFormGroup.controls.userDetails.controls.email.value?this.ElockerUserFormGroup.controls.userDetails.controls.email.value:""}close(){this.router.navigate(["/"])}}return(d=h).\u0275fac=function(p){return new(p||d)(e.Y36(t.qu),e.Y36(D.dt),e.Y36(S),e.Y36(v.ez),e.Y36(k),e.Y36(y.F0),e.Y36(A.n))},d.\u0275cmp=e.Xpm({type:d,selectors:[["emigrate-elocker"]],inputs:{entityFormGroup:"entityFormGroup"},features:[e.qOj],decls:7,vars:5,consts:[[1,"middle_section"],[4,"ngIf"],[3,"formGroup"],["class","container",4,"ngIf"],[1,"row"],[1,"col-1"],[1,"col-4"],[1,"buttons","mt-3"],["pButton","","type","submit","label","Validate",1,"btn-format","btn-blue",3,"click"],[1,"container"],[3,"pageTitle"],[1,"border","p-3"],[3,"instructionsText","toolTipText"],[1,"content"],[3,"pageSubTitle"],[1,"form"],[3,"entityFormGroup"],[3,"pageNote","pageNoteContent"],[1,"col-12"],["pButton","","type","button","label","SEND SMS","hidden","true",1,"p-button-secondary","mr-3","btn-format",3,"click"],["pButton","","type","submit","label","SEND EMAIL",1,"btn-format","btn-blue",3,"click"],["descriptionFormControlName","otp",3,"entityFormGroup","inputFormControlName","subTitleName","emailId","verifiedOtp","resendingOtp","cancel"],[1,"mb-0"],[1,"buttons","mt-3","mb-3"],["pButton","","type","submit","label","Close",1,"btn-format","btn-blue",3,"click"]],template:function(p,u){1&p&&(e.TgZ(0,"div",0),e._UZ(1,"p-toast"),e.YNc(2,j,8,2,"div",1),e.YNc(3,X,17,8,"div",1),e.TgZ(4,"form",2),e.YNc(5,$,8,7,"div",3),e.qZA(),e.YNc(6,W,13,4,"div",3),e.qZA()),2&p&&(e.xp6(2),e.Q6J("ngIf",u.passport),e.xp6(1),e.Q6J("ngIf",u.user),e.xp6(1),e.Q6J("formGroup",u.ElockerOtpFormGroup),e.xp6(1),e.Q6J("ngIf",u.otp),e.xp6(1),e.Q6J("ngIf",u.documents))},dependencies:[I.O5,g.n0,g.TM,g.jZ,g.dB,g.GN,O.Hq,q.FN,t._Y,t.JL,t.sg,L,R,U]}),h})()},4182:(Y,G,a)=>{a.r(G),a.d(G,{ElockerModule:()=>_});var s=a(6895),g=a(6270),e=a(4006),t=a(4247),D=a(3599),x=a(7203),E=a(1571);const m=[{path:"",pathMatch:"full",component:x.F}];let C=(()=>{var f;class S{}return(f=S).\u0275fac=function(k){return new(k||f)},f.\u0275mod=E.oAB({type:f}),f.\u0275inj=E.cJS({imports:[D.Bz.forChild(m),D.Bz]}),S})();var F=a(1358);let _=(()=>{var f;class S{}return(f=S).\u0275fac=function(k){return new(k||f)},f.\u0275mod=E.oAB({type:f}),f.\u0275inj=E.cJS({imports:[s.ez,C,F.uR,g.g,e.UX,e.u5,t.d]}),S})()},5360:(Y,G,a)=>{a.r(G),a.d(G,{EmigrantModule:()=>Ft});var s=a(6895),g=a(1358),e=a(3599),t=a(1571),D=a(7203);let x=(()=>{var o;class c{}return(o=c).\u0275fac=function(r){return new(r||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["emigrate-download-esticker"]],decls:1,vars:0,template:function(r,i){1&r&&t._UZ(0,"emigrate-elocker")},dependencies:[D.F]}),c})();var v,E=a(2976),m=a(4006),C=a(805),F=a(655),_=a(8513),f=a(8505),S=a(262);class k{constructor(c){this.ecStatusService=c}validateEcStatus(c){return this.ecStatusService.saveEcStatus(c).pipe((0,f.b)(n=>{}),(0,S.K)(n=>{throw n}))}emigrantData(c){return this.ecStatusService.getEmigrantData(c).pipe((0,f.b)(n=>{}),(0,S.K)(n=>{throw n}))}}(v=k).\u0275fac=function(c){return new(c||v)(t.LFG(E.ahy))},v.\u0275prov=t.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),(0,F.gn)([(0,_.PS)()],k.prototype,"validateEcStatus",null);let y=(()=>{var o;class c{constructor(r){this.fb=r}createEcStatusForm(r){return this.fb.group({passportNumber:this.fb.control({value:null,disabled:r},m.kI.compose([m.kI.required,g.YO.alphaNumericValidator(),g.YO.passportNumberValidator()])),captcha:this.fb.control("",m.kI.required)})}ecStatusApiPayload(r){const i=r.getRawValue();return(new E.RKV).deserialize({passportNumber:i.passportNumber,captcha:i.captcha})}}return(o=c).\u0275fac=function(r){return new(r||o)(t.LFG(m.qu))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),c})();var A=a(5593),I=a(1740),O=a(2453);let q=(()=>{var o;class c{constructor(r,i){this._ecStatusService=r,this.messageService=i,this.backEvent=new t.vpe,this.emigrantData={},this.NA="Not Available"}getBack(){this.backEvent.emit()}showErrorToast(r){this.messageService.add({severity:"error",summary:"EC-Status",detail:r})}}return(o=c).\u0275fac=function(r){return new(r||o)(t.Y36(k),t.Y36(C.ez))},o.\u0275cmp=t.Xpm({type:o,selectors:[["emigrate-verify-status"]],inputs:{emigrantData:"emigrantData"},outputs:{backEvent:"backEvent"},decls:87,vars:12,consts:[[1,"col-12","prime-900","p-2","text-white","mb-2"],[1,"container"],[1,"row"],[1,"col"],[1,""],[1,"mb-0"],[1,"border","pt-3"],[1,"row","ml-3"],[1,"col-md-4","mb-3"],["pButton","","type","button","label","Back",1,"p-button-secondary","mr-3","mt-2","btn-format",3,"click"]],template:function(r,i){1&r&&(t.TgZ(0,"div",0)(1,"h6"),t._uU(2,"Verify EC Status"),t.qZA()(),t.TgZ(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"h4",5),t._uU(8,"Verify EC Status"),t.qZA(),t.TgZ(9,"div",6)(10,"div",7)(11,"div",8)(12,"span"),t._uU(13,"Passport Number"),t.qZA(),t.TgZ(14,"div")(15,"span"),t._uU(16),t.qZA()()(),t.TgZ(17,"div",8)(18,"span"),t._uU(19,"Emigrant\u2019s Name"),t.qZA(),t.TgZ(20,"div")(21,"span"),t._uU(22),t.qZA()()(),t.TgZ(23,"div",8)(24,"span"),t._uU(25,"EC Detail"),t.qZA(),t.TgZ(26,"div")(27,"span"),t._uU(28),t.qZA()()()(),t.TgZ(29,"div",7)(30,"div",8)(31,"span"),t._uU(32,"Approval Date"),t.qZA(),t.TgZ(33,"div")(34,"span"),t._uU(35),t.qZA()()(),t.TgZ(36,"div",8)(37,"span"),t._uU(38,"ARN"),t.qZA(),t.TgZ(39,"div")(40,"span"),t._uU(41),t.qZA()()(),t.TgZ(42,"div",8)(43,"span"),t._uU(44,"RA ID"),t.qZA(),t.TgZ(45,"div")(46,"span"),t._uU(47),t.qZA()()()(),t.TgZ(48,"div",7)(49,"div",8)(50,"span"),t._uU(51,"Recruiting Agent Name"),t.qZA(),t.TgZ(52,"div")(53,"span"),t._uU(54),t.qZA()()(),t.TgZ(55,"div",8)(56,"span"),t._uU(57,"FE ID"),t.qZA(),t.TgZ(58,"div")(59,"span"),t._uU(60),t.qZA()()(),t.TgZ(61,"div",8)(62,"span"),t._uU(63,"FE Name"),t.qZA(),t.TgZ(64,"div")(65,"span"),t._uU(66),t.qZA()()()(),t.TgZ(67,"div",7)(68,"div",8)(69,"span"),t._uU(70,"Emigrant Destination Country"),t.qZA(),t.TgZ(71,"div")(72,"span"),t._uU(73),t.qZA()()(),t.TgZ(74,"div",8)(75,"span"),t._uU(76,"Visa Number"),t.qZA(),t.TgZ(77,"div")(78,"span"),t._uU(79),t.qZA()()(),t.TgZ(80,"div",8)(81,"span"),t._uU(82,"Visa Date"),t.qZA(),t.TgZ(83,"div")(84,"span"),t._uU(85),t.qZA()()()()(),t.TgZ(86,"button",9),t.NdJ("click",function(){return i.getBack()}),t.qZA()()()()()),2&r&&(t.xp6(16),t.Oqu(i.emigrantData.passportNumber?i.emigrantData.passportNumber:"NA"),t.xp6(6),t.Oqu(i.emigrantData.emigrantName?i.emigrantData.emigrantName:"NA"),t.xp6(6),t.Oqu(i.emigrantData.ecDetail?i.emigrantData.ecDetail:"NA"),t.xp6(7),t.Oqu(i.emigrantData.approvalDate?i.emigrantData.approvalDate:"NA"),t.xp6(6),t.Oqu(i.emigrantData.arn?i.emigrantData.arn:"NA"),t.xp6(6),t.Oqu(i.emigrantData.raId?i.emigrantData.raId:"NA"),t.xp6(7),t.Oqu(i.emigrantData.raName?i.emigrantData.raName:"NA"),t.xp6(6),t.Oqu(i.emigrantData.feId?i.emigrantData.feId:"NA"),t.xp6(6),t.Oqu(i.emigrantData.feName?i.emigrantData.feName:"NA"),t.xp6(7),t.Oqu(i.emigrantData.emigrantDestinationCountry?i.emigrantData.emigrantDestinationCountry:"NA"),t.xp6(6),t.Oqu(i.emigrantData.visaNumber?i.emigrantData.visaNumber:"NA"),t.xp6(6),t.Oqu(i.emigrantData.visaDate?i.emigrantData.visaDate:"NA"))},dependencies:[A.Hq],styles:["ul.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:40%}ul.listing[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-weight:600}"]}),c})();function M(o,c){1&o&&t._UZ(0,"emigrate-sh-page-title",10),2&o&&t.Q6J("pageTitle","Verify EC Status")}function L(o,c){if(1&o&&t._UZ(0,"emigrate-sh-page-instructions",11),2&o){const n=t.oxw();t.Q6J("instructionsText",n.pageInstructionText)}}function R(o,c){1&o&&t._UZ(0,"emigrate-sh-page-sub-title",12),2&o&&t.Q6J("pageSubTitle","Enter Details Below")}function z(o,c){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",13)(2,"div",3)(3,"form",14)(4,"div",3)(5,"div",15)(6,"div",16)(7,"emigrate-sh-html-input",17),t._UZ(8,"input",18),t.qZA()()(),t.TgZ(9,"div",19),t._UZ(10,"emigrate-sh-recaptcha",20),t.qZA()(),t.TgZ(11,"div",3)(12,"div",21)(13,"div",22)(14,"button",23),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.findStatus())}),t.qZA()()()()()()(),t.BQk()}if(2&o){const n=t.oxw();t.xp6(3),t.Q6J("formGroup",n.ecStatusFormGroup),t.xp6(4),t.Q6J("inputFormControl",n.ecStatusFormGroup.controls.passportNumber),t.xp6(1),t.Q6J("formControl",n.ecStatusFormGroup.controls.passportNumber),t.xp6(2),t.Q6J("entityFormGroup",n.ecStatusFormGroup)}}function B(o,c){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"emigrate-verify-status",24),t.NdJ("backEvent",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.verifyStatusBack())}),t.qZA(),t.BQk()}if(2&o){const n=t.oxw();t.xp6(1),t.Q6J("emigrantData",n.ecStatusRes)}}let K=(()=>{var o;class c{constructor(r,i,Z,N){this.fb=r,this.messageService=i,this._ecStatusService=Z,this.formHelper=N,this.verifyStatus=!0,this.generateStatus=!1,this.isEcStatusValidated=!1,this.hideTitle=!0,this.hideInstructions=!0,this.pageTitle=!0,this.ecStatusRes={},this.pageInstructionText=E.Xef.PAGE_INSTRUCTION_TEXT}ngOnInit(){this.ecStatusFormGroup=this.formHelper.createEcStatusForm(!1)}findStatus(){if(this.ecStatusFormGroup.markAllAsTouched(),this.ecStatusFormGroup.valid){const r=Object.assign(new E.RKV,this.formHelper.ecStatusApiPayload(this.ecStatusFormGroup));this._ecStatusService.validateEcStatus(r).subscribe(i=>{"Success"!==i.status?this.showErrorToast(i.message):(this.showSuccessToast(i.message),this.ecStatusRes=i.data[0],this.passportNumVal=this.ecStatusFormGroup.controls.passportNumber.value,this.verifyStatus=!1,this.generateStatus=!0,this.hideTitle=!1,this.hideInstructions=!1,this.pageTitle=!1)},i=>{this.showErrorToast(i.error.error.errorMessage)})}}verifyStatusBack(){this.verifyStatus=!0,this.generateStatus=!1,this.passportNumVal=null,this.ecStatusFormGroup.reset()}showErrorToast(r){this.messageService.add({severity:"error",summary:"EC-Status",detail:r})}showSuccessToast(r){this.messageService.add({severity:"success",summary:"EC-Status",detail:r})}}return(o=c).\u0275fac=function(r){return new(r||o)(t.Y36(m.qu),t.Y36(C.ez),t.Y36(k),t.Y36(y))},o.\u0275cmp=t.Xpm({type:o,selectors:[["emigrate-ec-status"]],decls:13,vars:5,consts:[[1,"middle_section"],[1,"container"],[1,"content"],[1,"row"],[3,"pageTitle",4,"ngIf"],[1,"border","p-3"],[1,"row_box"],[3,"instructionsText",4,"ngIf"],[3,"pageSubTitle",4,"ngIf"],[4,"ngIf"],[3,"pageTitle"],[3,"instructionsText"],[3,"pageSubTitle"],[1,"form"],[3,"formGroup"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","1","inputLabel","Passport Number ","inputId","arnId",1,"block",3,"inputFormControl"],["id","arnId","type","text","pInputText","","placeholder","Passport Number",3,"formControl"],[1,"col-md-2","col-sm-2","col-5"],[3,"entityFormGroup"],[1,"col-12"],[1,"buttons"],["pButton","","type","submit","label","Validate",1,"btn-format","btn-blue",3,"click"],[3,"emigrantData","backEvent"]],template:function(r,i){1&r&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"p-toast"),t.TgZ(3,"div",2)(4,"div",3),t.YNc(5,M,1,1,"emigrate-sh-page-title",4),t.qZA(),t.TgZ(6,"div",5)(7,"div",6)(8,"div",3),t.YNc(9,L,1,1,"emigrate-sh-page-instructions",7),t.YNc(10,R,1,1,"emigrate-sh-page-sub-title",8),t.qZA(),t.YNc(11,z,15,4,"ng-container",9),t.YNc(12,B,2,1,"ng-container",9),t.qZA()()()()()),2&r&&(t.xp6(5),t.Q6J("ngIf",i.pageTitle),t.xp6(4),t.Q6J("ngIf",i.hideInstructions),t.xp6(1),t.Q6J("ngIf",i.hideTitle),t.xp6(1),t.Q6J("ngIf",i.verifyStatus),t.xp6(1),t.Q6J("ngIf",i.generateStatus))},dependencies:[s.O5,g.KR,g.TM,g.jZ,g.dB,g.wT,m._Y,m.Fj,m.JJ,m.JL,m.oH,m.sg,A.Hq,I.o,O.FN,q]}),c})();var U;class Q{constructor(c){this.eidStatusService=c}validateEidStatus(c){return this.eidStatusService.saveEidStatus(c).pipe((0,f.b)(n=>{}),(0,S.K)(n=>{throw n}))}}(U=Q).\u0275fac=function(c){return new(c||U)(t.LFG(E.Yqy))},U.\u0275prov=t.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),(0,F.gn)([(0,_.PS)()],Q.prototype,"validateEidStatus",null);let j=(()=>{var o;class c{constructor(r){this.fb=r}createEidgenerateForm(r){return this.fb.group({passportNumber:this.fb.control("",m.kI.required),captcha:this.fb.control("",m.kI.required)})}eidGenerateApiPayload(r){const i=r.getRawValue();return(new E.zS5).deserialize({passportNumber:i.passportNumber,captcha:i.captcha})}}return(o=c).\u0275fac=function(r){return new(r||o)(t.LFG(m.qu))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),c})(),X=(()=>{var o;class c{}return(o=c).\u0275fac=function(r){return new(r||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["emigrate-download-eid-card"]],decls:3,vars:0,consts:[[1,"text-center","card","border"]],template:function(r,i){1&r&&(t.TgZ(0,"div",0)(1,"b"),t._uU(2,"Please Click to download ID Card"),t.qZA()())}}),c})();function $(o,c){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",9)(2,"div",2)(3,"form",10)(4,"div",2)(5,"div",11)(6,"div",12)(7,"emigrate-sh-html-input",13),t._UZ(8,"input",14),t.qZA()()(),t.TgZ(9,"div",15),t._UZ(10,"emigrate-sh-recaptcha",16),t.qZA()(),t.TgZ(11,"div",2)(12,"div",17)(13,"div",18)(14,"button",19),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.saveGenerateId())}),t.qZA()()()()()()(),t.BQk()}if(2&o){const n=t.oxw();t.xp6(3),t.Q6J("formGroup",n.generateIdFormGroup),t.xp6(4),t.Q6J("inputFormControl",n.generateIdFormGroup.controls.passportNumber),t.xp6(1),t.Q6J("formControl",n.generateIdFormGroup.controls.passportNumber),t.xp6(2),t.Q6J("entityFormGroup",n.generateIdFormGroup)}}function W(o,c){1&o&&(t.ynx(0),t._UZ(1,"emigrate-download-eid-card"),t.BQk())}let V=(()=>{var o;class c{constructor(r,i,Z,N){this.fb=r,this.messageService=i,this._eidstatusService=Z,this.formHelper=N,this.generateId=!0,this.downloadId=!1,this.isEidStatusValidated=!1}ngOnInit(){this.generateIdFormGroup=this.formHelper.createEidgenerateForm(!1)}saveGenerateId(){if(this.generateIdFormGroup.markAllAsTouched(),this.generateIdFormGroup.valid){this.generateIdFormGroup.getRawValue();const i=Object.assign(new E.zS5,this.formHelper.eidGenerateApiPayload(this.generateIdFormGroup));this._eidstatusService.validateEidStatus(i).subscribe(Z=>{"success"!==Z.status?this.showErrorToast(Z.message):(this.showSuccessToast(Z.message),this.generateId=!1,this.downloadId=!0)},Z=>{this.showErrorToast(Z)})}}showErrorToast(r){this.messageService.add({severity:"error",summary:"Eid-Status",detail:r})}showSuccessToast(r){this.messageService.add({severity:"success",summary:"Eid-Status",detail:r})}}return(o=c).\u0275fac=function(r){return new(r||o)(t.Y36(m.qu),t.Y36(C.ez),t.Y36(Q),t.Y36(j))},o.\u0275cmp=t.Xpm({type:o,selectors:[["emigrate-eid-generate"]],decls:11,vars:6,consts:[[1,"middle_section"],[1,"container"],[1,"row"],[3,"pageTitle"],[1,"border","p-3"],[3,"instructionsText","toolTipText"],[1,"content"],[3,"pageSubTitle"],[4,"ngIf"],[1,"form"],[3,"formGroup"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","1","inputLabel","1. Passport number","inputId","passportId",1,"block",3,"inputFormControl"],["id","passportId","type","text","pInputText","","placeholder","Passport number",3,"formControl"],[1,"col-md-5","col-sm-5","col-5"],[3,"entityFormGroup"],[1,"col-12"],[1,"buttons"],["pButton","","type","submit","label","Validate",1,"btn-format","btn-blue",3,"click"]],template:function(r,i){1&r&&(t.TgZ(0,"div",0),t._UZ(1,"p-toast"),t.TgZ(2,"div",1)(3,"div",2),t._UZ(4,"emigrate-sh-page-title",3),t.qZA(),t.TgZ(5,"div",4),t._UZ(6,"emigrate-sh-page-instructions",5),t.TgZ(7,"div",6),t._UZ(8,"emigrate-sh-page-sub-title",7),t.YNc(9,$,15,4,"ng-container",8),t.YNc(10,W,2,0,"ng-container",8),t.qZA()()()()),2&r&&(t.xp6(4),t.Q6J("pageTitle","Generate Id Card"),t.xp6(2),t.Q6J("instructionsText","Fields marked with * (asterisk) are mandatory. To avoid mistakes,\n        please refer guidelines & instructions")("toolTipText","1. Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions."),t.xp6(2),t.Q6J("pageSubTitle","Generate Id Card"),t.xp6(1),t.Q6J("ngIf",i.generateId),t.xp6(1),t.Q6J("ngIf",i.downloadId))},dependencies:[s.O5,g.KR,g.TM,g.jZ,g.dB,g.wT,m._Y,m.Fj,m.JJ,m.JL,m.oH,m.sg,A.Hq,I.o,O.FN,X]}),c})(),d=(()=>{var o;class c{}return(o=c).\u0275fac=function(r){return new(r||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["emigrate-kit-download-esticker"]],decls:1,vars:0,template:function(r,i){1&r&&t._UZ(0,"emigrate-elocker")},dependencies:[D.F]}),c})(),h=(()=>{var o;class c{}return(o=c).\u0275fac=function(r){return new(r||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["emigrate-kit-elocker"]],decls:1,vars:0,template:function(r,i){1&r&&t._UZ(0,"emigrate-elocker")},dependencies:[D.F]}),c})();var l=a(8205);let p=(()=>{var o;class c{constructor(r){this.fb=r}createTrackStatusForm(r){return this.fb.group({applicationReferenceNumber:this.fb.control({value:null,disabled:r},m.kI.compose([m.kI.required,m.kI.maxLength(8),g.YO.alphaNumericValidator(),g.YO.arnNumberValidator()])),captcha:this.fb.control("",m.kI.required)})}trackStatusApiPayload(r){const i=r.getRawValue();return(new E.SdE).deserialize({applicationReferenceNumber:i.applicationReferenceNumber,captcha:i.captcha})}}return(o=c).\u0275fac=function(r){return new(r||o)(t.LFG(m.qu))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),c})();var u=a(5717);function T(o,c){if(1&o&&t._UZ(0,"emigrate-sh-page-title",9),2&o){const n=t.oxw();t.Q6J("pageTitle",n.pageTitle)}}function b(o,c){if(1&o&&t._UZ(0,"emigrate-sh-page-sub-title",10),2&o){const n=t.oxw();t.Q6J("pageSubTitle",n.pageSubTitle)}}function w(o,c){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",11)(2,"div",2)(3,"form",12)(4,"div",2)(5,"div",13)(6,"div",14)(7,"emigrate-sh-html-input",15),t._UZ(8,"input",16),t.qZA()()(),t.TgZ(9,"div",17),t._UZ(10,"emigrate-sh-recaptcha",18),t.qZA()(),t.TgZ(11,"div",2)(12,"div",19)(13,"div",20)(14,"button",21),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.statusInfo())}),t.qZA()()()()()()(),t.BQk()}if(2&o){const n=t.oxw();t.xp6(3),t.Q6J("formGroup",n.trackApplicationFormGroup),t.xp6(4),t.Q6J("inputFormControl",n.trackApplicationFormGroup.controls.applicationReferenceNumber),t.xp6(1),t.Q6J("formControl",n.trackApplicationFormGroup.controls.applicationReferenceNumber),t.xp6(2),t.Q6J("entityFormGroup",n.trackApplicationFormGroup)}}function tt(o,c){if(1&o&&(t.ynx(0),t._UZ(1,"emigrate-arn-status",22),t.BQk()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("message",n.arnStatusMessage)("isFromTrackApp",!0)}}let et=(()=>{var o;class c{constructor(r,i,Z,N){this.fb=r,this._trackStatusService=i,this.messageService=Z,this.formHelper=N,this.trackAppForm=!0,this.arnStatus=!1,this.pageTitle="Emigrant Track Application Status",this.showTitle=!0,this.pageSubTitle="Track Status"}ngOnInit(){this.trackApplicationFormGroup=this.formHelper.createTrackStatusForm(!1)}statusInfo(){if(this.trackApplicationFormGroup.markAllAsTouched(),this.trackApplicationFormGroup.valid){const r=Object.assign(new E.SdE,this.formHelper.trackStatusApiPayload(this.trackApplicationFormGroup));this._trackStatusService.saveTrackStatus(r).subscribe(i=>{"Success"!==i.status?this.showErrorToast(i.message):(this.showSuccessToast(i.message),this.trackAppForm=!1,this.arnStatus=!0,this.showTitle=!1,this.pageTitle="ARN Status",this.showTitle=!0,this.arnStatusMessage=i?.data)},i=>{for(;i.error;)i=i.error;this.showErrorToast(i.errorMessage||i)})}}showErrorToast(r){this.messageService.add({severity:"error",summary:"Track-Application-Status",detail:r})}showSuccessToast(r){this.messageService.add({severity:"success",summary:"EC-Status",detail:r})}}return(o=c).\u0275fac=function(r){return new(r||o)(t.Y36(m.qu),t.Y36(E.AR$),t.Y36(C.ez),t.Y36(p))},o.\u0275cmp=t.Xpm({type:o,selectors:[["emigrate-track-application-status"]],decls:12,vars:6,consts:[[1,"middle_section"],[1,"container"],[1,"row"],[3,"pageTitle",4,"ngIf"],[1,"border","p-3"],[3,"instructionsText","toolTipText"],[1,"content"],[3,"pageSubTitle",4,"ngIf"],[4,"ngIf"],[3,"pageTitle"],[3,"pageSubTitle"],[1,"form"],[3,"formGroup"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","1","inputLabel","Application Reference Number","inputId","ApplicationReferenceNumber","maxlength","8",1,"block",3,"inputFormControl"],["id","passportNumber","type","text","pInputText","","placeholder","Application Reference Number",3,"formControl"],[1,"col-md-5","col-sm-5","col-5"],[3,"entityFormGroup"],[1,"col-12"],[1,"buttons"],["pButton","","type","submit","label","Validate",1,"btn-format","btn-blue",3,"click"],[3,"message","isFromTrackApp"]],template:function(r,i){1&r&&(t.TgZ(0,"div",0),t._UZ(1,"p-toast"),t.TgZ(2,"div",1)(3,"div",2),t.YNc(4,T,1,1,"emigrate-sh-page-title",3),t.qZA(),t.TgZ(5,"div",4)(6,"div",2),t._UZ(7,"emigrate-sh-page-instructions",5),t.qZA(),t.TgZ(8,"div",6),t.YNc(9,b,1,1,"emigrate-sh-page-sub-title",7),t.YNc(10,w,15,4,"ng-container",8),t.YNc(11,tt,2,2,"ng-container",8),t.qZA()()()()),2&r&&(t.xp6(4),t.Q6J("ngIf",i.showTitle),t.xp6(3),t.Q6J("instructionsText","Fields marked with * (asterisk) are mandatory. To avoid mistakes,\n                        please refer guidelines & instructions")("toolTipText","1. Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions."),t.xp6(2),t.Q6J("ngIf",i.showTitle),t.xp6(1),t.Q6J("ngIf",i.trackAppForm),t.xp6(1),t.Q6J("ngIf",i.arnStatus))},dependencies:[s.O5,g.KR,g.TM,g.jZ,g.dB,g.wT,m._Y,m.Fj,m.JJ,m.JL,m.oH,m.sg,A.Hq,I.o,O.FN,u.b]}),c})();var ot=a(4325),rt=a(699);let it=(()=>{var o;class c{constructor(r){this.fb=r}createEmployementcontractStatusForm(r){return this.fb.group({jobId:this.fb.control({value:null,disabled:r},m.kI.compose([m.kI.required,m.kI.maxLength(12),g.YO.jobIDValidator()])),passportnumber:this.fb.control({value:null,disabled:r},m.kI.compose([m.kI.required,g.YO.passportNumberValidator()]))})}}return(o=c).\u0275fac=function(r){return new(r||o)(t.LFG(m.qu))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),c})();var st=a(2843),at=a(529);let nt=(()=>{var o;class c extends E.zSs{constructor(r){super(r)}downloadAttachment(r){return console.log("apiDAta",r),this.http.get(`${this.DEV_API_URL}/em/empContract/viewEmploymentdoc?jobId=${r.jobId}&passportNumber=${r.passportnumber}`).pipe((0,S.K)(i=>(0,st._)(()=>i)))}}return(o=c).\u0275fac=function(r){return new(r||o)(t.LFG(at.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),c})();var J;let H=((J=class{constructor(c){this.viewenvironmentService=c}downloadAttachment(c){return console.log("rawData",c),this.viewenvironmentService.downloadAttachment(c).pipe((0,f.b)(()=>{}),(0,S.K)(n=>{throw n}))}}).\u0275fac=function(c){return new(c||J)(t.LFG(nt))},J.\u0275prov=t.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J);(0,F.gn)([(0,_.PS)()],H.prototype,"downloadAttachment",null),H=(0,F.gn)([(0,t.GSi)({providedIn:"root"})],H);var ct=a(1481),lt=a(6945);let pt=(()=>{var o;class c extends g.H6{constructor(r,i,Z,N,P,Zt,Ct,xt,wt){super(xt),this.fb=r,this.formHelper=i,this.employmentContractService=Z,this.pdfservice=N,this.dialogService=P,this.sanitizer=Zt,this.router=Ct,this.uiService=wt,this.required=!0}ngOnInit(){this.employementcontractFormGroup=this.formHelper.createEmployementcontractStatusForm(!1),console.log(this.employementcontractFormGroup)}downloadPdf(){const r=this.employementcontractFormGroup.getRawValue();this.uiService.showSpinner(),this.employmentContractService.downloadAttachment(r).subscribe({next:i=>{if(this.uiService.hideSpinner(),i?.data?.base64File){const Z=this.sanitizer.bypassSecurityTrustUrl(`data:application/pdf;base64,${i.data.base64File}`);this.openPDFPopup(Z,i.data.docExtension)}},error:i=>{this.uiService.hideSpinner(),this.showErrorToast(i.error.error.errorMessage)}})}base64ToArrayBuffer(r){for(var i=window.atob(r),Z=i.length,N=new Uint8Array(Z),P=0;P<Z;P++)N[P]=i.charCodeAt(P);return N.buffer}redirectToHome(){this.router.navigate(["/"])}openPDFPopup(r,i){this.ref=this.dialogService.open(rt.O,{header:"View Employment Contract",width:"80%",contentStyle:{overflow:"auto"},baseZIndex:1e4,maximizable:!0,data:{feDocuments:r,type:i}})}}return(o=c).\u0275fac=function(r){return new(r||o)(t.Y36(m.qu),t.Y36(it),t.Y36(H),t.Y36(E.ukO),t.Y36(ot.xA),t.Y36(ct.H7),t.Y36(e.F0),t.Y36(C.ez),t.Y36(lt.n))},o.\u0275cmp=t.Xpm({type:o,selectors:[["emigrate-emigrant-employement-contract"]],inputs:{jobId:"jobId"},features:[t._Bn([ot.xA]),t.qOj],decls:27,vars:11,consts:[[1,"middle_section"],[1,"container"],[1,"row"],[3,"pageTitle"],[1,"border","p-3"],[1,"content"],[3,"instructionsText","toolTipText"],[3,"pageSubTitle"],[1,"form"],[3,"formGroup"],[1,"col-md-4","col-sm-6"],[1,"field"],["inputLabel","1. Job ID","inputId","jobId",1,"block",3,"inputRequired","inputFormControl"],["id","jobId","type","text","pInputText","","placeholder","Job ID",3,"formControl"],["for","1","inputLabel","2. Passport Number","inputId","passportnumber",1,"block",3,"inputFormControl"],["id","passportnumber","type","text","pInputText","","placeholder","Passport Number",3,"formControl"],[1,"col-12"],[1,"buttons","mb-3"],["pButton","","type","submit","label","SUBMIT",1,"btn-format","btn-blue","mr-2",3,"disabled","click"],["pButton","","type","button","label","Cancel",1,"p-button-secondary","mr-2","btn-format",3,"click"]],template:function(r,i){1&r&&(t.TgZ(0,"div",0),t._UZ(1,"p-toast"),t.TgZ(2,"div",1)(3,"div",2),t._UZ(4,"emigrate-sh-page-title",3),t.qZA(),t.TgZ(5,"div",4)(6,"div",5),t._UZ(7,"emigrate-sh-page-instructions",6)(8,"emigrate-sh-page-sub-title",7),t.ynx(9),t.TgZ(10,"div",8)(11,"div",2)(12,"form",9)(13,"div",2)(14,"div",10)(15,"div",11)(16,"emigrate-sh-html-input",12),t._UZ(17,"input",13),t.qZA()()(),t.TgZ(18,"div",10)(19,"div",11)(20,"emigrate-sh-html-input",14),t._UZ(21,"input",15),t.qZA()()()(),t.TgZ(22,"div",2)(23,"div",16)(24,"div",17)(25,"button",18),t.NdJ("click",function(){return i.downloadPdf()}),t.qZA(),t.TgZ(26,"button",19),t.NdJ("click",function(){return i.redirectToHome()}),t.qZA()()()()()()(),t.BQk(),t.qZA()()()()),2&r&&(t.xp6(4),t.Q6J("pageTitle","View Employment Contract"),t.xp6(3),t.Q6J("instructionsText","1. Fields marked with * (asterisk) are mandatory. \n                         2. Employment contract can be generated only in case Visa details have been entered by the Employer.\n                         3. Error: Enter Job Id and Passport Number.")("toolTipText","1. Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions."),t.xp6(1),t.Q6J("pageSubTitle","Search Criteria"),t.xp6(4),t.Q6J("formGroup",i.employementcontractFormGroup),t.xp6(4),t.Q6J("inputRequired",!0)("inputFormControl",i.employementcontractFormGroup.controls.jobId),t.xp6(1),t.Q6J("formControl",i.employementcontractFormGroup.controls.jobId),t.xp6(3),t.Q6J("inputFormControl",i.employementcontractFormGroup.controls.passportnumber),t.xp6(1),t.Q6J("formControl",i.employementcontractFormGroup.controls.passportnumber),t.xp6(4),t.Q6J("disabled",!i.employementcontractFormGroup.valid))},dependencies:[g.KR,g.TM,g.jZ,g.dB,m._Y,m.Fj,m.JJ,m.JL,m.oH,m.sg,A.Hq,I.o,O.FN]}),c})(),mt=(()=>{var o;class c{constructor(r){this.fb=r}createEcStatusForm(r){return this.fb.group({captcha:this.fb.control("",m.kI.required)})}}return(o=c).\u0275fac=function(r){return new(r||o)(t.LFG(m.qu))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),c})();var ut=a(4678);function dt(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h5"),t._uU(5,"Country Specific Order for Nurses"),t.qZA()(),t.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"h4",9),t._uU(10,"Country Specific Order for Nurses"),t.qZA()()(),t.TgZ(11,"div",10)(12,"div",10)(13,"div",11)(14,"div"),t._UZ(15,"emigrate-sh-recaptcha",12),t.qZA()()(),t._UZ(16,"br"),t.TgZ(17,"div",13)(18,"div",14)(19,"div",15)(20,"button",16),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.validate())}),t.qZA()()()()()()()()()}if(2&o){const n=t.oxw();t.xp6(15),t.Q6J("entityFormGroup",n.csoNursesFormGroup)}}function gt(o,c){1&o&&(t.TgZ(0,"div"),t._UZ(1,"emigrate-cso-nurses"),t.qZA())}const vt=[{path:"",pathMatch:"full",component:l.S},{path:"registration",loadChildren:()=>a.e(1425).then(a.bind(a,1425)).then(o=>o.SelfRegistrationModule)},{path:"registration/employer",loadChildren:()=>a.e(7597).then(a.bind(a,7597)).then(o=>o.RegistrationEmployerModule)},{path:"verify/ec-status",component:K},{path:"verify/tracking",component:et},{path:"verify/electronic-id",component:V},{path:"download-esticker",component:x},{path:"grievance/create",loadChildren:()=>Promise.all([a.e(4675),a.e(2429)]).then(a.bind(a,2429)).then(o=>o.SubmitGrievanceModule)},{path:"eid/generate",component:V},{path:"elocker",loadChildren:()=>Promise.resolve().then(a.bind(a,4182)).then(o=>o.ElockerModule)},{path:"kit",component:d},{path:"kit/esticker/download",component:d},{path:"kit/elocker",component:h},{path:"view/employementcontract",component:pt},{path:"grievance/update",loadChildren:()=>Promise.resolve().then(a.bind(a,2768)).then(o=>o.UpdateGrievanceModule)},{path:"cso/nurses",component:(()=>{var o;class c{constructor(r){this.formHelper=r,this.validateCso=!0,this.validates=!1}ngOnInit(){this.csoNursesFormGroup=this.formHelper.createEcStatusForm(!1)}validate(){this.csoNursesFormGroup.markAllAsTouched(),this.csoNursesFormGroup.valid&&(this.validateCso=!1,this.validates=!0)}}return(o=c).\u0275fac=function(r){return new(r||o)(t.Y36(mt))},o.\u0275cmp=t.Xpm({type:o,selectors:[["emigrate-cso-nurses-external"]],decls:3,vars:2,consts:[["class","middle_section",4,"ngIf"],[4,"ngIf"],[1,"middle_section"],[1,"container"],[1,"content_admin"],[1,"heading"],[1,"content","info-table"],[1,"row_box","p-0","m-0"],[1,"form"],[1,"mt-0"],[1,"content"],[1,"card","p-3"],[3,"entityFormGroup"],[1,"row"],[1,"col-12"],[1,"buttons","f-gap-10"],["pButton","","type","close","label","Validate",1,"btn-format","btn-blue",3,"click"]],template:function(r,i){1&r&&(t._UZ(0,"p-toast"),t.YNc(1,dt,21,1,"div",0),t.YNc(2,gt,2,0,"div",1)),2&r&&(t.xp6(1),t.Q6J("ngIf",i.validateCso),t.xp6(1),t.Q6J("ngIf",i.validates))},dependencies:[s.O5,g.wT,A.Hq,O.FN,ut.H]}),c})()}];let ft=(()=>{var o;class c{}return(o=c).\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[e.Bz.forChild(vt),e.Bz]}),c})();var Tt=a(6270),St=a(8783),bt=a(4247),Et=a(2768),kt=a(4182),yt=a(1728);let Ft=(()=>{var o;class c{}return(o=c).\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[s.ez,ft,g.uR,m.UX,m.u5,St.LU,A.hJ,I.j,Tt.g,m.u5,bt.d,Et.UpdateGrievanceModule,kt.ElockerModule,yt.MiscellaneousModule]}),c})()},2768:(Y,G,a)=>{a.r(G),a.d(G,{UpdateGrievanceModule:()=>_});var s=a(6895),g=a(1358),e=a(4006),t=a(6270),D=a(3599),x=a(7612),E=a(1571);const m=[{path:"",pathMatch:"full",component:x.X}];let C=(()=>{var f;class S{}return(f=S).\u0275fac=function(k){return new(k||f)},f.\u0275mod=E.oAB({type:f}),f.\u0275inj=E.cJS({imports:[D.Bz.forChild(m),D.Bz]}),S})();var F=a(1740);let _=(()=>{var f;class S{}return(f=S).\u0275fac=function(k){return new(k||f)},f.\u0275mod=E.oAB({type:f}),f.\u0275inj=E.cJS({imports:[s.ez,e.UX,g.uR,t.g,e.u5,C,F.j]}),S})()}}]);