(self.webpackChunke_migrate=self.webpackChunke_migrate||[]).push([[2498],{6036:function(module,__unused_webpack_exports,__webpack_require__){var _classStaticPrivateMethodGet=__webpack_require__(5764).default,_defineProperty=__webpack_require__(8416).default,_classPrivateMethodInitSpec=__webpack_require__(1860).default,_classPrivateMethodGet=__webpack_require__(4467).default,_classPrivateFieldInitSpec=__webpack_require__(9159).default,_classPrivateFieldSet=__webpack_require__(5661).default,_classPrivateFieldGet=__webpack_require__(468).default,_classStaticPrivateFieldSpecSet=__webpack_require__(2306).default,_classStaticPrivateFieldSpecGet=__webpack_require__(1280).default,_asyncToGenerator=__webpack_require__(7156).default,C;C=()=>(()=>{"use strict";var __webpack_modules__=[,(G,a,C)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.VerbosityLevel=a.Util=a.UnknownErrorException=a.UnexpectedResponseException=a.UNSUPPORTED_FEATURES=a.TextRenderingMode=a.StreamType=a.RenderingIntentFlag=a.PermissionFlag=a.PasswordResponses=a.PasswordException=a.PageActionEventType=a.OPS=a.MissingPDFException=a.InvalidPDFException=a.ImageKind=a.IDENTITY_MATRIX=a.FormatError=a.FontType=a.FeatureTest=a.FONT_IDENTITY_MATRIX=a.DocumentActionEventType=a.CMapCompressionType=a.BaseException=a.AnnotationType=a.AnnotationStateModelType=a.AnnotationReviewState=a.AnnotationReplyType=a.AnnotationMode=a.AnnotationMarkedState=a.AnnotationFlag=a.AnnotationFieldFlag=a.AnnotationBorderStyleType=a.AnnotationActionEventType=a.AbortException=void 0,a.arrayByteLength=B,a.arraysToBytes=function Y(q){const O=q.length;if(1===O&&q[0]instanceof Uint8Array)return q[0];let V=0;for(let Te=0;Te<O;Te++)V+=B(q[Te]);let ie=0;const ye=new Uint8Array(V);for(let Te=0;Te<O;Te++){let re=q[Te];re instanceof Uint8Array||(re="string"==typeof re?X(re):new Uint8Array(re));const ce=re.byteLength;ye.set(re,ie),ie+=ce}return ye},a.assert=function J(q,O){q||K(O)},a.bytesToString=function F(q){("object"!=typeof q||null===q||void 0===q.length)&&K("Invalid argument for bytesToString");const O=q.length,V=8192;if(O<V)return String.fromCharCode.apply(null,q);const ie=[];for(let ye=0;ye<O;ye+=V){const Te=Math.min(ye+V,O),re=q.subarray(ye,Te);ie.push(String.fromCharCode.apply(null,re))}return ie.join("")},a.createPromiseCapability=function ge(){const q=Object.create(null);let O=!1;return Object.defineProperty(q,"settled",{get:()=>O}),q.promise=new Promise(function(V,ie){q.resolve=function(ye){O=!0,V(ye)},q.reject=function(ye){O=!0,ie(ye)}}),q},a.createValidAbsoluteUrl=function de(q,O=null,V=null){if(!q)return null;try{if(V&&"string"==typeof q){if(V.addDefaultProtocol&&q.startsWith("www.")){const ye=q.match(/\./g);ye&&ye.length>=2&&(q=`http://${q}`)}if(V.tryConvertEncoding)try{q=be(q)}catch{}}const ie=O?new URL(q,O):new URL(q);if(function te(q){if(!q)return!1;switch(q.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(ie))return ie}catch{}return null},a.escapeString=function pe(q){return q.replace(/([()\\\n\r])/g,O=>"\n"===O?"\\n":"\r"===O?"\\r":`\\${O}`)},a.getModificationDate=function oe(q=new Date){return[q.getUTCFullYear().toString(),(q.getUTCMonth()+1).toString().padStart(2,"0"),q.getUTCDate().toString().padStart(2,"0"),q.getUTCHours().toString().padStart(2,"0"),q.getUTCMinutes().toString().padStart(2,"0"),q.getUTCSeconds().toString().padStart(2,"0")].join("")},a.getVerbosityLevel=function w(){return l},a.info=function D(q){l>=d.INFOS&&console.log(`Info: ${q}`)},a.isArrayBuffer=function R(q){return"object"==typeof q&&null!==q&&void 0!==q.byteLength},a.isArrayEqual=function Q(q,O){if(q.length!==O.length)return!1;for(let V=0,ie=q.length;V<ie;V++)if(q[V]!==O[V])return!1;return!0},a.isAscii=function se(q){return/^[\x00-\x7F]*$/.test(q)},a.objectFromMap=function ee(q){const O=Object.create(null);for(const[V,ie]of q)O[V]=ie;return O},a.objectSize=function Z(q){return Object.keys(q).length},a.setVerbosityLevel=function _(q){Number.isInteger(q)&&(l=q)},a.shadow=le,a.string32=function $(q){return String.fromCharCode(q>>24&255,q>>16&255,q>>8&255,255&q)},a.stringToBytes=X,a.stringToPDFString=function Ce(q){if(q[0]>="\xef"){let V;if("\xfe"===q[0]&&"\xff"===q[1]?V="utf-16be":"\xff"===q[0]&&"\xfe"===q[1]?V="utf-16le":"\xef"===q[0]&&"\xbb"===q[1]&&"\xbf"===q[2]&&(V="utf-8"),V)try{const ie=new TextDecoder(V,{fatal:!0}),ye=X(q);return ie.decode(ye)}catch(ie){W(`stringToPDFString: "${ie}".`)}}const O=[];for(let V=0,ie=q.length;V<ie;V++){const ye=we[q.charCodeAt(V)];O.push(ye?String.fromCharCode(ye):q.charAt(V))}return O.join("")},a.stringToUTF16BEString=function ue(q){const O=["\xfe\xff"];for(let V=0,ie=q.length;V<ie;V++){const ye=q.charCodeAt(V);O.push(String.fromCharCode(ye>>8&255),String.fromCharCode(255&ye))}return O.join("")},a.stringToUTF8String=be,a.unreachable=K,a.utf8StringToString=function ne(q){return unescape(encodeURIComponent(q))},a.warn=W,C(2),a.IDENTITY_MATRIX=[1,0,0,1,0,0],a.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],a.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},a.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},a.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},a.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},a.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},a.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},a.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},a.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},a.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},a.AnnotationReplyType={GROUP:"Group",REPLY:"R"},a.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},a.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},a.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},a.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},a.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},a.PageActionEventType={O:"PageOpen",C:"PageClose"},a.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},a.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const d={ERRORS:0,WARNINGS:1,INFOS:5};a.VerbosityLevel=d,a.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},a.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},a.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},a.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let l=d.WARNINGS;function W(q){l>=d.WARNINGS&&console.log(`Warning: ${q}`)}function K(q){throw new Error(q)}function le(q,O,V){return Object.defineProperty(q,O,{value:V,enumerable:!0,configurable:!0,writable:!1}),V}const k=function(){function O(V,ie){this.constructor===O&&K("Cannot initialize BaseException."),this.message=V,this.name=ie}return O.prototype=new Error,O.constructor=O,O}();function X(q){"string"!=typeof q&&K("Invalid argument for stringToBytes");const O=q.length,V=new Uint8Array(O);for(let ie=0;ie<O;++ie)V[ie]=255&q.charCodeAt(ie);return V}function B(q){return void 0!==q.length?q.length:void 0!==q.byteLength?q.byteLength:void K("Invalid argument for arrayByteLength")}a.BaseException=k,a.PasswordException=class s extends k{constructor(O,V){super(O,"PasswordException"),this.code=V}},a.UnknownErrorException=class e extends k{constructor(O,V){super(O,"UnknownErrorException"),this.details=V}},a.InvalidPDFException=class r extends k{constructor(O){super(O,"InvalidPDFException")}},a.MissingPDFException=class o extends k{constructor(O){super(O,"MissingPDFException")}},a.UnexpectedResponseException=class f extends k{constructor(O,V){super(O,"UnexpectedResponseException"),this.status=V}},a.FormatError=class p extends k{constructor(O){super(O,"FormatError")}},a.AbortException=class h extends k{constructor(O){super(O,"AbortException")}},a.FeatureTest=class Ae{static get isLittleEndian(){return le(this,"isLittleEndian",function he(){const q=new Uint8Array(4);return q[0]=1,1===new Uint32Array(q.buffer,0,1)[0]}())}static get isEvalSupported(){return le(this,"isEvalSupported",function _e(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return le(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const me=[...Array(256).keys()].map(q=>q.toString(16).padStart(2,"0"));class ae{static makeHexColor(O,V,ie){return`#${me[O]}${me[V]}${me[ie]}`}static scaleMinMax(O,V){let ie;O[0]?(O[0]<0&&(ie=V[0],V[0]=V[1],V[1]=ie),V[0]*=O[0],V[1]*=O[0],O[3]<0&&(ie=V[2],V[2]=V[3],V[3]=ie),V[2]*=O[3],V[3]*=O[3]):(ie=V[0],V[0]=V[2],V[2]=ie,ie=V[1],V[1]=V[3],V[3]=ie,O[1]<0&&(ie=V[2],V[2]=V[3],V[3]=ie),V[2]*=O[1],V[3]*=O[1],O[2]<0&&(ie=V[0],V[0]=V[1],V[1]=ie),V[0]*=O[2],V[1]*=O[2]),V[0]+=O[4],V[1]+=O[4],V[2]+=O[5],V[3]+=O[5]}static transform(O,V){return[O[0]*V[0]+O[2]*V[1],O[1]*V[0]+O[3]*V[1],O[0]*V[2]+O[2]*V[3],O[1]*V[2]+O[3]*V[3],O[0]*V[4]+O[2]*V[5]+O[4],O[1]*V[4]+O[3]*V[5]+O[5]]}static applyTransform(O,V){return[O[0]*V[0]+O[1]*V[2]+V[4],O[0]*V[1]+O[1]*V[3]+V[5]]}static applyInverseTransform(O,V){const ie=V[0]*V[3]-V[1]*V[2];return[(O[0]*V[3]-O[1]*V[2]+V[2]*V[5]-V[4]*V[3])/ie,(-O[0]*V[1]+O[1]*V[0]+V[4]*V[1]-V[5]*V[0])/ie]}static getAxialAlignedBoundingBox(O,V){const ie=ae.applyTransform(O,V),ye=ae.applyTransform(O.slice(2,4),V),Te=ae.applyTransform([O[0],O[3]],V),re=ae.applyTransform([O[2],O[1]],V);return[Math.min(ie[0],ye[0],Te[0],re[0]),Math.min(ie[1],ye[1],Te[1],re[1]),Math.max(ie[0],ye[0],Te[0],re[0]),Math.max(ie[1],ye[1],Te[1],re[1])]}static inverseTransform(O){const V=O[0]*O[3]-O[1]*O[2];return[O[3]/V,-O[1]/V,-O[2]/V,O[0]/V,(O[2]*O[5]-O[4]*O[3])/V,(O[4]*O[1]-O[5]*O[0])/V]}static apply3dTransform(O,V){return[O[0]*V[0]+O[1]*V[1]+O[2]*V[2],O[3]*V[0]+O[4]*V[1]+O[5]*V[2],O[6]*V[0]+O[7]*V[1]+O[8]*V[2]]}static singularValueDecompose2dScale(O){const V=[O[0],O[2],O[1],O[3]],ie=O[0]*V[0]+O[1]*V[2],re=O[2]*V[1]+O[3]*V[3],ce=(ie+re)/2,Se=Math.sqrt((ie+re)**2-4*(ie*re-(O[2]*V[0]+O[3]*V[2])*(O[0]*V[1]+O[1]*V[3])))/2,fe=ce-Se||1;return[Math.sqrt(ce+Se||1),Math.sqrt(fe)]}static normalizeRect(O){const V=O.slice(0);return O[0]>O[2]&&(V[0]=O[2],V[2]=O[0]),O[1]>O[3]&&(V[1]=O[3],V[3]=O[1]),V}static intersect(O,V){const ie=Math.max(Math.min(O[0],O[2]),Math.min(V[0],V[2])),ye=Math.min(Math.max(O[0],O[2]),Math.max(V[0],V[2]));if(ie>ye)return null;const Te=Math.max(Math.min(O[1],O[3]),Math.min(V[1],V[3])),re=Math.min(Math.max(O[1],O[3]),Math.max(V[1],V[3]));return Te>re?null:[ie,Te,ye,re]}static bezierBoundingBox(O,V,ie,ye,Te,re,ce,Se){const Pe=[],fe=[[],[]];let xe,ve,Ee,Me,ke,Le,Ne,Re;for(let Ie=0;Ie<2;++Ie)if(0===Ie?(ve=6*O-12*ie+6*Te,xe=-3*O+9*ie-9*Te+3*ce,Ee=3*ie-3*O):(ve=6*V-12*ye+6*re,xe=-3*V+9*ye-9*re+3*Se,Ee=3*ye-3*V),Math.abs(xe)<1e-12){if(Math.abs(ve)<1e-12)continue;Me=-Ee/ve,0<Me&&Me<1&&Pe.push(Me)}else Ne=ve*ve-4*Ee*xe,Re=Math.sqrt(Ne),!(Ne<0)&&(ke=(-ve+Re)/(2*xe),0<ke&&ke<1&&Pe.push(ke),Le=(-ve-Re)/(2*xe),0<Le&&Le<1&&Pe.push(Le));let Fe,De=Pe.length;const Oe=De;for(;De--;)Me=Pe[De],Fe=1-Me,fe[0][De]=Fe*Fe*Fe*O+3*Fe*Fe*Me*ie+3*Fe*Me*Me*Te+Me*Me*Me*ce,fe[1][De]=Fe*Fe*Fe*V+3*Fe*Fe*Me*ye+3*Fe*Me*Me*re+Me*Me*Me*Se;return fe[0][Oe]=O,fe[1][Oe]=V,fe[0][Oe+1]=ce,fe[1][Oe+1]=Se,fe[0].length=fe[1].length=Oe+2,[Math.min(...fe[0]),Math.min(...fe[1]),Math.max(...fe[0]),Math.max(...fe[1])]}}a.Util=ae;const we=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function be(q){return decodeURIComponent(escape(q))}},(G,a,C)=>{C(3)},(G,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isNodeJS=void 0;const C=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);a.isNodeJS=C},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:G,NodeCMapReaderFactory:a,NodeStandardFontDataFactory:C}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=G,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=a,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=C}function setPDFNetworkStreamFactory(G){createPDFNetworkStream=G}function getDocument(G){const a=new PDFDocumentLoadingTask;let C;if("string"==typeof G||G instanceof URL)C={url:G};else if((0,_util.isArrayBuffer)(G))C={data:G};else if(G instanceof PDFDataRangeTransport)C={range:G};else{if("object"!=typeof G)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!G.url&&!G.data&&!G.range)throw new Error("Invalid parameter object: need either .data, .range or .url");C=G}const n=Object.create(null);let T=null,M=null;for(const P in C){const L=C[P];switch(P){case"url":if(typeof window<"u")try{n[P]=new URL(L,window.location).href;continue}catch(y){(0,_util.warn)(`Cannot create valid URL: "${y}".`)}else if("string"==typeof L||L instanceof URL){n[P]=L.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":T=L;continue;case"worker":M=L;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&L instanceof Buffer)n[P]=new Uint8Array(L);else{if(L instanceof Uint8Array)break;if("string"==typeof L)n[P]=(0,_util.stringToBytes)(L);else if("object"!=typeof L||null===L||isNaN(L.length)){if(!(0,_util.isArrayBuffer)(L))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");n[P]=new Uint8Array(L)}else n[P]=new Uint8Array(L)}continue}n[P]=L}if(n.CMapReaderFactory=n.CMapReaderFactory||DefaultCMapReaderFactory,n.StandardFontDataFactory=n.StandardFontDataFactory||DefaultStandardFontDataFactory,n.ignoreErrors=!0!==n.stopAtErrors,n.fontExtraProperties=!0===n.fontExtraProperties,n.pdfBug=!0===n.pdfBug,n.enableXfa=!0===n.enableXfa,(!Number.isInteger(n.rangeChunkSize)||n.rangeChunkSize<1)&&(n.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof n.docBaseUrl||(0,_display_utils.isDataScheme)(n.docBaseUrl))&&(n.docBaseUrl=null),(!Number.isInteger(n.maxImageSize)||n.maxImageSize<-1)&&(n.maxImageSize=-1),"string"!=typeof n.cMapUrl&&(n.cMapUrl=null),"string"!=typeof n.standardFontDataUrl&&(n.standardFontDataUrl=null),"boolean"!=typeof n.useWorkerFetch&&(n.useWorkerFetch=n.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&n.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof n.isEvalSupported&&(n.isEvalSupported=!0),"boolean"!=typeof n.disableFontFace&&(n.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof n.useSystemFonts&&(n.useSystemFonts=!_is_node.isNodeJS&&!n.disableFontFace),("object"!=typeof n.ownerDocument||null===n.ownerDocument)&&(n.ownerDocument=globalThis.document),"boolean"!=typeof n.disableRange&&(n.disableRange=!1),"boolean"!=typeof n.disableStream&&(n.disableStream=!1),"boolean"!=typeof n.disableAutoFetch&&(n.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(n.verbosity),!M){const P={verbosity:n.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};M=P.port?_PDFWorker.fromPort(P):new _PDFWorker(P),a._worker=M}const z=a.docId;return M.promise.then(function(){if(a.destroyed)throw new Error("Loading aborted");const P=_fetchDocument(M,n,T,z),L=new Promise(function(y){let I;T?I=new _transport_stream.PDFDataTransportStream({length:n.length,initialData:n.initialData,progressiveDone:n.progressiveDone,contentDispositionFilename:n.contentDispositionFilename,disableRange:n.disableRange,disableStream:n.disableStream},T):n.data||(I=createPDFNetworkStream({url:n.url,length:n.length,httpHeaders:n.httpHeaders,withCredentials:n.withCredentials,rangeChunkSize:n.rangeChunkSize,disableRange:n.disableRange,disableStream:n.disableStream})),y(I)});return Promise.all([P,L]).then(function([y,I]){if(a.destroyed)throw new Error("Loading aborted");const U=new _message_handler.MessageHandler(z,y,M.port),H=new WorkerTransport(U,a,I,n);a._transport=H,U.send("Ready",null)})}).catch(a._capability.reject),a}function _fetchDocument(G,a,C,n){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(G,a,C,n){if(G.destroyed)throw new Error("Worker was destroyed");C&&(a.length=C.length,a.initialData=C.initialData,a.progressiveDone=C.progressiveDone,a.contentDispositionFilename=C.contentDispositionFilename);const T=yield G.messageHandler.sendWithPromise("GetDocRequest",{docId:n,apiVersion:"2.14.305",source:{data:a.data,url:a.url,password:a.password,disableAutoFetch:a.disableAutoFetch,rangeChunkSize:a.rangeChunkSize,length:a.length},maxImageSize:a.maxImageSize,disableFontFace:a.disableFontFace,docBaseUrl:a.docBaseUrl,ignoreErrors:a.ignoreErrors,isEvalSupported:a.isEvalSupported,fontExtraProperties:a.fontExtraProperties,enableXfa:a.enableXfa,useSystemFonts:a.useSystemFonts,cMapUrl:a.useWorkerFetch?a.cMapUrl:null,standardFontDataUrl:a.useWorkerFetch?a.standardFontDataUrl:null});if(G.destroyed)throw new Error("Worker was destroyed");return T})).apply(this,arguments)}class PDFDocumentLoadingTask{constructor(){var a,C;this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${_classStaticPrivateFieldSpecSet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId,(a=_classStaticPrivateFieldSpecGet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId),C=a++,a)),C}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var a=this;return _asyncToGenerator(function*(){a.destroyed=!0,yield a._transport?.destroy(),a._transport=null,a._worker&&(a._worker.destroy(),a._worker=null)})()}}var _docId={writable:!0,value:0};exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(a,C,n=!1,T=null){this.length=a,this.initialData=C,this.progressiveDone=n,this.contentDispositionFilename=T,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(a){this._rangeListeners.push(a)}addProgressListener(a){this._progressListeners.push(a)}addProgressiveReadListener(a){this._progressiveReadListeners.push(a)}addProgressiveDoneListener(a){this._progressiveDoneListeners.push(a)}onDataRange(a,C){for(const n of this._rangeListeners)n(a,C)}onDataProgress(a,C){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(a,C)})}onDataProgressiveRead(a){this._readyCapability.promise.then(()=>{for(const C of this._progressiveReadListeners)C(a)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const a of this._progressiveDoneListeners)a()})}transportReady(){this._readyCapability.resolve()}requestDataRange(a,C){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(a,C){var T,n=this;this._pdfInfo=a,this._transport=C,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(T=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),n.stats||{streamTypes:{},fontTypes:{}}}),function(){return T.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(a){return this._transport.getPage(a)}getPageIndex(a){return this._transport.getPageIndex(a)}getDestinations(){return this._transport.getDestinations()}getDestination(a){return this._transport.getDestination(a)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(a=!1){return this._transport.startCleanup(a||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(a,C,n,T,M=!1){this._pageIndex=a,this._pageInfo=C,this._ownerDocument=T,this._transport=n,this._stats=M?new _display_utils.StatTimer:null,this._pdfBug=M,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:a,rotation:C=this.rotate,offsetX:n=0,offsetY:T=0,dontFlip:M=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:a,rotation:C,offsetX:n,offsetY:T,dontFlip:M})}getAnnotations({intent:a="display"}={}){const C=this._transport.getRenderingIntent(a);let n=this._annotationPromises.get(C.cacheKey);return n||(n=this._transport.getAnnotations(this._pageIndex,C.renderingIntent),this._annotationPromises.set(C.cacheKey,n),n=n.then(T=>{for(const M of T)void 0!==M.titleObj&&Object.defineProperty(M,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),M.titleObj.str)}),void 0!==M.contentsObj&&Object.defineProperty(M,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),M.contentsObj.str)});return T})),n}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}getXfa(){var a=this;return _asyncToGenerator(function*(){return a._transport._htmlForXfa?.children[a._pageIndex]||null})()}render({canvasContext:a,viewport:C,intent:n="display",annotationMode:T=_util.AnnotationMode.ENABLE,transform:M=null,imageLayer:z=null,canvasFactory:P=null,background:L=null,optionalContentConfigPromise:y=null,annotationCanvasMap:I=null,pageColors:U=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&T===_util.AnnotationMode.ENABLE&&(T=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&T===_util.AnnotationMode.ENABLE&&(T=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const H=this._transport.getRenderingIntent(n,T);this.pendingCleanup=!1,y||(y=this._transport.getOptionalContentConfig());let N=this._intentStates.get(H.cacheKey);N||(N=Object.create(null),this._intentStates.set(H.cacheKey,N)),N.streamReaderCancelTimeout&&(clearTimeout(N.streamReaderCancelTimeout),N.streamReaderCancelTimeout=null);const j=P||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),g=!!(H.renderingIntent&_util.RenderingIntentFlag.PRINT);N.displayReadyCapability||(N.displayReadyCapability=(0,_util.createPromiseCapability)(),N.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(H));const E=b=>{N.renderTasks.delete(m),(this.cleanupAfterRender||g)&&(this.pendingCleanup=!0),this._tryCleanup(),b?(m.capability.reject(b),this._abortOperatorList({intentState:N,reason:b instanceof Error?b:new Error(b)})):m.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},m=new InternalRenderTask({callback:E,params:{canvasContext:a,viewport:C,transform:M,imageLayer:z,background:L},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:I,operatorList:N.operatorList,pageIndex:this._pageIndex,canvasFactory:j,useRequestAnimationFrame:!g,pdfBug:this._pdfBug,pageColors:U});(N.renderTasks||=new Set).add(m);const x=m.task;return Promise.all([N.displayReadyCapability.promise,y]).then(([b,v])=>{this.pendingCleanup?E():(this._stats&&this._stats.time("Rendering"),m.initializeGraphics({transparency:b,optionalContentConfig:v}),m.operatorListChanged())}).catch(E),x}getOperatorList({intent:a="display",annotationMode:C=_util.AnnotationMode.ENABLE}={}){const T=this._transport.getRenderingIntent(a,C,!0);let z,M=this._intentStates.get(T.cacheKey);return M||(M=Object.create(null),this._intentStates.set(T.cacheKey,M)),M.opListReadCapability||(z=Object.create(null),z.operatorListChanged=function n(){M.operatorList.lastChunk&&(M.opListReadCapability.resolve(M.operatorList),M.renderTasks.delete(z))},M.opListReadCapability=(0,_util.createPromiseCapability)(),(M.renderTasks||=new Set).add(z),M.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(T)),M.opListReadCapability.promise}streamTextContent({disableCombineTextItems:a=!1,includeMarkedContent:C=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==a,includeMarkedContent:!0===C},{highWaterMark:100,size:T=>T.items.length})}getTextContent(a={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>_xfa_text.XfaText.textContent(n));const C=this.streamTextContent(a);return new Promise(function(n,T){const z=C.getReader(),P={items:[],styles:Object.create(null)};!function M(){z.read().then(function({value:L,done:y}){y?n(P):(Object.assign(P.styles,L.styles),P.items.push(...L.items),M())},T)}()})}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const a=[];for(const C of this._intentStates.values())if(this._abortOperatorList({intentState:C,reason:new Error("Page was destroyed."),force:!0}),!C.opListReadCapability)for(const n of C.renderTasks)a.push(n.completed),n.cancel();this.objs.clear();for(const C of this._bitmaps)C.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(a)}cleanup(a=!1){return this.pendingCleanup=!0,this._tryCleanup(a)}_tryCleanup(a=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:C,operatorList:n}of this._intentStates.values())if(C.size>0||!n.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,a&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const C of this._bitmaps)C.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(a,C){const n=this._intentStates.get(C);n&&(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(a))}_renderPageChunk(a,C){for(let n=0,T=a.length;n<T;n++)C.operatorList.fnArray.push(a.fnArray[n]),C.operatorList.argsArray.push(a.argsArray[n]);C.operatorList.lastChunk=a.lastChunk;for(const n of C.renderTasks)n.operatorListChanged();a.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:a,cacheKey:C}){const T=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:a,cacheKey:C,annotationStorage:a&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),M=this._intentStates.get(C);M.streamReader=T;const z=()=>{T.read().then(({value:P,done:L})=>{L?M.streamReader=null:this._transport.destroyed||(this._renderPageChunk(P,M),z())},P=>{if(M.streamReader=null,!this._transport.destroyed){if(M.operatorList){M.operatorList.lastChunk=!0;for(const L of M.renderTasks)L.operatorListChanged();this._tryCleanup()}if(M.displayReadyCapability)M.displayReadyCapability.reject(P);else{if(!M.opListReadCapability)throw P;M.opListReadCapability.reject(P)}}})};z()}_abortOperatorList({intentState:a,reason:C,force:n=!1}){if(a.streamReader){if(!n){if(a.renderTasks.size>0)return;if(C instanceof _display_utils.RenderingCancelledException)return void(a.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:a,reason:C,force:!0}),a.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(a.streamReader.cancel(new _util.AbortException(C.message)).catch(()=>{}),a.streamReader=null,!this._transport.destroyed){for(const[T,M]of this._intentStates)if(M===a){this._intentStates.delete(T);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(a,C){const n={data:structuredClone(a,C)};this._deferred.then(()=>{for(const T of this._listeners)T.call(this,n)})}addEventListener(a,C){this._listeners.push(C)}removeEventListener(a,C){const n=this._listeners.indexOf(C);this._listeners.splice(n,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const G=document?.currentScript?.src;G&&(PDFWorkerUtil.fallbackWorkerSrc=G.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(G,a){let C;try{if(C=new URL(G),!C.origin||"null"===C.origin)return!1}catch{return!1}const n=new URL(a,C);return C.origin===n.origin},PDFWorkerUtil.createCDNWrapper=function(G){return URL.createObjectURL(new Blob([`importScripts("${G}");`]))};class _PDFWorker{constructor({name:G=null,port:a=null,verbosity:C=(0,_util.getVerbosityLevel)()}={}){if(a&&_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).has(a))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=G,this.destroyed=!1,this.verbosity=C,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,a)return _classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).set(a,this),void this._initializeFromPort(a);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(G){this._port=G,this._messageHandler=new _message_handler.MessageHandler("main","worker",G),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let G=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,G)||(G=PDFWorkerUtil.createCDNWrapper(new URL(G,window.location).href));const a=new Worker(G),C=new _message_handler.MessageHandler("main","worker",a),n=()=>{a.removeEventListener("error",T),C.destroy(),a.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},T=()=>{this._webWorker||n()};a.addEventListener("error",T),C.on("test",z=>{a.removeEventListener("error",T),this.destroyed?n():z?(this._messageHandler=C,this._port=a,this._webWorker=a,this._readyCapability.resolve(),C.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),C.destroy(),a.terminate())}),C.on("ready",z=>{if(a.removeEventListener("error",T),this.destroyed)n();else try{M()}catch{this._setupFakeWorker()}});const M=()=>{const z=new Uint8Array;C.send("test",z,[z.buffer])};return void M()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(G=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const a=new LoopbackPort;this._port=a;const C="fake"+PDFWorkerUtil.fakeWorkerId++,n=new _message_handler.MessageHandler(C+"_worker",C,a);G.setup(n,a);const T=new _message_handler.MessageHandler(C,C+"_worker",a);this._messageHandler=T,this._readyCapability.resolve(),T.send("configure",{verbosity:this.verbosity})}).catch(G=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${G.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(G){if(!G?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return _classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).has(G.port)?_classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).get(G.port):new _PDFWorker(G)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function G(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}var _workerPorts={writable:!0,value:new WeakMap};exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(a,C,n,T){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=a,this.loadingTask=C,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:C.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:T.ownerDocument,styleElement:T.styleElement}),this._params=T,T.useWorkerFetch||(this.CMapReaderFactory=new T.CMapReaderFactory({baseUrl:T.cMapUrl,isCompressed:T.cMapPacked}),this.StandardFontDataFactory=new T.StandardFontDataFactory({baseUrl:T.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(a,C=_util.AnnotationMode.ENABLE,n=!1){let T=_util.RenderingIntentFlag.DISPLAY,M="";switch(a){case"any":T=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":T=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${a}`)}switch(C){case _util.AnnotationMode.DISABLE:T+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:T+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:T+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,M=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${C}`)}return n&&(T+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:T,cacheKey:`${T}_${M}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const a=[];for(const n of _classPrivateFieldGet(this,_pageCache).values())a.push(n._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const C=this.messageHandler.sendWithPromise("Terminate",null);return a.push(C),Promise.all(a).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:a,loadingTask:C}=this;a.on("GetReader",(n,T)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=M=>{this._lastProgress={loaded:M.loaded,total:M.total}},T.onPull=()=>{this._fullReader.read().then(function({value:M,done:z}){z?T.close():((0,_util.assert)((0,_util.isArrayBuffer)(M),"GetReader - expected an ArrayBuffer."),T.enqueue(new Uint8Array(M),1,[M]))}).catch(M=>{T.error(M)})},T.onCancel=M=>{this._fullReader.cancel(M),T.ready.catch(z=>{if(!this.destroyed)throw z})}}),a.on("ReaderHeadersReady",n=>{const T=(0,_util.createPromiseCapability)(),M=this._fullReader;return M.headersReady.then(()=>{(!M.isStreamingSupported||!M.isRangeSupported)&&(this._lastProgress&&C.onProgress?.(this._lastProgress),M.onProgress=z=>{C.onProgress?.({loaded:z.loaded,total:z.total})}),T.resolve({isStreamingSupported:M.isStreamingSupported,isRangeSupported:M.isRangeSupported,contentLength:M.contentLength})},T.reject),T.promise}),a.on("GetRangeReader",(n,T)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const M=this._networkStream.getRangeReader(n.begin,n.end);M?(T.onPull=()=>{M.read().then(function({value:z,done:P}){P?T.close():((0,_util.assert)((0,_util.isArrayBuffer)(z),"GetRangeReader - expected an ArrayBuffer."),T.enqueue(new Uint8Array(z),1,[z]))}).catch(z=>{T.error(z)})},T.onCancel=z=>{M.cancel(z),T.ready.catch(P=>{if(!this.destroyed)throw P})}):T.close()}),a.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,C._capability.resolve(new PDFDocumentProxy(n,this))}),a.on("DocException",function(n){let T;switch(n.name){case"PasswordException":T=new _util.PasswordException(n.message,n.code);break;case"InvalidPDFException":T=new _util.InvalidPDFException(n.message);break;case"MissingPDFException":T=new _util.MissingPDFException(n.message);break;case"UnexpectedResponseException":T=new _util.UnexpectedResponseException(n.message,n.status);break;case"UnknownErrorException":T=new _util.UnknownErrorException(n.message,n.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}C._capability.reject(T)}),a.on("PasswordRequest",n=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),C.onPassword){const T=M=>{M instanceof Error?this._passwordCapability.reject(M):this._passwordCapability.resolve({password:M})};try{C.onPassword(T,n.code)}catch(M){this._passwordCapability.reject(M)}}else this._passwordCapability.reject(new _util.PasswordException(n.message,n.code));return this._passwordCapability.promise}),a.on("DataLoaded",n=>{C.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),a.on("StartRenderPage",n=>{this.destroyed||_classPrivateFieldGet(this,_pageCache).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),a.on("commonobj",([n,T,M])=>{if(!this.destroyed&&!this.commonObjs.has(n))switch(T){case"Font":const z=this._params;if("error"in M){const y=M.error;(0,_util.warn)(`Error during font loading: ${y}`),this.commonObjs.resolve(n,y);break}let P=null;z.pdfBug&&globalThis.FontInspector?.enabled&&(P={registerFont(y,I){globalThis.FontInspector.fontAdded(y,I)}});const L=new _font_loader.FontFaceObject(M,{isEvalSupported:z.isEvalSupported,disableFontFace:z.disableFontFace,ignoreErrors:z.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:P});this.fontLoader.bind(L).catch(y=>a.sendWithPromise("FontFallback",{id:n})).finally(()=>{!z.fontExtraProperties&&L.data&&(L.data=null),this.commonObjs.resolve(n,L)});break;case"FontPath":case"Image":this.commonObjs.resolve(n,M);break;default:throw new Error(`Got unknown common object type ${T}`)}}),a.on("obj",([n,T,M,z])=>{if(this.destroyed)return;const P=_classPrivateFieldGet(this,_pageCache).get(T);if(!P.objs.has(n))switch(M){case"Image":P.objs.resolve(n,z);const L=8e6;if(z){let y;if(z.bitmap){const{bitmap:I,width:U,height:H}=z;y=U*H*4,P._bitmaps.add(I)}else y=z.data?.length||0;y>L&&(P.cleanupAfterRender=!0)}break;case"Pattern":P.objs.resolve(n,z);break;default:throw new Error(`Got unknown object type ${M}`)}}),a.on("DocProgress",n=>{this.destroyed||C.onProgress?.({loaded:n.loaded,total:n.total})}),a.on("DocStats",n=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(n.streamTypes),fontTypes:Object.freeze(n.fontTypes)}))}),a.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),a.on("FetchBuiltInCMap",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(n):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),a.on("FetchStandardFontData",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(n):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:a}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(a)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(a){if(!Number.isInteger(a)||a<=0||a>this._numPages)return Promise.reject(new Error("Invalid page request."));const C=a-1,n=_classPrivateFieldGet(this,_pagePromises).get(C);if(n)return n;const T=this.messageHandler.sendWithPromise("GetPage",{pageIndex:C}).then(M=>{if(this.destroyed)throw new Error("Transport destroyed");const z=new PDFPageProxy(C,M,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(C,z),z});return _classPrivateFieldGet(this,_pagePromises).set(C,T),T}getPageIndex(a){return"object"!=typeof a||null===a||!Number.isInteger(a.num)||a.num<0||!Number.isInteger(a.gen)||a.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:a.num,gen:a.gen})}getAnnotations(a,C){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:C})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(a){return"string"!=typeof a?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:a})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(a){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:a})}getStructTree(a){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:a})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(a=>new _optional_content_config.OptionalContentConfig(a))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(a=>({info:a[0],metadata:a[1]?new _metadata.Metadata(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(a=!1){var C=this;return _asyncToGenerator(function*(){if(yield C.messageHandler.sendWithPromise("Cleanup",null),!C.destroyed){for(const n of _classPrivateFieldGet(C,_pageCache).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);C.commonObjs.clear(),a||C.fontLoader.clear(),_classPrivateFieldSet(C,_metadataPromise,null),C._getFieldObjectsPromise=null,C._hasJSActionsPromise=null}})()}get loadingParams(){const a=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:a.disableAutoFetch,enableXfa:a.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(a,C=null){if(C){const T=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,a);return T.capability.promise.then(()=>C(T.data)),null}const n=_classPrivateFieldGet(this,_objs)[a];if(!n?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${a}.`);return n.data}has(a){return _classPrivateFieldGet(this,_objs)[a]?.capability.settled||!1}resolve(a,C=null){const n=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,a);n.data=C,n.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(G){return _classPrivateFieldGet(this,_objs)[G]||(_classPrivateFieldGet(this,_objs)[G]={capability:(0,_util.createPromiseCapability)(),data:null})}class RenderTask{constructor(a){this._internalRenderTask=a,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor({callback:a,params:C,objs:n,commonObjs:T,annotationCanvasMap:M,operatorList:z,pageIndex:P,canvasFactory:L,useRequestAnimationFrame:y=!1,pdfBug:I=!1,pageColors:U=null}){this.callback=a,this.params=C,this.objs=n,this.commonObjs=T,this.annotationCanvasMap=M,this.operatorListIdx=null,this.operatorList=z,this._pageIndex=P,this.canvasFactory=L,this._pdfBug=I,this.pageColors=U,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===y&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=C.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:a=!1,optionalContentConfig:C}){if(this.cancelled)return;if(this._canvas){if(_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:T,transform:M,imageLayer:z,background:P}=this.params;this.gfx=new _canvas.CanvasGraphics(n,this.commonObjs,this.objs,this.canvasFactory,z,C,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:M,viewport:T,transparency:a,background:P}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(a=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback(a||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var a=this;return _asyncToGenerator(function*(){a.cancelled||(a.operatorListIdx=a.gfx.executeOperatorList(a.operatorList,a.operatorListIdx,a._continueBound,a.stepper),a.operatorListIdx===a.operatorList.argsArray.length&&(a.running=!1,a.operatorList.lastChunk&&(a.gfx.endDrawing(),a._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(a._canvas),a.callback())))})()}}var _canvasInUse={writable:!0,value:new WeakSet};const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(G,a,C)=>{var n;Object.defineProperty(a,"__esModule",{value:!0}),a.StatTimer=a.RenderingCancelledException=a.PixelsPerInch=a.PageViewport=a.PDFDateString=a.DOMStandardFontDataFactory=a.DOMSVGFactory=a.DOMCanvasFactory=a.DOMCMapReaderFactory=void 0,a.deprecated=function d(c){console.log("Deprecated API usage: "+c)},a.getFilenameFromUrl=function x(c){const l=c.indexOf("#"),_=c.indexOf("?"),w=Math.min(l>0?l:c.length,_>0?_:c.length);return c.substring(c.lastIndexOf("/",w)+1,w)},a.getPdfFilenameFromUrl=function b(c,l="document.pdf"){if("string"!=typeof c)return l;if(E(c))return(0,M.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),l;const w=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,D=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(c);let W=w.exec(D[1])||w.exec(D[2])||w.exec(D[3]);if(W&&(W=W[0],W.includes("%")))try{W=w.exec(decodeURIComponent(W))[0]}catch{}return W||l},a.getXfaPageViewport=function A(c,{scale:l=1,rotation:_=0}){const{width:w,height:D}=c.attributes.style,W=[0,0,parseInt(w),parseInt(D)];return new j({viewBox:W,scale:l,rotation:_})},a.isDataScheme=E,a.isPdfFile=function m(c){return"string"==typeof c&&/\.pdf$/i.test(c)},a.isValidFetchUrl=t,a.loadScript=function i(c,l=!1){return new Promise((_,w)=>{const D=document.createElement("script");D.src=c,D.onload=function(W){l&&D.remove(),_(W)},D.onerror=function(){w(new Error(`Cannot load script at: ${D.src}`))},(document.head||document.documentElement).appendChild(D)})};var T=C(6),M=C(1);class P{}function y(c){return I.apply(this,arguments)}function I(){return(I=_asyncToGenerator(function*(c,l=!1){if(t(c,document.baseURI)){const _=yield fetch(c);if(!_.ok)throw new Error(_.statusText);return l?new Uint8Array(yield _.arrayBuffer()):(0,M.stringToBytes)(yield _.text())}return new Promise((_,w)=>{const D=new XMLHttpRequest;D.open("GET",c,!0),l&&(D.responseType="arraybuffer"),D.onreadystatechange=()=>{if(D.readyState===XMLHttpRequest.DONE){if(200===D.status||0===D.status){let W;if(l&&D.response?W=new Uint8Array(D.response):!l&&D.responseText&&(W=(0,M.stringToBytes)(D.responseText)),W)return void _(W)}w(new Error(D.statusText))}},D.send(null)})})).apply(this,arguments)}n=P,_defineProperty(P,"CSS",96),_defineProperty(P,"PDF",72),_defineProperty(P,"PDF_TO_CSS_UNITS",n.CSS/n.PDF),a.PixelsPerInch=P,a.DOMCanvasFactory=class L extends T.BaseCanvasFactory{constructor({ownerDocument:l=globalThis.document}={}){super(),this._document=l}_createCanvas(l,_){const w=this._document.createElement("canvas");return w.width=l,w.height=_,w}},a.DOMCMapReaderFactory=class U extends T.BaseCMapReaderFactory{_fetchData(l,_){return y(l,this.isCompressed).then(w=>({cMapData:w,compressionType:_}))}},a.DOMStandardFontDataFactory=class H extends T.BaseStandardFontDataFactory{_fetchData(l){return y(l,!0)}},a.DOMSVGFactory=class N extends T.BaseSVGFactory{_createSVG(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}};class j{constructor({viewBox:l,scale:_,rotation:w,offsetX:D=0,offsetY:W=0,dontFlip:K=!1}){this.viewBox=l,this.scale=_,this.rotation=w,this.offsetX=D,this.offsetY=W;const J=(l[2]+l[0])/2,te=(l[3]+l[1])/2;let de,le,k,s,e,r,o,f;switch((w%=360)<0&&(w+=360),w){case 180:de=-1,le=0,k=0,s=1;break;case 90:de=0,le=1,k=1,s=0;break;case 270:de=0,le=-1,k=-1,s=0;break;case 0:de=1,le=0,k=0,s=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}K&&(k=-k,s=-s),0===de?(e=Math.abs(te-l[1])*_+D,r=Math.abs(J-l[0])*_+W,o=Math.abs(l[3]-l[1])*_,f=Math.abs(l[2]-l[0])*_):(e=Math.abs(J-l[0])*_+D,r=Math.abs(te-l[1])*_+W,o=Math.abs(l[2]-l[0])*_,f=Math.abs(l[3]-l[1])*_),this.transform=[de*_,le*_,k*_,s*_,e-de*_*J-k*_*te,r-le*_*J-s*_*te],this.width=o,this.height=f}clone({scale:l=this.scale,rotation:_=this.rotation,offsetX:w=this.offsetX,offsetY:D=this.offsetY,dontFlip:W=!1}={}){return new j({viewBox:this.viewBox.slice(),scale:l,rotation:_,offsetX:w,offsetY:D,dontFlip:W})}convertToViewportPoint(l,_){return M.Util.applyTransform([l,_],this.transform)}convertToViewportRectangle(l){const _=M.Util.applyTransform([l[0],l[1]],this.transform),w=M.Util.applyTransform([l[2],l[3]],this.transform);return[_[0],_[1],w[0],w[1]]}convertToPdfPoint(l,_){return M.Util.applyInverseTransform([l,_],this.transform)}}function E(c){const l=c.length;let _=0;for(;_<l&&""===c[_].trim();)_++;return"data:"===c.substring(_,_+5).toLowerCase()}function t(c,l){try{const{protocol:_}=l?new URL(c,l):new URL(c);return"http:"===_||"https:"===_}catch{return!1}}let S;a.PageViewport=j,a.RenderingCancelledException=class g extends M.BaseException{constructor(l,_){super(l,"RenderingCancelledException"),this.type=_}},a.StatTimer=class v{constructor(){this.started=Object.create(null),this.times=[]}time(l){l in this.started&&(0,M.warn)(`Timer is already running for ${l}`),this.started[l]=Date.now()}timeEnd(l){l in this.started||(0,M.warn)(`Timer has not been started for ${l}`),this.times.push({name:l,start:this.started[l],end:Date.now()}),delete this.started[l]}toString(){const l=[];let _=0;for(const w of this.times){const D=w.name;D.length>_&&(_=D.length)}for(const w of this.times){const D=w.end-w.start;l.push(`${w.name.padEnd(_)} ${D}ms\n`)}return l.join("")}},a.PDFDateString=class u{static toDateObject(l){if(!l||"string"!=typeof l)return null;S||(S=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const _=S.exec(l);if(!_)return null;const w=parseInt(_[1],10);let D=parseInt(_[2],10);D=D>=1&&D<=12?D-1:0;let W=parseInt(_[3],10);W=W>=1&&W<=31?W:1;let K=parseInt(_[4],10);K=K>=0&&K<=23?K:0;let J=parseInt(_[5],10);J=J>=0&&J<=59?J:0;let te=parseInt(_[6],10);te=te>=0&&te<=59?te:0;const de=_[7]||"Z";let le=parseInt(_[8],10);le=le>=0&&le<=23?le:0;let k=parseInt(_[9],10)||0;return k=k>=0&&k<=59?k:0,"-"===de?(K+=le,J+=k):"+"===de&&(K-=le,J-=k),new Date(Date.UTC(w,D,W,K,J,te))}}},(G,a,C)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BaseStandardFontDataFactory=a.BaseSVGFactory=a.BaseCanvasFactory=a.BaseCMapReaderFactory=void 0;var n=C(1);class T{constructor(){this.constructor===T&&(0,n.unreachable)("Cannot initialize BaseCanvasFactory.")}create(y,I){if(y<=0||I<=0)throw new Error("Invalid canvas size");const U=this._createCanvas(y,I);return{canvas:U,context:U.getContext("2d")}}reset(y,I,U){if(!y.canvas)throw new Error("Canvas is not specified");if(I<=0||U<=0)throw new Error("Invalid canvas size");y.canvas.width=I,y.canvas.height=U}destroy(y){if(!y.canvas)throw new Error("Canvas is not specified");y.canvas.width=0,y.canvas.height=0,y.canvas=null,y.context=null}_createCanvas(y,I){(0,n.unreachable)("Abstract method `_createCanvas` called.")}}a.BaseCanvasFactory=T;class M{constructor({baseUrl:y=null,isCompressed:I=!1}){this.constructor===M&&(0,n.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=y,this.isCompressed=I}fetch({name:y}){var I=this;return _asyncToGenerator(function*(){if(!I.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!y)throw new Error("CMap name must be specified.");const U=I.baseUrl+y+(I.isCompressed?".bcmap":"");return I._fetchData(U,I.isCompressed?n.CMapCompressionType.BINARY:n.CMapCompressionType.NONE).catch(N=>{throw new Error(`Unable to load ${I.isCompressed?"binary ":""}CMap at: ${U}`)})})()}_fetchData(y,I){(0,n.unreachable)("Abstract method `_fetchData` called.")}}a.BaseCMapReaderFactory=M;class z{constructor({baseUrl:y=null}){this.constructor===z&&(0,n.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=y}fetch({filename:y}){var I=this;return _asyncToGenerator(function*(){if(!I.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!y)throw new Error("Font filename must be specified.");const U=`${I.baseUrl}${y}`;return I._fetchData(U).catch(H=>{throw new Error(`Unable to load font data at: ${U}`)})})()}_fetchData(y){(0,n.unreachable)("Abstract method `_fetchData` called.")}}a.BaseStandardFontDataFactory=z;class P{constructor(){this.constructor===P&&(0,n.unreachable)("Cannot initialize BaseSVGFactory.")}create(y,I){if(y<=0||I<=0)throw new Error("Invalid SVG dimensions");const U=this._createSVG("svg:svg");return U.setAttribute("version","1.1"),U.setAttribute("width",`${y}px`),U.setAttribute("height",`${I}px`),U.setAttribute("preserveAspectRatio","none"),U.setAttribute("viewBox",`0 0 ${y} ${I}`),U}createElement(y){if("string"!=typeof y)throw new Error("Invalid SVG element type");return this._createSVG(y)}_createSVG(y){(0,n.unreachable)("Abstract method `_createSVG` called.")}}a.BaseSVGFactory=P},(G,a,C)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.FontLoader=a.FontFaceObject=void 0;var n=C(1);class T{constructor({docId:L,onUnsupportedFeature:y,ownerDocument:I=globalThis.document,styleElement:U=null}){this.constructor===T&&(0,n.unreachable)("Cannot initialize BaseFontLoader."),this.docId=L,this._onUnsupportedFeature=y,this._document=I,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(L){this.nativeFontFaces.push(L),this._document.fonts.add(L)}insertRule(L){let y=this.styleElement;y||(y=this.styleElement=this._document.createElement("style"),y.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(y));const I=y.sheet;I.insertRule(L,I.cssRules.length)}clear(){for(const L of this.nativeFontFaces)this._document.fonts.delete(L);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(L){var y=this;return _asyncToGenerator(function*(){if(L.attached||L.missingFile)return;if(L.attached=!0,y.isFontLoadingAPISupported){const U=L.createNativeFontFace();if(U){y.addNativeFontFace(U);try{yield U.loaded}catch(H){throw y._onUnsupportedFeature({featureId:n.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,n.warn)(`Failed to load font '${U.family}': '${H}'.`),L.disableFontFace=!0,H}}return}const I=L.createFontFaceRule();if(I){if(y.insertRule(I),y.isSyncFontLoadingSupported)return;yield new Promise(U=>{const H=y._queueLoadingCallback(U);y._prepareFontLoadEvent([I],[L],H)})}})()}_queueLoadingCallback(L){(0,n.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,n.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,n.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,n.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(L,y,I){(0,n.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let M;a.FontLoader=M,a.FontLoader=M=class extends T{constructor(L){super(L),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let L=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(L=!0),(0,n.shadow)(this,"isSyncFontLoadingSupported",L)}_queueLoadingCallback(L){const I=this.loadingContext,U={id:"pdfjs-font-loading-"+I.nextRequestId++,done:!1,complete:function y(){for((0,n.assert)(!U.done,"completeRequest() cannot be called twice."),U.done=!0;I.requests.length>0&&I.requests[0].done;){const H=I.requests.shift();setTimeout(H.callback,0)}},callback:L};return I.requests.push(U),U}get _loadTestFont(){return(0,n.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(L,y,I){function U(_,w){return _.charCodeAt(w)<<24|_.charCodeAt(w+1)<<16|_.charCodeAt(w+2)<<8|255&_.charCodeAt(w+3)}function H(_,w,D,W){return _.substring(0,w)+W+_.substring(w+D)}let N,j;const g=this._document.createElement("canvas");g.width=1,g.height=1;const E=g.getContext("2d");let m=0;const b=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=H(v,976,b.length,b);const d=1482184792;let S=U(v,16);for(N=0,j=b.length-3;N<j;N+=4)S=S-d+U(b,N)|0;N<b.length&&(S=S-d+U(b+"XXX",N)|0),v=H(v,16,4,(0,n.string32)(S));const u=`url(data:font/opentype;base64,${btoa(v)});`;this.insertRule(`@font-face {font-family:"${b}";src:${u}}`);const c=[];for(const _ of y)c.push(_.loadedName);c.push(b);const l=this._document.createElement("div");l.style.visibility="hidden",l.style.width=l.style.height="10px",l.style.position="absolute",l.style.top=l.style.left="0px";for(const _ of c){const w=this._document.createElement("span");w.textContent="Hi",w.style.fontFamily=_,l.appendChild(w)}this._document.body.appendChild(l),function x(_,w){if(m++,m>30)return(0,n.warn)("Load test font never loaded."),void w();E.font="30px "+_,E.fillText(".",0,20),E.getImageData(0,0,1,1).data[3]>0?w():setTimeout(x.bind(null,_,w))}(b,()=>{l.remove(),I.complete()})}},a.FontFaceObject=class z{constructor(L,{isEvalSupported:y=!0,disableFontFace:I=!1,ignoreErrors:U=!1,onUnsupportedFeature:H,fontRegistry:N=null}){this.compiledGlyphs=Object.create(null);for(const j in L)this[j]=L[j];this.isEvalSupported=!1!==y,this.disableFontFace=!0===I,this.ignoreErrors=!0===U,this._onUnsupportedFeature=H,this.fontRegistry=N}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let L;if(this.cssFontInfo){const y={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(y.style=`oblique ${this.cssFontInfo.italicAngle}deg`),L=new FontFace(this.cssFontInfo.fontFamily,this.data,y)}else L=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),L}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const L=(0,n.bytesToString)(this.data),y=`url(data:${this.mimetype};base64,${btoa(L)});`;let I;if(this.cssFontInfo){let U=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(U+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),I=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${U}src:${y}}`}else I=`@font-face {font-family:"${this.loadedName}";src:${y}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,y),I}getPathGenerator(L,y){if(void 0!==this.compiledGlyphs[y])return this.compiledGlyphs[y];let I;try{I=L.get(this.loadedName+"_path_"+y)}catch(U){if(!this.ignoreErrors)throw U;return this._onUnsupportedFeature({featureId:n.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,n.warn)(`getPathGenerator - ignoring character: "${U}".`),this.compiledGlyphs[y]=function(H,N){}}if(this.isEvalSupported&&n.FeatureTest.isEvalSupported){const U=[];for(const H of I){const N=void 0!==H.args?H.args.join(","):"";U.push("c.",H.cmd,"(",N,");\n")}return this.compiledGlyphs[y]=new Function("c","size",U.join(""))}return this.compiledGlyphs[y]=function(U,H){for(const N of I)"scale"===N.cmd&&(N.args=[H,-H]),U[N.cmd].apply(U,N.args)}}}},(G,a,C)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AnnotationStorage=void 0;var n=C(9),T=C(1);a.AnnotationStorage=class M{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(P,L){const y=this._storage.get(P);return void 0===y?L:Object.assign(L,y)}getRawValue(P){return this._storage.get(P)}setValue(P,L){const y=this._storage.get(P);let I=!1;if(void 0!==y)for(const[U,H]of Object.entries(L))y[U]!==H&&(I=!0,y[U]=H);else I=!0,this._storage.set(P,L);I&&this._setModified()}getAll(){return this._storage.size>0?(0,T.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const P=new n.MurmurHash3_64;for(const[L,y]of this._storage)P.update(`${L}:${JSON.stringify(y)}`);return P.hexdigest()}}},(G,a,C)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MurmurHash3_64=void 0;var n=C(1);const T=3285377520,M=4294901760,z=65535;a.MurmurHash3_64=class P{constructor(y){this.h1=y?4294967295&y:T,this.h2=y?4294967295&y:T}update(y){let I,U;if("string"==typeof y){I=new Uint8Array(2*y.length),U=0;for(let d=0,S=y.length;d<S;d++){const u=y.charCodeAt(d);u<=255?I[U++]=u:(I[U++]=u>>>8,I[U++]=255&u)}}else{if(!(0,n.isArrayBuffer)(y))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");I=y.slice(),U=I.byteLength}const H=U>>2,N=U-4*H,j=new Uint32Array(I.buffer,0,H);let g=0,E=0,m=this.h1,x=this.h2;const b=3432918353,v=461845907,t=b&z,i=v&z;for(let d=0;d<H;d++)1&d?(g=j[d],g=g*b&M|g*t&z,g=g<<15|g>>>17,g=g*v&M|g*i&z,m^=g,m=m<<13|m>>>19,m=5*m+3864292196):(E=j[d],E=E*b&M|E*t&z,E=E<<15|E>>>17,E=E*v&M|E*i&z,x^=E,x=x<<13|x>>>19,x=5*x+3864292196);switch(g=0,N){case 3:g^=I[4*H+2]<<16;case 2:g^=I[4*H+1]<<8;case 1:g^=I[4*H],g=g*b&M|g*t&z,g=g<<15|g>>>17,g=g*v&M|g*i&z,1&H?m^=g:x^=g}this.h1=m,this.h2=x}hexdigest(){let y=this.h1,I=this.h2;y^=I>>>1,y=3981806797*y&M|36045*y&z,I=4283543511*I&M|(2950163797*(I<<16|y>>>16)&M)>>>16,y^=I>>>1,y=444984403*y&M|60499*y&z,I=3301882366*I&M|(3120437893*(I<<16|y>>>16)&M)>>>16,y^=I>>>1;const U=(y>>>0).toString(16),H=(I>>>0).toString(16);return U.padStart(8,"0")+H.padStart(8,"0")}}},(G,a,C)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CanvasGraphics=void 0;var n=C(1),T=C(11),M=C(12),z=C(3),P=C(5);const I=4096,g=16,E=1.000001;function x(k){if(k._transformStack&&(k._transformStack=[]),!k.mozCurrentTransform){k._originalSave=k.save,k._originalRestore=k.restore,k._originalRotate=k.rotate,k._originalScale=k.scale,k._originalTranslate=k.translate,k._originalTransform=k.transform,k._originalSetTransform=k.setTransform,k._originalResetTransform=k.resetTransform,k._transformMatrix=k._transformMatrix||[1,0,0,1,0,0],k._transformStack=[];try{const s=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(k),"lineWidth");k._setLineWidth=s.set,k._getLineWidth=s.get,Object.defineProperty(k,"lineWidth",{set:function(r){this._setLineWidth(r*E)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(k,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(k,"mozCurrentTransformInverse",{get:function(){const[e,r,o,f,p,h]=this._transformMatrix,F=e*f-r*o,X=r*o-e*f;return[f/F,r/X,o/X,e/F,(f*p-o*h)/X,(r*p-e*h)/F]}}),k.save=function(){const e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},k.restore=function(){0===this._transformStack.length&&(0,n.warn)("Tried to restore a ctx when the stack was already empty.");const e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},k.translate=function(e,r){const o=this._transformMatrix;o[4]=o[0]*e+o[2]*r+o[4],o[5]=o[1]*e+o[3]*r+o[5],this._originalTranslate(e,r)},k.scale=function(e,r){const o=this._transformMatrix;o[0]*=e,o[1]*=e,o[2]*=r,o[3]*=r,this._originalScale(e,r)},k.transform=function(e,r,o,f,p,h){const F=this._transformMatrix;this._transformMatrix=[F[0]*e+F[2]*r,F[1]*e+F[3]*r,F[0]*o+F[2]*f,F[1]*o+F[3]*f,F[0]*p+F[2]*h+F[4],F[1]*p+F[3]*h+F[5]],k._originalTransform(e,r,o,f,p,h)},k.setTransform=function(e,r,o,f,p,h){this._transformMatrix=[e,r,o,f,p,h],k._originalSetTransform(e,r,o,f,p,h)},k.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],k._originalResetTransform()},k.rotate=function(e){const r=Math.cos(e),o=Math.sin(e),f=this._transformMatrix;this._transformMatrix=[f[0]*r+f[2]*o,f[1]*r+f[3]*o,f[0]*-o+f[2]*r,f[1]*-o+f[3]*r,f[4],f[5]],this._originalRotate(e)}}}class b{constructor(s){this.canvasFactory=s,this.cache=Object.create(null)}getCanvas(s,e,r,o){let f;return void 0!==this.cache[s]?(f=this.cache[s],this.canvasFactory.reset(f,e,r),f.context.setTransform(1,0,0,1,0,0)):(f=this.canvasFactory.create(e,r),this.cache[s]=f),o&&x(f.context),f}delete(s){delete this.cache[s]}clear(){for(const s in this.cache)this.canvasFactory.destroy(this.cache[s]),delete this.cache[s]}}function v(k,s,e,r,o,f,p,h,F,X){const[B,Y,$,Z,ee,he]=k.mozCurrentTransform;if(0===Y&&0===$){const ae=Math.round(p*B+ee),Ce=Math.round(h*Z+he),se=Math.abs(Math.round((p+F)*B+ee)-ae)||1,be=Math.abs(Math.round((h+X)*Z+he)-Ce)||1;return k.setTransform(Math.sign(B),0,0,Math.sign(Z),ae,Ce),k.drawImage(s,e,r,o,f,0,0,se,be),k.setTransform(B,Y,$,Z,ee,he),[se,be]}if(0===B&&0===Z){const ae=Math.round(h*$+ee),Ce=Math.round(p*Y+he),se=Math.abs(Math.round((h+X)*$+ee)-ae)||1,be=Math.abs(Math.round((p+F)*Y+he)-Ce)||1;return k.setTransform(0,Math.sign(Y),Math.sign($),0,ae,Ce),k.drawImage(s,e,r,o,f,0,0,be,se),k.setTransform(B,Y,$,Z,ee,he),[be,se]}return k.drawImage(s,e,r,o,f,p,h,F,X),[Math.hypot(B,Y)*F,Math.hypot($,Z)*X]}class i{constructor(s,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=n.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=n.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,s,e])}clone(){const s=Object.create(this);return s.clipBox=this.clipBox.slice(),s}setCurrentPoint(s,e){this.x=s,this.y=e}updatePathMinMax(s,e,r){[e,r]=n.Util.applyTransform([e,r],s),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(s,e){const r=n.Util.applyTransform(e,s),o=n.Util.applyTransform(e.slice(2),s);this.minX=Math.min(this.minX,r[0],o[0]),this.minY=Math.min(this.minY,r[1],o[1]),this.maxX=Math.max(this.maxX,r[0],o[0]),this.maxY=Math.max(this.maxY,r[1],o[1])}updateScalingPathMinMax(s,e){n.Util.scaleMinMax(s,e),this.minX=Math.min(this.minX,e[0]),this.maxX=Math.max(this.maxX,e[1]),this.minY=Math.min(this.minY,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(s,e,r,o,f,p,h,F,X,B){const Y=n.Util.bezierBoundingBox(e,r,o,f,p,h,F,X);if(B)return B[0]=Math.min(B[0],Y[0],Y[2]),B[1]=Math.max(B[1],Y[0],Y[2]),B[2]=Math.min(B[2],Y[1],Y[3]),void(B[3]=Math.max(B[3],Y[1],Y[3]));this.updateRectMinMax(s,Y)}getPathBoundingBox(s=T.PathType.FILL,e=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(s===T.PathType.STROKE){e||(0,n.unreachable)("Stroke bounding box must include transform.");const o=n.Util.singularValueDecompose2dScale(e),f=o[0]*this.lineWidth/2,p=o[1]*this.lineWidth/2;r[0]-=f,r[1]-=p,r[2]+=f,r[3]+=p}return r}updateClipFromPath(){const s=n.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(s||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(s){this.clipBox=s,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(s=T.PathType.FILL,e=null){return n.Util.intersect(this.clipBox,this.getPathBoundingBox(s,e))}}function d(k,s,e=null){if(typeof ImageData<"u"&&s instanceof ImageData)return void k.putImageData(s,0,0);const r=s.height,o=s.width,f=r%g,p=(r-f)/g,h=0===f?p:p+1,F=k.createImageData(o,g);let B,X=0;const Y=s.data,$=F.data;let Z,ee,he,_e,Ae,me,ae,we;if(e)switch(e.length){case 1:Ae=e[0],me=e[0],ae=e[0],we=e[0];break;case 4:Ae=e[0],me=e[1],ae=e[2],we=e[3]}if(s.kind===n.ImageKind.GRAYSCALE_1BPP){const Ce=Y.byteLength,pe=new Uint32Array($.buffer,0,$.byteLength>>2),se=pe.length,ue=o+7>>3;let be=4294967295,ne=n.FeatureTest.isLittleEndian?4278190080:255;for(we&&255===we[0]&&0===we[255]&&([be,ne]=[ne,be]),Z=0;Z<h;Z++){for(he=Z<p?g:f,B=0,ee=0;ee<he;ee++){const R=Ce-X;let Q=0;const oe=R>ue?o:8*R-7,ge=-8&oe;let q=0,O=0;for(;Q<ge;Q+=8)O=Y[X++],pe[B++]=128&O?be:ne,pe[B++]=64&O?be:ne,pe[B++]=32&O?be:ne,pe[B++]=16&O?be:ne,pe[B++]=8&O?be:ne,pe[B++]=4&O?be:ne,pe[B++]=2&O?be:ne,pe[B++]=1&O?be:ne;for(;Q<oe;Q++)0===q&&(O=Y[X++],q=128),pe[B++]=O&q?be:ne,q>>=1}for(;B<se;)pe[B++]=0;k.putImageData(F,0,Z*g)}}else if(s.kind===n.ImageKind.RGBA_32BPP){const Ce=!!(Ae||me||ae);for(ee=0,_e=o*g*4,Z=0;Z<p;Z++){if($.set(Y.subarray(X,X+_e)),X+=_e,Ce)for(let pe=0;pe<_e;pe+=4)Ae&&($[pe+0]=Ae[$[pe+0]]),me&&($[pe+1]=me[$[pe+1]]),ae&&($[pe+2]=ae[$[pe+2]]);k.putImageData(F,0,ee),ee+=g}if(Z<h){if(_e=o*f*4,$.set(Y.subarray(X,X+_e)),Ce)for(let pe=0;pe<_e;pe+=4)Ae&&($[pe+0]=Ae[$[pe+0]]),me&&($[pe+1]=me[$[pe+1]]),ae&&($[pe+2]=ae[$[pe+2]]);k.putImageData(F,0,ee)}}else{if(s.kind!==n.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${s.kind}`);{const Ce=!!(Ae||me||ae);for(he=g,_e=o*he,Z=0;Z<h;Z++){for(Z>=p&&(he=f,_e=o*he),B=0,ee=_e;ee--;)$[B++]=Y[X++],$[B++]=Y[X++],$[B++]=Y[X++],$[B++]=255;if(Ce)for(let pe=0;pe<B;pe+=4)Ae&&($[pe+0]=Ae[$[pe+0]]),me&&($[pe+1]=me[$[pe+1]]),ae&&($[pe+2]=ae[$[pe+2]]);k.putImageData(F,0,Z*g)}}}}function S(k,s){if(s.bitmap)return void k.drawImage(s.bitmap,0,0);const e=s.height,r=s.width,o=e%g,f=(e-o)/g,p=0===o?f:f+1,h=k.createImageData(r,g);let F=0;const X=s.data,B=h.data;for(let Y=0;Y<p;Y++){const $=Y<f?g:o;({srcPos:F}=(0,M.applyMaskImageData)({src:X,srcPos:F,dest:B,width:r,height:$})),k.putImageData(h,0,Y*g)}}function u(k,s){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let r=0,o=e.length;r<o;r++){const f=e[r];void 0!==k[f]&&(s[f]=k[f])}void 0!==k.setLineDash&&(s.setLineDash(k.getLineDash()),s.lineDashOffset=k.lineDashOffset)}function A(k,s){k.strokeStyle=k.fillStyle=s||"#000000",k.fillRule="nonzero",k.globalAlpha=1,k.lineWidth=1,k.lineCap="butt",k.lineJoin="miter",k.miterLimit=10,k.globalCompositeOperation="source-over",k.font="10px sans-serif",void 0!==k.setLineDash&&(k.setLineDash([]),k.lineDashOffset=0)}function c(k,s,e,r){const o=k.length;for(let f=3;f<o;f+=4){const p=k[f];if(0===p)k[f-3]=s,k[f-2]=e,k[f-1]=r;else if(p<255){const h=255-p;k[f-3]=k[f-3]*p+s*h>>8,k[f-2]=k[f-2]*p+e*h>>8,k[f-1]=k[f-1]*p+r*h>>8}}}function l(k,s,e){const r=k.length;for(let f=3;f<r;f+=4)s[f]=s[f]*(e?e[k[f]]:k[f])*.00392156862745098|0}function _(k,s,e){const r=k.length;for(let o=3;o<r;o+=4){const f=77*k[o-3]+152*k[o-2]+28*k[o-1];s[o]=e?s[o]*e[f>>8]>>8:s[o]*f>>16}}function W(k,s){const e=n.Util.singularValueDecompose2dScale(k);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*P.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==s?s:e[0]<=r||e[1]<=r}const K=["butt","round","square"],J=["miter","round","bevel"],te={},de={};class le{constructor(s,e,r,o,f,p,h,F){this.ctx=s,this.current=new i(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=r,this.canvasFactory=o,this.imageLayer=f,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=p,this.cachedCanvases=new b(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=F?.background||null,this.foregroundColor=F?.foreground||null,s&&x(s),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(s,e=null){return"string"==typeof s?s.startsWith("g_")?this.commonObjs.get(s):this.objs.get(s):e}beginDrawing({transform:s,viewport:e,transparency:r=!1,background:o=null}){const f=this.ctx.canvas.width,p=this.ctx.canvas.height,h=o||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const F=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const X=this.backgroundColor=this.ctx.fillStyle;let B=!0,Y=h;if(this.ctx.fillStyle=h,Y=this.ctx.fillStyle,B="string"==typeof Y&&/^#[0-9A-Fa-f]{6}$/.test(Y),"#000000"===F&&"#ffffff"===X||F===X||!B)this.foregroundColor=this.backgroundColor=null;else{const $=parseInt(Y.slice(1),16),ee=($&&65280)>>8,he=$&&255,_e=me=>(me/=255)<=.03928?me/12.92:((me+.055)/1.055)**2.4,Ae=Math.round(.2126*_e(($&&16711680)>>16)+.7152*_e(ee)+.0722*_e(he));this.selectColor=(me,ae,we)=>{const Ce=.2126*_e(me)+.7152*_e(ae)+.0722*_e(we);return Math.round(Ce)===Ae?X:F}}}if(this.ctx.fillStyle=this.backgroundColor||h,this.ctx.fillRect(0,0,f,p),this.ctx.restore(),r){const F=this.cachedCanvases.getCanvas("transparent",f,p,!0);this.compositeCtx=this.ctx,this.transparentCanvas=F.canvas,this.ctx=F.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),A(this.ctx,this.foregroundColor),s&&(this.ctx.transform.apply(this.ctx,s),this.outputScaleX=s[0],this.outputScaleY=s[0]),this.ctx.transform.apply(this.ctx,e.transform),this.viewportScale=e.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(s,e,r,o){const f=s.argsArray,p=s.fnArray;let h=e||0;const F=f.length;if(F===h)return h;const X=F-h>10&&"function"==typeof r,B=X?Date.now()+15:0;let Y=0;const $=this.commonObjs,Z=this.objs;let ee;for(;;){if(void 0!==o&&h===o.nextBreakPoint)return o.breakIt(h,r),h;if(ee=p[h],ee!==n.OPS.dependency)this[ee].apply(this,f[h]);else for(const he of f[h]){const _e=he.startsWith("g_")?$:Z;if(!_e.has(he))return _e.get(he,r),h}if(h++,h===F)return h;if(X&&++Y>10){if(Date.now()>B)return r(),h;Y=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const s of this._cachedBitmapsMap.values()){for(const e of s.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);s.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(s,e){const r=s.width,o=s.height;let B,Y,f=Math.max(Math.hypot(e[0],e[1]),1),p=Math.max(Math.hypot(e[2],e[3]),1),h=r,F=o,X="prescale1";for(;f>2&&h>1||p>2&&F>1;){let $=h,Z=F;f>2&&h>1&&($=Math.ceil(h/2),f/=h/$),p>2&&F>1&&(Z=Math.ceil(F/2),p/=F/Z),B=this.cachedCanvases.getCanvas(X,$,Z,!1),Y=B.context,Y.clearRect(0,0,$,Z),Y.drawImage(s,0,0,h,F,0,0,$,Z),s=B.canvas,h=$,F=Z,X="prescale1"===X?"prescale2":"prescale1"}return{img:s,paintWidth:h,paintHeight:F}}_createMaskCanvas(s){const e=this.ctx,{width:r,height:o}=s,f=this.current.fillColor,p=this.current.patternFill,h=e.mozCurrentTransform;let F,X,B,Y;if((s.bitmap||s.data)&&s.count>1){const se=s.bitmap||s.data.buffer,ue=h.slice(0,4);X=JSON.stringify(p?ue:[ue,f]),F=this._cachedBitmapsMap.get(se),F||(F=new Map,this._cachedBitmapsMap.set(se,F));const be=F.get(X);if(be&&!p)return{canvas:be,offsetX:Math.round(Math.min(h[0],h[2])+h[4]),offsetY:Math.round(Math.min(h[1],h[3])+h[5])};B=be}B||(Y=this.cachedCanvases.getCanvas("maskCanvas",r,o,!1),S(Y.context,s));let $=n.Util.transform(h,[1/r,0,0,-1/o,0,0]);$=n.Util.transform($,[1,0,0,1,0,-o]);const Z=n.Util.applyTransform([0,0],$),ee=n.Util.applyTransform([r,o],$),he=n.Util.normalizeRect([Z[0],Z[1],ee[0],ee[1]]),_e=Math.round(he[2]-he[0])||1,Ae=Math.round(he[3]-he[1])||1,me=this.cachedCanvases.getCanvas("fillCanvas",_e,Ae,!0),ae=me.context,we=Math.min(Z[0],ee[0]),Ce=Math.min(Z[1],ee[1]);ae.translate(-we,-Ce),ae.transform.apply(ae,$),B||(B=this._scaleImage(Y.canvas,ae.mozCurrentTransformInverse),B=B.img,F&&p&&F.set(X,B)),ae.imageSmoothingEnabled=W(ae.mozCurrentTransform,s.interpolate),v(ae,B,0,0,B.width,B.height,0,0,r,o),ae.globalCompositeOperation="source-in";const pe=n.Util.transform(ae.mozCurrentTransformInverse,[1,0,0,1,-we,-Ce]);return ae.fillStyle=p?f.getPattern(e,this,pe,T.PathType.FILL):f,ae.fillRect(0,0,r,o),F&&!p&&(this.cachedCanvases.delete("fillCanvas"),F.set(X,me.canvas)),{canvas:me.canvas,offsetX:Math.round(we),offsetY:Math.round(Ce)}}setLineWidth(s){s!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=s,this.ctx.lineWidth=s}setLineCap(s){this.ctx.lineCap=K[s]}setLineJoin(s){this.ctx.lineJoin=J[s]}setMiterLimit(s){this.ctx.miterLimit=s}setDash(s,e){const r=this.ctx;void 0!==r.setLineDash&&(r.setLineDash(s),r.lineDashOffset=e)}setRenderingIntent(s){}setFlatness(s){}setGState(s){for(let e=0,r=s.length;e<r;e++){const o=s[e],p=o[1];switch(o[0]){case"LW":this.setLineWidth(p);break;case"LC":this.setLineCap(p);break;case"LJ":this.setLineJoin(p);break;case"ML":this.setMiterLimit(p);break;case"D":this.setDash(p[0],p[1]);break;case"RI":this.setRenderingIntent(p);break;case"FL":this.setFlatness(p);break;case"Font":this.setFont(p[0],p[1]);break;case"CA":this.current.strokeAlpha=o[1];break;case"ca":this.current.fillAlpha=o[1],this.ctx.globalAlpha=o[1];break;case"BM":this.ctx.globalCompositeOperation=p;break;case"SMask":this.current.activeSMask=p?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=p}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const s=this.inSMaskMode;this.current.activeSMask&&!s?this.beginSMaskMode():!this.current.activeSMask&&s&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const o=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=o.context;const f=this.ctx;f.setTransform.apply(f,this.suspendedCtx.mozCurrentTransform),u(this.suspendedCtx,f),function m(k,s){if(k._removeMirroring)throw new Error("Context is already forwarding operations.");k.__originalSave=k.save,k.__originalRestore=k.restore,k.__originalRotate=k.rotate,k.__originalScale=k.scale,k.__originalTranslate=k.translate,k.__originalTransform=k.transform,k.__originalSetTransform=k.setTransform,k.__originalResetTransform=k.resetTransform,k.__originalClip=k.clip,k.__originalMoveTo=k.moveTo,k.__originalLineTo=k.lineTo,k.__originalBezierCurveTo=k.bezierCurveTo,k.__originalRect=k.rect,k.__originalClosePath=k.closePath,k.__originalBeginPath=k.beginPath,k._removeMirroring=()=>{k.save=k.__originalSave,k.restore=k.__originalRestore,k.rotate=k.__originalRotate,k.scale=k.__originalScale,k.translate=k.__originalTranslate,k.transform=k.__originalTransform,k.setTransform=k.__originalSetTransform,k.resetTransform=k.__originalResetTransform,k.clip=k.__originalClip,k.moveTo=k.__originalMoveTo,k.lineTo=k.__originalLineTo,k.bezierCurveTo=k.__originalBezierCurveTo,k.rect=k.__originalRect,k.closePath=k.__originalClosePath,k.beginPath=k.__originalBeginPath,delete k._removeMirroring},k.save=function(){s.save(),this.__originalSave()},k.restore=function(){s.restore(),this.__originalRestore()},k.translate=function(r,o){s.translate(r,o),this.__originalTranslate(r,o)},k.scale=function(r,o){s.scale(r,o),this.__originalScale(r,o)},k.transform=function(r,o,f,p,h,F){s.transform(r,o,f,p,h,F),this.__originalTransform(r,o,f,p,h,F)},k.setTransform=function(r,o,f,p,h,F){s.setTransform(r,o,f,p,h,F),this.__originalSetTransform(r,o,f,p,h,F)},k.resetTransform=function(){s.resetTransform(),this.__originalResetTransform()},k.rotate=function(r){s.rotate(r),this.__originalRotate(r)},k.clip=function(r){s.clip(r),this.__originalClip(r)},k.moveTo=function(e,r){s.moveTo(e,r),this.__originalMoveTo(e,r)},k.lineTo=function(e,r){s.lineTo(e,r),this.__originalLineTo(e,r)},k.bezierCurveTo=function(e,r,o,f,p,h){s.bezierCurveTo(e,r,o,f,p,h),this.__originalBezierCurveTo(e,r,o,f,p,h)},k.rect=function(e,r,o,f){s.rect(e,r,o,f),this.__originalRect(e,r,o,f)},k.closePath=function(){s.closePath(),this.__originalClosePath()},k.beginPath=function(){s.beginPath(),this.__originalBeginPath()}}(f,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),u(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(s){this.current.activeSMask&&(s?(s[0]=Math.floor(s[0]),s[1]=Math.floor(s[1]),s[2]=Math.ceil(s[2]),s[3]=Math.ceil(s[3])):s=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function D(k,s,e,r){const o=r[0],f=r[1],p=r[2]-o,h=r[3]-f;0===p||0===h||(function w(k,s,e,r,o,f,p,h,F,X,B){const Y=!!f,$=Y?f[0]:0,Z=Y?f[1]:0,ee=Y?f[2]:0;let he;he="Luminosity"===o?_:l;const Ae=Math.min(r,Math.ceil(1048576/e));for(let me=0;me<r;me+=Ae){const ae=Math.min(Ae,r-me),we=k.getImageData(h-X,me+(F-B),e,ae),Ce=s.getImageData(h,me+F,e,ae);Y&&c(we.data,$,Z,ee),he(we.data,Ce.data,p),s.putImageData(Ce,h,me+F)}}(s.context,e,p,h,s.subtype,s.backdrop,s.transferMap,o,f,s.offsetX,s.offsetY),k.save(),k.globalAlpha=1,k.globalCompositeOperation="source-over",k.setTransform(1,0,0,1,0,0),k.drawImage(e.canvas,0,0),k.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,s),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(u(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const s=this.current;this.stateStack.push(s),this.current=s.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),u(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(s,e,r,o,f,p){this.ctx.transform(s,e,r,o,f,p),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(s,e,r){const o=this.ctx,f=this.current;let F,X,p=f.x,h=f.y;const B=o.mozCurrentTransform,Y=0===B[0]&&0===B[3]||0===B[1]&&0===B[2],$=Y?r.slice(0):null;for(let Z=0,ee=0,he=s.length;Z<he;Z++)switch(0|s[Z]){case n.OPS.rectangle:p=e[ee++],h=e[ee++];const _e=e[ee++],Ae=e[ee++],me=p+_e,ae=h+Ae;o.moveTo(p,h),0===_e||0===Ae?o.lineTo(me,ae):(o.lineTo(me,h),o.lineTo(me,ae),o.lineTo(p,ae)),Y||f.updateRectMinMax(B,[p,h,me,ae]),o.closePath();break;case n.OPS.moveTo:p=e[ee++],h=e[ee++],o.moveTo(p,h),Y||f.updatePathMinMax(B,p,h);break;case n.OPS.lineTo:p=e[ee++],h=e[ee++],o.lineTo(p,h),Y||f.updatePathMinMax(B,p,h);break;case n.OPS.curveTo:F=p,X=h,p=e[ee+4],h=e[ee+5],o.bezierCurveTo(e[ee],e[ee+1],e[ee+2],e[ee+3],p,h),f.updateCurvePathMinMax(B,F,X,e[ee],e[ee+1],e[ee+2],e[ee+3],p,h,$),ee+=6;break;case n.OPS.curveTo2:F=p,X=h,o.bezierCurveTo(p,h,e[ee],e[ee+1],e[ee+2],e[ee+3]),f.updateCurvePathMinMax(B,F,X,p,h,e[ee],e[ee+1],e[ee+2],e[ee+3],$),p=e[ee+2],h=e[ee+3],ee+=4;break;case n.OPS.curveTo3:F=p,X=h,p=e[ee+2],h=e[ee+3],o.bezierCurveTo(e[ee],e[ee+1],p,h,p,h),f.updateCurvePathMinMax(B,F,X,e[ee],e[ee+1],p,h,p,h,$),ee+=4;break;case n.OPS.closePath:o.closePath()}Y&&f.updateScalingPathMinMax(B,$),f.setCurrentPoint(p,h)}closePath(){this.ctx.closePath()}stroke(s){s=!(typeof s<"u")||s;const e=this.ctx,r=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof r&&r?.getPattern?(e.save(),e.strokeStyle=r.getPattern(e,this,e.mozCurrentTransformInverse,T.PathType.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),s&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(s){s=!(typeof s<"u")||s;const e=this.ctx,r=this.current.fillColor;let f=!1;this.current.patternFill&&(e.save(),e.fillStyle=r.getPattern(e,this,e.mozCurrentTransformInverse,T.PathType.FILL),f=!0);const p=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==p&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),f&&e.restore(),s&&this.consumePath(p)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=te}eoClip(){this.pendingClip=de}beginText(){this.current.textMatrix=n.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const s=this.pendingTextPaths,e=this.ctx;if(void 0!==s){e.save(),e.beginPath();for(let r=0;r<s.length;r++){const o=s[r];e.setTransform.apply(e,o.transform),e.translate(o.x,o.y),o.addToPath(e,o.fontSize)}e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}else e.beginPath()}setCharSpacing(s){this.current.charSpacing=s}setWordSpacing(s){this.current.wordSpacing=s}setHScale(s){this.current.textHScale=s/100}setLeading(s){this.current.leading=-s}setFont(s,e){const r=this.commonObjs.get(s),o=this.current;if(!r)throw new Error(`Can't find font for ${s}`);if(o.fontMatrix=r.fontMatrix||n.FONT_IDENTITY_MATRIX,(0===o.fontMatrix[0]||0===o.fontMatrix[3])&&(0,n.warn)("Invalid font matrix for font "+s),e<0?(e=-e,o.fontDirection=-1):o.fontDirection=1,this.current.font=r,this.current.fontSize=e,r.isType3Font)return;let p="normal";r.black?p="900":r.bold&&(p="bold");const h=r.italic?"italic":"normal",F=`"${r.loadedName||"sans-serif"}", ${r.fallbackName}`;let X=e;e<16?X=16:e>100&&(X=100),this.current.fontSizeScale=e/X,this.ctx.font=`${h} ${p} ${X}px ${F}`}setTextRenderingMode(s){this.current.textRenderingMode=s}setTextRise(s){this.current.textRise=s}moveText(s,e){this.current.x=this.current.lineX+=s,this.current.y=this.current.lineY+=e}setLeadingMoveText(s,e){this.setLeading(-e),this.moveText(s,e)}setTextMatrix(s,e,r,o,f,p){this.current.textMatrix=[s,e,r,o,f,p],this.current.textMatrixScale=Math.hypot(s,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(s,e,r,o){const f=this.ctx,p=this.current,h=p.font,F=p.textRenderingMode,X=p.fontSize/p.fontSizeScale,B=F&n.TextRenderingMode.FILL_STROKE_MASK,Y=!!(F&n.TextRenderingMode.ADD_TO_PATH_FLAG),$=p.patternFill&&!h.missingFile;let Z;(h.disableFontFace||Y||$)&&(Z=h.getPathGenerator(this.commonObjs,s)),h.disableFontFace||$?(f.save(),f.translate(e,r),f.beginPath(),Z(f,X),o&&f.setTransform.apply(f,o),(B===n.TextRenderingMode.FILL||B===n.TextRenderingMode.FILL_STROKE)&&f.fill(),(B===n.TextRenderingMode.STROKE||B===n.TextRenderingMode.FILL_STROKE)&&f.stroke(),f.restore()):((B===n.TextRenderingMode.FILL||B===n.TextRenderingMode.FILL_STROKE)&&f.fillText(s,e,r),(B===n.TextRenderingMode.STROKE||B===n.TextRenderingMode.FILL_STROKE)&&f.strokeText(s,e,r)),Y&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:f.mozCurrentTransform,x:e,y:r,fontSize:X,addToPath:Z})}get isFontSubpixelAAEnabled(){const{context:s}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);s.scale(1.5,1),s.fillText("I",0,10);const e=s.getImageData(0,0,10,10).data;let r=!1;for(let o=3;o<e.length;o+=4)if(e[o]>0&&e[o]<255){r=!0;break}return(0,n.shadow)(this,"isFontSubpixelAAEnabled",r)}showText(s){const e=this.current,r=e.font;if(r.isType3Font)return this.showType3Text(s);const o=e.fontSize;if(0===o)return;const f=this.ctx,p=e.fontSizeScale,h=e.charSpacing,F=e.wordSpacing,X=e.fontDirection,B=e.textHScale*X,Y=s.length,$=r.vertical,Z=$?1:-1,ee=r.defaultVMetrics,he=o*e.fontMatrix[0],_e=e.textRenderingMode===n.TextRenderingMode.FILL&&!r.disableFontFace&&!e.patternFill;let Ae;if(f.save(),f.transform.apply(f,e.textMatrix),f.translate(e.x,e.y+e.textRise),f.scale(B,X>0?-1:1),e.patternFill){f.save();const pe=e.fillColor.getPattern(f,this,f.mozCurrentTransformInverse,T.PathType.FILL);Ae=f.mozCurrentTransform,f.restore(),f.fillStyle=pe}let me=e.lineWidth;const ae=e.textMatrixScale;if(0===ae||0===me){const pe=e.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;(pe===n.TextRenderingMode.STROKE||pe===n.TextRenderingMode.FILL_STROKE)&&(me=this.getSinglePixelWidth())}else me/=ae;1!==p&&(f.scale(p,p),me/=p),f.lineWidth=me;let Ce,we=0;for(Ce=0;Ce<Y;++Ce){const pe=s[Ce];if("number"==typeof pe){we+=Z*pe*o/1e3;continue}let se=!1;const ue=(pe.isSpace?F:0)+h,be=pe.fontChar,ne=pe.accent;let R,Q,ge,oe=pe.width;if($){const q=pe.vmetric||ee,O=-(pe.vmetric?q[1]:.5*oe)*he;oe=q?-q[0]:oe,R=O/p,Q=(we+q[2]*he)/p}else R=we/p,Q=0;if(r.remeasure&&oe>0){const q=1e3*f.measureText(be).width/o*p;if(oe<q&&this.isFontSubpixelAAEnabled){const O=oe/q;se=!0,f.save(),f.scale(O,1),R/=O}else oe!==q&&(R+=(oe-q)/2e3*o/p)}this.contentVisible&&(pe.isInFont||r.missingFile)&&(_e&&!ne?f.fillText(be,R,Q):(this.paintChar(be,R,Q,Ae),ne&&this.paintChar(ne.fontChar,R+o*ne.offset.x/p,Q-o*ne.offset.y/p,Ae))),ge=$?oe*he-ue*X:oe*he+ue*X,we+=ge,se&&f.restore()}$?e.y-=we:e.x+=we*B,f.restore(),this.compose()}showType3Text(s){const e=this.ctx,r=this.current,o=r.font,f=r.fontSize,p=r.fontDirection,h=o.vertical?1:-1,F=r.charSpacing,X=r.wordSpacing,B=r.textHScale*p,Y=r.fontMatrix||n.FONT_IDENTITY_MATRIX,$=s.length;let ee,he,_e,Ae;if(r.textRenderingMode!==n.TextRenderingMode.INVISIBLE&&0!==f){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,e.save(),e.transform.apply(e,r.textMatrix),e.translate(r.x,r.y),e.scale(B,p),ee=0;ee<$;++ee){if(he=s[ee],"number"==typeof he){Ae=h*he*f/1e3,this.ctx.translate(Ae,0),r.x+=Ae*B;continue}const me=(he.isSpace?X:0)+F,ae=o.charProcOperatorList[he.operatorListId];ae?(this.contentVisible&&(this.processingType3=he,this.save(),e.scale(f,f),e.transform.apply(e,Y),this.executeOperatorList(ae),this.restore()),_e=n.Util.applyTransform([he.width,0],Y)[0]*f+me,e.translate(_e,0),r.x+=_e*B):(0,n.warn)(`Type3 character "${he.operatorListId}" is not available.`)}e.restore(),this.processingType3=null}}setCharWidth(s,e){}setCharWidthAndBounds(s,e,r,o,f,p){this.ctx.rect(r,o,f-r,p-o),this.ctx.clip(),this.endPath()}getColorN_Pattern(s){let e;if("TilingPattern"===s[0]){const r=s[1],o=this.baseTransform||this.ctx.mozCurrentTransform.slice();e=new T.TilingPattern(s,r,this.ctx,{createCanvasGraphics:p=>new le(p,this.commonObjs,this.objs,this.canvasFactory)},o)}else e=this._getPattern(s[1],s[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(s,e,r){const o=this.selectColor?.(s,e,r)||n.Util.makeHexColor(s,e,r);this.ctx.strokeStyle=o,this.current.strokeColor=o}setFillRGBColor(s,e,r){const o=this.selectColor?.(s,e,r)||n.Util.makeHexColor(s,e,r);this.ctx.fillStyle=o,this.current.fillColor=o,this.current.patternFill=!1}_getPattern(s,e=null){let r;return this.cachedPatterns.has(s)?r=this.cachedPatterns.get(s):(r=(0,T.getShadingPattern)(this.objs.get(s)),this.cachedPatterns.set(s,r)),e&&(r.matrix=e),r}shadingFill(s){if(!this.contentVisible)return;const e=this.ctx;this.save();const r=this._getPattern(s);e.fillStyle=r.getPattern(e,this,e.mozCurrentTransformInverse,T.PathType.SHADING);const o=e.mozCurrentTransformInverse;if(o){const f=e.canvas,p=f.width,h=f.height,F=n.Util.applyTransform([0,0],o),X=n.Util.applyTransform([0,h],o),B=n.Util.applyTransform([p,0],o),Y=n.Util.applyTransform([p,h],o),$=Math.min(F[0],X[0],B[0],Y[0]),Z=Math.min(F[1],X[1],B[1],Y[1]),ee=Math.max(F[0],X[0],B[0],Y[0]),he=Math.max(F[1],X[1],B[1],Y[1]);this.ctx.fillRect($,Z,ee-$,he-Z)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,n.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,n.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(s,e){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(s)&&6===s.length&&this.transform.apply(this,s),this.baseTransform=this.ctx.mozCurrentTransform,e)&&(this.ctx.rect(e[0],e[1],e[2]-e[0],e[3]-e[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,e),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(s){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;s.isolated||(0,n.info)("TODO: Support non-isolated groups."),s.knockout&&(0,n.warn)("Knockout groups not supported.");const r=e.mozCurrentTransform;if(s.matrix&&e.transform.apply(e,s.matrix),!s.bbox)throw new Error("Bounding box is required.");let o=n.Util.getAxialAlignedBoundingBox(s.bbox,e.mozCurrentTransform);o=n.Util.intersect(o,[0,0,e.canvas.width,e.canvas.height])||[0,0,0,0];const p=Math.floor(o[0]),h=Math.floor(o[1]);let F=Math.max(Math.ceil(o[2])-p,1),X=Math.max(Math.ceil(o[3])-h,1),B=1,Y=1;F>I&&(B=F/I,F=I),X>I&&(Y=X/I,X=I),this.current.startNewPathAndClipBox([0,0,F,X]);let $="groupAt"+this.groupLevel;s.smask&&($+="_smask_"+this.smaskCounter++%2);const Z=this.cachedCanvases.getCanvas($,F,X,!0),ee=Z.context;ee.scale(1/B,1/Y),ee.translate(-p,-h),ee.transform.apply(ee,r),s.smask?this.smaskStack.push({canvas:Z.canvas,context:ee,offsetX:p,offsetY:h,scaleX:B,scaleY:Y,subtype:s.smask.subtype,backdrop:s.smask.backdrop,transferMap:s.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(p,h),e.scale(B,Y),e.save()),u(e,ee),this.ctx=ee,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(s){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,s.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const o=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,o);const f=n.Util.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],o);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(f)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(s,e,r,o,f){if(this.save(),Array.isArray(e)&&4===e.length){const p=e[2]-e[0],h=e[3]-e[1];if(f&&this.annotationCanvasMap){(r=r.slice())[4]-=e[0],r[5]-=e[1],(e=e.slice())[0]=e[1]=0,e[2]=p,e[3]=h;const[F,X]=n.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:B}=this,Y=Math.ceil(p*this.outputScaleX*B),$=Math.ceil(h*this.outputScaleY*B);this.annotationCanvas=this.canvasFactory.create(Y,$);const{canvas:Z,context:ee}=this.annotationCanvas,he=`var(--zoom-factor) * ${P.PixelsPerInch.PDF_TO_CSS_UNITS}`;Z.style.width=`calc(${p}px * ${he})`,Z.style.height=`calc(${h}px * ${he})`,this.annotationCanvasMap.set(s,Z),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ee,this.ctx.setTransform(F,0,0,-X,0,h*X),x(this.ctx),A(this.ctx,this.foregroundColor)}else A(this.ctx,this.foregroundColor),this.ctx.rect(e[0],e[1],p,h),this.ctx.clip(),this.endPath()}this.current=new i(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,r),this.transform.apply(this,o)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(s){if(!this.contentVisible)return;const e=s.count;(s=this.getObject(s.data,s)).count=e;const r=this.ctx,o=this.processingType3;if(o&&(void 0===o.compiled&&(o.compiled=function t(k){const{width:s,height:e}=k;if(s>1e3||e>1e3)return null;const o=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),f=s+1;let h,F,X,p=new Uint8Array(f*(e+1));const B=s+7&-8;let Y=new Uint8Array(B*e),$=0;for(const ae of k.data){let we=128;for(;we>0;)Y[$++]=ae&we?0:255,we>>=1}let Z=0;for($=0,0!==Y[$]&&(p[0]=1,++Z),F=1;F<s;F++)Y[$]!==Y[$+1]&&(p[F]=Y[$]?2:1,++Z),$++;for(0!==Y[$]&&(p[F]=2,++Z),h=1;h<e;h++){$=h*B,X=h*f,Y[$-B]!==Y[$]&&(p[X]=Y[$]?1:8,++Z);let ae=(Y[$]?4:0)+(Y[$-B]?8:0);for(F=1;F<s;F++)ae=(ae>>2)+(Y[$+1]?4:0)+(Y[$-B+1]?8:0),o[ae]&&(p[X+F]=o[ae],++Z),$++;if(Y[$-B]!==Y[$]&&(p[X+F]=Y[$]?2:4,++Z),Z>1e3)return null}for($=B*(e-1),X=h*f,0!==Y[$]&&(p[X]=8,++Z),F=1;F<s;F++)Y[$]!==Y[$+1]&&(p[X+F]=Y[$]?4:8,++Z),$++;if(0!==Y[$]&&(p[X+F]=4,++Z),Z>1e3)return null;const ee=new Int32Array([0,f,-1,0,-f,0,0,0,1]);let he,_e,Ae;for(z.isNodeJS?_e=[]:he=new Path2D,h=0;Z&&h<=e;h++){let ae=h*f;const we=ae+s;for(;ae<we&&!p[ae];)ae++;if(ae===we)continue;he?he.moveTo(ae%f,h):Ae=[ae%f,h];const Ce=ae;let pe=p[ae];do{const se=ee[pe];do{ae+=se}while(!p[ae]);const ue=p[ae];5!==ue&&10!==ue?(pe=ue,p[ae]=0):(pe=ue&51*pe>>4,p[ae]&=pe>>2|pe<<2),he?he.lineTo(ae%f,ae/f|0):Ae.push(ae%f,ae/f|0),p[ae]||--Z}while(Ce!==ae);he||_e.push(Ae),--h}return Y=null,p=null,function(ae){if(ae.save(),ae.scale(1/s,-1/e),ae.translate(0,-e),he)ae.fill(he);else{ae.beginPath();for(const we of _e){ae.moveTo(we[0],we[1]);for(let Ce=2,pe=we.length;Ce<pe;Ce+=2)ae.lineTo(we[Ce],we[Ce+1])}ae.fill()}ae.beginPath(),ae.restore()}}(s)),o.compiled))return void o.compiled(r);const f=this._createMaskCanvas(s),p=f.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(p,f.offsetX,f.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(s,e,r=0,o=0,f,p){if(!this.contentVisible)return;s=this.getObject(s.data,s);const h=this.ctx;h.save();const F=h.mozCurrentTransform;h.transform(e,r,o,f,0,0);const X=this._createMaskCanvas(s);h.setTransform(1,0,0,1,0,0);for(let B=0,Y=p.length;B<Y;B+=2){const $=n.Util.transform(F,[e,r,o,f,p[B],p[B+1]]),[Z,ee]=n.Util.applyTransform([0,0],$);h.drawImage(X.canvas,Z,ee)}h.restore(),this.compose()}paintImageMaskXObjectGroup(s){if(!this.contentVisible)return;const e=this.ctx,r=this.current.fillColor,o=this.current.patternFill;for(let f=0,p=s.length;f<p;f++){const h=s[f],F=h.width,X=h.height,B=this.cachedCanvases.getCanvas("maskCanvas",F,X,!1),Y=B.context;Y.save(),S(Y,h),Y.globalCompositeOperation="source-in",Y.fillStyle=o?r.getPattern(Y,this,e.mozCurrentTransformInverse,T.PathType.FILL):r,Y.fillRect(0,0,F,X),Y.restore(),e.save(),e.transform.apply(e,h.transform),e.scale(1,-1),v(e,B.canvas,0,0,F,X,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(s){if(!this.contentVisible)return;const e=this.getObject(s);e?this.paintInlineImageXObject(e):(0,n.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(s,e,r,o){if(!this.contentVisible)return;const f=this.getObject(s);if(!f)return void(0,n.warn)("Dependent image isn't ready yet");const p=f.width,h=f.height,F=[];for(let X=0,B=o.length;X<B;X+=2)F.push({transform:[e,0,0,r,o[X],o[X+1]],x:0,y:0,w:p,h});this.paintInlineImageXObjectGroup(f,F)}paintInlineImageXObject(s){if(!this.contentVisible)return;const e=s.width,r=s.height,o=this.ctx;let f;if(this.save(),o.scale(1/e,-1/r),"function"==typeof HTMLElement&&s instanceof HTMLElement||!s.data)f=s;else{const X=this.cachedCanvases.getCanvas("inlineImage",e,r,!1);d(X.context,s,this.current.transferMaps),f=X.canvas}const p=this._scaleImage(f,o.mozCurrentTransformInverse);o.imageSmoothingEnabled=W(o.mozCurrentTransform,s.interpolate);const[h,F]=v(o,p.img,0,0,p.paintWidth,p.paintHeight,0,-r,e,r);if(this.imageLayer){const X=this.getCanvasPosition(0,-r);this.imageLayer.appendImage({imgData:s,left:X[0],top:X[1],width:h,height:F})}this.compose(),this.restore()}paintInlineImageXObjectGroup(s,e){if(!this.contentVisible)return;const r=this.ctx,o=s.width,f=s.height,p=this.cachedCanvases.getCanvas("inlineImage",o,f,!1);d(p.context,s,this.current.transferMaps);for(let F=0,X=e.length;F<X;F++){const B=e[F];if(r.save(),r.transform.apply(r,B.transform),r.scale(1,-1),v(r,p.canvas,B.x,B.y,B.w,B.h,0,-1,1,1),this.imageLayer){const Y=this.getCanvasPosition(B.x,B.y);this.imageLayer.appendImage({imgData:s,left:Y[0],top:Y[1],width:o,height:f})}r.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(s){}markPointProps(s,e){}beginMarkedContent(s){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(s,e){this.markedContentStack.push("OC"===s?{visible:this.optionalContentConfig.isVisible(e)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(s){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(s);const r=this.ctx;this.pendingClip&&(e||(this.pendingClip===de?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const s=this.ctx.mozCurrentTransform;if(0===s[1]&&0===s[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(s[0]),Math.abs(s[3]));else{const e=Math.abs(s[0]*s[3]-s[2]*s[1]),r=Math.hypot(s[0],s[2]),o=Math.hypot(s[1],s[3]);this._cachedGetSinglePixelWidth=Math.max(r,o)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:s}=this.current,e=this.ctx.mozCurrentTransform;let r,o;if(0===e[1]&&0===e[2]){const f=Math.abs(e[0]),p=Math.abs(e[3]);if(0===s)r=1/f,o=1/p;else{const h=f*s,F=p*s;r=h<1?1/h:1,o=F<1?1/F:1}}else{const f=Math.abs(e[0]*e[3]-e[2]*e[1]),p=Math.hypot(e[0],e[1]),h=Math.hypot(e[2],e[3]);if(0===s)r=h/f,o=p/f;else{const F=s*f;r=h>F?h/F:1,o=p>F?p/F:1}}this._cachedScaleForStroking=[r,o]}return this._cachedScaleForStroking}rescaleAndStroke(s){const{ctx:e}=this,{lineWidth:r}=this.current,[o,f]=this.getScaleForStroking();if(e.lineWidth=r||1,1===o&&1===f)return void e.stroke();let p,h,F;s&&(p=e.mozCurrentTransform.slice(),h=e.getLineDash().slice(),F=e.lineDashOffset),e.scale(o,f);const X=Math.max(o,f);e.setLineDash(e.getLineDash().map(B=>B/X)),e.lineDashOffset/=X,e.stroke(),s&&(e.setTransform(...p),e.setLineDash(h),e.lineDashOffset=F)}getCanvasPosition(s,e){const r=this.ctx.mozCurrentTransform;return[r[0]*s+r[2]*e+r[4],r[1]*s+r[3]*e+r[5]]}isContentVisible(){for(let s=this.markedContentStack.length-1;s>=0;s--)if(!this.markedContentStack[s].visible)return!1;return!0}}a.CanvasGraphics=le;for(const k in n.OPS)void 0!==le.prototype[k]&&(le.prototype[n.OPS[k]]=le.prototype[k])},(G,a,C)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TilingPattern=a.PathType=void 0,a.getShadingPattern=function N(E){switch(E[0]){case"RadialAxial":return new L(E);case"Mesh":return new U(E);case"Dummy":return new H}throw new Error(`Unknown IR type: ${E[0]}`)};var n=C(1),T=C(3);const M={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function z(E,m){if(!m||T.isNodeJS)return;const x=m[2]-m[0],b=m[3]-m[1],v=new Path2D;v.rect(m[0],m[1],x,b),E.clip(v)}a.PathType=M;class P{constructor(){this.constructor===P&&(0,n.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,n.unreachable)("Abstract method `getPattern` called.")}}class L extends P{constructor(m){super(),this._type=m[1],this._bbox=m[2],this._colorStops=m[3],this._p0=m[4],this._p1=m[5],this._r0=m[6],this._r1=m[7],this.matrix=null}_createGradient(m){let x;"axial"===this._type?x=m.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(x=m.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const b of this._colorStops)x.addColorStop(b[0],b[1]);return x}getPattern(m,x,b,v){let t;if(v===M.STROKE||v===M.FILL){const i=x.current.getClippedPathBoundingBox(v,m.mozCurrentTransform)||[0,0,0,0],d=Math.ceil(i[2]-i[0])||1,S=Math.ceil(i[3]-i[1])||1,u=x.cachedCanvases.getCanvas("pattern",d,S,!0),A=u.context;A.clearRect(0,0,A.canvas.width,A.canvas.height),A.beginPath(),A.rect(0,0,A.canvas.width,A.canvas.height),A.translate(-i[0],-i[1]),b=n.Util.transform(b,[1,0,0,1,i[0],i[1]]),A.transform.apply(A,x.baseTransform),this.matrix&&A.transform.apply(A,this.matrix),z(A,this._bbox),A.fillStyle=this._createGradient(A),A.fill(),t=m.createPattern(u.canvas,"no-repeat");const c=new DOMMatrix(b);try{t.setTransform(c)}catch(l){(0,n.warn)(`RadialAxialShadingPattern.getPattern: "${l?.message}".`)}}else z(m,this._bbox),t=this._createGradient(m);return t}}function y(E,m,x,b,v,t,i,d){const S=m.coords,u=m.colors,A=E.data,c=4*E.width;let l;S[x+1]>S[b+1]&&(l=x,x=b,b=l,l=t,t=i,i=l),S[b+1]>S[v+1]&&(l=b,b=v,v=l,l=i,i=d,d=l),S[x+1]>S[b+1]&&(l=x,x=b,b=l,l=t,t=i,i=l);const _=(S[x]+m.offsetX)*m.scaleX,w=(S[x+1]+m.offsetY)*m.scaleY,D=(S[b]+m.offsetX)*m.scaleX,W=(S[b+1]+m.offsetY)*m.scaleY,K=(S[v]+m.offsetX)*m.scaleX,J=(S[v+1]+m.offsetY)*m.scaleY;if(w>=J)return;const te=u[t],de=u[t+1],le=u[t+2],k=u[i],s=u[i+1],e=u[i+2],r=u[d],o=u[d+1],f=u[d+2],p=Math.round(w),h=Math.round(J);let F,X,B,Y,$,Z,ee,he;for(let _e=p;_e<=h;_e++){if(_e<W){let Ce;Ce=_e<w?0:(w-_e)/(w-W),F=_-(_-D)*Ce,X=te-(te-k)*Ce,B=de-(de-s)*Ce,Y=le-(le-e)*Ce}else{let Ce;Ce=_e>J?1:W===J?0:(W-_e)/(W-J),F=D-(D-K)*Ce,X=k-(k-r)*Ce,B=s-(s-o)*Ce,Y=e-(e-f)*Ce}let Ae;Ae=_e<w?0:_e>J?1:(w-_e)/(w-J),$=_-(_-K)*Ae,Z=te-(te-r)*Ae,ee=de-(de-o)*Ae,he=le-(le-f)*Ae;const me=Math.round(Math.min(F,$)),ae=Math.round(Math.max(F,$));let we=c*_e+4*me;for(let Ce=me;Ce<=ae;Ce++)Ae=(F-Ce)/(F-$),Ae<0?Ae=0:Ae>1&&(Ae=1),A[we++]=X-(X-Z)*Ae|0,A[we++]=B-(B-ee)*Ae|0,A[we++]=Y-(Y-he)*Ae|0,A[we++]=255}}function I(E,m,x){const b=m.coords,v=m.colors;let t,i;switch(m.type){case"lattice":const d=m.verticesPerRow,S=Math.floor(b.length/d)-1,u=d-1;for(t=0;t<S;t++){let A=t*d;for(let c=0;c<u;c++,A++)y(E,x,b[A],b[A+1],b[A+d],v[A],v[A+1],v[A+d]),y(E,x,b[A+d+1],b[A+1],b[A+d],v[A+d+1],v[A+1],v[A+d])}break;case"triangles":for(t=0,i=b.length;t<i;t+=3)y(E,x,b[t],b[t+1],b[t+2],v[t],v[t+1],v[t+2]);break;default:throw new Error("illegal figure")}}class U extends P{constructor(m){super(),this._coords=m[2],this._colors=m[3],this._figures=m[4],this._bounds=m[5],this._bbox=m[7],this._background=m[8],this.matrix=null}_createMeshCanvas(m,x,b){const d=Math.floor(this._bounds[0]),S=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-d,A=Math.ceil(this._bounds[3])-S,c=Math.min(Math.ceil(Math.abs(u*m[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(A*m[1]*1.1)),3e3),_=u/c,w=A/l,D={coords:this._coords,colors:this._colors,offsetX:-d,offsetY:-S,scaleX:1/_,scaleY:1/w},J=b.getCanvas("mesh",c+4,l+4,!1),te=J.context,de=te.createImageData(c,l);if(x){const k=de.data;for(let s=0,e=k.length;s<e;s+=4)k[s]=x[0],k[s+1]=x[1],k[s+2]=x[2],k[s+3]=255}for(const k of this._figures)I(de,k,D);return te.putImageData(de,2,2),{canvas:J.canvas,offsetX:d-2*_,offsetY:S-2*w,scaleX:_,scaleY:w}}getPattern(m,x,b,v){let t;if(z(m,this._bbox),v===M.SHADING)t=n.Util.singularValueDecompose2dScale(m.mozCurrentTransform);else if(t=n.Util.singularValueDecompose2dScale(x.baseTransform),this.matrix){const d=n.Util.singularValueDecompose2dScale(this.matrix);t=[t[0]*d[0],t[1]*d[1]]}const i=this._createMeshCanvas(t,v===M.SHADING?null:this._background,x.cachedCanvases);return v!==M.SHADING&&(m.setTransform.apply(m,x.baseTransform),this.matrix&&m.transform.apply(m,this.matrix)),m.translate(i.offsetX,i.offsetY),m.scale(i.scaleX,i.scaleY),m.createPattern(i.canvas,"no-repeat")}}class H extends P{getPattern(){return"hotpink"}}class g{static get MAX_PATTERN_SIZE(){return(0,n.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(m,x,b,v,t){this.operatorList=m[2],this.matrix=m[3]||[1,0,0,1,0,0],this.bbox=m[4],this.xstep=m[5],this.ystep=m[6],this.paintType=m[7],this.tilingType=m[8],this.color=x,this.ctx=b,this.canvasGraphicsFactory=v,this.baseTransform=t}createPatternCanvas(m){const x=this.operatorList,b=this.bbox,v=this.xstep,t=this.ystep,i=this.paintType,S=this.color,u=this.canvasGraphicsFactory;(0,n.info)("TilingType: "+this.tilingType);const A=b[0],c=b[1],l=b[2],_=b[3],w=n.Util.singularValueDecompose2dScale(this.matrix),D=n.Util.singularValueDecompose2dScale(this.baseTransform),W=[w[0]*D[0],w[1]*D[1]],K=this.getSizeAndScale(v,this.ctx.canvas.width,W[0]),J=this.getSizeAndScale(t,this.ctx.canvas.height,W[1]),te=m.cachedCanvases.getCanvas("pattern",K.size,J.size,!0),de=te.context,le=u.createCanvasGraphics(de);le.groupLevel=m.groupLevel,this.setFillAndStrokeStyleToContext(le,i,S);let k=A,s=c,e=l,r=_;return A<0&&(k=0,e+=Math.abs(A)),c<0&&(s=0,r+=Math.abs(c)),de.translate(-K.scale*k,-J.scale*s),le.transform(K.scale,0,0,J.scale,0,0),de.save(),this.clipBbox(le,k,s,e,r),le.baseTransform=le.ctx.mozCurrentTransform.slice(),le.executeOperatorList(x),le.endDrawing(),{canvas:te.canvas,scaleX:K.scale,scaleY:J.scale,offsetX:k,offsetY:s}}getSizeAndScale(m,x,b){m=Math.abs(m);const v=Math.max(g.MAX_PATTERN_SIZE,x);let t=Math.ceil(m*b);return t>=v?t=v:b=t/m,{scale:b,size:t}}clipBbox(m,x,b,v,t){m.ctx.rect(x,b,v-x,t-b),m.current.updateRectMinMax(m.ctx.mozCurrentTransform,[x,b,v,t]),m.clip(),m.endPath()}setFillAndStrokeStyleToContext(m,x,b){const v=m.ctx,t=m.current;switch(x){case 1:const i=this.ctx;v.fillStyle=i.fillStyle,v.strokeStyle=i.strokeStyle,t.fillColor=i.fillStyle,t.strokeColor=i.strokeStyle;break;case 2:const d=n.Util.makeHexColor(b[0],b[1],b[2]);v.fillStyle=d,v.strokeStyle=d,t.fillColor=d,t.strokeColor=d;break;default:throw new n.FormatError(`Unsupported paint type: ${x}`)}}getPattern(m,x,b,v){let t=b;v!==M.SHADING&&(t=n.Util.transform(t,x.baseTransform),this.matrix&&(t=n.Util.transform(t,this.matrix)));const i=this.createPatternCanvas(x);let d=new DOMMatrix(t);d=d.translate(i.offsetX,i.offsetY),d=d.scale(1/i.scaleX,1/i.scaleY);const S=m.createPattern(i.canvas,"repeat");try{S.setTransform(d)}catch(u){(0,n.warn)(`TilingPattern.getPattern: "${u?.message}".`)}return S}}a.TilingPattern=g},(G,a,C)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.applyMaskImageData=function T({src:M,srcPos:z=0,dest:P,destPos:L=0,width:y,height:I,inverseDecode:U=!1}){const H=n.FeatureTest.isLittleEndian?4278190080:255,[N,j]=U?[0,H]:[H,0],g=y>>3,E=7&y,m=M.length;P=new Uint32Array(P.buffer);for(let x=0;x<I;x++){for(const v=z+g;z<v;z++){const t=z<m?M[z]:255;P[L++]=128&t?j:N,P[L++]=64&t?j:N,P[L++]=32&t?j:N,P[L++]=16&t?j:N,P[L++]=8&t?j:N,P[L++]=4&t?j:N,P[L++]=2&t?j:N,P[L++]=1&t?j:N}if(0===E)continue;const b=z<m?M[z++]:255;for(let v=0;v<E;v++)P[L++]=b&1<<7-v?j:N}return{srcPos:z,destPos:L}};var n=C(1)},(G,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.GlobalWorkerOptions=void 0;const C=Object.create(null);a.GlobalWorkerOptions=C,C.workerPort=void 0===C.workerPort?null:C.workerPort,C.workerSrc=void 0===C.workerSrc?"":C.workerSrc},(G,a,C)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MessageHandler=void 0;var n=C(1);function z(L){switch(L instanceof Error||"object"==typeof L&&null!==L||(0,n.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),L.name){case"AbortException":return new n.AbortException(L.message);case"MissingPDFException":return new n.MissingPDFException(L.message);case"PasswordException":return new n.PasswordException(L.message,L.code);case"UnexpectedResponseException":return new n.UnexpectedResponseException(L.message,L.status);case"UnknownErrorException":return new n.UnknownErrorException(L.message,L.details);default:return new n.UnknownErrorException(L.message,L.toString())}}a.MessageHandler=class P{constructor(y,I,U){this.sourceName=y,this.targetName=I,this.comObj=U,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=H=>{const N=H.data;if(N.targetName!==this.sourceName)return;if(N.stream)return void this._processStreamMessage(N);if(N.callback){const g=N.callbackId,E=this.callbackCapabilities[g];if(!E)throw new Error(`Cannot resolve callback ${g}`);if(delete this.callbackCapabilities[g],1===N.callback)E.resolve(N.data);else{if(2!==N.callback)throw new Error("Unexpected callback case");E.reject(z(N.reason))}return}const j=this.actionHandler[N.action];if(!j)throw new Error(`Unknown action from worker: ${N.action}`);if(N.callbackId){const g=this.sourceName,E=N.sourceName;new Promise(function(m){m(j(N.data))}).then(function(m){U.postMessage({sourceName:g,targetName:E,callback:1,callbackId:N.callbackId,data:m})},function(m){U.postMessage({sourceName:g,targetName:E,callback:2,callbackId:N.callbackId,reason:z(m)})})}else N.streamId?this._createStreamSink(N):j(N.data)},U.addEventListener("message",this._onComObjOnMessage)}on(y,I){const U=this.actionHandler;if(U[y])throw new Error(`There is already an actionName called "${y}"`);U[y]=I}send(y,I,U){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:y,data:I},U)}sendWithPromise(y,I,U){const H=this.callbackId++,N=(0,n.createPromiseCapability)();this.callbackCapabilities[H]=N;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:y,callbackId:H,data:I},U)}catch(j){N.reject(j)}return N.promise}sendWithStream(y,I,U,H){const N=this.streamId++,j=this.sourceName,g=this.targetName,E=this.comObj;return new ReadableStream({start:m=>{const x=(0,n.createPromiseCapability)();return this.streamControllers[N]={controller:m,startCall:x,pullCall:null,cancelCall:null,isClosed:!1},E.postMessage({sourceName:j,targetName:g,action:y,streamId:N,data:I,desiredSize:m.desiredSize},H),x.promise},pull:m=>{const x=(0,n.createPromiseCapability)();return this.streamControllers[N].pullCall=x,E.postMessage({sourceName:j,targetName:g,stream:6,streamId:N,desiredSize:m.desiredSize}),x.promise},cancel:m=>{(0,n.assert)(m instanceof Error,"cancel must have a valid reason");const x=(0,n.createPromiseCapability)();return this.streamControllers[N].cancelCall=x,this.streamControllers[N].isClosed=!0,E.postMessage({sourceName:j,targetName:g,stream:1,streamId:N,reason:z(m)}),x.promise}},U)}_createStreamSink(y){const I=y.streamId,U=this.sourceName,H=y.sourceName,N=this.comObj,j=this,g=this.actionHandler[y.action],E={enqueue(m,x=1,b){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=x,v>0&&this.desiredSize<=0&&(this.sinkCapability=(0,n.createPromiseCapability)(),this.ready=this.sinkCapability.promise),N.postMessage({sourceName:U,targetName:H,stream:4,streamId:I,chunk:m},b)},close(){this.isCancelled||(this.isCancelled=!0,N.postMessage({sourceName:U,targetName:H,stream:3,streamId:I}),delete j.streamSinks[I])},error(m){(0,n.assert)(m instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,N.postMessage({sourceName:U,targetName:H,stream:5,streamId:I,reason:z(m)}))},sinkCapability:(0,n.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:y.desiredSize,ready:null};E.sinkCapability.resolve(),E.ready=E.sinkCapability.promise,this.streamSinks[I]=E,new Promise(function(m){m(g(y.data,E))}).then(function(){N.postMessage({sourceName:U,targetName:H,stream:8,streamId:I,success:!0})},function(m){N.postMessage({sourceName:U,targetName:H,stream:8,streamId:I,reason:z(m)})})}_processStreamMessage(y){const I=y.streamId,U=this.sourceName,H=y.sourceName,N=this.comObj,j=this.streamControllers[I],g=this.streamSinks[I];switch(y.stream){case 8:y.success?j.startCall.resolve():j.startCall.reject(z(y.reason));break;case 7:y.success?j.pullCall.resolve():j.pullCall.reject(z(y.reason));break;case 6:if(!g){N.postMessage({sourceName:U,targetName:H,stream:7,streamId:I,success:!0});break}g.desiredSize<=0&&y.desiredSize>0&&g.sinkCapability.resolve(),g.desiredSize=y.desiredSize,new Promise(function(E){E(g.onPull&&g.onPull())}).then(function(){N.postMessage({sourceName:U,targetName:H,stream:7,streamId:I,success:!0})},function(E){N.postMessage({sourceName:U,targetName:H,stream:7,streamId:I,reason:z(E)})});break;case 4:if((0,n.assert)(j,"enqueue should have stream controller"),j.isClosed)break;j.controller.enqueue(y.chunk);break;case 3:if((0,n.assert)(j,"close should have stream controller"),j.isClosed)break;j.isClosed=!0,j.controller.close(),this._deleteStreamController(j,I);break;case 5:(0,n.assert)(j,"error should have stream controller"),j.controller.error(z(y.reason)),this._deleteStreamController(j,I);break;case 2:y.success?j.cancelCall.resolve():j.cancelCall.reject(z(y.reason)),this._deleteStreamController(j,I);break;case 1:if(!g)break;new Promise(function(E){E(g.onCancel&&g.onCancel(z(y.reason)))}).then(function(){N.postMessage({sourceName:U,targetName:H,stream:2,streamId:I,success:!0})},function(E){N.postMessage({sourceName:U,targetName:H,stream:2,streamId:I,reason:z(E)})}),g.sinkCapability.reject(z(y.reason)),g.isCancelled=!0,delete this.streamSinks[I];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(y,I){var U=this;return _asyncToGenerator(function*(){yield Promise.allSettled([y.startCall&&y.startCall.promise,y.pullCall&&y.pullCall.promise,y.cancelCall&&y.cancelCall.promise]),delete U.streamControllers[I]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(G,a,C)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Metadata=void 0;var n=C(1),T=new WeakMap,M=new WeakMap;a.Metadata=class z{constructor({parsedData:L,rawData:y}){_classPrivateFieldInitSpec(this,T,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,M,{writable:!0,value:void 0}),_classPrivateFieldSet(this,T,L),_classPrivateFieldSet(this,M,y)}getRaw(){return _classPrivateFieldGet(this,M)}get(L){return _classPrivateFieldGet(this,T).get(L)??null}getAll(){return(0,n.objectFromMap)(_classPrivateFieldGet(this,T))}has(L){return _classPrivateFieldGet(this,T).has(L)}}},(G,a,C)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.OptionalContentConfig=void 0;var n=C(1);class T{constructor(P,L){this.visible=!0,this.name=P,this.intent=L}}a.OptionalContentConfig=class M{constructor(P){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==P){this.name=P.name,this.creator=P.creator,this._order=P.order;for(const L of P.groups)this._groups.set(L.id,new T(L.name,L.intent));if("OFF"===P.baseState)for(const L of this._groups)L.visible=!1;for(const L of P.on)this._groups.get(L).visible=!0;for(const L of P.off)this._groups.get(L).visible=!1}}_evaluateVisibilityExpression(P){const L=P.length;if(L<2)return!0;const y=P[0];for(let I=1;I<L;I++){const U=P[I];let H;if(Array.isArray(U))H=this._evaluateVisibilityExpression(U);else{if(!this._groups.has(U))return(0,n.warn)(`Optional content group not found: ${U}`),!0;H=this._groups.get(U).visible}switch(y){case"And":if(!H)return!1;break;case"Or":if(H)return!0;break;case"Not":return!H;default:return!0}}return"And"===y}isVisible(P){if(0===this._groups.size)return!0;if(!P)return(0,n.warn)("Optional content group not defined."),!0;if("OCG"===P.type)return this._groups.has(P.id)?this._groups.get(P.id).visible:((0,n.warn)(`Optional content group not found: ${P.id}`),!0);if("OCMD"===P.type){if(P.expression)return this._evaluateVisibilityExpression(P.expression);if(!P.policy||"AnyOn"===P.policy){for(const L of P.ids){if(!this._groups.has(L))return(0,n.warn)(`Optional content group not found: ${L}`),!0;if(this._groups.get(L).visible)return!0}return!1}if("AllOn"===P.policy){for(const L of P.ids){if(!this._groups.has(L))return(0,n.warn)(`Optional content group not found: ${L}`),!0;if(!this._groups.get(L).visible)return!1}return!0}if("AnyOff"===P.policy){for(const L of P.ids){if(!this._groups.has(L))return(0,n.warn)(`Optional content group not found: ${L}`),!0;if(!this._groups.get(L).visible)return!0}return!1}if("AllOff"===P.policy){for(const L of P.ids){if(!this._groups.has(L))return(0,n.warn)(`Optional content group not found: ${L}`),!0;if(this._groups.get(L).visible)return!1}return!0}return(0,n.warn)(`Unknown optional content policy ${P.policy}.`),!0}return(0,n.warn)(`Unknown group type ${P.type}.`),!0}setVisibility(P,L=!0){this._groups.has(P)?this._groups.get(P).visible=!!L:(0,n.warn)(`Optional content group not found: ${P}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,n.objectFromMap)(this._groups):null}getGroup(P){return this._groups.get(P)||null}}},(G,a,C)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFDataTransportStream=void 0;var n=C(1),T=C(5);a.PDFDataTransportStream=class M{constructor(y,I){(0,n.assert)(I,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=y.progressiveDone||!1,this._contentDispositionFilename=y.contentDispositionFilename||null;const U=y.initialData;if(U?.length>0){const H=new Uint8Array(U).buffer;this._queuedChunks.push(H)}this._pdfDataRangeTransport=I,this._isStreamingSupported=!y.disableStream,this._isRangeSupported=!y.disableRange,this._contentLength=y.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((H,N)=>{this._onReceiveData({begin:H,chunk:N})}),this._pdfDataRangeTransport.addProgressListener((H,N)=>{this._onProgress({loaded:H,total:N})}),this._pdfDataRangeTransport.addProgressiveReadListener(H=>{this._onReceiveData({chunk:H})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(y){const I=new Uint8Array(y.chunk).buffer;if(void 0===y.begin)this._fullRequestReader?this._fullRequestReader._enqueue(I):this._queuedChunks.push(I);else{const U=this._rangeReaders.some(function(H){return H._begin===y.begin&&(H._enqueue(I),!0)});(0,n.assert)(U,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(y){if(void 0===y.total){const I=this._rangeReaders[0];I?.onProgress&&I.onProgress({loaded:y.loaded})}else{const I=this._fullRequestReader;I?.onProgress&&I.onProgress({loaded:y.loaded,total:y.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(y){const I=this._rangeReaders.indexOf(y);I>=0&&this._rangeReaders.splice(I,1)}getFullReader(){(0,n.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const y=this._queuedChunks;return this._queuedChunks=null,new z(this,y,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(y,I){if(I<=this._progressiveDataLength)return null;const U=new P(this,y,I);return this._pdfDataRangeTransport.requestDataRange(y,I),this._rangeReaders.push(U),U}cancelAllRequests(y){this._fullRequestReader&&this._fullRequestReader.cancel(y);for(const I of this._rangeReaders.slice(0))I.cancel(y);this._pdfDataRangeTransport.abort()}};class z{constructor(y,I,U=!1,H=null){this._stream=y,this._done=U||!1,this._filename=(0,T.isPdfFile)(H)?H:null,this._queuedChunks=I||[],this._loaded=0;for(const N of this._queuedChunks)this._loaded+=N.byteLength;this._requests=[],this._headersReady=Promise.resolve(),y._fullRequestReader=this,this.onProgress=null}_enqueue(y){this._done||(this._requests.length>0?this._requests.shift().resolve({value:y,done:!1}):this._queuedChunks.push(y),this._loaded+=y.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var y=this;return _asyncToGenerator(function*(){if(y._queuedChunks.length>0)return{value:y._queuedChunks.shift(),done:!1};if(y._done)return{value:void 0,done:!0};const I=(0,n.createPromiseCapability)();return y._requests.push(I),I.promise})()}cancel(y){this._done=!0;for(const I of this._requests)I.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class P{constructor(y,I,U){this._stream=y,this._begin=I,this._end=U,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(y){if(!this._done){if(0===this._requests.length)this._queuedChunk=y;else{this._requests.shift().resolve({value:y,done:!1});for(const U of this._requests)U.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var y=this;return _asyncToGenerator(function*(){if(y._queuedChunk){const U=y._queuedChunk;return y._queuedChunk=null,{value:U,done:!1}}if(y._done)return{value:void 0,done:!0};const I=(0,n.createPromiseCapability)();return y._requests.push(I),I.promise})()}cancel(y){this._done=!0;for(const I of this._requests)I.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(G,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.XfaText=void 0;class C{static textContent(T){const M=[],z={items:M,styles:Object.create(null)};return function P(L){if(!L)return;let y=null;const I=L.name;if("#text"===I)y=L.value;else{if(!C.shouldBuildText(I))return;L?.attributes?.textContent?y=L.attributes.textContent:L.value&&(y=L.value)}if(null!==y&&M.push({str:y}),L.children)for(const U of L.children)P(U)}(T),z}static shouldBuildText(T){return!("textarea"===T||"input"===T||"option"===T||"select"===T)}}a.XfaText=C},(G,a,C)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.NodeStandardFontDataFactory=a.NodeCanvasFactory=a.NodeCMapReaderFactory=void 0;var n=C(6);const T=function(L){return new Promise((y,I)=>{__webpack_require__(172).readFile(L,(H,N)=>{!H&&N?y(new Uint8Array(N)):I(new Error(H))})})};a.NodeCanvasFactory=class M extends n.BaseCanvasFactory{_createCanvas(y,I){return __webpack_require__(3414).createCanvas(y,I)}},a.NodeCMapReaderFactory=class z extends n.BaseCMapReaderFactory{_fetchData(y,I){return T(y).then(U=>({cMapData:U,compressionType:I}))}},a.NodeStandardFontDataFactory=class P extends n.BaseStandardFontDataFactory{_fetchData(y){return T(y)}}},(G,a,C)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AnnotationLayer=void 0;var n=C(1),T=C(5),M=C(8),z=C(21),P=C(22);const L=1e3,y=new WeakSet;function I(s){return{width:s[2]-s[0],height:s[3]-s[1]}}class U{static create(e){switch(e.data.annotationType){case n.AnnotationType.LINK:return new N(e);case n.AnnotationType.TEXT:return new j(e);case n.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new E(e);case"Btn":return e.data.radioButton?new x(e):e.data.checkBox?new m(e):new b(e);case"Ch":return new v(e)}return new g(e);case n.AnnotationType.POPUP:return new t(e);case n.AnnotationType.FREETEXT:return new d(e);case n.AnnotationType.LINE:return new S(e);case n.AnnotationType.SQUARE:return new u(e);case n.AnnotationType.CIRCLE:return new A(e);case n.AnnotationType.POLYLINE:return new c(e);case n.AnnotationType.CARET:return new _(e);case n.AnnotationType.INK:return new w(e);case n.AnnotationType.POLYGON:return new l(e);case n.AnnotationType.HIGHLIGHT:return new D(e);case n.AnnotationType.UNDERLINE:return new W(e);case n.AnnotationType.SQUIGGLY:return new K(e);case n.AnnotationType.STRIKEOUT:return new J(e);case n.AnnotationType.STAMP:return new te(e);case n.AnnotationType.FILEATTACHMENT:return new de(e);default:return new H(e)}}}class H{constructor(e,{isRenderable:r=!1,ignoreBorder:o=!1,createQuadrilaterals:f=!1}={}){this.isRenderable=r,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this._mouseState=e.mouseState,r&&(this.container=this._createContainer(o)),f&&(this.quadrilaterals=this._createQuadrilaterals(o))}_createContainer(e=!1){const r=this.data,o=this.page,f=this.viewport,p=document.createElement("section");let{width:h,height:F}=I(r.rect);p.setAttribute("data-annotation-id",r.id);const X=n.Util.normalizeRect([r.rect[0],o.view[3]-r.rect[1]+o.view[1],r.rect[2],o.view[3]-r.rect[3]+o.view[1]]);if(r.hasOwnCanvas){const B=f.transform.slice(),[Y,$]=n.Util.singularValueDecompose2dScale(B);h=Math.ceil(h*Y),F=Math.ceil(F*$),X[0]*=Y,X[1]*=$;for(let Z=0;Z<4;Z++)B[Z]=Math.sign(B[Z]);p.style.transform=`matrix(${B.join(",")})`}else p.style.transform=`matrix(${f.transform.join(",")})`;if(p.style.transformOrigin=`${-X[0]}px ${-X[1]}px`,!e&&r.borderStyle.width>0){p.style.borderWidth=`${r.borderStyle.width}px`,r.borderStyle.style!==n.AnnotationBorderStyleType.UNDERLINE&&(h-=2*r.borderStyle.width,F-=2*r.borderStyle.width);const B=r.borderStyle.horizontalCornerRadius,Y=r.borderStyle.verticalCornerRadius;switch((B>0||Y>0)&&(p.style.borderRadius=`${B}px / ${Y}px`),r.borderStyle.style){case n.AnnotationBorderStyleType.SOLID:p.style.borderStyle="solid";break;case n.AnnotationBorderStyleType.DASHED:p.style.borderStyle="dashed";break;case n.AnnotationBorderStyleType.BEVELED:(0,n.warn)("Unimplemented border style: beveled");break;case n.AnnotationBorderStyleType.INSET:(0,n.warn)("Unimplemented border style: inset");break;case n.AnnotationBorderStyleType.UNDERLINE:p.style.borderBottomStyle="solid"}r.borderColor||r.color?p.style.borderColor=n.Util.makeHexColor(0|r.color[0],0|r.color[1],0|r.color[2]):p.style.borderWidth=0}return p.style.left=`${X[0]}px`,p.style.top=`${X[1]}px`,r.hasOwnCanvas?p.style.width=p.style.height="auto":(p.style.width=`${h}px`,p.style.height=`${F}px`),p}get _commonActions(){const e=(r,o,f)=>{const p=f.detail[r];f.target.style[o]=z.ColorConverters[`${p[0]}_HTML`](p.slice(1))};return(0,n.shadow)(this,"_commonActions",{display:r=>{const o=r.detail.display%2==1;r.target.style.visibility=o?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:o,print:0===r.detail.display||3===r.detail.display})},print:r=>{this.annotationStorage.setValue(this.data.id,{print:r.detail.print})},hidden:r=>{r.target.style.visibility=r.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:r.detail.hidden})},focus:r=>{setTimeout(()=>r.target.focus({preventScroll:!1}),0)},userName:r=>{r.target.title=r.detail.userName},readonly:r=>{r.detail.readonly?r.target.setAttribute("readonly",""):r.target.removeAttribute("readonly")},required:r=>{r.detail.required?r.target.setAttribute("required",""):r.target.removeAttribute("required")},bgColor:r=>{e("bgColor","backgroundColor",r)},fillColor:r=>{e("fillColor","backgroundColor",r)},fgColor:r=>{e("fgColor","color",r)},textColor:r=>{e("textColor","color",r)},borderColor:r=>{e("borderColor","borderColor",r)},strokeColor:r=>{e("strokeColor","borderColor",r)}})}_dispatchEventFromSandbox(e,r){const o=this._commonActions;for(const f of Object.keys(r.detail)){const p=e[f]||o[f];p&&p(r)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const r=this.annotationStorage.getRawValue(this.data.id);if(!r)return;const o=this._commonActions;for(const[f,p]of Object.entries(r)){const h=o[f];h&&(h({detail:p,target:e}),delete r[f])}}_createQuadrilaterals(e=!1){if(!this.data.quadPoints)return null;const r=[],o=this.data.rect;for(const f of this.data.quadPoints)this.data.rect=[f[2].x,f[2].y,f[1].x,f[1].y],r.push(this._createContainer(e));return this.data.rect=o,r}_createPopup(e,r){let o=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,o=this.quadrilaterals[0]),e||((e=document.createElement("div")).style.height=o.style.height,e.style.width=o.style.width,o.appendChild(e));const p=new i({container:o,trigger:e,color:r.color,titleObj:r.titleObj,modificationDate:r.modificationDate,contentsObj:r.contentsObj,richText:r.richText,hideWrapper:!0}).render();p.style.left=o.style.width,o.appendChild(p)}_renderQuadrilaterals(e){for(const r of this.quadrilaterals)r.className=e;return this.quadrilaterals}render(){(0,n.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,r=null){const o=[];if(this._fieldObjects){const f=this._fieldObjects[e];if(f)for(const{page:p,id:h,exportValues:F}of f){if(-1===p||h===r)continue;const X="string"==typeof F?F:null,B=document.getElementById(h);!B||y.has(B)?o.push({id:h,exportValue:X,domElement:B}):(0,n.warn)(`_getElementsByName - element not allowed: ${h}`)}return o}for(const f of document.getElementsByName(e)){const{id:p,exportValue:h}=f;p!==r&&y.has(f)&&o.push({id:p,exportValue:h,domElement:f})}return o}static get platform(){const e=typeof navigator<"u"?navigator.platform:"";return(0,n.shadow)(this,"platform",{isWin:e.includes("Win"),isMac:e.includes("Mac")})}}class N extends H{constructor(e,r=null){super(e,{isRenderable:!!(e.data.url||e.data.dest||e.data.action||e.data.isTooltipOnly||e.data.resetForm||e.data.actions&&(e.data.actions.Action||e.data.actions["Mouse Up"]||e.data.actions["Mouse Down"])),ignoreBorder:!!r?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:e,linkService:r}=this,o=document.createElement("a");if(e.url)r.addLinkAttributes(o,e.url,e.newWindow);else if(e.action)this._bindNamedAction(o,e.action);else if(e.dest)this._bindLink(o,e.dest);else{let f=!1;e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(f=!0,this._bindJSAction(o,e)),e.resetForm?this._bindResetFormAction(o,e.resetForm):f||this._bindLink(o,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((f,p)=>{const h=0===p?o:o.cloneNode();return f.appendChild(h),f}):(this.container.className="linkAnnotation",this.container.appendChild(o),this.container)}_bindLink(e,r){e.href=this.linkService.getDestinationHash(r),e.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||""===r)&&(e.className="internalLink")}_bindNamedAction(e,r){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(r),!1),e.className="internalLink"}_bindJSAction(e,r){e.href=this.linkService.getAnchorUrl("");const o=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const f of Object.keys(r.actions)){const p=o.get(f);p&&(e[p]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:f}}),!1))}e.onclick||(e.onclick=()=>!1),e.className="internalLink"}_bindResetFormAction(e,r){const o=e.onclick;if(o||(e.href=this.linkService.getAnchorUrl("")),e.className="internalLink",!this._fieldObjects)return(0,n.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(o||(e.onclick=()=>!1));e.onclick=()=>{o&&o();const{fields:f,refs:p,include:h}=r,F=[];if(0!==f.length||0!==p.length){const Y=new Set(p);for(const $ of f){const Z=this._fieldObjects[$]||[];for(const{id:ee}of Z)Y.add(ee)}for(const $ of Object.values(this._fieldObjects))for(const Z of $)Y.has(Z.id)===h&&F.push(Z)}else for(const Y of Object.values(this._fieldObjects))F.push(...Y);const X=this.annotationStorage,B=[];for(const Y of F){const{id:$}=Y;switch(B.push($),Y.type){case"text":case"combobox":case"listbox":X.setValue($,{value:Y.defaultValue||""});break;case"checkbox":case"radiobutton":X.setValue($,{value:Y.defaultValue===Y.exportValues});break;default:continue}const Z=document.getElementById($);!Z||!y.has(Z)||Z.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:B,name:"ResetForm"}}),!1}}}class j extends H{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){this.container.className="textAnnotation";const e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.appendChild(e),this.container}}class g extends H{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(e){const{isWin:r,isMac:o}=H.platform;return r&&e.ctrlKey||o&&e.metaKey}_setEventListener(e,r,o,f){r.includes("mouse")?e.addEventListener(r,p=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:f(p),shift:p.shiftKey,modifier:this._getKeyModifier(p)}})}):e.addEventListener(r,p=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:f(p)}})})}_setEventListeners(e,r,o){for(const[f,p]of r)("Action"===p||this.data.actions?.[p])&&this._setEventListener(e,f,p,o)}_setBackgroundColor(e){const r=this.data.backgroundColor||null;e.style.backgroundColor=null===r?"transparent":n.Util.makeHexColor(r[0],r[1],r[2])}}class E extends g{constructor(e){super(e,{isRenderable:e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,r,o,f){const p=this.annotationStorage;for(const h of this._getElementsByName(e.name,e.id))h.domElement&&(h.domElement[r]=o),p.setValue(h.id,{[f]:o})}render(){const e=this.annotationStorage,r=this.data.id;this.container.className="textWidgetAnnotation";let o=null;if(this.renderForms){const f=e.getValue(r,{value:this.data.fieldValue}),p=f.formattedValue||f.value||"",h={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(o=document.createElement("textarea"),o.textContent=p):(o=document.createElement("input"),o.type="text",o.setAttribute("value",p)),y.add(o),o.disabled=this.data.readOnly,o.name=this.data.fieldName,o.tabIndex=L,h.userValue=p,o.setAttribute("id",r),o.addEventListener("input",X=>{e.setValue(r,{value:X.target.value}),this.setPropertyOnSiblings(o,"value",X.target.value,"value")}),o.addEventListener("resetform",X=>{o.value=h.userValue=this.data.defaultFieldValue??"",h.formattedValue=null});let F=X=>{const{formattedValue:B}=h;null!=B&&(X.target.value=B),X.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){o.addEventListener("focus",B=>{h.userValue&&(B.target.value=h.userValue),h.valueOnFocus=B.target.value}),o.addEventListener("updatefromsandbox",B=>{this._dispatchEventFromSandbox({value($){h.userValue=$.detail.value??"",e.setValue(r,{value:h.userValue.toString()}),$.target.value=h.userValue},formattedValue($){const{formattedValue:Z}=$.detail;h.formattedValue=Z,null!=Z&&$.target!==document.activeElement&&($.target.value=Z),e.setValue(r,{formattedValue:Z})},selRange($){$.target.setSelectionRange(...$.detail.selRange)}},B)}),o.addEventListener("keydown",B=>{let Y=-1;if("Escape"===B.key?Y=0:"Enter"===B.key?Y=2:"Tab"===B.key&&(Y=3),-1===Y)return;const{value:$}=B.target;h.valueOnFocus!==$&&(h.userValue=$,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:$,willCommit:!0,commitKey:Y,selStart:B.target.selectionStart,selEnd:B.target.selectionEnd}}))});const X=F;F=null,o.addEventListener("blur",B=>{const{value:Y}=B.target;h.userValue=Y,this._mouseState.isDown&&h.valueOnFocus!==Y&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:Y,willCommit:!0,commitKey:1,selStart:B.target.selectionStart,selEnd:B.target.selectionEnd}}),X(B)}),this.data.actions?.Keystroke&&o.addEventListener("beforeinput",B=>{const{data:Y,target:$}=B,{value:Z,selectionStart:ee,selectionEnd:he}=$;let _e=ee,Ae=he;switch(B.inputType){case"deleteWordBackward":{const me=Z.substring(0,ee).match(/\w*[^\w]*$/);me&&(_e-=me[0].length);break}case"deleteWordForward":{const me=Z.substring(ee).match(/^[^\w]*\w*/);me&&(Ae+=me[0].length);break}case"deleteContentBackward":ee===he&&(_e-=1);break;case"deleteContentForward":ee===he&&(Ae+=1)}B.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:Z,change:Y||"",willCommit:!1,selStart:_e,selEnd:Ae}})}),this._setEventListeners(o,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],B=>B.target.value)}if(F&&o.addEventListener("blur",F),null!==this.data.maxLen&&(o.maxLength=this.data.maxLen),this.data.comb){const B=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;o.classList.add("comb"),o.style.letterSpacing=`calc(${B}px - 1ch)`}}else o=document.createElement("div"),o.textContent=this.data.fieldValue,o.style.verticalAlign="middle",o.style.display="table-cell";return this._setTextStyle(o),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.appendChild(o),this.container}_setTextStyle(e){const{fontSize:o,fontColor:f}=this.data.defaultAppearanceData,p=e.style;o&&(p.fontSize=`${o}px`),p.color=n.Util.makeHexColor(f[0],f[1],f[2]),null!==this.data.textAlignment&&(p.textAlign=["left","center","right"][this.data.textAlignment])}}class m extends g{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,r=this.data,o=r.id;let f=e.getValue(o,{value:r.exportValue===r.fieldValue}).value;"string"==typeof f&&(f="Off"!==f,e.setValue(o,{value:f})),this.container.className="buttonWidgetAnnotation checkBox";const p=document.createElement("input");return y.add(p),p.disabled=r.readOnly,p.type="checkbox",p.name=r.fieldName,f&&p.setAttribute("checked",!0),p.setAttribute("id",o),p.setAttribute("exportValue",r.exportValue),p.tabIndex=L,p.addEventListener("change",h=>{const{name:F,checked:X}=h.target;for(const B of this._getElementsByName(F,o)){const Y=X&&B.exportValue===r.exportValue;B.domElement&&(B.domElement.checked=Y),e.setValue(B.id,{value:Y})}e.setValue(o,{value:X})}),p.addEventListener("resetform",h=>{h.target.checked=(r.defaultFieldValue||"Off")===r.exportValue}),this.enableScripting&&this.hasJSActions&&(p.addEventListener("updatefromsandbox",h=>{this._dispatchEventFromSandbox({value(X){X.target.checked="Off"!==X.detail.value,e.setValue(o,{value:X.target.checked})}},h)}),this._setEventListeners(p,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.checked)),this._setBackgroundColor(p),this._setDefaultPropertiesFromJS(p),this.container.appendChild(p),this.container}}class x extends g{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const e=this.annotationStorage,r=this.data,o=r.id;let f=e.getValue(o,{value:r.fieldValue===r.buttonValue}).value;"string"==typeof f&&(f=f!==r.buttonValue,e.setValue(o,{value:f}));const p=document.createElement("input");if(y.add(p),p.disabled=r.readOnly,p.type="radio",p.name=r.fieldName,f&&p.setAttribute("checked",!0),p.setAttribute("id",o),p.tabIndex=L,p.addEventListener("change",h=>{const{name:F,checked:X}=h.target;for(const B of this._getElementsByName(F,o))e.setValue(B.id,{value:!1});e.setValue(o,{value:X})}),p.addEventListener("resetform",h=>{const F=r.defaultFieldValue;h.target.checked=null!=F&&F===r.buttonValue}),this.enableScripting&&this.hasJSActions){const h=r.buttonValue;p.addEventListener("updatefromsandbox",F=>{this._dispatchEventFromSandbox({value:B=>{const Y=h===B.detail.value;for(const $ of this._getElementsByName(B.target.name)){const Z=Y&&$.id===o;$.domElement&&($.domElement.checked=Z),e.setValue($.id,{value:Z})}}},F)}),this._setEventListeners(p,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],F=>F.target.checked)}return this._setBackgroundColor(p),this._setDefaultPropertiesFromJS(p),this.container.appendChild(p),this.container}}class b extends N{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();return e.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(e.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(e),e}}class v extends g{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const e=this.annotationStorage,r=this.data.id,o=e.getValue(r,{value:this.data.fieldValue});let{fontSize:f}=this.data.defaultAppearanceData;f||(f=9);const p=`calc(${f}px * var(--zoom-factor))`,h=document.createElement("select");y.add(h),h.disabled=this.data.readOnly,h.name=this.data.fieldName,h.setAttribute("id",r),h.tabIndex=L,h.style.fontSize=`${f}px`,this.data.combo||(h.size=this.data.options.length,this.data.multiSelect&&(h.multiple=!0)),h.addEventListener("resetform",B=>{const Y=this.data.defaultFieldValue;for(const $ of h.options)$.selected=$.value===Y});for(const B of this.data.options){const Y=document.createElement("option");Y.textContent=B.displayValue,Y.value=B.exportValue,this.data.combo&&(Y.style.fontSize=p),o.value.includes(B.exportValue)&&Y.setAttribute("selected",!0),h.appendChild(Y)}const F=(B,Y)=>{const $=Y?"value":"textContent",Z=B.target.options;return B.target.multiple?Array.prototype.filter.call(Z,ee=>ee.selected).map(ee=>ee[$]):-1===Z.selectedIndex?null:Z[Z.selectedIndex][$]},X=B=>Array.prototype.map.call(B.target.options,$=>({displayValue:$.textContent,exportValue:$.value}));return this.enableScripting&&this.hasJSActions?(h.addEventListener("updatefromsandbox",B=>{this._dispatchEventFromSandbox({value($){const Z=$.detail.value,ee=new Set(Array.isArray(Z)?Z:[Z]);for(const he of h.options)he.selected=ee.has(he.value);e.setValue(r,{value:F($,!0)})},multipleSelection($){h.multiple=!0},remove($){const Z=h.options,ee=$.detail.remove;Z[ee].selected=!1,h.remove(ee),Z.length>0&&-1===Array.prototype.findIndex.call(Z,_e=>_e.selected)&&(Z[0].selected=!0),e.setValue(r,{value:F($,!0),items:X($)})},clear($){for(;0!==h.length;)h.remove(0);e.setValue(r,{value:null,items:[]})},insert($){const{index:Z,displayValue:ee,exportValue:he}=$.detail.insert,_e=document.createElement("option");_e.textContent=ee,_e.value=he,h.insertBefore(_e,h.children[Z]),e.setValue(r,{value:F($,!0),items:X($)})},items($){const{items:Z}=$.detail;for(;0!==h.length;)h.remove(0);for(const ee of Z){const{displayValue:he,exportValue:_e}=ee,Ae=document.createElement("option");Ae.textContent=he,Ae.value=_e,h.appendChild(Ae)}h.options.length>0&&(h.options[0].selected=!0),e.setValue(r,{value:F($,!0),items:X($)})},indices($){const Z=new Set($.detail.indices);for(const ee of $.target.options)ee.selected=Z.has(ee.index);e.setValue(r,{value:F($,!0)})},editable($){$.target.disabled=!$.detail.editable}},B)}),h.addEventListener("input",B=>{const Y=F(B,!0),$=F(B,!1);e.setValue(r,{value:Y}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:$,changeEx:Y,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],B=>B.target.checked)):h.addEventListener("input",function(B){e.setValue(r,{value:F(B,!0)})}),this._setBackgroundColor(h),this._setDefaultPropertiesFromJS(h),this.container.appendChild(h),this.container}}class t extends H{constructor(e){super(e,{isRenderable:!!(e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const o=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===o.length)return this.container;const f=new i({container:this.container,trigger:Array.from(o),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),p=this.page,h=n.Util.normalizeRect([this.data.parentRect[0],p.view[3]-this.data.parentRect[1]+p.view[1],this.data.parentRect[2],p.view[3]-this.data.parentRect[3]+p.view[1]]),F=h[0]+this.data.parentRect[2]-this.data.parentRect[0],X=h[1];return this.container.style.transformOrigin=`${-F}px ${-X}px`,this.container.style.left=`${F}px`,this.container.style.top=`${X}px`,this.container.appendChild(f.render()),this.container}}class i{constructor(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.titleObj=e.titleObj,this.modificationDate=e.modificationDate,this.contentsObj=e.contentsObj,this.richText=e.richText,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}render(){const r=document.createElement("div");r.className="popupWrapper",this.hideElement=this.hideWrapper?r:this.container,this.hideElement.hidden=!0;const o=document.createElement("div");o.className="popup";const f=this.color;f&&(o.style.backgroundColor=n.Util.makeHexColor(0|.7*(255-f[0])+f[0],0|.7*(255-f[1])+f[1],0|.7*(255-f[2])+f[2]));const p=document.createElement("h1");p.dir=this.titleObj.dir,p.textContent=this.titleObj.str,o.appendChild(p);const h=T.PDFDateString.toDateObject(this.modificationDate);if(h){const F=document.createElement("span");F.className="popupDate",F.textContent="{{date}}, {{time}}",F.dataset.l10nId="annotation_date_string",F.dataset.l10nArgs=JSON.stringify({date:h.toLocaleDateString(),time:h.toLocaleTimeString()}),o.appendChild(F)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const F=this._formatContents(this.contentsObj);o.appendChild(F)}else P.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:o}),o.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const F of this.trigger)F.addEventListener("click",this._toggle.bind(this)),F.addEventListener("mouseover",this._show.bind(this,!1)),F.addEventListener("mouseout",this._hide.bind(this,!1));return o.addEventListener("click",this._hide.bind(this,!0)),r.appendChild(o),r}_formatContents({str:e,dir:r}){const o=document.createElement("p");o.className="popupContent",o.dir=r;const f=e.split(/(?:\r\n?|\n)/);for(let p=0,h=f.length;p<h;++p)o.appendChild(document.createTextNode(f[p])),p<h-1&&o.appendChild(document.createElement("br"));return o}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(e=!1){e&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(e=!0){e&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class d extends H{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class S extends H{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const e=this.data,{width:r,height:o}=I(e.rect),f=this.svgFactory.create(r,o),p=this.svgFactory.createElement("svg:line");return p.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),p.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),p.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),p.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),p.setAttribute("stroke-width",e.borderStyle.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),f.appendChild(p),this.container.append(f),this._createPopup(p,e),this.container}}class u extends H{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const e=this.data,{width:r,height:o}=I(e.rect),f=this.svgFactory.create(r,o),p=e.borderStyle.width,h=this.svgFactory.createElement("svg:rect");return h.setAttribute("x",p/2),h.setAttribute("y",p/2),h.setAttribute("width",r-p),h.setAttribute("height",o-p),h.setAttribute("stroke-width",p||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),f.appendChild(h),this.container.append(f),this._createPopup(h,e),this.container}}class A extends H{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const e=this.data,{width:r,height:o}=I(e.rect),f=this.svgFactory.create(r,o),p=e.borderStyle.width,h=this.svgFactory.createElement("svg:ellipse");return h.setAttribute("cx",r/2),h.setAttribute("cy",o/2),h.setAttribute("rx",r/2-p/2),h.setAttribute("ry",o/2-p/2),h.setAttribute("stroke-width",p||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),f.appendChild(h),this.container.append(f),this._createPopup(h,e),this.container}}class c extends H{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:r,height:o}=I(e.rect),f=this.svgFactory.create(r,o);let p=[];for(const F of e.vertices)p.push(F.x-e.rect[0]+","+(e.rect[3]-F.y));p=p.join(" ");const h=this.svgFactory.createElement(this.svgElementName);return h.setAttribute("points",p),h.setAttribute("stroke-width",e.borderStyle.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),f.appendChild(h),this.container.append(f),this._createPopup(h,e),this.container}}class l extends c{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class _ extends H{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class w extends H{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:r,height:o}=I(e.rect),f=this.svgFactory.create(r,o);for(const p of e.inkLists){let h=[];for(const X of p)h.push(`${X.x-e.rect[0]},${e.rect[3]-X.y}`);h=h.join(" ");const F=this.svgFactory.createElement(this.svgElementName);F.setAttribute("points",h),F.setAttribute("stroke-width",e.borderStyle.width||1),F.setAttribute("stroke","transparent"),F.setAttribute("fill","transparent"),this._createPopup(F,e),f.appendChild(F)}return this.container.append(f),this.container}}class D extends H{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class W extends H{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class K extends H{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class J extends H{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class te extends H{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class de extends H{constructor(e){super(e,{isRenderable:!0});const{filename:r,content:o}=this.data.file;this.filename=(0,T.getFilenameFromUrl)(r),this.content=o,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:r,content:o})}render(){this.container.className="fileAttachmentAnnotation";const e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(e,this.data),this.container.appendChild(e),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class le{static render(e){const r=[],o=[];for(const p of e.annotations){if(!p)continue;const{width:h,height:F}=I(p.rect);if(!(h<=0||F<=0)){if(p.annotationType===n.AnnotationType.POPUP){o.push(p);continue}r.push(p)}}o.length&&r.push(...o);const f=e.div;for(const p of r){const h=U.create({data:p,layer:f,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new T.DOMSVGFactory,annotationStorage:e.annotationStorage||new M.AnnotationStorage,enableScripting:e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,mouseState:e.mouseState||{isDown:!1}});if(h.isRenderable){const F=h.render();if(p.hidden&&(F.style.visibility="hidden"),Array.isArray(F))for(const X of F)f.appendChild(X);else h instanceof t?f.prepend(F):f.appendChild(F)}}_classStaticPrivateMethodGet(this,le,k).call(this,f,e.annotationCanvasMap)}static update(e){const{page:r,viewport:o,annotations:f,annotationCanvasMap:p,div:h}=e,F=o.transform,X=`matrix(${F.join(",")})`;let B,Y;for(const $ of f){const Z=h.querySelectorAll(`[data-annotation-id="${$.id}"]`);if(Z)for(const ee of Z)if($.hasOwnCanvas){const he=n.Util.normalizeRect([$.rect[0],r.view[3]-$.rect[1]+r.view[1],$.rect[2],r.view[3]-$.rect[3]+r.view[1]]);if(!Y){B=Math.abs(F[0]||F[1]);const me=F.slice();for(let ae=0;ae<4;ae++)me[ae]=Math.sign(me[ae]);Y=`matrix(${me.join(",")})`}const _e=he[0]*B,Ae=he[1]*B;ee.style.left=`${_e}px`,ee.style.top=`${Ae}px`,ee.style.transformOrigin=`${-_e}px ${-Ae}px`,ee.style.transform=Y}else ee.style.transform=X}_classStaticPrivateMethodGet(this,le,k).call(this,h,p),h.hidden=!1}}function k(s,e){if(e){for(const[r,o]of e){const f=s.querySelector(`[data-annotation-id="${r}"]`);if(!f)continue;const{firstChild:p}=f;"CANVAS"===p.nodeName?f.replaceChild(o,p):f.insertBefore(o,p)}e.clear()}}a.AnnotationLayer=le},(G,a)=>{function C(T){return Math.floor(255*Math.max(0,Math.min(1,T))).toString(16).padStart(2,"0")}Object.defineProperty(a,"__esModule",{value:!0}),a.ColorConverters=void 0,a.ColorConverters=class n{static CMYK_G([M,z,P,L]){return["G",1-Math.min(1,.3*M+.59*P+.11*z+L)]}static G_CMYK([M]){return["CMYK",0,0,0,1-M]}static G_RGB([M]){return["RGB",M,M,M]}static G_HTML([M]){const z=C(M);return`#${z}${z}${z}`}static RGB_G([M,z,P]){return["G",.3*M+.59*z+.11*P]}static RGB_HTML([M,z,P]){return`#${C(M)}${C(z)}${C(P)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([M,z,P,L]){return["RGB",1-Math.min(1,M+L),1-Math.min(1,P+L),1-Math.min(1,z+L)]}static CMYK_HTML(M){return this.RGB_HTML(this.CMYK_RGB(M))}static RGB_CMYK([M,z,P]){const L=1-M,y=1-z,I=1-P;return["CMYK",L,y,I,Math.min(L,y,I)]}}},(G,a,C)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.XfaLayer=void 0;var n=C(18);a.XfaLayer=class T{static setupStorage(z,P,L,y,I){const U=y.getValue(P,{value:null});switch(L.name){case"textarea":if(null!==U.value&&(z.textContent=U.value),"print"===I)break;z.addEventListener("input",H=>{y.setValue(P,{value:H.target.value})});break;case"input":if("radio"===L.attributes.type||"checkbox"===L.attributes.type){if(U.value===L.attributes.xfaOn?z.setAttribute("checked",!0):U.value===L.attributes.xfaOff&&z.removeAttribute("checked"),"print"===I)break;z.addEventListener("change",H=>{y.setValue(P,{value:H.target.getAttribute(H.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==U.value&&z.setAttribute("value",U.value),"print"===I)break;z.addEventListener("input",H=>{y.setValue(P,{value:H.target.value})})}break;case"select":if(null!==U.value)for(const H of L.children)H.attributes.value===U.value&&(H.attributes.selected=!0);z.addEventListener("input",H=>{const N=H.target.options;y.setValue(P,{value:-1===N.selectedIndex?"":N[N.selectedIndex].value})})}}static setAttributes({html:z,element:P,storage:L=null,intent:y,linkService:I}){const{attributes:U}=P,H=z instanceof HTMLAnchorElement;"radio"===U.type&&(U.name=`${U.name}-${y}`);for(const[N,j]of Object.entries(U))if(null!=j&&"dataId"!==N)if("style"!==N)if("textContent"===N)z.textContent=j;else if("class"===N)j.length&&z.setAttribute(N,j.join(" "));else{if(H&&("href"===N||"newWindow"===N))continue;z.setAttribute(N,j)}else Object.assign(z.style,j);H&&I.addLinkAttributes(z,U.href,U.newWindow),L&&U.dataId&&this.setupStorage(z,U.dataId,P,L)}static render(z){const P=z.annotationStorage,L=z.linkService,y=z.xfaHtml,I=z.intent||"display",U=document.createElement(y.name);y.attributes&&this.setAttributes({html:U,element:y,intent:I,linkService:L});const H=[[y,-1,U]],N=z.div;if(N.appendChild(U),z.viewport){const g=`matrix(${z.viewport.transform.join(",")})`;N.style.transform=g}"richText"!==I&&N.setAttribute("class","xfaLayer xfaFont");const j=[];for(;H.length>0;){const[g,E,m]=H[H.length-1];if(E+1===g.children.length){H.pop();continue}const x=g.children[++H[H.length-1][1]];if(null===x)continue;const{name:b}=x;if("#text"===b){const t=document.createTextNode(x.value);j.push(t),m.appendChild(t);continue}let v;if(v=x?.attributes?.xmlns?document.createElementNS(x.attributes.xmlns,b):document.createElement(b),m.appendChild(v),x.attributes&&this.setAttributes({html:v,element:x,storage:P,intent:I,linkService:L}),x.children&&x.children.length>0)H.push([x,-1,v]);else if(x.value){const t=document.createTextNode(x.value);n.XfaText.shouldBuildText(b)&&j.push(t),v.appendChild(t)}}for(const g of N.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))g.setAttribute("readOnly",!0);return{textDivs:j}}static update(z){const P=`matrix(${z.viewport.transform.join(",")})`;z.div.style.transform=P,z.div.hidden=!1}}},(G,a,C)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.renderTextLayer=function m(x){const b=new E({textContent:x.textContent,textContentStream:x.textContentStream,container:x.container,viewport:x.viewport,textDivs:x.textDivs,textContentItemsStr:x.textContentItemsStr,enhanceTextSelection:x.enhanceTextSelection});return b._render(x.timeout),b};var n=C(1);const T=1e5,M=30,z=.8,P=new Map,L=/^\s+$/g;function I(x,b,v,t){const i=document.createElement("span"),d=x._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==b.str,hasEOL:b.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==b.str,hasEOL:b.hasEOL};x._textDivs.push(i);const S=n.Util.transform(x._viewport.transform,b.transform);let u=Math.atan2(S[1],S[0]);const A=v[b.fontName];A.vertical&&(u+=Math.PI/2);const c=Math.hypot(S[2],S[3]),l=c*function y(x,b){const v=P.get(x);if(v)return v;b.save(),b.font=`${M}px ${x}`;const t=b.measureText("");let i=t.fontBoundingBoxAscent,d=Math.abs(t.fontBoundingBoxDescent);if(i){b.restore();const u=i/(i+d);return P.set(x,u),u}b.strokeStyle="red",b.clearRect(0,0,M,M),b.strokeText("g",0,0);let S=b.getImageData(0,0,M,M).data;d=0;for(let u=S.length-1-3;u>=0;u-=4)if(S[u]>0){d=Math.ceil(u/4/M);break}b.clearRect(0,0,M,M),b.strokeText("A",0,M),S=b.getImageData(0,0,M,M).data,i=0;for(let u=0,A=S.length;u<A;u+=4)if(S[u]>0){i=M-Math.floor(u/4/M);break}if(b.restore(),i){const u=i/(i+d);return P.set(x,u),u}return P.set(x,z),z}(A.fontFamily,t);let _,w;0===u?(_=S[4],w=S[5]-l):(_=S[4]+l*Math.sin(u),w=S[5]-l*Math.cos(u)),i.style.left=`${_}px`,i.style.top=`${w}px`,i.style.fontSize=`${c}px`,i.style.fontFamily=A.fontFamily,i.setAttribute("role","presentation"),i.textContent=b.str,i.dir=b.dir,x._fontInspectorEnabled&&(i.dataset.fontName=b.fontName),0!==u&&(d.angle=u*(180/Math.PI));let D=!1;if(b.str.length>1||x._enhanceTextSelection&&L.test(b.str))D=!0;else if(" "!==b.str&&b.transform[0]!==b.transform[3]){const W=Math.abs(b.transform[0]),K=Math.abs(b.transform[3]);W!==K&&Math.max(W,K)/Math.min(W,K)>1.5&&(D=!0)}if(D&&(d.canvasWidth=A.vertical?b.height*x._viewport.scale:b.width*x._viewport.scale),x._textDivProperties.set(i,d),x._textContentStream&&x._layoutText(i),x._enhanceTextSelection&&d.hasText){let W=1,K=0;0!==u&&(W=Math.cos(u),K=Math.sin(u));const J=(A.vertical?b.height:b.width)*x._viewport.scale,te=c;let de,le;0!==u?(de=[W,K,-K,W,_,w],le=n.Util.getAxialAlignedBoundingBox([0,0,J,te],de)):le=[_,w,_+J,w+te],x._bounds.push({left:le[0],top:le[1],right:le[2],bottom:le[3],div:i,size:[J,te],m:de})}}function U(x){if(x._canceled)return;const b=x._textDivs,v=x._capability,t=b.length;if(t>T)return x._renderingDone=!0,void v.resolve();if(!x._textContentStream)for(let i=0;i<t;i++)x._layoutText(b[i]);x._renderingDone=!0,v.resolve()}function H(x,b,v){let t=0;for(let i=0;i<v;i++){const d=x[b++];d>0&&(t=t?Math.min(d,t):d)}return t}function g(x,b){b.sort(function(i,d){return i.x1-d.x1||i.index-d.index});const t=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const i of b){let d=0;for(;d<t.length&&t[d].end<=i.y1;)d++;let S=t.length-1;for(;S>=0&&t[S].start>=i.y2;)S--;let u,A,c,l,_=-1/0;for(c=d;c<=S;c++){let W;u=t[c],A=u.boundary,W=A.x2>i.x1?A.index>i.index?A.x1New:i.x1:void 0===A.x2New?(A.x2+i.x1)/2:A.x2New,W>_&&(_=W)}for(i.x1New=_,c=d;c<=S;c++)u=t[c],A=u.boundary,void 0===A.x2New?A.x2>i.x1?A.index>i.index&&(A.x2New=A.x2):A.x2New=_:A.x2New>_&&(A.x2New=Math.max(_,A.x2));const w=[];let D=null;for(c=d;c<=S;c++){u=t[c],A=u.boundary;const W=A.x2>i.x2?A:i;D===W?w[w.length-1].end=u.end:(w.push({start:u.start,end:u.end,boundary:W}),D=W)}for(t[d].start<i.y1&&(w[0].start=i.y1,w.unshift({start:t[d].start,end:i.y1,boundary:t[d].boundary})),i.y2<t[S].end&&(w[w.length-1].end=i.y2,w.push({start:i.y2,end:t[S].end,boundary:t[S].boundary})),c=d;c<=S;c++){if(u=t[c],A=u.boundary,void 0!==A.x2New)continue;let W=!1;for(l=d-1;!W&&l>=0&&t[l].start>=A.y1;l--)W=t[l].boundary===A;for(l=S+1;!W&&l<t.length&&t[l].end<=A.y2;l++)W=t[l].boundary===A;for(l=0;!W&&l<w.length;l++)W=w[l].boundary===A;W||(A.x2New=_)}Array.prototype.splice.apply(t,[d,S-d+1].concat(w))}for(const i of t){const d=i.boundary;void 0===d.x2New&&(d.x2New=Math.max(x,d.x2))}}class E{constructor({textContent:b,textContentStream:v,container:t,viewport:i,textDivs:d,textContentItemsStr:S,enhanceTextSelection:u}){this._textContent=b,this._textContentStream=v,this._container=t,this._document=t.ownerDocument,this._viewport=i,this._textDivs=d||[],this._textContentItemsStr=S||[],this._enhanceTextSelection=!!u,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,n.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new n.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(b,v){for(let t=0,i=b.length;t<i;t++)if(void 0!==b[t].str)this._textContentItemsStr.push(b[t].str),I(this,b[t],v,this._layoutTextCtx);else if("beginMarkedContentProps"===b[t].type||"beginMarkedContent"===b[t].type){const d=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==b[t].id&&this._container.setAttribute("id",`${b[t].id}`),d.appendChild(this._container)}else"endMarkedContent"===b[t].type&&(this._container=this._container.parentNode)}_layoutText(b){const v=this._textDivProperties.get(b);let t="";if(0!==v.canvasWidth&&v.hasText){const{fontSize:i,fontFamily:d}=b.style;(i!==this._layoutTextLastFontSize||d!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${i} ${d}`,this._layoutTextLastFontSize=i,this._layoutTextLastFontFamily=d);const{width:S}=this._layoutTextCtx.measureText(b.textContent);if(S>0){const u=v.canvasWidth/S;this._enhanceTextSelection&&(v.scale=u),t=`scaleX(${u})`}}if(0!==v.angle&&(t=`rotate(${v.angle}deg) ${t}`),t.length>0&&(this._enhanceTextSelection&&(v.originalTransform=t),b.style.transform=t),v.hasText&&this._container.appendChild(b),v.hasEOL){const i=document.createElement("br");i.setAttribute("role","presentation"),this._container.appendChild(i)}}_render(b=0){const v=(0,n.createPromiseCapability)();let t=Object.create(null);const i=this._document.createElement("canvas");if(i.height=i.width=M,this._layoutTextCtx=i.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),v.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const d=()=>{this._reader.read().then(({value:S,done:u})=>{u?v.resolve():(Object.assign(t,S.styles),this._processItems(S.items,t),d())},v.reject)};this._reader=this._textContentStream.getReader(),d()}}v.promise.then(()=>{t=null,b?this._renderTimer=setTimeout(()=>{U(this),this._renderTimer=null},b):U(this)},this._capability.reject)}expandTextDivs(b=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function N(x){const b=x._bounds,v=x._viewport,t=function j(x,b,v){const t=v.map(function(d,S){return{x1:d.left,y1:d.top,x2:d.right,y2:d.bottom,index:S,x1New:void 0,x2New:void 0}});g(x,t);const i=new Array(v.length);for(const d of t)i[d.index]={left:d.x1New,top:0,right:d.x2New,bottom:0};v.map(function(d,S){const u=i[S],A=t[S];A.x1=d.top,A.y1=x-u.right,A.x2=d.bottom,A.y2=x-u.left,A.index=S,A.x1New=void 0,A.x2New=void 0}),g(b,t);for(const d of t){const S=d.index;i[S].top=d.x1New,i[S].bottom=d.x2New}return i}(v.width,v.height,b);for(let i=0;i<t.length;i++){const d=b[i].div,S=x._textDivProperties.get(d);if(0===S.angle){S.paddingLeft=b[i].left-t[i].left,S.paddingTop=b[i].top-t[i].top,S.paddingRight=t[i].right-b[i].right,S.paddingBottom=t[i].bottom-b[i].bottom,x._textDivProperties.set(d,S);continue}const u=t[i],A=b[i],c=A.m,l=c[0],_=c[1],w=[[0,0],[0,A.size[1]],[A.size[0],0],A.size],D=new Float64Array(64);for(let K=0,J=w.length;K<J;K++){const te=n.Util.applyTransform(w[K],c);D[K+0]=l&&(u.left-te[0])/l,D[K+4]=_&&(u.top-te[1])/_,D[K+8]=l&&(u.right-te[0])/l,D[K+12]=_&&(u.bottom-te[1])/_,D[K+16]=_&&(u.left-te[0])/-_,D[K+20]=l&&(u.top-te[1])/l,D[K+24]=_&&(u.right-te[0])/-_,D[K+28]=l&&(u.bottom-te[1])/l,D[K+32]=l&&(u.left-te[0])/-l,D[K+36]=_&&(u.top-te[1])/-_,D[K+40]=l&&(u.right-te[0])/-l,D[K+44]=_&&(u.bottom-te[1])/-_,D[K+48]=_&&(u.left-te[0])/_,D[K+52]=l&&(u.top-te[1])/-l,D[K+56]=_&&(u.right-te[0])/_,D[K+60]=l&&(u.bottom-te[1])/-l}const W=1+Math.min(Math.abs(l),Math.abs(_));S.paddingLeft=H(D,32,16)/W,S.paddingTop=H(D,48,16)/W,S.paddingRight=H(D,0,16)/W,S.paddingBottom=H(D,16,16)/W,x._textDivProperties.set(d,S)}}(this),this._bounds=null);const v=[],t=[];for(let i=0,d=this._textDivs.length;i<d;i++){const S=this._textDivs[i],u=this._textDivProperties.get(S);u.hasText&&(b?(v.length=0,t.length=0,u.originalTransform&&v.push(u.originalTransform),u.paddingTop>0?(t.push(`${u.paddingTop}px`),v.push(`translateY(${-u.paddingTop}px)`)):t.push(0),t.push(u.paddingRight>0?u.paddingRight/u.scale+"px":0),t.push(u.paddingBottom>0?`${u.paddingBottom}px`:0),u.paddingLeft>0?(t.push(u.paddingLeft/u.scale+"px"),v.push(`translateX(${-u.paddingLeft/u.scale}px)`)):t.push(0),S.style.padding=t.join(" "),v.length&&(S.style.transform=v.join(" "))):(S.style.padding=null,S.style.transform=u.originalTransform))}}}},(G,a,C)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SVGGraphics=void 0;var n=C(1),T=C(5),M=C(3);let z=class{constructor(){(0,n.unreachable)("Not implemented: SVGGraphics")}};a.SVGGraphics=z;{let g=function(t){let i=[];const d=[];for(const S of t)"save"!==S.fn?"restore"===S.fn?i=d.pop():i.push(S):(i.push({fnId:92,fn:"group",items:[]}),d.push(i),i=i[i.length-1].items);return i},E=function(t){if(Number.isInteger(t))return t.toString();const i=t.toFixed(10);let d=i.length-1;if("0"!==i[d])return i;do{d--}while("0"===i[d]);return i.substring(0,"."===i[d]?d:d+1)},m=function(t){if(0===t[4]&&0===t[5]){if(0===t[1]&&0===t[2])return 1===t[0]&&1===t[3]?"":`scale(${E(t[0])} ${E(t[3])})`;if(t[0]===t[3]&&t[1]===-t[2]){const i=180*Math.acos(t[0])/Math.PI;return`rotate(${E(i)})`}}else if(1===t[0]&&0===t[1]&&0===t[2]&&1===t[3])return`translate(${E(t[4])} ${E(t[5])})`;return`matrix(${E(t[0])} ${E(t[1])} ${E(t[2])} ${E(t[3])} ${E(t[4])} ${E(t[5])})`};const P={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},L="http://www.w3.org/XML/1998/namespace",y="http://www.w3.org/1999/xlink",I=["butt","round","square"],U=["miter","round","bevel"],H=function(t,i="",d=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!d)return URL.createObjectURL(new Blob([t],{type:i}));const S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let u=`data:${i};base64,`;for(let A=0,c=t.length;A<c;A+=3){const l=255&t[A],_=255&t[A+1],w=255&t[A+2];u+=S[l>>2]+S[(3&l)<<4|_>>4]+S[A+1<c?(15&_)<<2|w>>6:64]+S[A+2<c?63&w:64]}return u},N=function(){const t=new Uint8Array([137,80,78,71,13,10,26,10]),i=12,d=new Int32Array(256);for(let w=0;w<256;w++){let D=w;for(let W=0;W<8;W++)D=1&D?3988292384^D>>1&2147483647:D>>1&2147483647;d[w]=D}function u(w,D,W,K){let J=K;const te=D.length;W[J]=te>>24&255,W[J+1]=te>>16&255,W[J+2]=te>>8&255,W[J+3]=255&te,J+=4,W[J]=255&w.charCodeAt(0),W[J+1]=255&w.charCodeAt(1),W[J+2]=255&w.charCodeAt(2),W[J+3]=255&w.charCodeAt(3),J+=4,W.set(D,J),J+=D.length;const de=function S(w,D,W){let K=-1;for(let J=D;J<W;J++)K=K>>>8^d[255&(K^w[J])];return-1^K}(W,K+4,J);W[J]=de>>24&255,W[J+1]=de>>16&255,W[J+2]=de>>8&255,W[J+3]=255&de}function l(w){let D=w.length;const W=65535,K=Math.ceil(D/W),J=new Uint8Array(2+D+5*K+4);let te=0;J[te++]=120,J[te++]=156;let de=0;for(;D>W;)J[te++]=0,J[te++]=255,J[te++]=255,J[te++]=0,J[te++]=0,J.set(w.subarray(de,de+W),te),te+=W,de+=W,D-=W;J[te++]=1,J[te++]=255&D,J[te++]=D>>8&255,J[te++]=255&~D,J[te++]=(65535&~D)>>8&255,J.set(w.subarray(de),te),te+=w.length-de;const le=function A(w,D,W){let K=1,J=0;for(let te=D;te<W;++te)K=(K+(255&w[te]))%65521,J=(J+K)%65521;return J<<16|K}(w,0,w.length);return J[te++]=le>>24&255,J[te++]=le>>16&255,J[te++]=le>>8&255,J[te++]=255&le,J}return function(D,W,K){return function _(w,D,W,K){const J=w.width,te=w.height;let de,le,k;const s=w.data;switch(D){case n.ImageKind.GRAYSCALE_1BPP:le=0,de=1,k=J+7>>3;break;case n.ImageKind.RGB_24BPP:le=2,de=8,k=3*J;break;case n.ImageKind.RGBA_32BPP:le=6,de=8,k=4*J;break;default:throw new Error("invalid format")}const e=new Uint8Array((1+k)*te);let r=0,o=0;for(let B=0;B<te;++B)e[r++]=0,e.set(s.subarray(o,o+k),r),o+=k,r+=k;if(D===n.ImageKind.GRAYSCALE_1BPP&&K){r=0;for(let B=0;B<te;B++){r++;for(let Y=0;Y<k;Y++)e[r++]^=255}}const f=new Uint8Array([J>>24&255,J>>16&255,J>>8&255,255&J,te>>24&255,te>>16&255,te>>8&255,255&te,de,le,0,0,0]),p=function c(w){if(!M.isNodeJS)return l(w);try{let D;D=parseInt(process.versions.node)>=8?w:Buffer.from(w);const W=__webpack_require__(2258).deflateSync(D,{level:9});return W instanceof Uint8Array?W:new Uint8Array(W)}catch(D){(0,n.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+D)}return l(w)}(e),F=new Uint8Array(t.length+3*i+f.length+p.length);let X=0;return F.set(t,X),X+=t.length,u("IHDR",f,F,X),X+=i+f.length,u("IDATA",p,F,X),X+=i+p.length,u("IEND",new Uint8Array(0),F,X),H(F,"image/png",W)}(D,void 0===D.kind?n.ImageKind.GRAYSCALE_1BPP:D.kind,W,K)}}();class j{constructor(){this.fontSizeScale=1,this.fontWeight=P.fontWeight,this.fontSize=0,this.textMatrix=n.IDENTITY_MATRIX,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=n.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=P.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(i,d){this.x=i,this.y=d}}let x=0,b=0,v=0;a.SVGGraphics=z=class{constructor(t,i,d=!1){this.svgFactory=new T.DOMSVGFactory,this.current=new j,this.transformMatrix=n.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=i,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!d,this._operatorIdMapping=[];for(const S in n.OPS)this._operatorIdMapping[n.OPS[S]]=S}save(){this.transformStack.push(this.transformMatrix);const t=this.current;this.extraStack.push(t),this.current=t.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(t){this.save(),this.executeOpTree(t),this.restore()}loadDependencies(t){const i=t.fnArray,d=t.argsArray;for(let S=0,u=i.length;S<u;S++)if(i[S]===n.OPS.dependency)for(const A of d[S]){const c=A.startsWith("g_")?this.commonObjs:this.objs,l=new Promise(_=>{c.get(A,_)});this.current.dependencies.push(l)}return Promise.all(this.current.dependencies)}transform(t,i,d,S,u,A){this.transformMatrix=n.Util.transform(this.transformMatrix,[t,i,d,S,u,A]),this.tgrp=null}getSVG(t,i){this.viewport=i;const d=this._initialize(i);return this.loadDependencies(t).then(()=>(this.transformMatrix=n.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(t)),d))}convertOpList(t){const i=this._operatorIdMapping,d=t.argsArray,S=t.fnArray,u=[];for(let A=0,c=S.length;A<c;A++){const l=S[A];u.push({fnId:l,fn:i[l],args:d[A]})}return g(u)}executeOpTree(t){for(const i of t){const d=i.fn,u=i.args;switch(0|i.fnId){case n.OPS.beginText:this.beginText();break;case n.OPS.dependency:break;case n.OPS.setLeading:this.setLeading(u);break;case n.OPS.setLeadingMoveText:this.setLeadingMoveText(u[0],u[1]);break;case n.OPS.setFont:this.setFont(u);break;case n.OPS.showText:case n.OPS.showSpacedText:this.showText(u[0]);break;case n.OPS.endText:this.endText();break;case n.OPS.moveText:this.moveText(u[0],u[1]);break;case n.OPS.setCharSpacing:this.setCharSpacing(u[0]);break;case n.OPS.setWordSpacing:this.setWordSpacing(u[0]);break;case n.OPS.setHScale:this.setHScale(u[0]);break;case n.OPS.setTextMatrix:this.setTextMatrix(u[0],u[1],u[2],u[3],u[4],u[5]);break;case n.OPS.setTextRise:this.setTextRise(u[0]);break;case n.OPS.setTextRenderingMode:this.setTextRenderingMode(u[0]);break;case n.OPS.setLineWidth:this.setLineWidth(u[0]);break;case n.OPS.setLineJoin:this.setLineJoin(u[0]);break;case n.OPS.setLineCap:this.setLineCap(u[0]);break;case n.OPS.setMiterLimit:this.setMiterLimit(u[0]);break;case n.OPS.setFillRGBColor:this.setFillRGBColor(u[0],u[1],u[2]);break;case n.OPS.setStrokeRGBColor:this.setStrokeRGBColor(u[0],u[1],u[2]);break;case n.OPS.setStrokeColorN:this.setStrokeColorN(u);break;case n.OPS.setFillColorN:this.setFillColorN(u);break;case n.OPS.shadingFill:this.shadingFill(u[0]);break;case n.OPS.setDash:this.setDash(u[0],u[1]);break;case n.OPS.setRenderingIntent:this.setRenderingIntent(u[0]);break;case n.OPS.setFlatness:this.setFlatness(u[0]);break;case n.OPS.setGState:this.setGState(u[0]);break;case n.OPS.fill:this.fill();break;case n.OPS.eoFill:this.eoFill();break;case n.OPS.stroke:this.stroke();break;case n.OPS.fillStroke:this.fillStroke();break;case n.OPS.eoFillStroke:this.eoFillStroke();break;case n.OPS.clip:this.clip("nonzero");break;case n.OPS.eoClip:this.clip("evenodd");break;case n.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case n.OPS.paintImageXObject:this.paintImageXObject(u[0]);break;case n.OPS.paintInlineImageXObject:this.paintInlineImageXObject(u[0]);break;case n.OPS.paintImageMaskXObject:this.paintImageMaskXObject(u[0]);break;case n.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(u[0],u[1]);break;case n.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case n.OPS.closePath:this.closePath();break;case n.OPS.closeStroke:this.closeStroke();break;case n.OPS.closeFillStroke:this.closeFillStroke();break;case n.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case n.OPS.nextLine:this.nextLine();break;case n.OPS.transform:this.transform(u[0],u[1],u[2],u[3],u[4],u[5]);break;case n.OPS.constructPath:this.constructPath(u[0],u[1]);break;case n.OPS.endPath:this.endPath();break;case 92:this.group(i.items);break;default:(0,n.warn)(`Unimplemented operator ${d}`)}}}setWordSpacing(t){this.current.wordSpacing=t}setCharSpacing(t){this.current.charSpacing=t}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(t,i,d,S,u,A){const c=this.current;c.textMatrix=c.lineMatrix=[t,i,d,S,u,A],c.textMatrixScale=Math.hypot(t,i),c.x=c.lineX=0,c.y=c.lineY=0,c.xcoords=[],c.ycoords=[],c.tspan=this.svgFactory.createElement("svg:tspan"),c.tspan.setAttributeNS(null,"font-family",c.fontFamily),c.tspan.setAttributeNS(null,"font-size",`${E(c.fontSize)}px`),c.tspan.setAttributeNS(null,"y",E(-c.y)),c.txtElement=this.svgFactory.createElement("svg:text"),c.txtElement.appendChild(c.tspan)}beginText(){const t=this.current;t.x=t.lineX=0,t.y=t.lineY=0,t.textMatrix=n.IDENTITY_MATRIX,t.lineMatrix=n.IDENTITY_MATRIX,t.textMatrixScale=1,t.tspan=this.svgFactory.createElement("svg:tspan"),t.txtElement=this.svgFactory.createElement("svg:text"),t.txtgrp=this.svgFactory.createElement("svg:g"),t.xcoords=[],t.ycoords=[]}moveText(t,i){const d=this.current;d.x=d.lineX+=t,d.y=d.lineY+=i,d.xcoords=[],d.ycoords=[],d.tspan=this.svgFactory.createElement("svg:tspan"),d.tspan.setAttributeNS(null,"font-family",d.fontFamily),d.tspan.setAttributeNS(null,"font-size",`${E(d.fontSize)}px`),d.tspan.setAttributeNS(null,"y",E(-d.y))}showText(t){const i=this.current,d=i.font,S=i.fontSize;if(0===S)return;const u=i.fontSizeScale,A=i.charSpacing,c=i.wordSpacing,l=i.fontDirection,_=i.textHScale*l,w=d.vertical,D=w?1:-1,W=d.defaultVMetrics,K=S*i.fontMatrix[0];let J=0;for(const le of t){if(null===le){J+=l*c;continue}if("number"==typeof le){J+=D*le*S/1e3;continue}const k=(le.isSpace?c:0)+A,s=le.fontChar;let e,r,f,o=le.width;if(w){let p;const h=le.vmetric||W;p=le.vmetric?h[1]:.5*o,p=-p*K,o=h?-h[0]:o,e=p/u,r=(J+h[2]*K)/u}else e=J/u,r=0;(le.isInFont||d.missingFile)&&(i.xcoords.push(i.x+e),w&&i.ycoords.push(-i.y+r),i.tspan.textContent+=s),f=w?o*K-k*l:o*K+k*l,J+=f}i.tspan.setAttributeNS(null,"x",i.xcoords.map(E).join(" ")),i.tspan.setAttributeNS(null,"y",w?i.ycoords.map(E).join(" "):E(-i.y)),w?i.y-=J:i.x+=J*_,i.tspan.setAttributeNS(null,"font-family",i.fontFamily),i.tspan.setAttributeNS(null,"font-size",`${E(i.fontSize)}px`),i.fontStyle!==P.fontStyle&&i.tspan.setAttributeNS(null,"font-style",i.fontStyle),i.fontWeight!==P.fontWeight&&i.tspan.setAttributeNS(null,"font-weight",i.fontWeight);const te=i.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;te===n.TextRenderingMode.FILL||te===n.TextRenderingMode.FILL_STROKE?(i.fillColor!==P.fillColor&&i.tspan.setAttributeNS(null,"fill",i.fillColor),i.fillAlpha<1&&i.tspan.setAttributeNS(null,"fill-opacity",i.fillAlpha)):i.tspan.setAttributeNS(null,"fill",i.textRenderingMode===n.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(te===n.TextRenderingMode.STROKE||te===n.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(i.tspan,1/(i.textMatrixScale||1));let de=i.textMatrix;0!==i.textRise&&(de=de.slice(),de[5]+=i.textRise),i.txtElement.setAttributeNS(null,"transform",`${m(de)} scale(${E(_)}, -1)`),i.txtElement.setAttributeNS(L,"xml:space","preserve"),i.txtElement.appendChild(i.tspan),i.txtgrp.appendChild(i.txtElement),this._ensureTransformGroup().appendChild(i.txtElement)}setLeadingMoveText(t,i){this.setLeading(-i),this.moveText(t,i)}addFontStyle(t){if(!t.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const i=H(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${t.loadedName}"; src: url(${i}); }\n`}setFont(t){const i=this.current,d=this.commonObjs.get(t[0]);let S=t[1];i.font=d,this.embedFonts&&!d.missingFile&&!this.embeddedFonts[d.loadedName]&&(this.addFontStyle(d),this.embeddedFonts[d.loadedName]=d),i.fontMatrix=d.fontMatrix||n.FONT_IDENTITY_MATRIX;let u="normal";d.black?u="900":d.bold&&(u="bold");const A=d.italic?"italic":"normal";S<0?(S=-S,i.fontDirection=-1):i.fontDirection=1,i.fontSize=S,i.fontFamily=d.loadedName,i.fontWeight=u,i.fontStyle=A,i.tspan=this.svgFactory.createElement("svg:tspan"),i.tspan.setAttributeNS(null,"y",E(-i.y)),i.xcoords=[],i.ycoords=[]}endText(){const t=this.current;t.textRenderingMode&n.TextRenderingMode.ADD_TO_PATH_FLAG&&t.txtElement?.hasChildNodes()&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(t){t>0&&(this.current.lineWidth=t)}setLineCap(t){this.current.lineCap=I[t]}setLineJoin(t){this.current.lineJoin=U[t]}setMiterLimit(t){this.current.miterLimit=t}setStrokeAlpha(t){this.current.strokeAlpha=t}setStrokeRGBColor(t,i,d){this.current.strokeColor=n.Util.makeHexColor(t,i,d)}setFillAlpha(t){this.current.fillAlpha=t}setFillRGBColor(t,i,d){this.current.fillColor=n.Util.makeHexColor(t,i,d),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(t){this.current.strokeColor=this._makeColorN_Pattern(t)}setFillColorN(t){this.current.fillColor=this._makeColorN_Pattern(t)}shadingFill(t){const i=this.viewport.width,d=this.viewport.height,S=n.Util.inverseTransform(this.transformMatrix),u=n.Util.applyTransform([0,0],S),A=n.Util.applyTransform([0,d],S),c=n.Util.applyTransform([i,0],S),l=n.Util.applyTransform([i,d],S),_=Math.min(u[0],A[0],c[0],l[0]),w=Math.min(u[1],A[1],c[1],l[1]),D=Math.max(u[0],A[0],c[0],l[0]),W=Math.max(u[1],A[1],c[1],l[1]),K=this.svgFactory.createElement("svg:rect");K.setAttributeNS(null,"x",_),K.setAttributeNS(null,"y",w),K.setAttributeNS(null,"width",D-_),K.setAttributeNS(null,"height",W-w),K.setAttributeNS(null,"fill",this._makeShadingPattern(t)),this.current.fillAlpha<1&&K.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(K)}_makeColorN_Pattern(t){return"TilingPattern"===t[0]?this._makeTilingPattern(t):this._makeShadingPattern(t)}_makeTilingPattern(t){const i=t[1],d=t[2],S=t[3]||n.IDENTITY_MATRIX,[u,A,c,l]=t[4],_=t[5],w=t[6],D=t[7],W="shading"+v++,[K,J,te,de]=n.Util.normalizeRect([...n.Util.applyTransform([u,A],S),...n.Util.applyTransform([c,l],S)]),[le,k]=n.Util.singularValueDecompose2dScale(S),s=_*le,e=w*k,r=this.svgFactory.createElement("svg:pattern");r.setAttributeNS(null,"id",W),r.setAttributeNS(null,"patternUnits","userSpaceOnUse"),r.setAttributeNS(null,"width",s),r.setAttributeNS(null,"height",e),r.setAttributeNS(null,"x",`${K}`),r.setAttributeNS(null,"y",`${J}`);const o=this.svg,f=this.transformMatrix,p=this.current.fillColor,h=this.current.strokeColor,F=this.svgFactory.create(te-K,de-J);if(this.svg=F,this.transformMatrix=S,2===D){const X=n.Util.makeHexColor(...i);this.current.fillColor=X,this.current.strokeColor=X}return this.executeOpTree(this.convertOpList(d)),this.svg=o,this.transformMatrix=f,this.current.fillColor=p,this.current.strokeColor=h,r.appendChild(F.childNodes[0]),this.defs.appendChild(r),`url(#${W})`}_makeShadingPattern(t){switch("string"==typeof t&&(t=this.objs.get(t)),t[0]){case"RadialAxial":const i="shading"+v++,d=t[3];let S;switch(t[1]){case"axial":const u=t[4],A=t[5];S=this.svgFactory.createElement("svg:linearGradient"),S.setAttributeNS(null,"id",i),S.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),S.setAttributeNS(null,"x1",u[0]),S.setAttributeNS(null,"y1",u[1]),S.setAttributeNS(null,"x2",A[0]),S.setAttributeNS(null,"y2",A[1]);break;case"radial":const c=t[4],l=t[5],_=t[6],w=t[7];S=this.svgFactory.createElement("svg:radialGradient"),S.setAttributeNS(null,"id",i),S.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),S.setAttributeNS(null,"cx",l[0]),S.setAttributeNS(null,"cy",l[1]),S.setAttributeNS(null,"r",w),S.setAttributeNS(null,"fx",c[0]),S.setAttributeNS(null,"fy",c[1]),S.setAttributeNS(null,"fr",_);break;default:throw new Error(`Unknown RadialAxial type: ${t[1]}`)}for(const u of d){const A=this.svgFactory.createElement("svg:stop");A.setAttributeNS(null,"offset",u[0]),A.setAttributeNS(null,"stop-color",u[1]),S.appendChild(A)}return this.defs.appendChild(S),`url(#${i})`;case"Mesh":return(0,n.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${t[0]}`)}}setDash(t,i){this.current.dashArray=t,this.current.dashPhase=i}constructPath(t,i){const d=this.current;let S=d.x,u=d.y,A=[],c=0;for(const l of t)switch(0|l){case n.OPS.rectangle:S=i[c++],u=i[c++];const D=S+i[c++],W=u+i[c++];A.push("M",E(S),E(u),"L",E(D),E(u),"L",E(D),E(W),"L",E(S),E(W),"Z");break;case n.OPS.moveTo:S=i[c++],u=i[c++],A.push("M",E(S),E(u));break;case n.OPS.lineTo:S=i[c++],u=i[c++],A.push("L",E(S),E(u));break;case n.OPS.curveTo:S=i[c+4],u=i[c+5],A.push("C",E(i[c]),E(i[c+1]),E(i[c+2]),E(i[c+3]),E(S),E(u)),c+=6;break;case n.OPS.curveTo2:A.push("C",E(S),E(u),E(i[c]),E(i[c+1]),E(i[c+2]),E(i[c+3])),S=i[c+2],u=i[c+3],c+=4;break;case n.OPS.curveTo3:S=i[c+2],u=i[c+3],A.push("C",E(i[c]),E(i[c+1]),E(S),E(u),E(S),E(u)),c+=4;break;case n.OPS.closePath:A.push("Z")}A=A.join(" "),d.path&&t.length>0&&t[0]!==n.OPS.rectangle&&t[0]!==n.OPS.moveTo?A=d.path.getAttributeNS(null,"d")+A:(d.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(d.path)),d.path.setAttributeNS(null,"d",A),d.path.setAttributeNS(null,"fill","none"),d.element=d.path,d.setCurrentPoint(S,u)}endPath(){const t=this.current;if(t.path=null,!this.pendingClip)return;if(!t.element)return void(this.pendingClip=null);const i="clippath"+x++,d=this.svgFactory.createElement("svg:clipPath");d.setAttributeNS(null,"id",i),d.setAttributeNS(null,"transform",m(this.transformMatrix));const S=t.element.cloneNode(!0);if(S.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,d.appendChild(S),this.defs.appendChild(d),t.activeClipUrl){t.clipGroup=null;for(const u of this.extraStack)u.clipGroup=null;d.setAttributeNS(null,"clip-path",t.activeClipUrl)}t.activeClipUrl=`url(#${i})`,this.tgrp=null}clip(t){this.pendingClip=t}closePath(){const t=this.current;if(t.path){const i=`${t.path.getAttributeNS(null,"d")}Z`;t.path.setAttributeNS(null,"d",i)}}setLeading(t){this.current.leading=-t}setTextRise(t){this.current.textRise=t}setTextRenderingMode(t){this.current.textRenderingMode=t}setHScale(t){this.current.textHScale=t/100}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[i,d]of t)switch(i){case"LW":this.setLineWidth(d);break;case"LC":this.setLineCap(d);break;case"LJ":this.setLineJoin(d);break;case"ML":this.setMiterLimit(d);break;case"D":this.setDash(d[0],d[1]);break;case"RI":this.setRenderingIntent(d);break;case"FL":this.setFlatness(d);break;case"Font":this.setFont(d);break;case"CA":this.setStrokeAlpha(d);break;case"ca":this.setFillAlpha(d);break;default:(0,n.warn)(`Unimplemented graphic state operator ${i}`)}}fill(){const t=this.current;t.element&&(t.element.setAttributeNS(null,"fill",t.fillColor),t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha),this.endPath())}stroke(){const t=this.current;t.element&&(this._setStrokeAttributes(t.element),t.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(t,i=1){const d=this.current;let S=d.dashArray;1!==i&&S.length>0&&(S=S.map(function(u){return i*u})),t.setAttributeNS(null,"stroke",d.strokeColor),t.setAttributeNS(null,"stroke-opacity",d.strokeAlpha),t.setAttributeNS(null,"stroke-miterlimit",E(d.miterLimit)),t.setAttributeNS(null,"stroke-linecap",d.lineCap),t.setAttributeNS(null,"stroke-linejoin",d.lineJoin),t.setAttributeNS(null,"stroke-width",E(i*d.lineWidth)+"px"),t.setAttributeNS(null,"stroke-dasharray",S.map(E).join(" ")),t.setAttributeNS(null,"stroke-dashoffset",E(i*d.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(t)}paintImageXObject(t){const i=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);i?this.paintInlineImageXObject(i):(0,n.warn)(`Dependent image with object ID ${t} is not ready yet`)}paintInlineImageXObject(t,i){const d=t.width,S=t.height,u=N(t,this.forceDataSchema,!!i),A=this.svgFactory.createElement("svg:rect");A.setAttributeNS(null,"x","0"),A.setAttributeNS(null,"y","0"),A.setAttributeNS(null,"width",E(d)),A.setAttributeNS(null,"height",E(S)),this.current.element=A,this.clip("nonzero");const c=this.svgFactory.createElement("svg:image");c.setAttributeNS(y,"xlink:href",u),c.setAttributeNS(null,"x","0"),c.setAttributeNS(null,"y",E(-S)),c.setAttributeNS(null,"width",E(d)+"px"),c.setAttributeNS(null,"height",E(S)+"px"),c.setAttributeNS(null,"transform",`scale(${E(1/d)} ${E(-1/S)})`),i?i.appendChild(c):this._ensureTransformGroup().appendChild(c)}paintImageMaskXObject(t){const i=this.current,d=t.width,S=t.height,u=i.fillColor;i.maskId="mask"+b++;const A=this.svgFactory.createElement("svg:mask");A.setAttributeNS(null,"id",i.maskId);const c=this.svgFactory.createElement("svg:rect");c.setAttributeNS(null,"x","0"),c.setAttributeNS(null,"y","0"),c.setAttributeNS(null,"width",E(d)),c.setAttributeNS(null,"height",E(S)),c.setAttributeNS(null,"fill",u),c.setAttributeNS(null,"mask",`url(#${i.maskId})`),this.defs.appendChild(A),this._ensureTransformGroup().appendChild(c),this.paintInlineImageXObject(t,A)}paintFormXObjectBegin(t,i){if(Array.isArray(t)&&6===t.length&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),i){const d=i[2]-i[0],S=i[3]-i[1],u=this.svgFactory.createElement("svg:rect");u.setAttributeNS(null,"x",i[0]),u.setAttributeNS(null,"y",i[1]),u.setAttributeNS(null,"width",E(d)),u.setAttributeNS(null,"height",E(S)),this.current.element=u,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(t){const i=this.svgFactory.create(t.width,t.height),d=this.svgFactory.createElement("svg:defs");i.appendChild(d),this.defs=d;const S=this.svgFactory.createElement("svg:g");return S.setAttributeNS(null,"transform",m(t.transform)),i.appendChild(S),this.svg=S,i}_ensureClipGroup(){if(!this.current.clipGroup){const t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(t),this.current.clipGroup=t}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",m(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(G,a,C)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFNodeStream=void 0;var n=C(1),T=C(26);const M=__webpack_require__(172),z=__webpack_require__(2001),P=__webpack_require__(3779),L=__webpack_require__(6558),y=/^file:\/\/\/[a-zA-Z]:\//;a.PDFNodeStream=class U{constructor(v){this.source=v,this.url=function I(b){const v=L.parse(b);return"file:"===v.protocol||v.host?v:/^[a-z]:[/\\]/i.test(b)?L.parse(`file:///${b}`):(v.host||(v.protocol="file:"),v)}(v.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&v.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new m(this):new g(this),this._fullRequestReader}getRangeReader(v,t){if(t<=this._progressiveDataLength)return null;const i=this.isFsUrl?new x(this,v,t):new E(this,v,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(v){this._fullRequestReader&&this._fullRequestReader.cancel(v);for(const t of this._rangeRequestReaders.slice(0))t.cancel(v)}};class H{constructor(v){this._url=v.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=v.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=(0,n.createPromiseCapability)(),this._headersCapability=(0,n.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var v=this;return _asyncToGenerator(function*(){if(yield v._readCapability.promise,v._done)return{value:void 0,done:!0};if(v._storedError)throw v._storedError;const t=v._readableStream.read();return null===t?(v._readCapability=(0,n.createPromiseCapability)(),v.read()):(v._loaded+=t.length,v.onProgress&&v.onProgress({loaded:v._loaded,total:v._contentLength}),{value:new Uint8Array(t).buffer,done:!1})})()}cancel(v){this._readableStream?this._readableStream.destroy(v):this._error(v)}_error(v){this._storedError=v,this._readCapability.resolve()}_setReadableStream(v){this._readableStream=v,v.on("readable",()=>{this._readCapability.resolve()}),v.on("end",()=>{v.destroy(),this._done=!0,this._readCapability.resolve()}),v.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new n.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class N{constructor(v){this._url=v.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,n.createPromiseCapability)(),this._isStreamingSupported=!v.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var v=this;return _asyncToGenerator(function*(){if(yield v._readCapability.promise,v._done)return{value:void 0,done:!0};if(v._storedError)throw v._storedError;const t=v._readableStream.read();return null===t?(v._readCapability=(0,n.createPromiseCapability)(),v.read()):(v._loaded+=t.length,v.onProgress&&v.onProgress({loaded:v._loaded}),{value:new Uint8Array(t).buffer,done:!1})})()}cancel(v){this._readableStream?this._readableStream.destroy(v):this._error(v)}_error(v){this._storedError=v,this._readCapability.resolve()}_setReadableStream(v){this._readableStream=v,v.on("readable",()=>{this._readCapability.resolve()}),v.on("end",()=>{v.destroy(),this._done=!0,this._readCapability.resolve()}),v.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function j(b,v){return{protocol:b.protocol,auth:b.auth,host:b.hostname,port:b.port,path:b.path,method:"GET",headers:v}}class g extends H{constructor(v){super(v);const t=i=>{if(404===i.statusCode){const A=new n.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=A,void this._headersCapability.reject(A)}this._headersCapability.resolve(),this._setReadableStream(i);const d=A=>this._readableStream.headers[A.toLowerCase()],{allowRangeRequests:S,suggestedLength:u}=(0,T.validateRangeRequestCapabilities)({getResponseHeader:d,isHttp:v.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=S,this._contentLength=u||this._contentLength,this._filename=(0,T.extractFilenameFromHeader)(d)};this._request=null,this._request="http:"===this._url.protocol?z.request(j(this._url,v.httpHeaders),t):P.request(j(this._url,v.httpHeaders),t),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class E extends N{constructor(v,t,i){super(v),this._httpHeaders={};for(const S in v.httpHeaders){const u=v.httpHeaders[S];typeof u>"u"||(this._httpHeaders[S]=u)}this._httpHeaders.Range=`bytes=${t}-${i-1}`;const d=S=>{if(404!==S.statusCode)this._setReadableStream(S);else{const u=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=u}};this._request=null,this._request="http:"===this._url.protocol?z.request(j(this._url,this._httpHeaders),d):P.request(j(this._url,this._httpHeaders),d),this._request.on("error",S=>{this._storedError=S}),this._request.end()}}class m extends H{constructor(v){super(v);let t=decodeURIComponent(this._url.path);y.test(this._url.href)&&(t=t.replace(/^\//,"")),M.lstat(t,(i,d)=>{if(i)return"ENOENT"===i.code&&(i=new n.MissingPDFException(`Missing PDF "${t}".`)),this._storedError=i,void this._headersCapability.reject(i);this._contentLength=d.size,this._setReadableStream(M.createReadStream(t)),this._headersCapability.resolve()})}}class x extends N{constructor(v,t,i){super(v);let d=decodeURIComponent(this._url.path);y.test(this._url.href)&&(d=d.replace(/^\//,"")),this._setReadableStream(M.createReadStream(d,{start:t,end:i-1}))}}},(G,a,C)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createResponseStatusError=function L(I,U){return 404===I||0===I&&U.startsWith("file:")?new n.MissingPDFException('Missing PDF "'+U+'".'):new n.UnexpectedResponseException(`Unexpected server response (${I}) while retrieving PDF "${U}".`,I)},a.extractFilenameFromHeader=function P(I){const U=I("Content-Disposition");if(U){let H=(0,T.getFilenameFromContentDispositionHeader)(U);if(H.includes("%"))try{H=decodeURIComponent(H)}catch{}if((0,M.isPdfFile)(H))return H}return null},a.validateRangeRequestCapabilities=function z({getResponseHeader:I,isHttp:U,rangeChunkSize:H,disableRange:N}){const j={allowRangeRequests:!1,suggestedLength:void 0},g=parseInt(I("Content-Length"),10);return!Number.isInteger(g)||(j.suggestedLength=g,g<=2*H)||N||!U||"bytes"!==I("Accept-Ranges")||"identity"!==(I("Content-Encoding")||"identity")||(j.allowRangeRequests=!0),j},a.validateResponseStatus=function y(I){return 200===I||206===I};var n=C(1),T=C(27),M=C(5)},(G,a,C)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getFilenameFromContentDispositionHeader=function T(M){let z=!0,P=L("filename\\*","i").exec(M);if(P){P=P[1];let g=H(P);return g=unescape(g),g=N(g),g=j(g),I(g)}if(P=function U(g){const E=[];let m;const x=L("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(m=x.exec(g));){let[,v,t,i]=m;if(v=parseInt(v,10),v in E){if(0===v)break}else E[v]=[t,i]}const b=[];for(let v=0;v<E.length&&v in E;++v){let[t,i]=E[v];i=H(i),t&&(i=unescape(i),0===v&&(i=N(i))),b.push(i)}return b.join("")}(M),P)return I(j(P));if(P=L("filename","i").exec(M),P){P=P[1];let g=H(P);return g=j(g),I(g)}function L(g,E){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',E)}function y(g,E){if(g){if(!/^[\x00-\xFF]+$/.test(E))return E;try{const m=new TextDecoder(g,{fatal:!0}),x=(0,n.stringToBytes)(E);E=m.decode(x),z=!1}catch{}}return E}function I(g){return z&&/[\x80-\xff]/.test(g)&&(g=y("utf-8",g),z&&(g=y("iso-8859-1",g))),g}function H(g){if(g.startsWith('"')){const E=g.slice(1).split('\\"');for(let m=0;m<E.length;++m){const x=E[m].indexOf('"');-1!==x&&(E[m]=E[m].slice(0,x),E.length=m+1),E[m]=E[m].replace(/\\(.)/g,"$1")}g=E.join('"')}return g}function N(g){const E=g.indexOf("'");return-1===E?g:y(g.slice(0,E),g.slice(E+1).replace(/^[^']*'/,""))}function j(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(E,m,x,b){if("q"===x||"Q"===x)return y(m,b=(b=b.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(v,t){return String.fromCharCode(parseInt(t,16))}));try{b=atob(b)}catch{}return y(m,b)})}return""};var n=C(1)},(G,a,C)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFNetworkStream=void 0;var n=C(1),T=C(26);class L{constructor(N,j={}){this.url=N,this.isHttp=/^https?:/i.test(N),this.httpHeaders=this.isHttp&&j.httpHeaders||Object.create(null),this.withCredentials=j.withCredentials||!1,this.getXhr=j.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(N,j,g){const E={begin:N,end:j};for(const m in g)E[m]=g[m];return this.request(E)}requestFull(N){return this.request(N)}request(N){const j=this.getXhr(),g=this.currXhrId++,E=this.pendingRequests[g]={xhr:j};j.open("GET",this.url),j.withCredentials=this.withCredentials;for(const m in this.httpHeaders){const x=this.httpHeaders[m];typeof x>"u"||j.setRequestHeader(m,x)}return this.isHttp&&"begin"in N&&"end"in N?(j.setRequestHeader("Range",`bytes=${N.begin}-${N.end-1}`),E.expectedStatus=206):E.expectedStatus=200,j.responseType="arraybuffer",N.onError&&(j.onerror=function(m){N.onError(j.status)}),j.onreadystatechange=this.onStateChange.bind(this,g),j.onprogress=this.onProgress.bind(this,g),E.onHeadersReceived=N.onHeadersReceived,E.onDone=N.onDone,E.onError=N.onError,E.onProgress=N.onProgress,j.send(null),g}onProgress(N,j){const g=this.pendingRequests[N];g&&g.onProgress?.(j)}onStateChange(N,j){const g=this.pendingRequests[N];if(!g)return;const E=g.xhr;if(E.readyState>=2&&g.onHeadersReceived&&(g.onHeadersReceived(),delete g.onHeadersReceived),4!==E.readyState||!(N in this.pendingRequests))return;if(delete this.pendingRequests[N],0===E.status&&this.isHttp)return void g.onError?.(E.status);const m=E.status||200;if((200!==m||206!==g.expectedStatus)&&m!==g.expectedStatus)return void g.onError?.(E.status);const b=function P(H){const N=H.response;return"string"!=typeof N?N:(0,n.stringToBytes)(N).buffer}(E);if(206===m){const v=E.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(v);g.onDone({begin:parseInt(t[1],10),chunk:b})}else b?g.onDone({begin:0,chunk:b}):g.onError?.(E.status)}getRequestXhr(N){return this.pendingRequests[N].xhr}isPendingRequest(N){return N in this.pendingRequests}abortRequest(N){const j=this.pendingRequests[N].xhr;delete this.pendingRequests[N],j.abort()}}a.PDFNetworkStream=class y{constructor(N){this._source=N,this._manager=new L(N.url,{httpHeaders:N.httpHeaders,withCredentials:N.withCredentials}),this._rangeChunkSize=N.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(N){const j=this._rangeRequestReaders.indexOf(N);j>=0&&this._rangeRequestReaders.splice(j,1)}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new I(this._manager,this._source),this._fullRequestReader}getRangeReader(N,j){const g=new U(this._manager,N,j);return g.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(g),g}cancelAllRequests(N){this._fullRequestReader?.cancel(N);for(const j of this._rangeRequestReaders.slice(0))j.cancel(N)}};class I{constructor(N,j){this._manager=N;const g={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=j.url,this._fullRequestId=N.requestFull(g),this._headersReceivedCapability=(0,n.createPromiseCapability)(),this._disableRange=j.disableRange||!1,this._contentLength=j.length,this._rangeChunkSize=j.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const N=this._fullRequestId,j=this._manager.getRequestXhr(N),g=x=>j.getResponseHeader(x),{allowRangeRequests:E,suggestedLength:m}=(0,T.validateRangeRequestCapabilities)({getResponseHeader:g,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});E&&(this._isRangeSupported=!0),this._contentLength=m||this._contentLength,this._filename=(0,T.extractFilenameFromHeader)(g),this._isRangeSupported&&this._manager.abortRequest(N),this._headersReceivedCapability.resolve()}_onDone(N){if(N&&(this._requests.length>0?this._requests.shift().resolve({value:N.chunk,done:!1}):this._cachedChunks.push(N.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const j of this._requests)j.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(N){this._storedError=(0,T.createResponseStatusError)(N,this._url),this._headersReceivedCapability.reject(this._storedError);for(const j of this._requests)j.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(N){this.onProgress?.({loaded:N.loaded,total:N.lengthComputable?N.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var N=this;return _asyncToGenerator(function*(){if(N._storedError)throw N._storedError;if(N._cachedChunks.length>0)return{value:N._cachedChunks.shift(),done:!1};if(N._done)return{value:void 0,done:!0};const j=(0,n.createPromiseCapability)();return N._requests.push(j),j.promise})()}cancel(N){this._done=!0,this._headersReceivedCapability.reject(N);for(const j of this._requests)j.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class U{constructor(N,j,g){this._manager=N;const E={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=N.url,this._requestId=N.requestRange(j,g,E),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(N){const j=N.chunk;this._requests.length>0?this._requests.shift().resolve({value:j,done:!1}):this._queuedChunk=j,this._done=!0;for(const g of this._requests)g.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(N){this._storedError=(0,T.createResponseStatusError)(N,this._url);for(const j of this._requests)j.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(N){this.isStreamingSupported||this.onProgress?.({loaded:N.loaded})}get isStreamingSupported(){return!1}read(){var N=this;return _asyncToGenerator(function*(){if(N._storedError)throw N._storedError;if(null!==N._queuedChunk){const g=N._queuedChunk;return N._queuedChunk=null,{value:g,done:!1}}if(N._done)return{value:void 0,done:!0};const j=(0,n.createPromiseCapability)();return N._requests.push(j),j.promise})()}cancel(N){this._done=!0;for(const j of this._requests)j.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(G,a,C)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFFetchStream=void 0;var n=C(1),T=C(26);function M(I,U,H){return{method:"GET",headers:I,signal:H?.signal,mode:"cors",credentials:U?"include":"same-origin",redirect:"follow"}}function z(I){const U=new Headers;for(const H in I){const N=I[H];typeof N>"u"||U.append(H,N)}return U}a.PDFFetchStream=class P{constructor(U){this.source=U,this.isHttp=/^https?:/i.test(U.url),this.httpHeaders=this.isHttp&&U.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new L(this),this._fullRequestReader}getRangeReader(U,H){if(H<=this._progressiveDataLength)return null;const N=new y(this,U,H);return this._rangeRequestReaders.push(N),N}cancelAllRequests(U){this._fullRequestReader&&this._fullRequestReader.cancel(U);for(const H of this._rangeRequestReaders.slice(0))H.cancel(U)}};class L{constructor(U){this._stream=U,this._reader=null,this._loaded=0,this._filename=null;const H=U.source;this._withCredentials=H.withCredentials||!1,this._contentLength=H.length,this._headersCapability=(0,n.createPromiseCapability)(),this._disableRange=H.disableRange||!1,this._rangeChunkSize=H.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!H.disableStream,this._isRangeSupported=!H.disableRange,this._headers=z(this._stream.httpHeaders);const N=H.url;fetch(N,M(this._headers,this._withCredentials,this._abortController)).then(j=>{if(!(0,T.validateResponseStatus)(j.status))throw(0,T.createResponseStatusError)(j.status,N);this._reader=j.body.getReader(),this._headersCapability.resolve();const g=x=>j.headers.get(x),{allowRangeRequests:E,suggestedLength:m}=(0,T.validateRangeRequestCapabilities)({getResponseHeader:g,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=E,this._contentLength=m||this._contentLength,this._filename=(0,T.extractFilenameFromHeader)(g),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new n.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var U=this;return _asyncToGenerator(function*(){yield U._headersCapability.promise;const{value:H,done:N}=yield U._reader.read();return N?{value:H,done:N}:(U._loaded+=H.byteLength,U.onProgress&&U.onProgress({loaded:U._loaded,total:U._contentLength}),{value:new Uint8Array(H).buffer,done:!1})})()}cancel(U){this._reader&&this._reader.cancel(U),this._abortController&&this._abortController.abort()}}class y{constructor(U,H,N){this._stream=U,this._reader=null,this._loaded=0;const j=U.source;this._withCredentials=j.withCredentials||!1,this._readCapability=(0,n.createPromiseCapability)(),this._isStreamingSupported=!j.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=z(this._stream.httpHeaders),this._headers.append("Range",`bytes=${H}-${N-1}`);const g=j.url;fetch(g,M(this._headers,this._withCredentials,this._abortController)).then(E=>{if(!(0,T.validateResponseStatus)(E.status))throw(0,T.createResponseStatusError)(E.status,g);this._readCapability.resolve(),this._reader=E.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var U=this;return _asyncToGenerator(function*(){yield U._readCapability.promise;const{value:H,done:N}=yield U._reader.read();return N?{value:H,done:N}:(U._loaded+=H.byteLength,U.onProgress&&U.onProgress({loaded:U._loaded}),{value:new Uint8Array(H).buffer,done:!1})})()}cancel(U){this._reader&&this._reader.cancel(U),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(G){var a=__webpack_module_cache__[G];if(void 0!==a)return a.exports;var C=__webpack_module_cache__[G]={exports:{}};return __webpack_modules__[G](C,C.exports,__w_pdfjs_require__),C.exports}var __webpack_exports__={};return(()=>{var G=__webpack_exports__;Object.defineProperty(G,"__esModule",{value:!0}),Object.defineProperty(G,"AnnotationLayer",{enumerable:!0,get:function(){return T.AnnotationLayer}}),Object.defineProperty(G,"AnnotationMode",{enumerable:!0,get:function(){return a.AnnotationMode}}),Object.defineProperty(G,"CMapCompressionType",{enumerable:!0,get:function(){return a.CMapCompressionType}}),Object.defineProperty(G,"GlobalWorkerOptions",{enumerable:!0,get:function(){return M.GlobalWorkerOptions}}),Object.defineProperty(G,"InvalidPDFException",{enumerable:!0,get:function(){return a.InvalidPDFException}}),Object.defineProperty(G,"LoopbackPort",{enumerable:!0,get:function(){return C.LoopbackPort}}),Object.defineProperty(G,"MissingPDFException",{enumerable:!0,get:function(){return a.MissingPDFException}}),Object.defineProperty(G,"OPS",{enumerable:!0,get:function(){return a.OPS}}),Object.defineProperty(G,"PDFDataRangeTransport",{enumerable:!0,get:function(){return C.PDFDataRangeTransport}}),Object.defineProperty(G,"PDFDateString",{enumerable:!0,get:function(){return n.PDFDateString}}),Object.defineProperty(G,"PDFWorker",{enumerable:!0,get:function(){return C.PDFWorker}}),Object.defineProperty(G,"PasswordResponses",{enumerable:!0,get:function(){return a.PasswordResponses}}),Object.defineProperty(G,"PermissionFlag",{enumerable:!0,get:function(){return a.PermissionFlag}}),Object.defineProperty(G,"PixelsPerInch",{enumerable:!0,get:function(){return n.PixelsPerInch}}),Object.defineProperty(G,"RenderingCancelledException",{enumerable:!0,get:function(){return n.RenderingCancelledException}}),Object.defineProperty(G,"SVGGraphics",{enumerable:!0,get:function(){return L.SVGGraphics}}),Object.defineProperty(G,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return a.UNSUPPORTED_FEATURES}}),Object.defineProperty(G,"UnexpectedResponseException",{enumerable:!0,get:function(){return a.UnexpectedResponseException}}),Object.defineProperty(G,"Util",{enumerable:!0,get:function(){return a.Util}}),Object.defineProperty(G,"VerbosityLevel",{enumerable:!0,get:function(){return a.VerbosityLevel}}),Object.defineProperty(G,"XfaLayer",{enumerable:!0,get:function(){return y.XfaLayer}}),Object.defineProperty(G,"build",{enumerable:!0,get:function(){return C.build}}),Object.defineProperty(G,"createPromiseCapability",{enumerable:!0,get:function(){return a.createPromiseCapability}}),Object.defineProperty(G,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return a.createValidAbsoluteUrl}}),Object.defineProperty(G,"getDocument",{enumerable:!0,get:function(){return C.getDocument}}),Object.defineProperty(G,"getFilenameFromUrl",{enumerable:!0,get:function(){return n.getFilenameFromUrl}}),Object.defineProperty(G,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return n.getPdfFilenameFromUrl}}),Object.defineProperty(G,"getXfaPageViewport",{enumerable:!0,get:function(){return n.getXfaPageViewport}}),Object.defineProperty(G,"isPdfFile",{enumerable:!0,get:function(){return n.isPdfFile}}),Object.defineProperty(G,"loadScript",{enumerable:!0,get:function(){return n.loadScript}}),Object.defineProperty(G,"renderTextLayer",{enumerable:!0,get:function(){return P.renderTextLayer}}),Object.defineProperty(G,"shadow",{enumerable:!0,get:function(){return a.shadow}}),Object.defineProperty(G,"version",{enumerable:!0,get:function(){return C.version}});var a=__w_pdfjs_require__(1),C=__w_pdfjs_require__(4),n=__w_pdfjs_require__(5),T=__w_pdfjs_require__(20),M=__w_pdfjs_require__(13),z=__w_pdfjs_require__(3),P=__w_pdfjs_require__(23),L=__w_pdfjs_require__(24),y=__w_pdfjs_require__(22);if(z.isNodeJS){const{PDFNodeStream:H}=__w_pdfjs_require__(25);(0,C.setPDFNetworkStreamFactory)(N=>new H(N))}else{const{PDFNetworkStream:H}=__w_pdfjs_require__(28),{PDFFetchStream:N}=__w_pdfjs_require__(29);(0,C.setPDFNetworkStreamFactory)(j=>(0,n.isValidFetchUrl)(j.url)?new N(j):new H(j))}})(),__webpack_exports__})(),module.exports=C()},2813:function(G,a,C){var H,n=C(5661).default,T=C(1860).default,M=C(9159).default,z=C(5764).default,P=C(4467).default,L=C(468).default,y=C(7156).default;H=()=>(()=>{"use strict";var I=[,(j,g,E)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.DefaultXfaLayerFactory=g.DefaultTextLayerFactory=g.DefaultStructTreeLayerFactory=g.DefaultAnnotationLayerFactory=void 0;var m=E(2),x=E(4),b=E(5),v=E(7),t=E(8),i=E(9);g.DefaultAnnotationLayerFactory=class d{createAnnotationLayerBuilder(l,_,w=null,D="",W=!0,K=x.NullL10n,J=!1,te=null,de=null,le=null,k=null){return new m.AnnotationLayerBuilder({pageDiv:l,pdfPage:_,imageResourcesPath:D,renderForms:W,linkService:new b.SimpleLinkService,l10n:K,annotationStorage:w,enableScripting:J,hasJSActionsPromise:te,fieldObjectsPromise:le,mouseState:de,annotationCanvasMap:k})}},g.DefaultStructTreeLayerFactory=class S{createStructTreeLayerBuilder(l){return new v.StructTreeLayerBuilder({pdfPage:l})}},g.DefaultTextLayerFactory=class u{createTextLayerBuilder(l,_,w,D=!1,W,K){return new t.TextLayerBuilder({textLayerDiv:l,pageIndex:_,viewport:w,enhanceTextSelection:D,eventBus:W,highlighter:K})}},g.DefaultXfaLayerFactory=class A{createXfaLayerBuilder(l,_,w=null,D=null){return new i.XfaLayerBuilder({pageDiv:l,pdfPage:_,annotationStorage:w,linkService:new b.SimpleLinkService,xfaHtml:D})}}},(j,g,E)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.AnnotationLayerBuilder=void 0;var m=E(3),x=E(4);g.AnnotationLayerBuilder=class b{constructor({pageDiv:t,pdfPage:i,linkService:d,downloadManager:S,annotationStorage:u=null,imageResourcesPath:A="",renderForms:c=!0,l10n:l=x.NullL10n,enableScripting:_=!1,hasJSActionsPromise:w=null,fieldObjectsPromise:D=null,mouseState:W=null,annotationCanvasMap:K=null}){this.pageDiv=t,this.pdfPage=i,this.linkService=d,this.downloadManager=S,this.imageResourcesPath=A,this.renderForms=c,this.l10n=l,this.annotationStorage=u,this.enableScripting=_,this._hasJSActionsPromise=w,this._fieldObjectsPromise=D,this._mouseState=W,this._annotationCanvasMap=K,this.div=null,this._cancelled=!1}render(t,i="display"){var d=this;return y(function*(){const[S,u=!1,A=null]=yield Promise.all([d.pdfPage.getAnnotations({intent:i}),d._hasJSActionsPromise,d._fieldObjectsPromise]);if(d._cancelled||0===S.length)return;const c={viewport:t.clone({dontFlip:!0}),div:d.div,annotations:S,page:d.pdfPage,imageResourcesPath:d.imageResourcesPath,renderForms:d.renderForms,linkService:d.linkService,downloadManager:d.downloadManager,annotationStorage:d.annotationStorage,enableScripting:d.enableScripting,hasJSActions:u,fieldObjects:A,mouseState:d._mouseState,annotationCanvasMap:d._annotationCanvasMap};d.div?m.AnnotationLayer.update(c):(d.div=document.createElement("div"),d.div.className="annotationLayer",d.pageDiv.appendChild(d.div),c.div=d.div,m.AnnotationLayer.render(c),d.l10n.translate(d.div))})()}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},j=>{let g;g=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:C(6036),j.exports=g},(j,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.NullL10n=void 0,g.fixupLangCode=function b(i){return x[i?.toLowerCase()]||i},g.getL10nFallback=m;const E={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function m(i,d){switch(i){case"find_match_count":i=`find_match_count[${1===d.total?"one":"other"}]`;break;case"find_match_count_limit":i=`find_match_count_limit[${1===d.limit?"one":"other"}]`}return E[i]||""}const x={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};g.NullL10n={getLanguage:()=>y(function*(){return"en-us"})(),getDirection:()=>y(function*(){return"ltr"})(),get:(i,d=null,S=m(i,d))=>y(function*(){return function v(i,d){return d?i.replace(/\{\{\s*(\w+)\s*\}\}/g,(S,u)=>u in d?d[u]:"{{"+u+"}}"):i}(S,d)})(),translate:i=>y(function*(){})()}},(j,g,E)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.SimpleLinkService=g.PDFLinkService=g.LinkTarget=void 0;var m=E(6);const x="noopener noreferrer nofollow",b={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function v(c,{url:l,target:_,rel:w,enabled:D=!0}={}){if(!l||"string"!=typeof l)throw new Error('A valid "url" parameter must provided.');const W=(0,m.removeNullCharacters)(l);D?c.href=c.title=W:(c.href="",c.title=`Disabled: ${W}`,c.onclick=()=>!1);let K="";switch(_){case b.NONE:break;case b.SELF:K="_self";break;case b.BLANK:K="_blank";break;case b.PARENT:K="_parent";break;case b.TOP:K="_top"}c.target=K,c.rel="string"==typeof w?w:x}g.LinkTarget=b;var t=new WeakMap,i=new WeakSet;class d{constructor({eventBus:l,externalLinkTarget:_=null,externalLinkRel:w=null,ignoreDestinationZoom:D=!1}={}){T(this,i),M(this,t,{writable:!0,value:new Map}),this.eventBus=l,this.externalLinkTarget=_,this.externalLinkRel=w,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=D,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(l,_=null){this.baseUrl=_,this.pdfDocument=l,L(this,t).clear()}setViewer(l){this.pdfViewer=l}setHistory(l){this.pdfHistory=l}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(l){this.pdfViewer.currentPageNumber=l}get rotation(){return this.pdfViewer.pagesRotation}set rotation(l){this.pdfViewer.pagesRotation=l}goToDestination(l){var _=this;return y(function*(){if(!_.pdfDocument)return;let w,D;"string"==typeof l?(w=l,D=yield _.pdfDocument.getDestination(l)):(w=null,D=yield l),Array.isArray(D)?P(_,i,S).call(_,l,w,D):console.error(`PDFLinkService.goToDestination: "${D}" is not a valid destination array, for dest="${l}".`)})()}goToPage(l){if(!this.pdfDocument)return;const _="string"==typeof l&&this.pdfViewer.pageLabelToPageNumber(l)||0|l;Number.isInteger(_)&&_>0&&_<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(_)),this.pdfViewer.scrollPageIntoView({pageNumber:_})):console.error(`PDFLinkService.goToPage: "${l}" is not a valid page.`)}addLinkAttributes(l,_,w=!1){v(l,{url:_,target:w?b.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(l){if("string"==typeof l){if(l.length>0)return this.getAnchorUrl("#"+escape(l))}else if(Array.isArray(l)){const _=JSON.stringify(l);if(_.length>0)return this.getAnchorUrl("#"+escape(_))}return this.getAnchorUrl("")}getAnchorUrl(l){return(this.baseUrl||"")+l}setHash(l){if(!this.pdfDocument)return;let _,w;if(l.includes("=")){const D=(0,m.parseQueryString)(l);if(D.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:D.get("search").replace(/"/g,""),phraseSearch:"true"===D.get("phrase")}),D.has("page")&&(_=0|D.get("page")||1),D.has("zoom")){const W=D.get("zoom").split(","),K=W[0],J=parseFloat(K);K.includes("Fit")?"Fit"===K||"FitB"===K?w=[null,{name:K}]:"FitH"===K||"FitBH"===K||"FitV"===K||"FitBV"===K?w=[null,{name:K},W.length>1?0|W[1]:null]:"FitR"===K?5!==W.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):w=[null,{name:K},0|W[1],0|W[2],0|W[3],0|W[4]]:console.error(`PDFLinkService.setHash: "${K}" is not a valid zoom value.`):w=[null,{name:"XYZ"},W.length>1?0|W[1]:null,W.length>2?0|W[2]:null,J?J/100:K]}w?this.pdfViewer.scrollPageIntoView({pageNumber:_||this.page,destArray:w,allowNegativeOffset:!0}):_&&(this.page=_),D.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:D.get("pagemode")}),D.has("nameddest")&&this.goToDestination(D.get("nameddest"))}else{w=unescape(l);try{w=JSON.parse(w),Array.isArray(w)||(w=w.toString())}catch{}if("string"==typeof w||z(d,d,u).call(d,w))return void this.goToDestination(w);console.error(`PDFLinkService.setHash: "${unescape(l)}" is not a valid destination.`)}}executeNamedAction(l){switch(l){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:l})}cachePageRef(l,_){if(!_)return;const w=0===_.gen?`${_.num}R`:`${_.num}R${_.gen}`;L(this,t).set(w,l)}_cachedPageNumber(l){if(!l)return null;const _=0===l.gen?`${l.num}R`:`${l.num}R${l.gen}`;return L(this,t).get(_)||null}isPageVisible(l){return this.pdfViewer.isPageVisible(l)}isPageCached(l){return this.pdfViewer.isPageCached(l)}}function S(c,l=null,_){const w=_[0];let D;if("object"==typeof w&&null!==w){if(D=this._cachedPageNumber(w),!D)return void this.pdfDocument.getPageIndex(w).then(W=>{this.cachePageRef(W+1,w),P(this,i,S).call(this,c,l,_)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${w}" is not a valid page reference, for dest="${c}".`)})}else{if(!Number.isInteger(w))return void console.error(`PDFLinkService.#goToDestinationHelper: "${w}" is not a valid destination reference, for dest="${c}".`);D=w+1}!D||D<1||D>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${D}" is not a valid page number, for dest="${c}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:l,explicitDest:_,pageNumber:D})),this.pdfViewer.scrollPageIntoView({pageNumber:D,destArray:_,ignoreDestinationZoom:this._ignoreDestinationZoom}))}function u(c){if(!Array.isArray(c))return!1;const l=c.length;if(l<2)return!1;const _=c[0];if(!("object"==typeof _&&Number.isInteger(_.num)&&Number.isInteger(_.gen)||Number.isInteger(_)&&_>=0))return!1;const w=c[1];if("object"!=typeof w||"string"!=typeof w.name)return!1;let D=!0;switch(w.name){case"XYZ":if(5!==l)return!1;break;case"Fit":case"FitB":return 2===l;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==l)return!1;break;case"FitR":if(6!==l)return!1;D=!1;break;default:return!1}for(let W=2;W<l;W++){const K=c[W];if(!("number"==typeof K||D&&null===K))return!1}return!0}g.PDFLinkService=d,g.SimpleLinkService=class A{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(l){}get rotation(){return 0}set rotation(l){}goToDestination(l){return y(function*(){})()}goToPage(l){}addLinkAttributes(l,_,w=!1){v(l,{url:_,enabled:this.externalLinkEnabled})}getDestinationHash(l){return"#"}getAnchorUrl(l){return"#"}setHash(l){}executeNamedAction(l){}cachePageRef(l,_){}isPageVisible(l){return!0}isPageCached(l){return!0}}},(j,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.animationStarted=g.VERTICAL_PADDING=g.UNKNOWN_SCALE=g.TextLayerMode=g.SpreadMode=g.SidebarView=g.ScrollMode=g.SCROLLBAR_PADDING=g.RenderingStates=g.RendererType=g.ProgressBar=g.PresentationModeState=g.OutputScale=g.MIN_SCALE=g.MAX_SCALE=g.MAX_AUTO_SCALE=g.DEFAULT_SCALE_VALUE=g.DEFAULT_SCALE_DELTA=g.DEFAULT_SCALE=g.AutoPrintRegExp=void 0,g.apiPageLayoutToViewerModes=function Ce(se){let ue=w.VERTICAL,be=D.NONE;switch(se){case"SinglePage":ue=w.PAGE;break;case"OneColumn":break;case"TwoPageLeft":ue=w.PAGE;case"TwoColumnLeft":be=D.ODD;break;case"TwoPageRight":ue=w.PAGE;case"TwoColumnRight":be=D.EVEN}return{scrollMode:ue,spreadMode:be}},g.apiPageModeToSidebarView=function pe(se){switch(se){case"UseNone":return c.NONE;case"UseThumbs":return c.THUMBS;case"UseOutlines":return c.OUTLINE;case"UseAttachments":return c.ATTACHMENTS;case"UseOC":return c.LAYERS}return c.NONE},g.approximateFraction=function r(se){if(Math.floor(se)===se)return[se,1];const ue=1/se;if(ue>8)return[1,8];if(Math.floor(ue)===ue)return[1,ue];const ne=se>1?ue:se;let q,R=0,Q=1,oe=1,ge=1;for(;;){const O=R+oe,V=Q+ge;if(V>8)break;ne<=O/V?(oe=O,ge=V):(R=O,Q=V)}return q=ne-R/Q<oe/ge-ne?ne===se?[R,Q]:[Q,R]:ne===se?[oe,ge]:[ge,oe],q},g.backtrackBeforeAllVisibleElements=p,g.binarySearchFirstItem=e,g.getActiveOrFocusedElement=function we(){let se=document,ue=se.activeElement||se.querySelector(":focus");for(;ue?.shadowRoot;)se=ue.shadowRoot,ue=se.activeElement||se.querySelector(":focus");return ue},g.getPageSizeInches=function f({view:se,userUnit:ue,rotate:be}){const[ne,R,Q,oe]=se,ge=be%180!=0,q=(Q-ne)/72*ue,O=(oe-R)/72*ue;return{width:ge?O:q,height:ge?q:O}},g.getVisibleElements=function h({scrollEl:se,views:ue,sortByVisibility:be=!1,horizontal:ne=!1,rtl:R=!1}){const Q=se.scrollTop,oe=Q+se.clientHeight,ge=se.scrollLeft,q=ge+se.clientWidth,ie=[],ye=new Set,Te=ue.length;let re=e(ue,ne?function V(fe){const xe=fe.div,ve=xe.offsetLeft+xe.clientLeft;return R?ve<q:ve+xe.clientWidth>ge}:function O(fe){const xe=fe.div;return xe.offsetTop+xe.clientTop+xe.clientHeight>Q});re>0&&re<Te&&!ne&&(re=p(re,ue,Q));let ce=ne?q:-1;for(let fe=re;fe<Te;fe++){const xe=ue[fe],ve=xe.div,Ee=ve.offsetLeft+ve.clientLeft,Me=ve.offsetTop+ve.clientTop,ke=ve.clientWidth,Le=ve.clientHeight,Ne=Ee+ke,Re=Me+Le;if(-1===ce)Re>=oe&&(ce=Re);else if((ne?Ee:Me)>ce)break;if(Re<=Q||Me>=oe||Ne<=ge||Ee>=q)continue;const De=Math.max(0,Q-Me)+Math.max(0,Re-oe),Ie=(ke-(Math.max(0,ge-Ee)+Math.max(0,Ne-q)))/ke;ie.push({id:xe.id,x:Ee,y:Me,view:xe,percent:(Le-De)/Le*Ie*100|0,widthPercent:100*Ie|0}),ye.add(xe.id)}const Se=ie[0],Pe=ie[ie.length-1];return be&&ie.sort(function(fe,xe){const ve=fe.percent-xe.percent;return Math.abs(ve)>.001?-ve:fe.id-xe.id}),{first:Se,last:Pe,views:ie,ids:ye}},g.isPortraitOrientation=function ee(se){return se.width<=se.height},g.isValidRotation=function Y(se){return Number.isInteger(se)&&se%90==0},g.isValidScrollMode=function $(se){return Number.isInteger(se)&&Object.values(w).includes(se)&&se!==w.UNKNOWN},g.isValidSpreadMode=function Z(se){return Number.isInteger(se)&&Object.values(D).includes(se)&&se!==D.UNKNOWN},g.noContextMenuHandler=function F(se){se.preventDefault()},g.normalizeWheelEventDelta=function B(se){let ue=X(se);return 0===se.deltaMode?ue/=900:1===se.deltaMode&&(ue/=30),ue},g.normalizeWheelEventDirection=X,g.parseQueryString=function de(se){const ue=new Map;for(const[be,ne]of new URLSearchParams(se))ue.set(be.toLowerCase(),ne);return ue},g.removeNullCharacters=function s(se,ue=!1){return"string"!=typeof se?(console.error("The argument must be a string."),se):(ue&&(se=se.replace(k," ")),se.replace(le,""))},g.roundToDivide=function o(se,ue){const be=se%ue;return 0===be?se:Math.round(se-be+ue)},g.scrollIntoView=function J(se,ue,be=!1){let ne=se.offsetParent;if(!ne)return void console.error("offsetParent is not set -- cannot scroll");let R=se.offsetTop+se.clientTop,Q=se.offsetLeft+se.clientLeft;for(;ne.clientHeight===ne.scrollHeight&&ne.clientWidth===ne.scrollWidth||be&&(ne.classList.contains("markedContent")||"hidden"===getComputedStyle(ne).overflow);)if(R+=ne.offsetTop,Q+=ne.offsetLeft,ne=ne.offsetParent,!ne)return;ue&&(void 0!==ue.top&&(R+=ue.top),void 0!==ue.left&&(Q+=ue.left,ne.scrollLeft=Q)),ne.scrollTop=R},g.watchScroll=function te(se,ue){const be=function(Q){R||(R=window.requestAnimationFrame(function(){R=null;const ge=se.scrollLeft,q=ne.lastX;ge!==q&&(ne.right=ge>q),ne.lastX=ge;const O=se.scrollTop,V=ne.lastY;O!==V&&(ne.down=O>V),ne.lastY=O,ue(ne)}))},ne={right:!0,down:!0,lastX:se.scrollLeft,lastY:se.scrollTop,_eventHandler:be};let R=null;return se.addEventListener("scroll",be,!0),ne},g.DEFAULT_SCALE_VALUE="auto",g.DEFAULT_SCALE=1,g.DEFAULT_SCALE_DELTA=1.1,g.MIN_SCALE=.1,g.MAX_SCALE=10,g.UNKNOWN_SCALE=0,g.MAX_AUTO_SCALE=1.25,g.SCROLLBAR_PADDING=40,g.VERTICAL_PADDING=5,g.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},g.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const c={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};g.SidebarView=c,g.RendererType={CANVAS:"canvas",SVG:"svg"},g.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const w={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};g.ScrollMode=w;const D={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};g.SpreadMode=D,g.AutoPrintRegExp=/\bprint\s*\(/,g.OutputScale=class K{constructor(){const ue=window.devicePixelRatio||1;this.sx=ue,this.sy=ue}get scaled(){return 1!==this.sx||1!==this.sy}};const le=/\x00/g,k=/[\x01-\x1F]/g;function e(se,ue,be=0){let ne=be,R=se.length-1;if(R<0||!ue(se[R]))return se.length;if(ue(se[ne]))return ne;for(;ne<R;){const Q=ne+R>>1;ue(se[Q])?R=Q:ne=Q+1}return ne}function p(se,ue,be){if(se<2)return se;let ne=ue[se].div,R=ne.offsetTop+ne.clientTop;R>=be&&(ne=ue[se-1].div,R=ne.offsetTop+ne.clientTop);for(let Q=se-2;Q>=0&&(ne=ue[Q].div,!(ne.offsetTop+ne.clientTop+ne.clientHeight<=R));--Q)se=Q;return se}function X(se){let ue=Math.hypot(se.deltaX,se.deltaY);const be=Math.atan2(se.deltaY,se.deltaX);return-.25*Math.PI<be&&be<.75*Math.PI&&(ue=-ue),ue}const he=new Promise(function(se){window.requestAnimationFrame(se)});g.animationStarted=he;var Ae=new WeakSet;function ae(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))}g.ProgressBar=class me{constructor(ue){if(T(this,Ae),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(ue+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(ue){this._indeterminate=isNaN(ue),this._percent=function _e(se,ue,be){return Math.min(Math.max(se,ue),be)}(ue,0,100),P(this,Ae,ae).call(this)}setWidth(ue){if(!ue)return;const ne=ue.parentNode.offsetWidth-ue.offsetWidth;ne>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${ne}px`)}hide(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(j,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.StructTreeLayerBuilder=void 0;const E={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},m=/^H(\d+)$/;g.StructTreeLayerBuilder=class x{constructor({pdfPage:v}){this.pdfPage=v}render(v){return this._walk(v)}_setAttributes(v,t){void 0!==v.alt&&t.setAttribute("aria-label",v.alt),void 0!==v.id&&t.setAttribute("aria-owns",v.id),void 0!==v.lang&&t.setAttribute("lang",v.lang)}_walk(v){if(!v)return null;const t=document.createElement("span");if("role"in v){const{role:i}=v,d=i.match(m);d?(t.setAttribute("role","heading"),t.setAttribute("aria-level",d[1])):E[i]&&t.setAttribute("role",E[i])}if(this._setAttributes(v,t),v.children)if(1===v.children.length&&"id"in v.children[0])this._setAttributes(v.children[0],t);else for(const i of v.children)t.appendChild(this._walk(i));return t}}},(j,g,E)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.TextLayerBuilder=void 0;var m=E(3);g.TextLayerBuilder=class b{constructor({textLayerDiv:t,eventBus:i,pageIndex:d,viewport:S,highlighter:u=null,enhanceTextSelection:A=!1}){this.textLayerDiv=t,this.eventBus=i,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=d+1,this.viewport=S,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=u,this.enhanceTextSelection=A,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const t=document.createElement("div");t.className="endOfContent",this.textLayerDiv.appendChild(t)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(t=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const i=document.createDocumentFragment();this.textLayerRenderTask=(0,m.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:i,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:t,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(i),this._finishRendering(),this.highlighter?.enable()},function(d){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(t){this.cancel(),this.textContentStream=t}setTextContent(t){this.cancel(),this.textContent=t}_bindMouse(){const t=this.textLayerDiv;let i=null;t.addEventListener("mousedown",d=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(i&&(clearTimeout(i),i=null));const S=t.querySelector(".endOfContent");if(!S)return;let u=d.target!==t;if(u=u&&"none"!==window.getComputedStyle(S).getPropertyValue("-moz-user-select"),u){const A=t.getBoundingClientRect(),c=Math.max(0,(d.pageY-A.top)/A.height);S.style.top=(100*c).toFixed(2)+"%"}S.classList.add("active")}),t.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(i=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),i=null},300));const d=t.querySelector(".endOfContent");d&&(d.style.top="",d.classList.remove("active"))})}}},(j,g,E)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.XfaLayerBuilder=void 0;var m=E(3);g.XfaLayerBuilder=class x{constructor({pageDiv:v,pdfPage:t,annotationStorage:i=null,linkService:d,xfaHtml:S=null}){this.pageDiv=v,this.pdfPage=t,this.annotationStorage=i,this.linkService=d,this.xfaHtml=S,this.div=null,this._cancelled=!1}render(v,t="display"){if("print"===t){const i={viewport:v.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t},d=document.createElement("div");this.pageDiv.appendChild(d),i.div=d;const S=m.XfaLayer.render(i);return Promise.resolve(S)}return this.pdfPage.getXfa().then(i=>{if(this._cancelled||!i)return{textDivs:[]};const d={viewport:v.clone({dontFlip:!0}),div:this.div,xfaHtml:i,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div?m.XfaLayer.update(d):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),d.div=this.div,m.XfaLayer.render(d))}).catch(i=>{console.error(i)})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},(j,g,E)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFViewer=g.PDFSinglePageViewer=void 0;var m=E(6),x=E(11);g.PDFViewer=class b extends x.BaseViewer{},g.PDFSinglePageViewer=class v extends x.BaseViewer{_resetView(){super._resetView(),this._scrollMode=m.ScrollMode.PAGE,this._spreadMode=m.SpreadMode.NONE}set scrollMode(i){}_updateScrollMode(){}set spreadMode(i){}_updateSpreadMode(){}}},(j,g,E)=>{let m;Object.defineProperty(g,"__esModule",{value:!0}),g.PagesCountLimit=g.PDFPageViewBuffer=g.BaseViewer=void 0;var x=E(3),b=E(6),v=E(2),t=E(4),i=E(12),d=E(14),S=E(5),u=E(7),A=E(15),c=E(8),l=E(9);const w="enablePermissions",D={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};g.PagesCountLimit=D;var W=new WeakMap,K=new WeakMap,J=new WeakSet;m=Symbol.iterator;class te{constructor(R){T(this,J),M(this,W,{writable:!0,value:new Set}),M(this,K,{writable:!0,value:0}),n(this,K,R)}push(R){const Q=L(this,W);Q.has(R)&&Q.delete(R),Q.add(R),Q.size>L(this,K)&&P(this,J,de).call(this)}resize(R,Q=null){n(this,K,R);const oe=L(this,W);if(Q){const ge=oe.size;let q=1;for(const O of oe)if(Q.has(O.id)&&(oe.delete(O),oe.add(O)),++q>ge)break}for(;oe.size>L(this,K);)P(this,J,de).call(this)}has(R){return L(this,W).has(R)}[m](){return L(this,W).keys()}}function de(){const ne=L(this,W).keys().next().value;ne?.destroy(),L(this,W).delete(ne)}g.PDFPageViewBuffer=te;var le=new WeakMap,k=new WeakMap,s=new WeakMap,e=new WeakMap,r=new WeakMap,o=new WeakMap,f=new WeakMap,p=new WeakSet,h=new WeakSet,F=new WeakSet,X=new WeakSet,B=new WeakSet,Y=new WeakSet,$=new WeakSet,Z=new WeakSet,ee=new WeakSet;class he{constructor(R){if(T(this,ee),T(this,Z),T(this,$),T(this,Y),T(this,B),T(this,X),T(this,F),T(this,h),T(this,p),M(this,le,{writable:!0,value:null}),M(this,k,{writable:!0,value:x.AnnotationMode.ENABLE_FORMS}),M(this,s,{writable:!0,value:null}),M(this,e,{writable:!0,value:!1}),M(this,r,{writable:!0,value:0}),M(this,o,{writable:!0,value:null}),M(this,f,{writable:!0,value:null}),this.constructor===he)throw new Error("Cannot initialize BaseViewer.");const Q="2.14.305";if(x.version!==Q)throw new Error(`The API version "${x.version}" does not match the Viewer version "${Q}".`);if(this.container=R.container,this.viewer=R.viewer||R.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=R.eventBus,this.linkService=R.linkService||new S.SimpleLinkService,this.downloadManager=R.downloadManager||null,this.findController=R.findController||null,this._scriptingManager=R.scriptingManager||null,this.removePageBorders=R.removePageBorders||!1,this.textLayerMode=R.textLayerMode??b.TextLayerMode.ENABLE,n(this,k,R.annotationMode??x.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=R.imageResourcesPath||"",this.enablePrintAutoRotate=R.enablePrintAutoRotate||!1,this.renderer=R.renderer||b.RendererType.CANVAS,this.useOnlyCssZoom=R.useOnlyCssZoom||!1,this.maxCanvasPixels=R.maxCanvasPixels,this.l10n=R.l10n||t.NullL10n,n(this,e,R.enablePermissions||!1),this.pageColors=R.pageColors||null,R.pageColors&&(!CSS.supports("color",R.pageColors.background)||!CSS.supports("color",R.pageColors.foreground))&&((R.pageColors.background||R.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!R.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new d.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=R.renderingQueue,this._doc=document.documentElement,this.scroll=(0,b.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=b.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(R){return this._pages[R]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(R){return R?.pdfPage})}get renderForms(){return L(this,k)===x.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(R){if(!Number.isInteger(R))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(R,!0)||console.error(`currentPageNumber: "${R}" is not a valid page.`))}_setCurrentPageNumber(R,Q=!1){if(this._currentPageNumber===R)return Q&&P(this,Y,Ce).call(this),!0;if(!(0<R&&R<=this.pagesCount))return!1;const oe=this._currentPageNumber;return this._currentPageNumber=R,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:R,pageLabel:this._pageLabels?.[R-1]??null,previous:oe}),Q&&P(this,Y,Ce).call(this),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(R){if(!this.pdfDocument)return;let Q=0|R;if(this._pageLabels){const oe=this._pageLabels.indexOf(R);oe>=0&&(Q=oe+1)}this._setCurrentPageNumber(Q,!0)||console.error(`currentPageLabel: "${R}" is not a valid page.`)}get currentScale(){return this._currentScale!==b.UNKNOWN_SCALE?this._currentScale:b.DEFAULT_SCALE}set currentScale(R){if(isNaN(R))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(R,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(R){this.pdfDocument&&this._setScale(R,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(R){if(!(0,b.isValidRotation)(R))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((R%=360)<0&&(R+=360),this._pagesRotation===R))return;this._pagesRotation=R;const Q=this._currentPageNumber,oe={rotation:R};for(const ge of this._pages)ge.update(oe);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:R,pageNumber:Q}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(R){var Q=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=R,!R)return;const oe=R.isPureXfa,ge=R.numPages,q=R.getPage(1),O=R.getOptionalContentConfig(),V=L(this,e)?R.getPermissions():Promise.resolve();if(ge>D.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const ie=this._scrollMode=b.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:ie})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:ge})},()=>{}),this._onBeforeDraw=ie=>{const ye=this._pages[ie.pageNumber-1];ye&&L(this,le).push(ye)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=ie=>{ie.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:ie.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,L(this,f)&&(document.removeEventListener("visibilitychange",L(this,f)),n(this,f,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([q,V]).then(([ie,ye])=>{if(R!==this.pdfDocument)return;this._firstPageCapability.resolve(ie),this._optionalContentConfigPromise=O,P(this,p,_e).call(this,ye);const Te=this._scrollMode===b.ScrollMode.PAGE?null:this.viewer,re=this.currentScale,ce=ie.getViewport({scale:re*x.PixelsPerInch.PDF_TO_CSS_UNITS}),Se=this.textLayerMode===b.TextLayerMode.DISABLE||oe?null:this,Pe=L(this,k)!==x.AnnotationMode.DISABLE?this:null,fe=oe?this:null;for(let ve=1;ve<=ge;++ve){const Ee=new i.PDFPageView({container:Te,eventBus:this.eventBus,id:ve,scale:re,defaultViewport:ce.clone(),optionalContentConfigPromise:O,renderingQueue:this.renderingQueue,textLayerFactory:Se,textLayerMode:this.textLayerMode,annotationLayerFactory:Pe,annotationMode:L(this,k),xfaLayerFactory:fe,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(Ee)}const xe=this._pages[0];xe&&(xe.setPdfPage(ie),this.linkService.cachePageRef(1,ie.ref)),this._scrollMode===b.ScrollMode.PAGE?P(this,F,me).call(this):this._spreadMode!==b.SpreadMode.NONE&&this._updateSpreadMode(),P(this,h,Ae).call(this).then(y(function*(){if(Q.findController&&Q.findController.setDocument(R),Q._scriptingManager&&Q._scriptingManager.setDocument(R),R.loadingParams.disableAutoFetch||ge>D.FORCE_LAZY_PAGE_INIT)return void Q._pagesCapability.resolve();let ve=ge-1;if(ve<=0)Q._pagesCapability.resolve();else for(let Ee=2;Ee<=ge;++Ee){const Me=R.getPage(Ee).then(ke=>{const Le=Q._pages[Ee-1];Le.pdfPage||Le.setPdfPage(ke),Q.linkService.cachePageRef(Ee,ke.ref),0==--ve&&Q._pagesCapability.resolve()},ke=>{console.error(`Unable to get page ${Ee} to initialize viewer`,ke),0==--ve&&Q._pagesCapability.resolve()});Ee%D.PAUSE_EAGER_PAGE_INIT==0&&(yield Me)}})),this.eventBus.dispatch("pagesinit",{source:this}),R.getMetadata().then(({info:ve})=>{R===this.pdfDocument&&ve.Language&&(this.viewer.lang=ve.Language)}),this.defaultRenderingQueue&&this.update()}).catch(ie=>{console.error("Unable to initialize viewer",ie),this._pagesCapability.reject(ie)})}setPageLabels(R){if(this.pdfDocument){R?Array.isArray(R)&&this.pdfDocument.numPages===R.length?this._pageLabels=R:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let Q=0,oe=this._pages.length;Q<oe;Q++)this._pages[Q].setPageLabel(this._pageLabels?.[Q]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=b.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,n(this,le,new te(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,x.createPromiseCapability)(),this._onePageRenderedCapability=(0,x.createPromiseCapability)(),this._pagesCapability=(0,x.createPromiseCapability)(),this._scrollMode=b.ScrollMode.VERTICAL,this._previousScrollMode=b.ScrollMode.UNKNOWN,this._spreadMode=b.SpreadMode.NONE,n(this,o,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),L(this,f)&&(document.removeEventListener("visibilitychange",L(this,f)),n(this,f,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(w),null!==L(this,s)&&(n(this,k,L(this,s)),n(this,s,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(R,Q,oe=!1,ge=!1){if(this._currentScaleValue=Q.toString(),P(this,B,we).call(this,R))return void(ge&&this.eventBus.dispatch("scalechanging",{source:this,scale:R,presetValue:Q}));this._doc.style.setProperty("--zoom-factor",R);const q={scale:R};for(const O of this._pages)O.update(q);if(this._currentScale=R,!oe){let V,O=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(O=this._location.pageNumber,V=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:O,destArray:V,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:R,presetValue:ge?Q:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==b.SpreadMode.NONE&&this._scrollMode!==b.ScrollMode.HORIZONTAL?2:1}_setScale(R,Q=!1){let oe=parseFloat(R);if(oe>0)this._setScaleUpdatePages(oe,R,Q,!1);else{const ge=this._pages[this._currentPageNumber-1];if(!ge)return;let q=b.SCROLLBAR_PADDING,O=b.VERTICAL_PADDING;this.isInPresentationMode?q=O=4:this.removePageBorders?q=O=0:this._scrollMode===b.ScrollMode.HORIZONTAL&&([q,O]=[O,q]);const V=(this.container.clientWidth-q)/ge.width*ge.scale/this._pageWidthScaleFactor,ie=(this.container.clientHeight-O)/ge.height*ge.scale;switch(R){case"page-actual":oe=1;break;case"page-width":oe=V;break;case"page-height":oe=ie;break;case"page-fit":oe=Math.min(V,ie);break;case"auto":const ye=(0,b.isPortraitOrientation)(ge)?V:Math.min(ie,V);oe=Math.min(b.MAX_AUTO_SCALE,ye);break;default:return void console.error(`_setScale: "${R}" is an unknown zoom value.`)}this._setScaleUpdatePages(oe,R,Q,!0)}}pageLabelToPageNumber(R){if(!this._pageLabels)return null;const Q=this._pageLabels.indexOf(R);return Q<0?null:Q+1}scrollPageIntoView({pageNumber:R,destArray:Q=null,allowNegativeOffset:oe=!1,ignoreDestinationZoom:ge=!1}){if(!this.pdfDocument)return;const q=Number.isInteger(R)&&this._pages[R-1];if(!q)return void console.error(`scrollPageIntoView: "${R}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!Q)return void this._setCurrentPageNumber(R,!0);let Te,re,O=0,V=0,ie=0,ye=0;const ce=q.rotation%180!=0,Se=(ce?q.height:q.width)/q.scale/x.PixelsPerInch.PDF_TO_CSS_UNITS,Pe=(ce?q.width:q.height)/q.scale/x.PixelsPerInch.PDF_TO_CSS_UNITS;let fe=0;switch(Q[1].name){case"XYZ":O=Q[2],V=Q[3],fe=Q[4],O=null!==O?O:0,V=null!==V?V:Pe;break;case"Fit":case"FitB":fe="page-fit";break;case"FitH":case"FitBH":V=Q[2],fe="page-width",null===V&&this._location?(O=this._location.left,V=this._location.top):("number"!=typeof V||V<0)&&(V=Pe);break;case"FitV":case"FitBV":O=Q[2],ie=Se,ye=Pe,fe="page-height";break;case"FitR":O=Q[2],V=Q[3],ie=Q[4]-O,ye=Q[5]-V,Te=(this.container.clientWidth-(this.removePageBorders?0:b.SCROLLBAR_PADDING))/ie/x.PixelsPerInch.PDF_TO_CSS_UNITS,re=(this.container.clientHeight-(this.removePageBorders?0:b.VERTICAL_PADDING))/ye/x.PixelsPerInch.PDF_TO_CSS_UNITS,fe=Math.min(Math.abs(Te),Math.abs(re));break;default:return void console.error(`scrollPageIntoView: "${Q[1].name}" is not a valid destination type.`)}if(ge||(fe&&fe!==this._currentScale?this.currentScaleValue=fe:this._currentScale===b.UNKNOWN_SCALE&&(this.currentScaleValue=b.DEFAULT_SCALE_VALUE)),"page-fit"===fe&&!Q[4])return void P(this,X,ae).call(this,q);const xe=[q.viewport.convertToViewportPoint(O,V),q.viewport.convertToViewportPoint(O+ie,V+ye)];let ve=Math.min(xe[0][0],xe[1][0]),Ee=Math.min(xe[0][1],xe[1][1]);oe||(ve=Math.max(ve,0),Ee=Math.max(Ee,0)),P(this,X,ae).call(this,q,{left:ve,top:Ee})}_updateLocation(R){const Q=this._currentScale,oe=this._currentScaleValue,ge=parseFloat(oe)===Q?Math.round(1e4*Q)/100:oe,q=R.id,V=this.container,ie=this._pages[q-1].getPagePoint(V.scrollLeft-R.x,V.scrollTop-R.y),ye=Math.round(ie[0]),Te=Math.round(ie[1]);let re=`#page=${q}`;this.isInPresentationMode||(re+=`&zoom=${ge},${ye},${Te}`),this._location={pageNumber:q,scale:ge,top:Te,left:ye,rotation:this._pagesRotation,pdfOpenParams:re}}update(){const R=this._getVisiblePages(),Q=R.views,oe=Q.length;if(0===oe)return;const ge=Math.max(10,2*oe+1);L(this,le).resize(ge,R.ids),this.renderingQueue.renderHighestPriority(R);const q=this._spreadMode===b.SpreadMode.NONE&&(this._scrollMode===b.ScrollMode.PAGE||this._scrollMode===b.ScrollMode.VERTICAL),O=this._currentPageNumber;let V=!1;for(const ie of Q){if(ie.percent<100)break;if(ie.id===O&&q){V=!0;break}}this._setCurrentPageNumber(V?O:Q[0].id),this._updateLocation(R.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(R){return this.container.contains(R)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===b.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===b.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const R=this._scrollMode===b.ScrollMode.PAGE?L(this,o).pages:this._pages,Q=this._scrollMode===b.ScrollMode.HORIZONTAL;return(0,b.getVisibleElements)({scrollEl:this.container,views:R,sortByVisibility:!0,horizontal:Q,rtl:Q&&this._isContainerRtl})}isPageVisible(R){return!!this.pdfDocument&&(Number.isInteger(R)&&R>0&&R<=this.pagesCount?this._getVisiblePages().ids.has(R):(console.error(`isPageVisible: "${R}" is not a valid page.`),!1))}isPageCached(R){if(!this.pdfDocument)return!1;if(!(Number.isInteger(R)&&R>0&&R<=this.pagesCount))return console.error(`isPageCached: "${R}" is not a valid page.`),!1;const Q=this._pages[R-1];return L(this,le).has(Q)}cleanup(){for(const R of this._pages)R.renderingState!==b.RenderingStates.FINISHED&&R.reset()}_cancelRendering(){for(const R of this._pages)R.cancelRendering()}forceRendering(R){const Q=R||this._getVisiblePages(),oe=P(this,Z,ue).call(this,Q),q=this.renderingQueue.getHighestPriority(Q,this._pages,oe,this._spreadMode!==b.SpreadMode.NONE&&this._scrollMode!==b.ScrollMode.HORIZONTAL);return P(this,ee,be).call(this,Q.ids),!!q&&(P(this,$,pe).call(this,q).then(()=>{this.renderingQueue.renderView(q)}),!0)}createTextLayerBuilder(R,Q,oe,ge=!1,q,O){return new c.TextLayerBuilder({textLayerDiv:R,eventBus:q,pageIndex:Q,viewport:oe,enhanceTextSelection:!this.isInPresentationMode&&ge,highlighter:O})}createTextHighlighter(R,Q){return new A.TextHighlighter({eventBus:Q,pageIndex:R,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(R,Q,oe=null,ge="",q=!0,O=t.NullL10n,V=null,ie=null,ye=null,Te=null,re=null){return new v.AnnotationLayerBuilder({pageDiv:R,pdfPage:Q,annotationStorage:oe||this.pdfDocument?.annotationStorage,imageResourcesPath:ge,renderForms:q,linkService:this.linkService,downloadManager:this.downloadManager,l10n:O,enableScripting:V??this.enableScripting,hasJSActionsPromise:ie||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:Te||this.pdfDocument?.getFieldObjects(),mouseState:ye||this._scriptingManager?.mouseState,annotationCanvasMap:re})}createXfaLayerBuilder(R,Q,oe=null){return new l.XfaLayerBuilder({pageDiv:R,pdfPage:Q,annotationStorage:oe||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(R){return new u.StructTreeLayerBuilder({pdfPage:R})}get hasEqualPageSizes(){const R=this._pages[0];for(let Q=1,oe=this._pages.length;Q<oe;++Q){const ge=this._pages[Q];if(ge.width!==R.width||ge.height!==R.height)return!1}return!0}getPagesOverview(){return this._pages.map(R=>{const Q=R.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,b.isPortraitOrientation)(Q)?{width:Q.width,height:Q.height,rotation:Q.rotation}:{width:Q.height,height:Q.width,rotation:(Q.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(R){if(!(R instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${R}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=R;const Q={optionalContentConfigPromise:R};for(const oe of this._pages)oe.update(Q);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:R})}get scrollMode(){return this._scrollMode}set scrollMode(R){if(this._scrollMode!==R){if(!(0,b.isValidScrollMode)(R))throw new Error(`Invalid scroll mode: ${R}`);this.pagesCount>D.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=R,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:R}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(R=null){const Q=this._scrollMode,oe=this.viewer;oe.classList.toggle("scrollHorizontal",Q===b.ScrollMode.HORIZONTAL),oe.classList.toggle("scrollWrapped",Q===b.ScrollMode.WRAPPED),this.pdfDocument&&R&&(Q===b.ScrollMode.PAGE?P(this,F,me).call(this):this._previousScrollMode===b.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(R,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(R){if(this._spreadMode!==R){if(!(0,b.isValidSpreadMode)(R))throw new Error(`Invalid spread mode: ${R}`);this._spreadMode=R,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:R}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(R=null){if(!this.pdfDocument)return;const Q=this.viewer,oe=this._pages;if(this._scrollMode===b.ScrollMode.PAGE)P(this,F,me).call(this);else if(Q.textContent="",this._spreadMode===b.SpreadMode.NONE)for(const ge of this._pages)Q.appendChild(ge.div);else{const ge=this._spreadMode-1;let q=null;for(let O=0,V=oe.length;O<V;++O)null===q?(q=document.createElement("div"),q.className="spread",Q.appendChild(q)):O%2===ge&&(q=q.cloneNode(!1),Q.appendChild(q)),q.appendChild(oe[O].div)}R&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(R,!0),this.update())}_getPageAdvance(R,Q=!1){switch(this._scrollMode){case b.ScrollMode.WRAPPED:{const{views:oe}=this._getVisiblePages(),ge=new Map;for(const{id:q,y:O,percent:V,widthPercent:ie}of oe){if(0===V||ie<100)continue;let ye=ge.get(O);ye||ge.set(O,ye||=[]),ye.push(q)}for(const q of ge.values()){const O=q.indexOf(R);if(-1===O)continue;const V=q.length;if(1===V)break;if(Q)for(let ie=O-1,ye=0;ie>=ye;ie--){const re=q[ie+1]-1;if(q[ie]<re)return R-re}else for(let ie=O+1,ye=V;ie<ye;ie++){const re=q[ie-1]+1;if(q[ie]>re)return re-R}if(Q){const ie=q[0];if(ie<R)return R-ie+1}else{const ie=q[V-1];if(ie>R)return ie-R+1}break}break}case b.ScrollMode.HORIZONTAL:break;case b.ScrollMode.PAGE:case b.ScrollMode.VERTICAL:{if(this._spreadMode===b.SpreadMode.NONE)break;const oe=this._spreadMode-1;if(Q&&R%2!==oe)break;if(!Q&&R%2===oe)break;const{views:ge}=this._getVisiblePages(),q=Q?R-1:R+1;for(const{id:O,percent:V,widthPercent:ie}of ge)if(O===q){if(V>0&&100===ie)return 2;break}break}}return 1}nextPage(){const R=this._currentPageNumber,Q=this.pagesCount;if(R>=Q)return!1;const oe=this._getPageAdvance(R,!1)||1;return this.currentPageNumber=Math.min(R+oe,Q),!0}previousPage(){const R=this._currentPageNumber;if(R<=1)return!1;const Q=this._getPageAdvance(R,!0)||1;return this.currentPageNumber=Math.max(R-Q,1),!0}increaseScale(R=1){let Q=this._currentScale;do{Q=(Q*b.DEFAULT_SCALE_DELTA).toFixed(2),Q=Math.ceil(10*Q)/10,Q=Math.min(b.MAX_SCALE,Q)}while(--R>0&&Q<b.MAX_SCALE);this.currentScaleValue=Q}decreaseScale(R=1){let Q=this._currentScale;do{Q=(Q/b.DEFAULT_SCALE_DELTA).toFixed(2),Q=Math.floor(10*Q)/10,Q=Math.max(b.MIN_SCALE,Q)}while(--R>0&&Q>b.MIN_SCALE);this.currentScaleValue=Q}updateContainerHeightCss(){const R=this.container.clientHeight;R!==L(this,r)&&(n(this,r,R),this._doc.style.setProperty("--viewer-container-height",`${R}px`))}}function _e(ne){ne&&(ne.includes(x.PermissionFlag.COPY)||this.viewer.classList.add(w),!ne.includes(x.PermissionFlag.MODIFY_ANNOTATIONS)&&!ne.includes(x.PermissionFlag.FILL_INTERACTIVE_FORMS)&&L(this,k)===x.AnnotationMode.ENABLE_FORMS&&(n(this,s,L(this,k)),n(this,k,x.AnnotationMode.ENABLE)))}function Ae(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const ne=new Promise(R=>{n(this,f,()=>{"hidden"===document.visibilityState&&(R(),document.removeEventListener("visibilitychange",L(this,f)),n(this,f,null))}),document.addEventListener("visibilitychange",L(this,f))});return Promise.race([this._onePageRenderedCapability.promise,ne])}function me(){if(this._scrollMode!==b.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const ne=this._currentPageNumber,R=L(this,o),Q=this.viewer;if(Q.textContent="",R.pages.length=0,this._spreadMode!==b.SpreadMode.NONE||this.isInPresentationMode){const oe=new Set,ge=this._spreadMode-1;-1===ge?oe.add(ne-1):ne%2!==ge?(oe.add(ne-1),oe.add(ne)):(oe.add(ne-2),oe.add(ne-1));const q=document.createElement("div");if(q.className="spread",this.isInPresentationMode){const O=document.createElement("div");O.className="dummyPage",q.appendChild(O)}for(const O of oe){const V=this._pages[O];V&&(q.appendChild(V.div),R.pages.push(V))}Q.appendChild(q)}else{const oe=this._pages[ne-1];Q.appendChild(oe.div),R.pages.push(oe)}R.scrollDown=ne>=R.previousPageNumber,R.previousPageNumber=ne}function ae(ne,R=null){const{div:Q,id:oe}=ne;if(this._scrollMode===b.ScrollMode.PAGE&&(this._setCurrentPageNumber(oe),P(this,F,me).call(this),this.update()),!R&&!this.isInPresentationMode){const ge=Q.offsetLeft+Q.clientLeft,q=ge+Q.clientWidth,{scrollLeft:O,clientWidth:V}=this.container;(this._scrollMode===b.ScrollMode.HORIZONTAL||ge<O||q>O+V)&&(R={left:0,top:0})}(0,b.scrollIntoView)(Q,R)}function we(ne){return ne===this._currentScale||Math.abs(ne-this._currentScale)<1e-15}function Ce(){const ne=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),P(this,X,ae).call(this,ne)}function pe(ne){return se.apply(this,arguments)}function se(){return(se=y(function*(ne){if(ne.pdfPage)return ne.pdfPage;try{const R=yield this.pdfDocument.getPage(ne.id);return ne.pdfPage||ne.setPdfPage(R),this.linkService._cachedPageNumber?.(R.ref)||this.linkService.cachePageRef(ne.id,R.ref),R}catch(R){return console.error("Unable to get page for page view",R),null}})).apply(this,arguments)}function ue(ne){if(1===ne.first?.id)return!0;if(ne.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case b.ScrollMode.PAGE:return L(this,o).scrollDown;case b.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function be(ne){for(const R of ne)this._pages[R-1]?.toggleLoadingIconSpinner(!0);for(const R of L(this,le))ne.has(R.id)||R.toggleLoadingIconSpinner(!1)}g.BaseViewer=he},(j,g,E)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFPageView=void 0;var m=E(3),x=E(6),b=E(13),v=E(4);const t=b.compatibilityParams.maxCanvasPixels||16777216;var i=new WeakMap;g.PDFPageView=class d{constructor(u){M(this,i,{writable:!0,value:m.AnnotationMode.ENABLE_FORMS});const A=u.container,c=u.defaultViewport;this.id=u.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=u.scale||x.DEFAULT_SCALE,this.viewport=c,this.pdfPageRotate=c.rotation,this._optionalContentConfigPromise=u.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=u.textLayerMode??x.TextLayerMode.ENABLE,n(this,i,u.annotationMode??m.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=u.imageResourcesPath||"",this.useOnlyCssZoom=u.useOnlyCssZoom||!1,this.maxCanvasPixels=u.maxCanvasPixels||t,this.pageColors=u.pageColors||null,this.eventBus=u.eventBus,this.renderingQueue=u.renderingQueue,this.textLayerFactory=u.textLayerFactory,this.annotationLayerFactory=u.annotationLayerFactory,this.xfaLayerFactory=u.xfaLayerFactory,this.textHighlighter=u.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=u.structTreeLayerFactory,this.renderer=u.renderer||x.RendererType.CANVAS,this.l10n=u.l10n||v.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=x.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const l=document.createElement("div");l.className="page",l.style.width=Math.floor(this.viewport.width)+"px",l.style.height=Math.floor(this.viewport.height)+"px",l.setAttribute("data-page-number",this.id),l.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(_=>{l.setAttribute("aria-label",_)}),this.div=l,A?.appendChild(l)}setPdfPage(u){this.pdfPage=u,this.pdfPageRotate=u.rotate,this.viewport=u.getViewport({scale:this.scale*m.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var u=this;return y(function*(){let A=null;try{yield u.annotationLayer.render(u.viewport,"display")}catch(c){A=c}finally{u.eventBus.dispatch("annotationlayerrendered",{source:u,pageNumber:u.id,error:A})}})()}_renderXfaLayer(){var u=this;return y(function*(){let A=null;try{const c=yield u.xfaLayer.render(u.viewport,"display");u.textHighlighter&&u._buildXfaTextContentItems(c.textDivs)}catch(c){A=c}finally{u.eventBus.dispatch("xfalayerrendered",{source:u,pageNumber:u.id,error:A})}})()}_buildXfaTextContentItems(u){var A=this;return y(function*(){const c=yield A.pdfPage.getTextContent(),l=[];for(const _ of c.items)l.push(_.str);A.textHighlighter.setTextMapping(u,l),A.textHighlighter.enable()})()}_resetZoomLayer(u=!1){if(!this.zoomLayer)return;const A=this.zoomLayer.firstChild;this.paintedViewportMap.delete(A),A.width=0,A.height=0,u&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:u=!1,keepAnnotationLayer:A=!1,keepXfaLayer:c=!1}={}){this.cancelRendering({keepAnnotationLayer:A,keepXfaLayer:c}),this.renderingState=x.RenderingStates.INITIAL;const l=this.div;l.style.width=Math.floor(this.viewport.width)+"px",l.style.height=Math.floor(this.viewport.height)+"px";const _=l.childNodes,w=u&&this.zoomLayer||null,D=A&&this.annotationLayer?.div||null,W=c&&this.xfaLayer?.div||null;for(let K=_.length-1;K>=0;K--){const J=_[K];switch(J){case w:case D:case W:continue}J.remove()}l.removeAttribute("data-loaded"),D&&this.annotationLayer.hide(),W&&this.xfaLayer.hide(),w||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(K=>{this.loadingIconDiv?.setAttribute("aria-label",K)}),l.appendChild(this.loadingIconDiv)}update({scale:u=0,rotation:A=null,optionalContentConfigPromise:c=null}){if(this.scale=u||this.scale,"number"==typeof A&&(this.rotation=A),c instanceof Promise&&(this._optionalContentConfigPromise=c),this.viewport=this.viewport.clone({scale:this.scale*m.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:w}=document.documentElement;w.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let _=!1;if(this.canvas&&this.maxCanvasPixels>0){const w=this.outputScale;(Math.floor(this.viewport.width)*w.sx|0)*(Math.floor(this.viewport.height)*w.sy|0)>this.maxCanvasPixels&&(_=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&_)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:u=!1,keepXfaLayer:A=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!u||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!A||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:u,redrawAnnotationLayer:A=!1,redrawXfaLayer:c=!1}){const l=this.viewport.width,_=this.viewport.height,w=this.div;u.style.width=u.parentNode.style.width=w.style.width=Math.floor(l)+"px",u.style.height=u.parentNode.style.height=w.style.height=Math.floor(_)+"px";const D=this.viewport.rotation-this.paintedViewportMap.get(u).rotation,W=Math.abs(D);let K=1,J=1;if((90===W||270===W)&&(K=_/l,J=l/_),u.style.transform=`rotate(${D}deg) scale(${K}, ${J})`,this.textLayer){const te=this.textLayer.viewport,le=Math.abs(this.viewport.rotation-te.rotation);let k=l/te.width;(90===le||270===le)&&(k=l/te.height);const s=this.textLayer.textLayerDiv;let e,r;switch(le){case 0:e=r=0;break;case 90:e=0,r="-"+s.style.height;break;case 180:e="-"+s.style.width,r="-"+s.style.height;break;case 270:e="-"+s.style.width,r=0;break;default:console.error("Bad rotation value.")}s.style.transform=`rotate(${le}deg) scale(${k}) translate(${e}, ${r})`,s.style.transformOrigin="0% 0%"}A&&this.annotationLayer&&this._renderAnnotationLayer(),c&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(u,A){return this.viewport.convertToPdfPoint(u,A)}toggleLoadingIconSpinner(u=!1){this.loadingIconDiv?.classList.toggle("notVisible",!u)}draw(){var u=this;this.renderingState!==x.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:A,pdfPage:c}=this;if(!c)return this.renderingState=x.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=x.RenderingStates.RUNNING;const l=document.createElement("div");l.style.width=A.style.width,l.style.height=A.style.height,l.classList.add("canvasWrapper"),this.annotationLayer?.div?A.insertBefore(l,this.annotationLayer.div):A.appendChild(l);let _=null;if(this.textLayerMode!==x.TextLayerMode.DISABLE&&this.textLayerFactory){const J=document.createElement("div");J.className="textLayer",J.style.width=l.style.width,J.style.height=l.style.height,this.annotationLayer?.div?A.insertBefore(J,this.annotationLayer.div):A.appendChild(J),_=this.textLayerFactory.createTextLayerBuilder(J,this.id-1,this.viewport,this.textLayerMode===x.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=_,L(this,i)!==m.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||=new Map,this.annotationLayer||=this.annotationLayerFactory.createAnnotationLayerBuilder(A,c,null,this.imageResourcesPath,L(this,i)===m.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap)),this.xfaLayer?.div&&A.appendChild(this.xfaLayer.div);let w=null;this.renderingQueue&&(w=J=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=x.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=x.RenderingStates.RUNNING,J()});J()});const D=function(){var J=y(function*(te=null){if(W===u.paintTask&&(u.paintTask=null),te instanceof m.RenderingCancelledException)u._renderError=null;else if(u._renderError=te,u.renderingState=x.RenderingStates.FINISHED,u.loadingIconDiv&&(u.loadingIconDiv.remove(),delete u.loadingIconDiv),u._resetZoomLayer(!0),u.eventBus.dispatch("pagerendered",{source:u,pageNumber:u.id,cssTransform:!1,timestamp:performance.now(),error:u._renderError}),te)throw te});return function(){return J.apply(this,arguments)}}(),W=this.renderer===x.RendererType.SVG?this.paintOnSvg(l):this.paintOnCanvas(l);W.onRenderContinue=w,this.paintTask=W;const K=W.promise.then(()=>D(null).then(()=>{if(_){const J=c.streamTextContent({includeMarkedContent:!0});_.setTextContentStream(J),_.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(J){return D(J)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(A,c,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=J=>{J.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(te=>{if(!te||!this.canvas)return;const de=this.structTreeLayer.render(te);de.classList.add("structTree"),this.canvas.appendChild(de)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(c)),A.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),K}paintOnCanvas(u){const A=(0,m.createPromiseCapability)(),c={promise:A.promise,onRenderContinue(s){s()},cancel(){k.cancel()}},l=this.viewport,_=document.createElement("canvas");_.hidden=!0;let w=!0;const D=function(){w&&(_.hidden=!1,w=!1)};u.appendChild(_),this.canvas=_;const W=_.getContext("2d",{alpha:!1}),K=this.outputScale=new x.OutputScale;if(this.useOnlyCssZoom){const s=l.clone({scale:m.PixelsPerInch.PDF_TO_CSS_UNITS});K.sx*=s.width/l.width,K.sy*=s.height/l.height}if(this.maxCanvasPixels>0){const e=Math.sqrt(this.maxCanvasPixels/(l.width*l.height));K.sx>e||K.sy>e?(K.sx=e,K.sy=e,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const J=(0,x.approximateFraction)(K.sx),te=(0,x.approximateFraction)(K.sy);_.width=(0,x.roundToDivide)(l.width*K.sx,J[0]),_.height=(0,x.roundToDivide)(l.height*K.sy,te[0]),_.style.width=(0,x.roundToDivide)(l.width,J[1])+"px",_.style.height=(0,x.roundToDivide)(l.height,te[1])+"px",this.paintedViewportMap.set(_,l);const le={canvasContext:W,transform:K.scaled?[K.sx,0,0,K.sy,0,0]:null,viewport:this.viewport,annotationMode:L(this,i),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},k=this.pdfPage.render(le);return k.onContinue=function(s){D(),c.onRenderContinue?c.onRenderContinue(s):s()},k.promise.then(function(){D(),A.resolve()},function(s){D(),A.reject(s)}),c}paintOnSvg(u){let A=!1;const c=()=>{if(A)throw new m.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},l=this.pdfPage,_=this.viewport.clone({scale:m.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:l.getOperatorList({annotationMode:L(this,i)}).then(D=>(c(),new m.SVGGraphics(l.commonObjs,l.objs).getSVG(D,_).then(K=>{c(),this.svg=K,this.paintedViewportMap.set(K,_),K.style.width=u.style.width,K.style.height=u.style.height,this.renderingState=x.RenderingStates.FINISHED,u.appendChild(K)}))),onRenderContinue(D){D()},cancel(){A=!0}}}setPageLabel(u){this.pageLabel="string"==typeof u?u:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(j,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.compatibilityParams=g.OptionKind=g.AppOptions=void 0;const E=Object.create(null);g.compatibilityParams=E;{const t=navigator.userAgent||"",i=navigator.platform||"",d=navigator.maxTouchPoints||1,S=/Android/.test(t);(/\b(iPad|iPhone|iPod)(?=;)/.test(t)||"MacIntel"===i&&d>1||S)&&(E.maxCanvasPixels=5242880)}const m={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};g.OptionKind=m;const x={annotationMode:{value:2,kind:m.VIEWER+m.PREFERENCE},cursorToolOnLoad:{value:0,kind:m.VIEWER+m.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:m.VIEWER},defaultZoomValue:{value:"",kind:m.VIEWER+m.PREFERENCE},disableHistory:{value:!1,kind:m.VIEWER},disablePageLabels:{value:!1,kind:m.VIEWER+m.PREFERENCE},enablePermissions:{value:!1,kind:m.VIEWER+m.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:m.VIEWER+m.PREFERENCE},enableScripting:{value:!0,kind:m.VIEWER+m.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:m.VIEWER},externalLinkTarget:{value:0,kind:m.VIEWER+m.PREFERENCE},historyUpdateUrl:{value:!1,kind:m.VIEWER+m.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:m.VIEWER+m.PREFERENCE},imageResourcesPath:{value:"./images/",kind:m.VIEWER},maxCanvasPixels:{value:16777216,compatibility:E.maxCanvasPixels,kind:m.VIEWER},pageColorsBackground:{value:"Canvas",kind:m.VIEWER+m.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:m.VIEWER+m.PREFERENCE},pdfBugEnabled:{value:!1,kind:m.VIEWER+m.PREFERENCE},printResolution:{value:150,kind:m.VIEWER},renderer:{value:"canvas",kind:m.VIEWER},sidebarViewOnLoad:{value:-1,kind:m.VIEWER+m.PREFERENCE},scrollModeOnLoad:{value:-1,kind:m.VIEWER+m.PREFERENCE},spreadModeOnLoad:{value:-1,kind:m.VIEWER+m.PREFERENCE},textLayerMode:{value:1,kind:m.VIEWER+m.PREFERENCE},useOnlyCssZoom:{value:!1,kind:m.VIEWER+m.PREFERENCE},viewerCssTheme:{value:0,kind:m.VIEWER+m.PREFERENCE},viewOnLoad:{value:0,kind:m.VIEWER+m.PREFERENCE},cMapPacked:{value:!0,kind:m.API},cMapUrl:{value:"../web/cmaps/",kind:m.API},disableAutoFetch:{value:!1,kind:m.API+m.PREFERENCE},disableFontFace:{value:!1,kind:m.API+m.PREFERENCE},disableRange:{value:!1,kind:m.API+m.PREFERENCE},disableStream:{value:!1,kind:m.API+m.PREFERENCE},docBaseUrl:{value:"",kind:m.API},enableXfa:{value:!0,kind:m.API+m.PREFERENCE},fontExtraProperties:{value:!1,kind:m.API},isEvalSupported:{value:!0,kind:m.API},maxImageSize:{value:-1,kind:m.API},pdfBug:{value:!1,kind:m.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:m.API},verbosity:{value:1,kind:m.API},workerPort:{value:null,kind:m.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:m.WORKER}};x.disablePreferences={value:!1,kind:m.VIEWER},x.locale={value:navigator.language||"en-US",kind:m.VIEWER},x.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:m.VIEWER},x.renderer.kind+=m.PREFERENCE;const b=Object.create(null);g.AppOptions=class v{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(i){const d=b[i];if(void 0!==d)return d;const S=x[i];return void 0!==S?S.compatibility??S.value:void 0}static getAll(i=null){const d=Object.create(null);for(const S in x){const u=x[S];if(i){if(!(i&u.kind))continue;if(i===m.PREFERENCE){const c=u.value,l=typeof c;if("boolean"===l||"string"===l||"number"===l&&Number.isInteger(c)){d[S]=c;continue}throw new Error(`Invalid type for preference: ${S}`)}}const A=b[S];d[S]=void 0!==A?A:u.compatibility??u.value}return d}static set(i,d){b[i]=d}static setAll(i){for(const d in i)b[d]=i[d]}static remove(i){delete b[i]}static _hasUserOptions(){return Object.keys(b).length>0}}},(j,g,E)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFRenderingQueue=void 0;var m=E(3),x=E(6);g.PDFRenderingQueue=class v{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(i){this.pdfViewer=i}setThumbnailViewer(i){this.pdfThumbnailViewer=i}isHighestPriority(i){return this.highestPriorityPage===i.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(i){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(i)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(i,d,S,u=!1){const A=i.views,c=A.length;if(0===c)return null;for(let W=0;W<c;W++){const K=A[W].view;if(!this.isViewFinished(K))return K}const l=i.first.id,_=i.last.id;if(_-l+1>c){const W=i.ids;for(let K=1,J=_-l;K<J;K++){const te=S?l+K:_-K;if(W.has(te))continue;const de=d[te-1];if(!this.isViewFinished(de))return de}}let w=S?_:l-2,D=d[w];return D&&!this.isViewFinished(D)||u&&(w+=S?1:-1,D=d[w],D&&!this.isViewFinished(D))?D:null}isViewFinished(i){return i.renderingState===x.RenderingStates.FINISHED}renderView(i){switch(i.renderingState){case x.RenderingStates.FINISHED:return!1;case x.RenderingStates.PAUSED:this.highestPriorityPage=i.renderingId,i.resume();break;case x.RenderingStates.RUNNING:this.highestPriorityPage=i.renderingId;break;case x.RenderingStates.INITIAL:this.highestPriorityPage=i.renderingId,i.draw().finally(()=>{this.renderHighestPriority()}).catch(d=>{d instanceof m.RenderingCancelledException||console.error(`renderView: "${d}"`)})}return!0}}},(j,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.TextHighlighter=void 0,g.TextHighlighter=class E{constructor({findController:x,eventBus:b,pageIndex:v}){this.findController=x,this.matches=[],this.eventBus=b,this.pageIdx=v,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(x,b){this.textDivs=x,this.textContentItemsStr=b}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=x=>{(x.pageIndex===this.pageIdx||-1===x.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(x,b){if(!x)return[];const{textContentItemsStr:v}=this;let t=0,i=0;const d=v.length-1,S=[];for(let u=0,A=x.length;u<A;u++){let c=x[u];for(;t!==d&&c>=i+v[t].length;)i+=v[t].length,t++;t===v.length&&console.error("Could not find a matching mapping");const l={begin:{divIdx:t,offset:c-i}};for(c+=b[u];t!==d&&c>i+v[t].length;)i+=v[t].length,t++;l.end={divIdx:t,offset:c-i},S.push(l)}return S}_renderMatches(x){if(0===x.length)return;const{findController:b,pageIdx:v}=this,{textContentItemsStr:t,textDivs:i}=this,d=v===b.selected.pageIdx,S=b.selected.matchIdx;let A=null;function l(W,K){const J=W.divIdx;return i[J].textContent="",_(J,0,W.offset,K)}function _(W,K,J,te){let de=i[W];if(de.nodeType===Node.TEXT_NODE){const s=document.createElement("span");de.parentNode.insertBefore(s,de),s.appendChild(de),i[W]=s,de=s}const le=t[W].substring(K,J),k=document.createTextNode(le);if(te){const s=document.createElement("span");return s.className=`${te} appended`,s.appendChild(k),de.appendChild(s),te.includes("selected")?s.offsetLeft:0}return de.appendChild(k),0}let w=S,D=w+1;if(b.state.highlightAll)w=0,D=x.length;else if(!d)return;for(let W=w;W<D;W++){const K=x[W],J=K.begin,te=K.end,de=d&&W===S,le=de?" selected":"";let k=0;if(A&&J.divIdx===A.divIdx?_(A.divIdx,A.offset,J.offset):(null!==A&&_(A.divIdx,A.offset,undefined),l(J)),J.divIdx===te.divIdx)k=_(J.divIdx,J.offset,te.offset,"highlight"+le);else{k=_(J.divIdx,J.offset,undefined,"highlight begin"+le);for(let s=J.divIdx+1,e=te.divIdx;s<e;s++)i[s].className="highlight middle"+le;l(te,"highlight end"+le)}A=te,de&&b.scrollMatchIntoView({element:i[J.divIdx],selectedLeft:k,pageIndex:v,matchIndex:S})}A&&_(A.divIdx,A.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:x,matches:b,pageIdx:v}=this,{textContentItemsStr:t,textDivs:i}=this;let d=-1;for(let A=0,c=b.length;A<c;A++){const l=b[A];for(let w=Math.max(d,l.begin.divIdx),D=l.end.divIdx;w<=D;w++){const W=i[w];W.textContent=t[w],W.className=""}d=l.end.divIdx+1}x?.highlightMatches&&(this.matches=this._convertMatches(x.pageMatches[v]||null,x.pageMatchesLength[v]||null),this._renderMatches(this.matches))}}},(j,g,E)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.DownloadManager=void 0;var m=E(3);function x(v,t){const i=document.createElement("a");if(!i.click)throw new Error('DownloadManager: "a.click()" is not supported.');i.href=v,i.target="_parent","download"in i&&(i.download=t),(document.body||document.documentElement).appendChild(i),i.click(),i.remove()}g.DownloadManager=class b{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(t,i){(0,m.createValidAbsoluteUrl)(t,"http://example.com")?x(t+"#pdfjs.action=download",i):console.error(`downloadUrl - not a valid URL: ${t}`)}downloadData(t,i,d){x(URL.createObjectURL(new Blob([t],{type:d})),i)}openOrDownloadData(t,i,d){const S=(0,m.isPdfFile)(d),u=S?"application/pdf":"";if(S){let c,A=this._openBlobUrls.get(t);A||(A=URL.createObjectURL(new Blob([i],{type:u})),this._openBlobUrls.set(t,A)),c="?file="+encodeURIComponent(A+"#"+d);try{return window.open(c),!0}catch(l){console.error(`openOrDownloadData: ${l}`),URL.revokeObjectURL(A),this._openBlobUrls.delete(t)}}return this.downloadData(i,d,u),!1}download(t,i,d,S="download"){x(URL.createObjectURL(t),d)}}},(j,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.WaitOnType=g.EventBus=g.AutomationEventBus=void 0,g.waitOnEventOrTimeout=function m({target:v,name:t,delay:i=0}){return new Promise(function(d,S){if("object"!=typeof v||!t||"string"!=typeof t||!(Number.isInteger(i)&&i>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function u(_){v instanceof x?v._off(t,A):v.removeEventListener(t,A),l&&clearTimeout(l),d(_)}const A=u.bind(null,E.EVENT);v instanceof x?v._on(t,A):v.addEventListener(t,A);const c=u.bind(null,E.TIMEOUT),l=setTimeout(c,i)})};const E={EVENT:"event",TIMEOUT:"timeout"};g.WaitOnType=E;class x{constructor(){this._listeners=Object.create(null)}on(t,i,d=null){this._on(t,i,{external:!0,once:d?.once})}off(t,i,d=null){this._off(t,i,{external:!0,once:d?.once})}dispatch(t,i){const d=this._listeners[t];if(!d||0===d.length)return;let S;for(const{listener:u,external:A,once:c}of d.slice(0))c&&this._off(t,u),A?(S||=[]).push(u):u(i);if(S){for(const u of S)u(i);S=null}}_on(t,i,d=null){(this._listeners[t]||=[]).push({listener:i,external:!0===d?.external,once:!0===d?.once})}_off(t,i,d=null){const S=this._listeners[t];if(S)for(let u=0,A=S.length;u<A;u++)if(S[u].listener===i)return void S.splice(u,1)}}g.EventBus=x,g.AutomationEventBus=class b extends x{dispatch(t,i){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(j,g,E)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.GenericL10n=void 0,E(19);var m=E(4);const x=document.webL10n;g.GenericL10n=class b{constructor(t){this._lang=t,this._ready=new Promise((i,d)=>{x.setLanguage((0,m.fixupLangCode)(t),()=>{i(x)})})}getLanguage(){var t=this;return y(function*(){return(yield t._ready).getLanguage()})()}getDirection(){var t=this;return y(function*(){return(yield t._ready).getDirection()})()}get(t,i=null,d=(0,m.getL10nFallback)(t,i)){var S=this;return y(function*(){return(yield S._ready).get(t,i,d)})()}translate(t){var i=this;return y(function*(){return(yield i._ready).translate(t)})()}}},()=>{document.webL10n=function(j,g,E){var m={},x="",b="textContent",v="",t={},i="loading",d=!0;function l(s,e,r){e=e||function(p){},r=r||function(){};var o=new XMLHttpRequest;o.open("GET",s,d),o.overrideMimeType&&o.overrideMimeType("text/plain; charset=utf-8"),o.onreadystatechange=function(){4==o.readyState&&(200==o.status||0===o.status?e(o.responseText):r())},o.onerror=r,o.ontimeout=r;try{o.send(null)}catch{r()}}function w(s,e){s&&(s=s.toLowerCase()),e=e||function(){},function D(){m={},x="",v=""}(),v=s;var r=function S(){return g.querySelectorAll('link[type="application/l10n"]')}(),o=r.length;if(0!==o){var F,X=0;F=function(){++X>=o&&(e(),i="complete")};for(var Y=0;Y<o;Y++)new B(r[Y]).load(s,F)}else{var f=function u(){var s=g.querySelector('script[type="application/l10n"]');return s?JSON.parse(s.innerHTML):null}();if(f&&f.locales&&f.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(m=f.locales[s])){var p=f.default_locale.toLowerCase();for(var h in f.locales){if((h=h.toLowerCase())===s){m=f.locales[s];break}h===p&&(m=f.locales[p])}}e()}else console.log("no resource to load, early way out");i="complete"}function B(Z){var ee=Z.href;this.load=function(he,_e){!function _(s,e,r,o){var f=s.replace(/[^\/]*$/,"")||"./";function p(F){return F.lastIndexOf("\\")<0?F:F.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}l(s,function(F){x+=F,function h(F,X){var B={},Y=/^\s*|\s*$/,$=/^\s*#|^\s*$/,Z=/^\s*\[(.*)\]\s*$/,ee=/^\s*@import\s+url\((.*)\)\s*$/i,he=/^([^=\s]*)\s*=\s*(.+)$/;function _e(me,ae,we){var Ce=me.replace(Y,"").split(/[\r\n]+/),pe="*",se=e.split("-",1)[0],ue=!1,be="";!function ne(){for(;;){if(!Ce.length)return void we();var R=Ce.shift();if(!$.test(R)){if(ae){if(be=Z.exec(R)){pe=be[1].toLowerCase(),ue="*"!==pe&&pe!==e&&pe!==se;continue}if(ue)continue;if(be=ee.exec(R))return void Ae(f+be[1],ne)}var Q=R.match(he);Q&&3==Q.length&&(B[Q[1]]=p(Q[2]))}}}()}function Ae(me,ae){l(me,function(we){_e(we,!1,ae)},function(){console.warn(me+" not found."),ae()})}_e(F,!0,function(){X(B)})}(F,function(X){for(var B in X){var Y,$,Z=B.lastIndexOf(".");Z>0?(Y=B.substring(0,Z),$=B.substring(Z+1)):(Y=B,$=b),m[Y]||(m[Y]={}),m[Y][$]=X[B]}r&&r()})},o)}(ee,he,_e,function(){console.warn(ee+" not found."),console.warn('"'+he+'" resource not found'),v="",_e()})}}}function K(s,e,r){var o=m[s];if(!o){if(console.warn("#"+s+" is undefined."),!r)return null;o=r}var f={};for(var p in o){var h=o[p];h=te(h=J(h,e,s,p),e,s),f[p]=h}return f}function J(s,e,r,o){var p=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(s);if(!p||!p.length)return s;var X,h=p[1],F=p[2];return e&&F in e?X=e[F]:F in m&&(X=m[F]),h in t&&(s=(0,t[h])(s,X,r,o)),s}function te(s,e,r){return s.replace(/\{\{\s*(.+?)\s*\}\}/g,function(f,p){return e&&p in e?e[p]:p in m?m[p]:(console.log("argument {{"+p+"}} for #"+r+" is undefined."),f)})}function de(s){var e=function c(s){if(!s)return{};var e=s.getAttribute("data-l10n-id"),r=s.getAttribute("data-l10n-args"),o={};if(r)try{o=JSON.parse(r)}catch{console.warn("could not parse arguments for #"+e)}return{id:e,args:o}}(s);if(e.id){var r=K(e.id,e.args);if(!r)return void console.warn("#"+e.id+" is undefined.");if(r[b]){if(0===function le(s){if(s.children)return s.children.length;if(typeof s.childElementCount<"u")return s.childElementCount;for(var e=0,r=0;r<s.childNodes.length;r++)e+=1===s.nodeType?1:0;return e}(s))s[b]=r[b];else{for(var o=s.childNodes,f=!1,p=0,h=o.length;p<h;p++)3===o[p].nodeType&&/\S/.test(o[p].nodeValue)&&(f?o[p].nodeValue="":(o[p].nodeValue=r[b],f=!0));if(!f){var F=g.createTextNode(r[b]);s.insertBefore(F,s.firstChild)}}delete r[b]}for(var X in r)s[X]=r[X]}}return t.plural=function(s,e,r,o){var f=parseFloat(e);if(isNaN(f)||o!=b)return s;t._pluralRules||(t._pluralRules=function W(s){function r(h,F){return-1!==F.indexOf(h)}function o(h,F,X){return F<=h&&h<=X}var f={0:function(h){return"other"},1:function(h){return o(h%100,3,10)?"few":0===h?"zero":o(h%100,11,99)?"many":2==h?"two":1==h?"one":"other"},2:function(h){return 0!==h&&h%10==0?"many":2==h?"two":1==h?"one":"other"},3:function(h){return 1==h?"one":"other"},4:function(h){return o(h,0,1)?"one":"other"},5:function(h){return o(h,0,2)&&2!=h?"one":"other"},6:function(h){return 0===h?"zero":h%10==1&&h%100!=11?"one":"other"},7:function(h){return 2==h?"two":1==h?"one":"other"},8:function(h){return o(h,3,6)?"few":o(h,7,10)?"many":2==h?"two":1==h?"one":"other"},9:function(h){return 0===h||1!=h&&o(h%100,1,19)?"few":1==h?"one":"other"},10:function(h){return o(h%10,2,9)&&!o(h%100,11,19)?"few":h%10!=1||o(h%100,11,19)?"other":"one"},11:function(h){return o(h%10,2,4)&&!o(h%100,12,14)?"few":h%10==0||o(h%10,5,9)||o(h%100,11,14)?"many":h%10==1&&h%100!=11?"one":"other"},12:function(h){return o(h,2,4)?"few":1==h?"one":"other"},13:function(h){return o(h%10,2,4)&&!o(h%100,12,14)?"few":1!=h&&o(h%10,0,1)||o(h%10,5,9)||o(h%100,12,14)?"many":1==h?"one":"other"},14:function(h){return o(h%100,3,4)?"few":h%100==2?"two":h%100==1?"one":"other"},15:function(h){return 0===h||o(h%100,2,10)?"few":o(h%100,11,19)?"many":1==h?"one":"other"},16:function(h){return h%10==1&&11!=h?"one":"other"},17:function(h){return 3==h?"few":0===h?"zero":6==h?"many":2==h?"two":1==h?"one":"other"},18:function(h){return 0===h?"zero":o(h,0,2)&&0!==h&&2!=h?"one":"other"},19:function(h){return o(h,2,10)?"few":o(h,0,1)?"one":"other"},20:function(h){return!o(h%10,3,4)&&h%10!=9||o(h%100,10,19)||o(h%100,70,79)||o(h%100,90,99)?h%1e6==0&&0!==h?"many":h%10!=2||r(h%100,[12,72,92])?h%10!=1||r(h%100,[11,71,91])?"other":"one":"two":"few"},21:function(h){return 0===h?"zero":1==h?"one":"other"},22:function(h){return o(h,0,1)||o(h,11,99)?"one":"other"},23:function(h){return o(h%10,1,2)||h%20==0?"one":"other"},24:function(h){return o(h,3,10)||o(h,13,19)?"few":r(h,[2,12])?"two":r(h,[1,11])?"one":"other"}},p={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[s.replace(/-.*$/,"")];return p in f?f[p]:(console.warn("plural form unknown for ["+s+"]"),function(){return"other"})}(v));var p="["+t._pluralRules(f)+"]";return 0===f&&r+"[zero]"in m?s=m[r+"[zero]"][o]:1==f&&r+"[one]"in m?s=m[r+"[one]"][o]:2==f&&r+"[two]"in m?s=m[r+"[two]"][o]:r+p in m?s=m[r+p][o]:r+"[other]"in m&&(s=m[r+"[other]"][o]),s},{get:function(s,e,r){var p,o=s.lastIndexOf("."),f=b;o>0&&(f=s.substring(o+1),s=s.substring(0,o)),r&&((p={})[f]=r);var h=K(s,e,p);return h&&f in h?h[f]:"{{"+s+"}}"},getData:function(){return m},getText:function(){return x},getLanguage:function(){return v},setLanguage:function(s,e){w(s,function(){e&&e()})},getDirection:function(){var e=v.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(e)>=0?"rtl":"ltr"},translate:function k(s){for(var e=function A(s){return s?s.querySelectorAll("*[data-l10n-id]"):[]}(s=s||g.documentElement),r=e.length,o=0;o<r;o++)de(e[o]);de(s)},getReadyState:function(){return i},ready:function(s){s&&("complete"==i||"interactive"==i?j.setTimeout(function(){s()}):g.addEventListener&&g.addEventListener("localized",function e(){g.removeEventListener("localized",e),s()}))}}}(window,document)},(j,g,E)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFFindController=g.FindState=void 0;var m=E(6),x=E(3),b=E(21);const v={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};g.FindState=v;const t=250,S={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},u=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),A=[...u.values()].map(re=>String.fromCharCode(re)).join(""),c=/\p{M}+/gu,l=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,_=/([^\p{M}])\p{M}*$/u,w=/^\p{M}*([^\p{M}])/u;let D=null;function W(re){if(!D){const Le=Object.keys(S).join("");D=new RegExp(`([${Le}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const ce=[];let Se;for(;null!==(Se=c.exec(re));)ce.push([Se[0].length,Se.index]);let Pe=re.normalize("NFD");const fe=[[0,0]];let xe=0,ve=0,Ee=0,Me=0,ke=!1;return Pe=Pe.replace(D,(Le,Ne,Re,De,Fe,Oe)=>{if(Oe-=Ee,Ne){const Ie=S[Le],Ve=Ie.length;for(let Be=1;Be<Ve;Be++)fe.push([Oe-ve+Be,ve-Be]);return ve-=Ve-1,Ie}if(Re){const Ie=Re.endsWith("\n"),Ve=Ie?Re.length-2:Re.length;ke=!0;let Be=Ve;Oe+Me===ce[xe]?.[1]&&(Be-=ce[xe][0],++xe);for(let Ue=1;Ue<Be+1;Ue++)fe.push([Oe-1-ve+Ue,ve-Ue]);return ve-=Be,Ee+=Be,Ie?(fe.push([(Oe+=Ve-1)-ve+1,1+ve]),ve+=1,Ee+=1,Me+=1,Re.slice(0,Ve)):Re}return De?(fe.push([Oe-ve+1,1+ve]),ve+=1,Ee+=1,Me+=1,De.charAt(0)):(fe.push([Oe-ve+1,ve-1]),ve-=1,Ee+=1,Me+=1," ")}),fe.push([Pe.length,ve]),[Pe,fe,ke]}function K(re,ce,Se){if(!re)return[ce,Se];const Pe=ce,fe=ce+Se;let xe=(0,m.binarySearchFirstItem)(re,Ee=>Ee[0]>=Pe);re[xe][0]>Pe&&--xe;let ve=(0,m.binarySearchFirstItem)(re,Ee=>Ee[0]>=fe,xe);return re[ve][0]>fe&&--ve,[Pe+re[xe][1],Se+re[ve][1]-re[xe][1]]}var J=new WeakSet,te=new WeakSet,de=new WeakMap,le=new WeakSet,k=new WeakSet,s=new WeakSet,e=new WeakSet,r=new WeakSet,o=new WeakSet,f=new WeakSet,p=new WeakSet,h=new WeakSet,F=new WeakSet,X=new WeakSet,B=new WeakSet,Y=new WeakSet,$=new WeakSet,Z=new WeakSet,ee=new WeakSet,he=new WeakSet;function Ae(re){if(!re)return;const ce=this._pdfDocument,{type:Se}=re;(null===this._state||P(this,le,we).call(this,re))&&(this._dirtyMatch=!0),this._state=re,"highlightallchange"!==Se&&P(this,he,Te).call(this,v.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||ce&&this._pdfDocument!==ce)return;P(this,o,be).call(this);const Pe=!this._highlightMatches,fe=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),Se?this._dirtyMatch?P(this,h,Q).call(this):"again"===Se?(P(this,h,Q).call(this),Pe&&this._state.highlightAll&&P(this,p,R).call(this)):"highlightallchange"===Se?(fe?P(this,h,Q).call(this):this._highlightMatches=!0,P(this,p,R).call(this)):P(this,h,Q).call(this):this._findTimeout=setTimeout(()=>{P(this,h,Q).call(this),this._findTimeout=null},t)})}function me(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,x.createPromiseCapability)()}function ae(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=W(this._state.query)),this._normalizedQuery}function we(re){if(re.query!==this._state.query)return!0;switch(re.type){case"again":const ce=this._selected.pageIdx+1,Se=this._linkService;return ce>=1&&ce<=Se.pagesCount&&ce!==Se.page&&!Se.isPageVisible(ce);case"highlightallchange":return!1}return!0}function Ce(re,ce,Se){let Pe=re.slice(0,ce).match(_);if(Pe){const fe=re.charCodeAt(ce),xe=Pe[1].charCodeAt(0);if((0,b.getCharacterType)(fe)===(0,b.getCharacterType)(xe))return!1}if(Pe=re.slice(ce+Se).match(w),Pe){const fe=re.charCodeAt(ce+Se-1),xe=Pe[1].charCodeAt(0);if((0,b.getCharacterType)(fe)===(0,b.getCharacterType)(xe))return!1}return!0}function pe(re,ce,Se,Pe){const fe=[],xe=[],ve=this._pageDiffs[Se];let Ee;for(;null!==(Ee=re.exec(Pe));){if(ce&&!P(this,k,Ce).call(this,Pe,Ee.index,Ee[0].length))continue;const[Me,ke]=K(ve,Ee.index,Ee[0].length);ke&&(fe.push(Me),xe.push(ke))}this._pageMatches[Se]=fe,this._pageMatchesLength[Se]=xe}function se(re,ce){const{matchDiacritics:Se}=this._state;let Pe=!1;return(re=re.replace(l,(xe,ve,Ee,Me,ke,Le)=>ve?`[ ]*\\${ve}[ ]*`:Ee?`[ ]*${Ee}[ ]*`:Me?"[ ]+":Se?ke||Le:ke?u.has(ke.charCodeAt(0))?ke:"":ce?(Pe=!0,`${Le}\\p{M}*`):Le)).endsWith("[ ]*")&&(re=re.slice(0,re.length-"[ ]*".length)),Se&&ce&&(Pe=!0,re=`${re}(?=[${A}]|[^\\p{M}]|$)`),[Pe,re]}function ue(re){let ce=L(this,de);if(0===ce.length)return;const{caseSensitive:Se,entireWord:Pe,phraseSearch:fe}=this._state,xe=this._pageContents[re],ve=this._hasDiacritics[re];let Ee=!1;if(fe)[Ee,ce]=P(this,e,se).call(this,ce,ve);else{const Le=ce.match(/\S+/g);Le&&(ce=Le.sort().reverse().map(Ne=>{const[Re,De]=P(this,e,se).call(this,Ne,ve);return Ee||=Re,`(${De})`}).join("|"))}ce=new RegExp(ce,`g${Ee?"u":""}${Se?"":"i"}`),P(this,s,pe).call(this,ce,Pe,re,xe),this._state.highlightAll&&P(this,f,ne).call(this,re),this._resumePageIdx===re&&(this._resumePageIdx=null,P(this,X,ge).call(this));const ke=this._pageMatches[re].length;ke>0&&(this._matchesCountTotal+=ke,P(this,ee,ye).call(this))}function be(){if(this._extractTextPromises.length>0)return;let re=Promise.resolve();for(let ce=0,Se=this._linkService.pagesCount;ce<Se;ce++){const Pe=(0,x.createPromiseCapability)();this._extractTextPromises[ce]=Pe.promise,re=re.then(()=>this._pdfDocument.getPage(ce+1).then(fe=>fe.getTextContent()).then(fe=>{const xe=[];for(const ve of fe.items)xe.push(ve.str),ve.hasEOL&&xe.push("\n");[this._pageContents[ce],this._pageDiffs[ce],this._hasDiacritics[ce]]=W(xe.join("")),Pe.resolve()},fe=>{console.error(`Unable to get text content for page ${ce+1}`,fe),this._pageContents[ce]="",this._pageDiffs[ce]=null,this._hasDiacritics[ce]=!1,Pe.resolve()}))}}function ne(re){this._scrollMatches&&this._selected.pageIdx===re&&(this._linkService.page=re+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:re})}function R(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}function Q(){const re=this._state.findPrevious,ce=this._linkService.page-1,Se=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=ce,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,P(this,p,R).call(this);for(let fe=0;fe<Se;fe++)this._pendingFindMatches.has(fe)||(this._pendingFindMatches.add(fe),this._extractTextPromises[fe].then(()=>{this._pendingFindMatches.delete(fe),P(this,r,ue).call(this,fe)}))}if(""===L(this,de))return void P(this,he,Te).call(this,v.FOUND);if(this._resumePageIdx)return;const Pe=this._offset;if(this._pagesToSearch=Se,null!==Pe.matchIdx){if(!re&&Pe.matchIdx+1<this._pageMatches[Pe.pageIdx].length||re&&Pe.matchIdx>0)return Pe.matchIdx=re?Pe.matchIdx-1:Pe.matchIdx+1,void P(this,Y,O).call(this,!0);P(this,B,q).call(this,re)}P(this,X,ge).call(this)}function oe(re){const ce=this._offset,Se=re.length,Pe=this._state.findPrevious;return Se?(ce.matchIdx=Pe?Se-1:0,P(this,Y,O).call(this,!0),!0):(P(this,B,q).call(this,Pe),!!(ce.wrapped&&(ce.matchIdx=null,this._pagesToSearch<0))&&(P(this,Y,O).call(this,!1),!0))}function ge(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let re=null;do{const ce=this._offset.pageIdx;if(re=this._pageMatches[ce],!re){this._resumePageIdx=ce;break}}while(!P(this,F,oe).call(this,re))}function q(re){const ce=this._offset,Se=this._linkService.pagesCount;ce.pageIdx=re?ce.pageIdx-1:ce.pageIdx+1,ce.matchIdx=null,this._pagesToSearch--,(ce.pageIdx>=Se||ce.pageIdx<0)&&(ce.pageIdx=re?Se-1:0,ce.wrapped=!0)}function O(re=!1){let ce=v.NOT_FOUND;const Se=this._offset.wrapped;if(this._offset.wrapped=!1,re){const Pe=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,ce=Se?v.WRAPPED:v.FOUND,-1!==Pe&&Pe!==this._selected.pageIdx&&P(this,f,ne).call(this,Pe)}P(this,he,Te).call(this,ce,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,P(this,f,ne).call(this,this._selected.pageIdx))}function V(re){const ce=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||ce&&this._pdfDocument!==ce||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),P(this,he,Te).call(this,v.FOUND),this._highlightMatches=!1,P(this,p,R).call(this))})}function ie(){const{pageIdx:re,matchIdx:ce}=this._selected;let Se=0,Pe=this._matchesCountTotal;if(-1!==ce){for(let fe=0;fe<re;fe++)Se+=this._pageMatches[fe]?.length||0;Se+=ce+1}return(Se<1||Se>Pe)&&(Se=Pe=0),{current:Se,total:Pe}}function ye(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:P(this,Z,ie).call(this)})}function Te(re,ce=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:re,previous:ce,matchesCount:P(this,Z,ie).call(this),rawQuery:this._state?.query??null})}g.PDFFindController=class _e{constructor({linkService:ce,eventBus:Se}){T(this,he),T(this,ee),T(this,Z),T(this,$),T(this,Y),T(this,B),T(this,X),T(this,F),T(this,h),T(this,p),T(this,f),T(this,o),T(this,r),T(this,e),T(this,s),T(this,k),T(this,le),M(this,de,{get:ae,set:void 0}),T(this,te),T(this,J),this._linkService=ce,this._eventBus=Se,P(this,te,me).call(this),Se._on("find",P(this,J,Ae).bind(this)),Se._on("findbarclose",P(this,$,V).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(ce){this._pdfDocument&&P(this,te,me).call(this),ce&&(this._pdfDocument=ce,this._firstPageCapability.resolve())}scrollMatchIntoView({element:ce=null,selectedLeft:Se=0,pageIndex:Pe=-1,matchIndex:fe=-1}){this._scrollMatches&&ce&&-1!==fe&&fe===this._selected.matchIdx&&-1!==Pe&&Pe===this._selected.pageIdx&&(this._scrollMatches=!1,(0,m.scrollIntoView)(ce,{top:-50,left:Se+-400},!0))}}},(j,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.CharacterType=void 0,g.getCharacterType=function c(l){return function m(l){return l<11904}(l)?function x(l){return 0==(65408&l)}(l)?function t(l){return 32===l||9===l||13===l||10===l}(l)?E.SPACE:function b(l){return l>=97&&l<=122||l>=65&&l<=90}(l)||function v(l){return l>=48&&l<=57}(l)||95===l?E.ALPHA_LETTER:E.PUNCT:function A(l){return 3584==(65408&l)}(l)?E.THAI_LETTER:160===l?E.SPACE:E.ALPHA_LETTER:function i(l){return l>=13312&&l<=40959||l>=63744&&l<=64255}(l)?E.HAN_LETTER:function d(l){return l>=12448&&l<=12543}(l)?E.KATAKANA_LETTER:function S(l){return l>=12352&&l<=12447}(l)?E.HIRAGANA_LETTER:function u(l){return l>=65376&&l<=65439}(l)?E.HALFWIDTH_KATAKANA_LETTER:E.ALPHA_LETTER};const E={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};g.CharacterType=E},(j,g,E)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFHistory=void 0,g.isDestArraysEqual=u,g.isDestHashesEqual=S;var m=E(6),x=E(17);function i(){return document.location.hash}function S(A,c){return"string"==typeof A&&"string"==typeof c&&(A===c||(0,m.parseQueryString)(A).get("nameddest")===c)}function u(A,c){function l(_,w){if(typeof _!=typeof w||Array.isArray(_)||Array.isArray(w))return!1;if(null!==_&&"object"==typeof _&&null!==w){if(Object.keys(_).length!==Object.keys(w).length)return!1;for(const D in _)if(!l(_[D],w[D]))return!1;return!0}return _===w||Number.isNaN(_)&&Number.isNaN(w)}if(!Array.isArray(A)||!Array.isArray(c)||A.length!==c.length)return!1;for(let _=0,w=A.length;_<w;_++)if(!l(A[_],c[_]))return!1;return!0}g.PDFHistory=class d{constructor({linkService:c,eventBus:l}){this.linkService=c,this.eventBus=l,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",_=>{this._isPagesLoaded=!!_.pagesCount},{once:!0})})}initialize({fingerprint:c,resetHistory:l=!1,updateUrl:_=!1}){if(!c||"string"!=typeof c)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const w=""!==this._fingerprint&&this._fingerprint!==c;this._fingerprint=c,this._updateUrl=!0===_,this._initialized=!0,this._bindEvents();const D=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=i(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(D,!0)||l){const{hash:K,page:J,rotation:te}=this._parseCurrentHash(!0);return!K||w||l?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:K,page:J,rotation:te},!0)}const W=D.destination;this._updateInternalState(W,D.uid,!0),void 0!==W.rotation&&(this._initialRotation=W.rotation),W.dest?(this._initialBookmark=JSON.stringify(W.dest),this._destination.page=null):W.hash?this._initialBookmark=W.hash:W.page&&(this._initialBookmark=`page=${W.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:c=null,explicitDest:l,pageNumber:_}){if(!this._initialized)return;if(c&&"string"!=typeof c)return void console.error(`PDFHistory.push: "${c}" is not a valid namedDest parameter.`);if(!Array.isArray(l))return void console.error(`PDFHistory.push: "${l}" is not a valid explicitDest parameter.`);if(!this._isValidPage(_)&&(null!==_||this._destination))return void console.error(`PDFHistory.push: "${_}" is not a valid pageNumber parameter.`);const w=c||JSON.stringify(l);if(!w)return;let D=!1;if(this._destination&&(S(this._destination.hash,w)||u(this._destination.dest,l))){if(this._destination.page)return;D=!0}this._popStateInProgress&&!D||(this._pushOrReplaceState({dest:l,hash:w,page:_,rotation:this.linkService.rotation},D),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(c){if(this._initialized){if(!this._isValidPage(c))return void console.error(`PDFHistory.pushPage: "${c}" is not a valid page number.`);this._destination?.page!==c&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${c}`,page:c,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const c=window.history.state;this._isValidState(c)&&c.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const c=window.history.state;this._isValidState(c)&&c.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(c,l=!1){const _=l||!this._destination,w={fingerprint:this._fingerprint,uid:_?this._uid:this._uid+1,destination:c};let D;if(this._updateInternalState(c,w.uid),this._updateUrl&&c?.hash){const W=document.location.href.split("#")[0];W.startsWith("file://")||(D=`${W}#${c.hash}`)}_?window.history.replaceState(w,"",D):window.history.pushState(w,"",D)}_tryPushCurrentPosition(c=!1){if(!this._position)return;let l=this._position;if(c&&(l=Object.assign(Object.create(null),this._position),l.temporary=!0),!this._destination)return void this._pushOrReplaceState(l);if(this._destination.temporary)return void this._pushOrReplaceState(l,!0);if(this._destination.hash===l.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let _=!1;if(this._destination.page>=l.first&&this._destination.page<=l.page){if(void 0!==this._destination.dest||!this._destination.first)return;_=!0}this._pushOrReplaceState(l,_)}_isValidPage(c){return Number.isInteger(c)&&c>0&&c<=this.linkService.pagesCount}_isValidState(c,l=!1){if(!c)return!1;if(c.fingerprint!==this._fingerprint){if(!l)return!1;{if("string"!=typeof c.fingerprint||c.fingerprint.length!==this._fingerprint.length)return!1;const[_]=performance.getEntriesByType("navigation");if("reload"!==_?.type)return!1}}return!(!Number.isInteger(c.uid)||c.uid<0||null===c.destination||"object"!=typeof c.destination)}_updateInternalState(c,l,_=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),_&&c?.temporary&&delete c.temporary,this._destination=c,this._uid=l,this._maxUid=Math.max(this._maxUid,l),this._numPositionUpdates=0}_parseCurrentHash(c=!1){const l=unescape(i()).substring(1),_=(0,m.parseQueryString)(l),w=_.get("nameddest")||"";let D=0|_.get("page");return(!this._isValidPage(D)||c&&w.length>0)&&(D=null),{hash:l,page:D,rotation:this.linkService.rotation}}_updateViewarea({location:c}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:c.pdfOpenParams.substring(1),page:this.linkService.page,first:c.pageNumber,rotation:c.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:c}){const l=i(),_=this._currentHash!==l;if(this._currentHash=l,!c){this._uid++;const{hash:D,page:W,rotation:K}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:D,page:W,rotation:K},!0)}if(!this._isValidState(c))return;this._popStateInProgress=!0,_&&(this._blockHashChange++,(0,x.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const w=c.destination;this._updateInternalState(w,c.uid,!0),(0,m.isValidRotation)(w.rotation)&&(this.linkService.rotation=w.rotation),w.dest?this.linkService.goToDestination(w.dest):w.hash?this.linkService.setHash(w.hash):w.page&&(this.linkService.page=w.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(j,g,E)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFScriptingManager=void 0;var m=E(6),x=E(3);g.PDFScriptingManager=class b{constructor({eventBus:t,sandboxBundleSrc:i=null,scriptingFactory:d=null,docPropertiesLookup:S=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=t,this._sandboxBundleSrc=i,this._scriptingFactory=d,this._docPropertiesLookup=S,this._scriptingFactory||window.addEventListener("updatefromsandbox",u=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:u.detail})})}setViewer(t){this._pdfViewer=t}setDocument(t){var i=this;return y(function*(){if(i._pdfDocument&&(yield i._destroyScripting()),i._pdfDocument=t,!t)return;const[d,S,u]=yield Promise.all([t.getFieldObjects(),t.getCalculationOrderIds(),t.getJSActions()]);if(d||u){if(t===i._pdfDocument){try{i._scripting=i._createScripting()}catch(A){return console.error(`PDFScriptingManager.setDocument: "${A?.message}".`),void(yield i._destroyScripting())}i._internalEvents.set("updatefromsandbox",A=>{A?.source===window&&i._updateFromSandbox(A.detail)}),i._internalEvents.set("dispatcheventinsandbox",A=>{i._scripting?.dispatchEventInSandbox(A.detail)}),i._internalEvents.set("pagechanging",({pageNumber:A,previous:c})=>{A!==c&&(i._dispatchPageClose(c),i._dispatchPageOpen(A))}),i._internalEvents.set("pagerendered",({pageNumber:A})=>{i._pageOpenPending.has(A)&&A===i._pdfViewer.currentPageNumber&&i._dispatchPageOpen(A)}),i._internalEvents.set("pagesdestroy",function(){var A=y(function*(c){yield i._dispatchPageClose(i._pdfViewer.currentPageNumber),yield i._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),i._closeCapability?.resolve()});return function(c){return A.apply(this,arguments)}}()),i._domEvents.set("mousedown",A=>{i._mouseState.isDown=!0}),i._domEvents.set("mouseup",A=>{i._mouseState.isDown=!1});for(const[A,c]of i._internalEvents)i._eventBus._on(A,c);for(const[A,c]of i._domEvents)window.addEventListener(A,c,!0);try{const A=yield i._getDocProperties();if(t!==i._pdfDocument)return;yield i._scripting.createSandbox({objects:d,calculationOrder:S,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...A,actions:u}}),i._eventBus.dispatch("sandboxcreated",{source:i})}catch(A){return console.error(`PDFScriptingManager.setDocument: "${A?.message}".`),void(yield i._destroyScripting())}yield i._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield i._dispatchPageOpen(i._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{t===i._pdfDocument&&(i._ready=!0)})}}else yield i._destroyScripting()})()}dispatchWillSave(t){var i=this;return y(function*(){return i._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(t){var i=this;return y(function*(){return i._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(t){var i=this;return y(function*(){return i._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(t){var i=this;return y(function*(){return i._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,x.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,x.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,x.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,x.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(t){var i=this;return y(function*(){const d=i._pdfViewer.isInPresentationMode||i._pdfViewer.isChangingPresentationMode,{id:S,siblings:u,command:A,value:c}=t;if(!S){switch(A){case"clear":console.clear();break;case"error":console.error(c);break;case"layout":if(d)return;const _=(0,m.apiPageLayoutToViewerModes)(c);i._pdfViewer.spreadMode=_.spreadMode;break;case"page-num":i._pdfViewer.currentPageNumber=c+1;break;case"print":yield i._pdfViewer.pagesPromise,i._eventBus.dispatch("print",{source:i});break;case"println":console.log(c);break;case"zoom":if(d)return;i._pdfViewer.currentScaleValue=c;break;case"SaveAs":i._eventBus.dispatch("save",{source:i});break;case"FirstPage":i._pdfViewer.currentPageNumber=1;break;case"LastPage":i._pdfViewer.currentPageNumber=i._pdfViewer.pagesCount;break;case"NextPage":i._pdfViewer.nextPage();break;case"PrevPage":i._pdfViewer.previousPage();break;case"ZoomViewIn":if(d)return;i._pdfViewer.increaseScale();break;case"ZoomViewOut":if(d)return;i._pdfViewer.decreaseScale()}return}if(d&&t.focus)return;delete t.id,delete t.siblings;const l=u?[S,...u]:[S];for(const _ of l){const w=document.getElementById(_);w?w.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:t})):i._pdfDocument?.annotationStorage.setValue(_,t)}})()}_dispatchPageOpen(t,i=!1){var d=this;return y(function*(){const S=d._pdfDocument,u=d._visitedPages;if(i&&(d._closeCapability=(0,x.createPromiseCapability)()),!d._closeCapability)return;const A=d._pdfViewer.getPageView(t-1);if(A?.renderingState!==m.RenderingStates.FINISHED)return void d._pageOpenPending.add(t);d._pageOpenPending.delete(t);const c=y(function*(){const l=yield u.has(t)?null:A.pdfPage?.getJSActions();S===d._pdfDocument&&(yield d._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:t,actions:l}))})();u.set(t,c)})()}_dispatchPageClose(t){var i=this;return y(function*(){const d=i._pdfDocument,S=i._visitedPages;if(!i._closeCapability||i._pageOpenPending.has(t))return;const u=S.get(t);u&&(S.set(t,null),yield u,d===i._pdfDocument&&(yield i._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:t})))})()}_getDocProperties(){var t=this;return y(function*(){if(t._docPropertiesLookup)return t._docPropertiesLookup(t._pdfDocument);const{docPropertiesLookup:i}=E(24);return i(t._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,x.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:t}=E(24);return new t(this._sandboxBundleSrc)}_destroyScripting(){var t=this;return y(function*(){if(!t._scripting)return t._pdfDocument=null,void t._destroyCapability?.resolve();t._closeCapability&&(yield Promise.race([t._closeCapability.promise,new Promise(i=>{setTimeout(i,1e3)})]).catch(i=>{}),t._closeCapability=null),t._pdfDocument=null;try{yield t._scripting.destroySandbox()}catch{}for(const[i,d]of t._internalEvents)t._eventBus._off(i,d);t._internalEvents.clear();for(const[i,d]of t._domEvents)window.removeEventListener(i,d,!0);t._domEvents.clear(),t._pageOpenPending.clear(),t._visitedPages.clear(),t._scripting=null,delete t._mouseState.isDown,t._ready=!1,t._destroyCapability?.resolve()})()}}},(j,g,E)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.GenericScripting=void 0,g.docPropertiesLookup=function x(t){return b.apply(this,arguments)};var m=E(3);function b(){return(b=y(function*(t){const d="".split("#")[0];let{info:S,metadata:u,contentDispositionFilename:A,contentLength:c}=yield t.getMetadata();if(!c){const{length:l}=yield t.getDownloadInfo();c=l}return{...S,baseURL:d,filesize:c,filename:A||(0,m.getPdfFilenameFromUrl)(""),metadata:u?.getRaw(),authors:u?.get("dc:creator"),numPages:t.numPages,URL:""}})).apply(this,arguments)}g.GenericScripting=class v{constructor(i){this._ready=(0,m.loadScript)(i,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(i){var d=this;return y(function*(){(yield d._ready).create(i)})()}dispatchEventInSandbox(i){var d=this;return y(function*(){const S=yield d._ready;setTimeout(()=>S.dispatchEvent(i),0)})()}destroySandbox(){var i=this;return y(function*(){(yield i._ready).nukeSandbox()})()}}}],U={};function H(j){var g=U[j];if(void 0!==g)return g.exports;var E=U[j]={exports:{}};return I[j](E,E.exports,H),E.exports}var N={};return(()=>{var j=N;Object.defineProperty(j,"__esModule",{value:!0}),Object.defineProperty(j,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return b.AnnotationLayerBuilder}}),Object.defineProperty(j,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return g.DefaultAnnotationLayerFactory}}),Object.defineProperty(j,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return g.DefaultStructTreeLayerFactory}}),Object.defineProperty(j,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return g.DefaultTextLayerFactory}}),Object.defineProperty(j,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return g.DefaultXfaLayerFactory}}),Object.defineProperty(j,"DownloadManager",{enumerable:!0,get:function(){return v.DownloadManager}}),Object.defineProperty(j,"EventBus",{enumerable:!0,get:function(){return t.EventBus}}),Object.defineProperty(j,"GenericL10n",{enumerable:!0,get:function(){return i.GenericL10n}}),Object.defineProperty(j,"LinkTarget",{enumerable:!0,get:function(){return E.LinkTarget}}),Object.defineProperty(j,"NullL10n",{enumerable:!0,get:function(){return d.NullL10n}}),Object.defineProperty(j,"PDFFindController",{enumerable:!0,get:function(){return S.PDFFindController}}),Object.defineProperty(j,"PDFHistory",{enumerable:!0,get:function(){return u.PDFHistory}}),Object.defineProperty(j,"PDFLinkService",{enumerable:!0,get:function(){return E.PDFLinkService}}),Object.defineProperty(j,"PDFPageView",{enumerable:!0,get:function(){return A.PDFPageView}}),Object.defineProperty(j,"PDFScriptingManager",{enumerable:!0,get:function(){return c.PDFScriptingManager}}),Object.defineProperty(j,"PDFSinglePageViewer",{enumerable:!0,get:function(){return x.PDFSinglePageViewer}}),Object.defineProperty(j,"PDFViewer",{enumerable:!0,get:function(){return x.PDFViewer}}),Object.defineProperty(j,"ProgressBar",{enumerable:!0,get:function(){return m.ProgressBar}}),Object.defineProperty(j,"SimpleLinkService",{enumerable:!0,get:function(){return E.SimpleLinkService}}),Object.defineProperty(j,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return l.StructTreeLayerBuilder}}),Object.defineProperty(j,"TextLayerBuilder",{enumerable:!0,get:function(){return _.TextLayerBuilder}}),Object.defineProperty(j,"XfaLayerBuilder",{enumerable:!0,get:function(){return w.XfaLayerBuilder}}),Object.defineProperty(j,"parseQueryString",{enumerable:!0,get:function(){return m.parseQueryString}});var g=H(1),E=H(5),m=H(6),x=H(10),b=H(2),v=H(16),t=H(17),i=H(18),d=H(4),S=H(20),u=H(22),A=H(12),c=H(23),l=H(7),_=H(8),w=H(9)})(),N})(),G.exports=H()},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},7156:G=>{function a(n,T,M,z,P,L,y){try{var I=n[L](y),U=I.value}catch(H){return void M(H)}I.done?T(U):Promise.resolve(U).then(z,P)}G.exports=function C(n){return function(){var T=this,M=arguments;return new Promise(function(z,P){var L=n.apply(T,M);function y(U){a(L,z,P,y,I,"next",U)}function I(U){a(L,z,P,y,I,"throw",U)}y(void 0)})}},G.exports.__esModule=!0,G.exports.default=G.exports},6521:G=>{G.exports=function a(C,n){if(n.has(C))throw new TypeError("Cannot initialize the same private elements twice on an object")},G.exports.__esModule=!0,G.exports.default=G.exports},8912:G=>{G.exports=function a(C,n){return n.get?n.get.call(C):n.value},G.exports.__esModule=!0,G.exports.default=G.exports},3448:G=>{G.exports=function a(C,n,T){if(n.set)n.set.call(C,T);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=T}},G.exports.__esModule=!0,G.exports.default=G.exports},2625:G=>{G.exports=function a(C,n){if(C!==n)throw new TypeError("Private static access of wrong provenance")},G.exports.__esModule=!0,G.exports.default=G.exports},2506:G=>{G.exports=function a(C,n){if(void 0===C)throw new TypeError("attempted to "+n+" private static field before its declaration")},G.exports.__esModule=!0,G.exports.default=G.exports},4069:G=>{G.exports=function a(C,n,T){if(!n.has(C))throw new TypeError("attempted to "+T+" private field on non-instance");return n.get(C)},G.exports.__esModule=!0,G.exports.default=G.exports},468:(G,a,C)=>{var n=C(8912),T=C(4069);G.exports=function M(z,P){var L=T(z,P,"get");return n(z,L)},G.exports.__esModule=!0,G.exports.default=G.exports},9159:(G,a,C)=>{var n=C(6521);G.exports=function T(M,z,P){n(M,z),z.set(M,P)},G.exports.__esModule=!0,G.exports.default=G.exports},5661:(G,a,C)=>{var n=C(3448),T=C(4069);G.exports=function M(z,P,L){var y=T(z,P,"set");return n(z,y,L),L},G.exports.__esModule=!0,G.exports.default=G.exports},4467:G=>{G.exports=function a(C,n,T){if(!n.has(C))throw new TypeError("attempted to get private field on non-instance");return T},G.exports.__esModule=!0,G.exports.default=G.exports},1860:(G,a,C)=>{var n=C(6521);G.exports=function T(M,z){n(M,z),z.add(M)},G.exports.__esModule=!0,G.exports.default=G.exports},1280:(G,a,C)=>{var n=C(8912),T=C(2625),M=C(2506);G.exports=function z(P,L,y){return T(P,L),M(y,"get"),n(P,y)},G.exports.__esModule=!0,G.exports.default=G.exports},2306:(G,a,C)=>{var n=C(3448),T=C(2625),M=C(2506);G.exports=function z(P,L,y,I){return T(P,L),M(y,"set"),n(P,y,I),I},G.exports.__esModule=!0,G.exports.default=G.exports},5764:(G,a,C)=>{var n=C(2625);G.exports=function T(M,z,P){return n(M,z),P},G.exports.__esModule=!0,G.exports.default=G.exports},8416:(G,a,C)=>{var n=C(4062);G.exports=function T(M,z,P){return(z=n(z))in M?Object.defineProperty(M,z,{value:P,enumerable:!0,configurable:!0,writable:!0}):M[z]=P,M},G.exports.__esModule=!0,G.exports.default=G.exports},5036:(G,a,C)=>{var n=C(8698).default;G.exports=function T(M,z){if("object"!==n(M)||null===M)return M;var P=M[Symbol.toPrimitive];if(void 0!==P){var L=P.call(M,z||"default");if("object"!==n(L))return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===z?String:Number)(M)},G.exports.__esModule=!0,G.exports.default=G.exports},4062:(G,a,C)=>{var n=C(8698).default,T=C(5036);G.exports=function M(z){var P=T(z,"string");return"symbol"===n(P)?P:String(P)},G.exports.__esModule=!0,G.exports.default=G.exports},8698:G=>{function a(C){return G.exports=a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},G.exports.__esModule=!0,G.exports.default=G.exports,a(C)}G.exports=a,G.exports.__esModule=!0,G.exports.default=G.exports},2498:(G,a,C)=>{"use strict";C.d(a,{rQ:()=>d,xC:()=>S});var n=C(1571),T=C(4968),M=C(7579),z=C(2076),P=C(2722),L=C(4986),y=C(4482),I=C(5403),H=C(9300),N=C(6036),j=C.t(N,2),g=C(2813),E=C.t(g,2);const m=["pdfViewerContainer"];function v(u,A,c){u[A]=c}function t(){return typeof window>"u"}t()||v(j,"verbosity",N.VerbosityLevel.INFOS);var i=(()=>{return(u=i||(i={}))[u.DISABLED=0]="DISABLED",u[u.ENABLED=1]="ENABLED",u[u.ENHANCED=2]="ENHANCED",i;var u})();let d=(()=>{class u{constructor(c,l){if(this.element=c,this.ngZone=l,this.isVisible=!1,this._cMapsUrl=typeof j<"u"?`https://unpkg.com/pdfjs-dist@${N.version}/cmaps/`:null,this._imageResourcesPath=typeof j<"u"?`https://unpkg.com/pdfjs-dist@${N.version}/web/images/`:null,this._renderText=!0,this._renderTextMode=i.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new M.x,this.afterLoadComplete=new n.vpe,this.pageRendered=new n.vpe,this.pageInitialized=new n.vpe,this.textLayerRendered=new n.vpe,this.onError=new n.vpe,this.onProgress=new n.vpe,this.pageChange=new n.vpe(!0),t())return;let _;const w=N.version;_=window[`pdfWorkerSrc${w}`]||(window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${w}/legacy/build/pdf.worker.min.js`),v(N.GlobalWorkerOptions,"workerSrc",_)}set cMapsUrl(c){this._cMapsUrl=c}set page(c){const l=c=parseInt(c,10)||1;this._pdf&&(c=this.getValidPageNumber(c)),this._page=c,l!==c&&this.pageChange.emit(c)}set renderText(c){this._renderText=c}set renderTextMode(c){this._renderTextMode=c}set originalSize(c){this._originalSize=c}set showAll(c){this._showAll=c}set stickToPage(c){this._stickToPage=c}set zoom(c){c<=0||(this._zoom=c)}get zoom(){return this._zoom}set zoomScale(c){this._zoomScale=c}get zoomScale(){return this._zoomScale}set rotation(c){"number"==typeof c&&c%90==0?this._rotation=c:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(c){this._externalLinkTarget=c}set autoresize(c){this._canAutoResize=Boolean(c)}set fitToPage(c){this._fitToPage=Boolean(c)}set showBorders(c){this._showBorders=Boolean(c)}static getLinkTarget(c){switch(c){case"blank":return g.LinkTarget.BLANK;case"none":return g.LinkTarget.NONE;case"self":return g.LinkTarget.SELF;case"parent":return g.LinkTarget.PARENT;case"top":return g.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const c=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=c?!1===this.isVisible&&null!=c&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(c){if(!t()&&this.isVisible)if("src"in c)this.loadPDF();else if(this._pdf){if("renderText"in c?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:i.DISABLED,this.resetPdfDocument()):"showAll"in c&&(this.setupViewer(),this.resetPdfDocument()),"page"in c){const{page:l}=c;if(l.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){(0,z.D)(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe((0,P.R)(this.destroy$)).subscribe({next:c=>{const l=this._rotation+c.rotate,_=c.getViewport({scale:this._zoom,rotation:l}).width*u.CSS_UNITS;let w=this._zoom,D=!0;if(!this._originalSize||this._fitToPage&&_>this.pdfViewerContainer.nativeElement.clientWidth){const W=c.getViewport({scale:1,rotation:l});w=this.getScale(W.width,W.height),D=!this._stickToPage}this.pdfViewer._setScale(w,D)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=null,this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null,null),this.pdfFindController.setDocument(null))}getPDFLinkServiceConfig(){const c=u.getLinkTarget(this._externalLinkTarget);return c?{externalLinkTarget:c}:{}}initEventBus(){this.eventBus=function x(u,A){const c=new u.EventBus;return function b(u,A){(0,T.R)(u,"documentload").pipe((0,P.R)(A)).subscribe(()=>{const c=document.createEvent("CustomEvent");c.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(c)}),(0,T.R)(u,"pagerendered").pipe((0,P.R)(A)).subscribe(({pageNumber:c,cssTransform:l,source:_})=>{const w=document.createEvent("CustomEvent");w.initCustomEvent("pagerendered",!0,!0,{pageNumber:c,cssTransform:l}),_.div.dispatchEvent(w)}),(0,T.R)(u,"textlayerrendered").pipe((0,P.R)(A)).subscribe(({pageNumber:c,source:l})=>{const _=document.createEvent("CustomEvent");_.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:c}),l.textLayerDiv.dispatchEvent(_)}),(0,T.R)(u,"pagechanging").pipe((0,P.R)(A)).subscribe(({pageNumber:c,source:l})=>{const _=document.createEvent("UIEvents");_.initEvent("pagechanging",!0,!0),_.pageNumber=c,l.container.dispatchEvent(_)}),(0,T.R)(u,"pagesinit").pipe((0,P.R)(A)).subscribe(({source:c})=>{const l=document.createEvent("CustomEvent");l.initCustomEvent("pagesinit",!0,!0,null),c.container.dispatchEvent(l)}),(0,T.R)(u,"pagesloaded").pipe((0,P.R)(A)).subscribe(({pagesCount:c,source:l})=>{const _=document.createEvent("CustomEvent");_.initCustomEvent("pagesloaded",!0,!0,{pagesCount:c}),l.container.dispatchEvent(_)}),(0,T.R)(u,"scalechange").pipe((0,P.R)(A)).subscribe(({scale:c,presetValue:l,source:_})=>{const w=document.createEvent("UIEvents");w.initEvent("scalechange",!0,!0),w.scale=c,w.presetValue=l,_.container.dispatchEvent(w)}),(0,T.R)(u,"updateviewarea").pipe((0,P.R)(A)).subscribe(({location:c,source:l})=>{const _=document.createEvent("UIEvents");_.initEvent("updateviewarea",!0,!0),_.location=c,l.container.dispatchEvent(_)}),(0,T.R)(u,"find").pipe((0,P.R)(A)).subscribe(({source:c,type:l,query:_,phraseSearch:w,caseSensitive:D,highlightAll:W,findPrevious:K})=>{if(c===window)return;const J=document.createEvent("CustomEvent");J.initCustomEvent("find"+l,!0,!0,{query:_,phraseSearch:w,caseSensitive:D,highlightAll:W,findPrevious:K}),window.dispatchEvent(J)}),(0,T.R)(u,"attachmentsloaded").pipe((0,P.R)(A)).subscribe(({attachmentsCount:c,source:l})=>{const _=document.createEvent("CustomEvent");_.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:c}),l.container.dispatchEvent(_)}),(0,T.R)(u,"sidebarviewchanged").pipe((0,P.R)(A)).subscribe(({view:c,source:l})=>{const _=document.createEvent("CustomEvent");_.initCustomEvent("sidebarviewchanged",!0,!0,{view:c}),l.outerContainer.dispatchEvent(_)}),(0,T.R)(u,"pagemode").pipe((0,P.R)(A)).subscribe(({mode:c,source:l})=>{const _=document.createEvent("CustomEvent");_.initCustomEvent("pagemode",!0,!0,{mode:c}),l.pdfViewer.container.dispatchEvent(_)}),(0,T.R)(u,"namedaction").pipe((0,P.R)(A)).subscribe(({action:c,source:l})=>{const _=document.createEvent("CustomEvent");_.initCustomEvent("namedaction",!0,!0,{action:c}),l.pdfViewer.container.dispatchEvent(_)}),(0,T.R)(u,"presentationmodechanged").pipe((0,P.R)(A)).subscribe(({active:c,switchInProgress:l})=>{const _=document.createEvent("CustomEvent");_.initCustomEvent("presentationmodechanged",!0,!0,{active:c,switchInProgress:l}),window.dispatchEvent(_)}),(0,T.R)(u,"outlineloaded").pipe((0,P.R)(A)).subscribe(({outlineCount:c,source:l})=>{const _=document.createEvent("CustomEvent");_.initCustomEvent("outlineloaded",!0,!0,{outlineCount:c}),l.container.dispatchEvent(_)})}(c,A),c}(E,this.destroy$),(0,T.R)(this.eventBus,"pagerendered").pipe((0,P.R)(this.destroy$)).subscribe(c=>{this.pageRendered.emit(c)}),(0,T.R)(this.eventBus,"pagesinit").pipe((0,P.R)(this.destroy$)).subscribe(c=>{this.pageInitialized.emit(c)}),(0,T.R)(this.eventBus,"pagechanging").pipe((0,P.R)(this.destroy$)).subscribe(({pageNumber:c})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=c,this.pageChange.emit(c)},100)}),(0,T.R)(this.eventBus,"textlayerrendered").pipe((0,P.R)(this.destroy$)).subscribe(c=>{this.textLayerRendered.emit(c)})}initPDFServices(){this.pdfLinkService=new g.PDFLinkService({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new g.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:i.DISABLED,findController:this.pdfFindController,renderer:"canvas",l10n:void 0,imageResourcesPath:this._imageResourcesPath}}setupViewer(){v(j,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new g.PDFViewer(this.getPDFOptions()):new g.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(c){return c<1?1:c>this._pdf.numPages?this._pdf.numPages:c}getDocumentParams(){const c=typeof this.src;if(!this._cMapsUrl)return this.src;const l={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return"string"===c?l.url=this.src:"object"===c&&(void 0!==this.src.byteLength?l.data=this.src:Object.assign(l,this.src)),l}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=N.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=l=>{this.onProgress.emit(l)};const c=this.src;(0,z.D)(this.loadingTask.promise).pipe((0,P.R)(this.destroy$)).subscribe({next:l=>{this._pdf=l,this.lastLoaded=c,this.afterLoadComplete.emit(l),this.resetPdfDocument(),this.update()},error:l=>{this.lastLoaded=null,this.onError.emit(l)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(c,l){const _=this._showBorders?2*u.BORDER_WIDTH:0,w=this.pdfViewerContainer.nativeElement.clientWidth-_,D=this.pdfViewerContainer.nativeElement.clientHeight-_;if(0===D||0===l||0===w||0===c)return 1;let W=1;switch(this._zoomScale){case"page-fit":W=Math.min(D/l,w/c);break;case"page-height":W=D/l;break;default:W=w/c}return this._zoom*W/u.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){t()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){t()||this.ngZone.runOutsideAngular(()=>{(0,T.R)(window,"resize").pipe(function U(u,A=L.z){return(0,y.e)((c,l)=>{let _=null,w=null,D=null;const W=()=>{if(_){_.unsubscribe(),_=null;const J=w;w=null,l.next(J)}};function K(){const J=D+u,te=A.now();if(te<J)return _=this.schedule(void 0,J-te),void l.add(_);W()}c.subscribe((0,I.x)(l,J=>{w=J,D=A.now(),_||(_=A.schedule(K,u),l.add(_))},()=>{W(),l.complete()},void 0,()=>{w=_=null}))})}(100),(0,H.h)(()=>this._canAutoResize&&!!this._pdf),(0,P.R)(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return u.CSS_UNITS=96/72,u.BORDER_WIDTH=9,u.\u0275fac=function(c){return new(c||u)(n.Y36(n.SBq),n.Y36(n.R0b))},u.\u0275cmp=n.Xpm({type:u,selectors:[["pdf-viewer"]],viewQuery:function(c,l){if(1&c&&n.Gf(m,5),2&c){let _;n.iGM(_=n.CRH())&&(l.pdfViewerContainer=_.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[n.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(c,l){1&c&&(n.TgZ(0,"div",0,1),n._UZ(2,"div",2),n.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=);--viewer-container-height: 0;--annotation-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--xfa-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),u})(),S=(()=>{class u{}return u.\u0275fac=function(c){return new(c||u)},u.\u0275mod=n.oAB({type:u}),u.\u0275inj=n.cJS({}),u})()}}]);