"use strict";(self.webpackChunke_migrate=self.webpackChunke_migrate||[]).push([[5609],{5609:(K,y,a)=>{a.r(y),a.d(y,{ConsulateModule:()=>R});var v=a(6895),b=a(3599),p=a(2976),u=a(1358),e=a(1571),s=a(4006);let x=(()=>{var n;class r{constructor(o){this.fb=o}createConsulateDehailsForm(o,t,l){return this.fb.group({countryCode:this.fb.control({value:null,disabled:t},s.kI.compose([s.kI.required])),selectConsulateName:this.fb.control({value:null,disabled:l},s.kI.compose([s.kI.required])),address:this.fb.control({value:o?.address,disabled:t},s.kI.compose([s.kI.required,u.YO.addressValidator()])),landline:this.fb.control({value:o?.landline,disabled:t},s.kI.compose([s.kI.required,u.YO.phoneNumberValidator()])),websiteUrl:this.fb.control({value:o?.websiteUrl,disabled:t},s.kI.compose([u.YO.websiteUrlValidator()])),name:this.fb.control({value:null,disabled:!l},s.kI.compose([s.kI.required])),poBox:this.fb.control({value:o?.poBox,disabled:t},s.kI.compose([s.kI.required,u.YO.alphaNumericValidator()])),faxNo:this.fb.control({value:o?.faxNo,disabled:t},s.kI.compose([s.kI.required,u.YO.phoneNumberValidator()])),email:this.fb.control({value:o?.email,disabled:t},s.kI.compose([s.kI.required,u.YO.emailValidator()]))})}ConsulateDehailsApiPayload(o,t){const l=o.getRawValue();return(new p.lPD).deserialize({id:t.id,createdBy:t.createdBy,createdDate:t.createdDate,updatedBy:t.updatedBy,updatedDate:new Date,webSiteUrl:l.websiteUrl,flag:t.flag,selectConsulateName:l.selectConsulateName,address:l.address,landline:l.landline,websiteUrl:l.websiteUrl,name:l.name,countryCode:l.countryCode,poBox:l.poBox,faxNo:l.faxNo,email:l.email})}}return(n=r).\u0275fac=function(o){return new(o||n)(e.LFG(s.qu))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),r})();var d,S=a(1754),A=a(4325),F=a(805),c=a(655),h=a(8513),C=a(8505),f=a(262);class m{constructor(r){this.consulateDetailsService=r}consulateDetailsData(r){return this.consulateDetailsService.saveConsulateDetails(r).pipe((0,C.b)(i=>{}),(0,f.K)(i=>{throw i}))}consulateName(r){return this.consulateDetailsService.getConsulateName(r).pipe((0,C.b)(i=>{}),(0,f.K)(i=>{throw i}))}consulateDetails(r,i){return this.consulateDetailsService.getConsulateDetails(r,i).pipe((0,C.b)(o=>{}),(0,f.K)(o=>{throw o}))}updateConsulateDetails(r){return this.consulateDetailsService.updateConsDetails(r).pipe((0,C.b)(i=>{}),(0,f.K)(i=>{throw i}))}deleteConsulateDetails(r){return this.consulateDetailsService.deleteConsDetails(r).pipe((0,C.b)(i=>{}),(0,f.K)(i=>{throw i}))}}(d=m).\u0275fac=function(r){return new(r||d)(e.LFG(p.Otm))},d.\u0275prov=e.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),(0,c.gn)([(0,h.PS)()],m.prototype,"consulateDetailsData",null),(0,c.gn)([(0,h.PS)()],m.prototype,"consulateName",null),(0,c.gn)([(0,h.PS)()],m.prototype,"consulateDetails",null),(0,c.gn)([(0,h.PS)()],m.prototype,"updateConsulateDetails",null),(0,c.gn)([(0,h.PS)()],m.prototype,"deleteConsulateDetails",null);var Z=a(6945),T=a(5593),w=a(2210),I=a(1740),N=a(2453),k=a(2137);function E(n,r){if(1&n){const i=e.EpF();e.TgZ(0,"div",9)(1,"div",10)(2,"emigrate-sh-html-input",33)(3,"p-dropdown",34),e.NdJ("onChange",function(t){e.CHM(i);const l=e.oxw();return e.KtG(l.getConsulateDetails(t))}),e.qZA()()()()}if(2&n){const i=e.oxw();e.xp6(2),e.Q6J("inputFormControl",i.entityFormGroup.controls.selectConsulateName),e.xp6(1),e.Q6J("formControl",i.entityFormGroup.controls.selectConsulateName)("options",i.consulateName)}}function J(n,r){if(1&n&&(e.TgZ(0,"div",9)(1,"div",10)(2,"emigrate-sh-html-input",35),e._UZ(3,"input",36),e.qZA()()()),2&n){const i=e.oxw();e.xp6(2),e.Q6J("inputRequired",!1)("inputFormControl",i.entityFormGroup.controls.name),e.xp6(1),e.Q6J("formControl",i.entityFormGroup.controls.name)}}function G(n,r){if(1&n){const i=e.EpF();e.TgZ(0,"p-button",37),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.showDialog("Add"))}),e.qZA()}}function U(n,r){if(1&n){const i=e.EpF();e.TgZ(0,"p-button",38),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.showDialog("Edit"))}),e.qZA()}}function Q(n,r){if(1&n){const i=e.EpF();e.TgZ(0,"p-button",39),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.showDialog("Delete"))}),e.qZA()}}const L=function(){return{width:"40vw"}};let g=(()=>{var n;class r extends u.H6{constructor(o,t,l,D,_,O,P,H,V,z){super(z),this.fb=o,this.formHelper=t,this.routeQuery=l,this.dialogService=D,this.confirmService=_,this.activatedRoute=O,this.router=P,this.ConsulateFormService=H,this.uiService=V,this.required=!0,this.addDetails=!1,this.consulateName=[]}ngOnInit(){this.operation=this.routeQuery.getData().mode,"ADD"===this.operation?(this.mainheaderLabel="Add Consulate Details",this.confirmMessage="Are you sure you want to Add Consulate Details?",this.addDetails=!0):"EDIT"===this.operation?(this.mainheaderLabel=" Update Consulate Details",this.confirmMessage="Are you sure you want to Update Consulate Details?",this.addDetails=!1):"DELETE"===this.operation?(this.mainheaderLabel="Delete Consulate Details",this.confirmMessage="Are you sure you want to Delete Consulate Details?",this.addDetails=!1):this.mainheaderLabel="",this.entityFormGroup=this.formHelper.createConsulateDehailsForm({},!1,this.addDetails),this.getAllDropdownValues(),this.showSuccessStatus=!1}getAllDropdownValues(){this.countries=this.routeQuery.getData()[0][p.Yo_.COUNTRY]}showDialog(o){this.confirmService.confirm({message:this.confirmMessage,header:this.mainheaderLabel,accept:()=>{"Add"==o?this.addConsulateDetails():"Edit"==o?this.updateConsulateDetails():"Delete"==o&&this.deleteConsulateDetails()},reject:()=>{}})}clear(){this.entityFormGroup.reset()}cancel(){this.router.navigate(["admin/dashboard"])}addConsulateDetails(){if(this.entityFormGroup.markAllAsTouched(),this.entityFormGroup.valid){const o=Object.assign(new p.lPD,this.formHelper.ConsulateDehailsApiPayload(this.entityFormGroup,{}));this.ConsulateFormService.consulateDetailsData(o).subscribe({next:t=>{this.showSuccessToast(t.message),setTimeout(()=>{this.router.navigate(["admin/administration/user/success","ADD-CONSULATE"])},1300),this.uiService.hideSpinner()},error:t=>{this.showErrorToast(t.error.message),this.uiService.hideSpinner()},complete:()=>{this.uiService.hideSpinner()}})}else this.showErrorToast("Please fill all required fields.")}getConsulateName(o){this.ConsulateFormService.consulateName(o.value).subscribe({next:t=>{this.consulateName=t,this.uiService.hideSpinner()},error:t=>{this.showErrorToast(t.error.message),this.uiService.hideSpinner()},complete:()=>{this.uiService.hideSpinner()}})}getConsulateDetails(o){this.ConsulateFormService.consulateDetails(o.value,this.entityFormGroup.value).subscribe({next:t=>{this.consulateDetails=t.data,this.entityFormGroup.patchValue({address:this.consulateDetails?.address,poBox:this.consulateDetails?.poBox,landline:this.consulateDetails?.landline,faxNo:this.consulateDetails?.faxNo,websiteUrl:this.consulateDetails?.webSiteUrl,email:this.consulateDetails?.email}),this.uiService.hideSpinner()},error:t=>{this.showErrorToast(t.error.message),this.uiService.hideSpinner()},complete:()=>{this.uiService.hideSpinner()}})}updateConsulateDetails(){if(this.entityFormGroup.markAllAsTouched(),this.entityFormGroup.valid){const o=Object.assign(new p.lPD,this.formHelper.ConsulateDehailsApiPayload(this.entityFormGroup,this.consulateDetails));this.ConsulateFormService.updateConsulateDetails(o).subscribe({next:t=>{this.showSuccessToast(t.message),setTimeout(()=>{this.router.navigate(["admin/administration/user/success","EDIT-CONSULATE"])},1300),this.uiService.hideSpinner()},error:t=>{this.showErrorToast(t.error.message),this.uiService.hideSpinner()},complete:()=>{this.uiService.hideSpinner()}})}else this.showErrorToast("Please fill all required fields.")}deleteConsulateDetails(){this.entityFormGroup.markAllAsTouched(),this.entityFormGroup.valid?this.ConsulateFormService.deleteConsulateDetails(this.consulateDetails).subscribe({next:o=>{this.showSuccessToast(o.message),setTimeout(()=>{this.router.navigate(["admin/administration/user/success","DELETE-CONSULATE"])},1300),this.uiService.hideSpinner()},error:o=>{this.showErrorToast(o.error.message),this.uiService.hideSpinner()},complete:()=>{this.uiService.hideSpinner()}}):this.showErrorToast("Please fill all required fields.")}}return(n=r).\u0275fac=function(o){return new(o||n)(e.Y36(s.qu),e.Y36(x),e.Y36(S.dt),e.Y36(A.xA),e.Y36(F.YP),e.Y36(b.gz),e.Y36(b.F0),e.Y36(m),e.Y36(Z.n),e.Y36(F.ez))},n.\u0275cmp=e.Xpm({type:n,selectors:[["emigrate-consulate"]],features:[e.qOj],decls:55,vars:30,consts:[[1,"middle_section"],[1,"container"],[1,"row"],[3,"pageTitle"],[1,"content"],[3,"instructionsText","toolTipText"],[1,"mb-0"],[1,"border","p-3"],[1,"form"],[1,"col-md-4","col-sm-6"],[1,"field"],["inputLabel","Country","inputId","country",1,"block",3,"inputFormControl"],["id","country","placeholder","Select Country",3,"formControl","options","onChange"],["class","col-md-4 col-sm-6",4,"ngIf"],["inputLabel","Address","inputId","address",1,"block",3,"inputRequired","inputFormControl"],["id","address","type","text","pInputText","","maxlength","200",3,"formControl"],["inputLabel","P.O. Box","inputId","pobox",1,"block",3,"inputRequired","inputFormControl"],["id","pobox","type","text","pInputText","","maxlength","8",3,"formControl"],["inputLabel","Landline Number","inputId","landline",1,"block",3,"inputRequired","inputFormControl"],["id","landline","type","text","pInputText","","maxlength","15",3,"formControl"],["inputLabel","FAX No","inputId","faxno",1,"block",3,"inputFormControl"],["id","faxno","type","text","pInputText","","maxlength","15",3,"formControl"],["inputLabel","Website Url","inputId","websiteurl",1,"block",3,"inputFormControl"],["id","websiteurl","type","text","pInputText","","maxlength","50",3,"formControl"],["inputLabel","Email","inputId","email",1,"block",3,"inputRequired","inputFormControl"],["id","email","type","text","pInputText","","maxlength","50",3,"formControl"],[1,"col-12"],[1,"buttons","mb-3"],["type","submit","label","Add","class","btn-format btn-blue mr-2","styleClass","btn-format btn-blue mr-2",3,"click",4,"ngIf"],["type","submit","label","Update","class","btn-format btn-blue mr-2","styleClass","btn-format btn-blue mr-2",3,"click",4,"ngIf"],["type","submit","label","Delete","class","btn-format btn-blue mr-2","styleClass","btn-format btn-blue mr-2",3,"click",4,"ngIf"],["pButton","","type","submit","label","Clear",1,"btn-format","btn-blue","mr-2",3,"click"],["pButton","","type","button","label","Cancel",1,"p-button-secondary","mr-2","btn-format",3,"click"],["inputLabel","Consulate Name","inputId","consulatename",1,"block",3,"inputFormControl"],["id","consulatename","optionLabel","name","optionValue","id","placeholder","Select consulate Name",3,"formControl","options","onChange"],["inputLabel","Consulate Name","inputId","consulateName",1,"block",3,"inputRequired","inputFormControl"],["id","consulateName","type","text","pInputText","","maxlength","50",3,"formControl"],["type","submit","label","Add","styleClass","btn-format btn-blue mr-2",1,"btn-format","btn-blue","mr-2",3,"click"],["type","submit","label","Update","styleClass","btn-format btn-blue mr-2",1,"btn-format","btn-blue","mr-2",3,"click"],["type","submit","label","Delete","styleClass","btn-format btn-blue mr-2",1,"btn-format","btn-blue","mr-2",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"p-toast"),e.TgZ(2,"div",1)(3,"div",2),e._UZ(4,"emigrate-sh-page-title",3),e.qZA(),e.TgZ(5,"div",4),e._UZ(6,"emigrate-sh-page-instructions",5),e.TgZ(7,"h4",6),e._uU(8,"Search Criteria"),e.qZA(),e.TgZ(9,"div",7),e.ynx(10),e.TgZ(11,"div",8)(12,"form")(13,"div",2)(14,"div",9)(15,"div",10)(16,"emigrate-sh-html-input",11)(17,"p-dropdown",12),e.NdJ("onChange",function(D){return t.getConsulateName(D)}),e.qZA()()()(),e.YNc(18,E,4,3,"div",13),e.YNc(19,J,4,3,"div",13),e.TgZ(20,"div",9)(21,"div",10)(22,"emigrate-sh-html-input",14),e._UZ(23,"input",15),e.qZA()()(),e.TgZ(24,"div",9)(25,"div",10)(26,"emigrate-sh-html-input",16),e._UZ(27,"input",17),e.qZA()()(),e.TgZ(28,"div",9)(29,"div",10)(30,"emigrate-sh-html-input",18),e._UZ(31,"input",19),e.qZA()()(),e.TgZ(32,"div",9)(33,"div",10)(34,"emigrate-sh-html-input",20),e._UZ(35,"input",21),e.qZA()()(),e.TgZ(36,"div",9)(37,"div",10)(38,"emigrate-sh-html-input",22),e._UZ(39,"input",23),e.qZA()()(),e.TgZ(40,"div",9)(41,"div",10)(42,"emigrate-sh-html-input",24),e._UZ(43,"input",25),e.qZA()()()(),e._UZ(44,"div",2)(45,"div",2),e.qZA(),e.TgZ(46,"div",2)(47,"div",26)(48,"div",27),e.YNc(49,G,1,0,"p-button",28),e.YNc(50,U,1,0,"p-button",29),e.YNc(51,Q,1,0,"p-button",30),e.TgZ(52,"button",31),e.NdJ("click",function(){return t.clear()}),e.qZA(),e.TgZ(53,"button",32),e.NdJ("click",function(){return t.cancel()}),e.qZA()()()()(),e.BQk(),e.qZA()()()(),e._UZ(54,"p-confirmDialog")),2&o&&(e.xp6(4),e.Q6J("pageTitle",t.mainheaderLabel),e.xp6(2),e.Q6J("instructionsText","1. Fields marked with * (asterisk) are mandatory. \n                         2. Please do not press F5 or back button.")("toolTipText","1. Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions."),e.xp6(10),e.Q6J("inputFormControl",t.entityFormGroup.controls.countryCode),e.xp6(1),e.Q6J("formControl",t.entityFormGroup.controls.countryCode)("options",t.countries),e.xp6(1),e.Q6J("ngIf",!t.addDetails),e.xp6(1),e.Q6J("ngIf",t.addDetails),e.xp6(3),e.Q6J("inputRequired",!1)("inputFormControl",t.entityFormGroup.controls.address),e.xp6(1),e.Q6J("formControl",t.entityFormGroup.controls.address),e.xp6(3),e.Q6J("inputRequired",!1)("inputFormControl",t.entityFormGroup.controls.poBox),e.xp6(1),e.Q6J("formControl",t.entityFormGroup.controls.poBox),e.xp6(3),e.Q6J("inputRequired",!1)("inputFormControl",t.entityFormGroup.controls.landline),e.xp6(1),e.Q6J("formControl",t.entityFormGroup.controls.landline),e.xp6(3),e.Q6J("inputFormControl",t.entityFormGroup.controls.faxNo),e.xp6(1),e.Q6J("formControl",t.entityFormGroup.controls.faxNo),e.xp6(3),e.Q6J("inputFormControl",t.entityFormGroup.controls.websiteUrl),e.xp6(1),e.Q6J("formControl",t.entityFormGroup.controls.websiteUrl),e.xp6(3),e.Q6J("inputRequired",!1)("inputFormControl",t.entityFormGroup.controls.email),e.xp6(1),e.Q6J("formControl",t.entityFormGroup.controls.email),e.xp6(6),e.Q6J("ngIf","ADD"===t.operation),e.xp6(1),e.Q6J("ngIf","EDIT"===t.operation),e.xp6(1),e.Q6J("ngIf","DELETE"===t.operation),e.xp6(3),e.Akn(e.DdM(29,L)))},dependencies:[v.O5,s._Y,s.Fj,s.JJ,s.JL,s.nD,s.oH,T.Hq,T.zx,w.Lt,I.o,N.FN,s.F,k.Q,u.KR,u.TM,u.dB]}),r})();const Y=[{path:"add",pathMatch:"full",component:g,data:{mode:"ADD"},resolve:[p.fEw]},{path:"edit",pathMatch:"full",component:g,data:{mode:"EDIT"},resolve:[p.fEw]},{path:"delete",pathMatch:"full",component:g,data:{mode:"DELETE"},resolve:[p.fEw]}];let q=(()=>{var n;class r{}return(n=r).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[b.Bz.forChild(Y),b.Bz]}),r})();var B=a(6270),M=a(6388);let R=(()=>{var n;class r{}return(n=r).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[v.ez,s.UX,q,B.g,u.uR,v.ez,s.u5,M.EmigrateCommonModule]}),r})()}}]);