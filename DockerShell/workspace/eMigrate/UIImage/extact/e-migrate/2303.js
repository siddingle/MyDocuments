"use strict";(self.webpackChunke_migrate=self.webpackChunke_migrate||[]).push([[2303],{2303:(te,N,u)=>{u.r(N),u.d(N,{AdministrationModule:()=>bt});var m=u(6895),w=u(6270),h=u(3599),e=u(1571);let C=(()=>{var r;class n{}return(r=n).\u0275fac=function(o){return new(o||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-batch-administration"]],decls:2,vars:0,template:function(o,t){1&o&&(e.TgZ(0,"p"),e._uU(1,"batch-administration works!"),e.qZA())}}),n})(),Z=(()=>{var r;class n{}return(r=n).\u0275fac=function(o){return new(o||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-payment-reconciliation"]],decls:2,vars:0,template:function(o,t){1&o&&(e.TgZ(0,"p"),e._uU(1,"payment-reconciliation works!"),e.qZA())}}),n})();var P=u(5593),_=u(1740),i=u(4006);let l=(()=>{var r;class n{}return(r=n).\u0275fac=function(o){return new(o||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-service-levels"]],decls:46,vars:0,consts:[[1,"content"],[1,"mb-0"],[1,"border","p-3"],[1,"form"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","4",1,"block"],["id","4","type","username","aria-describedby","username1-help","pInputText",""],[1,"buttons","mt-3"],["pButton","","type","button","label","Cancel",1,"btn-blue","mr-2","btn-format"],["pButton","","type","button","label","Clear",1,"btn-format","btn-blue","mr-2"],["pButton","","type","button","label"," Save ",1,"btn-format","btn-blue"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"Add Employee PAC"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"form")(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),e._uU(10,"1. Service Level PGoE Executive "),e.TgZ(11,"span"),e._uU(12,"*"),e.qZA()(),e._UZ(13,"input",8),e.qZA()(),e.TgZ(14,"div",5)(15,"div",6)(16,"label",7),e._uU(17,"2. Service Level PGoE Officer "),e.TgZ(18,"span"),e._uU(19,"*"),e.qZA()(),e._UZ(20,"input",8),e.qZA()(),e.TgZ(21,"div",5)(22,"div",6)(23,"label",7),e._uU(24,"3. Service Level PGoE "),e.TgZ(25,"span"),e._uU(26,"*"),e.qZA()(),e._UZ(27,"input",8),e.qZA()(),e.TgZ(28,"div",5)(29,"div",6)(30,"label",7),e._uU(31,"4. Service Level Embassy / Consulate Officer "),e.TgZ(32,"span"),e._uU(33,"*"),e.qZA()(),e._UZ(34,"input",8),e.qZA()(),e.TgZ(35,"div",5)(36,"div",6)(37,"label",7),e._uU(38,"5. Service Level Embassy / Consulate Executive "),e.TgZ(39,"span"),e._uU(40,"*"),e.qZA()(),e._UZ(41,"input",8),e.qZA()()()()()(),e.TgZ(42,"div",9),e._UZ(43,"button",10)(44,"button",11)(45,"button",12),e.qZA()())},dependencies:[P.Hq,_.o,i._Y,i.JL,i.F]}),n})();var c=u(1358),d=u(2976),k=u(6945),b=u(805),pe=u(8725),me=u(5518),y=u(2453),Q=u(2210),oe=u(6625);function he(r,n){if(1&r&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&r){const s=n.$implicit;e.xp6(1),e.hij(" ",s.label," ")}}const se=function(){return{height:"20rem"}};let fe=(()=>{var r;class n{constructor(){this.moveToTarget=new e.vpe,this.moveToSource=new e.vpe,this.moveAllToTarget=new e.vpe,this.moveAllToSource=new e.vpe,this.saveForm=new e.vpe,this.clearForm=new e.vpe,this.closeForm=new e.vpe}onMoveToTarget(o){this.moveToTarget.emit(o)}onMoveToSource(o){this.moveToSource.emit(o)}onMoveAllToTarget(o){this.moveAllToTarget.emit(o)}onMoveAllToSource(o){this.moveAllToSource.emit(o)}saveFormData(){this.saveForm.emit()}clearFormData(){this.clearForm.emit()}redirectToDashboard(){this.closeForm.emit()}}return(r=n).\u0275fac=function(o){return new(o||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-report-recipient-form"]],inputs:{title:"title",reportRecipientFormGroup:"reportRecipientFormGroup",recipients:"recipients",selectedRecipients:"selectedRecipients",frequencyList:"frequencyList",reportList:"reportList"},outputs:{moveToTarget:"moveToTarget",moveToSource:"moveToSource",moveAllToTarget:"moveAllToTarget",moveAllToSource:"moveAllToSource",saveForm:"saveForm",clearForm:"clearForm",closeForm:"closeForm"},decls:25,vars:21,consts:[[1,"clearfix"],[1,"form"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","report","inputLabel","1. Report","inputId","report",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","report","placeholder","Select Report","EmigrateShDropdown","",1,"w-100",3,"options","formControl"],["for","frequency","inputLabel","2. Frequency","inputId","frequency",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","passportType","placeholder","Select Frequency","EmigrateShDropdown","",1,"w-100",3,"options","formControl"],[1,"row","mt-2"],[1,"col-md-12","col-sm-12"],["sourceHeader","Available Recipient List","targetHeader","Assigned Recipient List","filterBy","label","sourceFilterPlaceholder","Search by Recipient","targetFilterPlaceholder","Search by Recipient","breakpoint","700px",3,"source","target","dragdrop","responsive","sourceStyle","targetStyle","showSourceControls","showTargetControls","onMoveToTarget","onMoveToSource","onMoveAllToTarget","onMoveAllToSource"],["pTemplate","item"],[1,"row","mt-2","mb-2"],[1,"col-md-12"],[1,"buttons"],["pButton","","type","submit","label","Save",1,"btn-format","btn-blue","mr-2",3,"click"],["pButton","","type","button","label","Clear",1,"btn-blue","btn-format","mr-2",3,"click"],["pButton","","type","button","label","Cancel",1,"btn-format","btn-blue",3,"click"]],template:function(o,t){1&o&&(e._UZ(0,"div",0),e.TgZ(1,"div",1)(2,"h4"),e._uU(3),e.qZA(),e.TgZ(4,"form")(5,"div",2)(6,"div",3)(7,"div",4)(8,"emigrate-sh-html-input",5),e._UZ(9,"p-dropdown",6),e.qZA()()(),e.TgZ(10,"div",3)(11,"div",4)(12,"emigrate-sh-html-input",7),e._UZ(13,"p-dropdown",8),e.qZA()()()(),e.TgZ(14,"div",9)(15,"div",10)(16,"div",4)(17,"p-pickList",11),e.NdJ("onMoveToTarget",function(p){return t.onMoveToTarget(p)})("onMoveToSource",function(p){return t.onMoveToSource(p)})("onMoveAllToTarget",function(p){return t.onMoveAllToTarget(p)})("onMoveAllToSource",function(p){return t.onMoveAllToSource(p)}),e.YNc(18,he,2,1,"ng-template",12),e.qZA()()()(),e.TgZ(19,"div",13)(20,"div",14)(21,"div",15)(22,"button",16),e.NdJ("click",function(){return t.saveFormData()}),e.qZA(),e.TgZ(23,"button",17),e.NdJ("click",function(){return t.clearFormData()}),e.qZA(),e.TgZ(24,"button",18),e.NdJ("click",function(){return t.redirectToDashboard()}),e.qZA()()()()()()),2&o&&(e.xp6(3),e.Oqu(t.title),e.xp6(5),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.reportRecipientFormGroup.controls.report),e.xp6(1),e.Q6J("options",t.reportList)("formControl",t.reportRecipientFormGroup.controls.report),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.reportRecipientFormGroup.controls.frequency),e.xp6(1),e.Q6J("options",t.frequencyList)("formControl",t.reportRecipientFormGroup.controls.frequency),e.xp6(4),e.Q6J("source",t.recipients)("target",t.selectedRecipients)("dragdrop",!0)("responsive",!0)("sourceStyle",e.DdM(19,se))("targetStyle",e.DdM(20,se))("showSourceControls",!1)("showTargetControls",!1))},dependencies:[c.KR,c.lC,b.jx,P.Hq,Q.Lt,i._Y,i.JJ,i.JL,i.F,oe.G,i.oH]}),n})();function ge(r,n){if(1&r&&(e.TgZ(0,"div",5),e._UZ(1,"emigrate-sh-page-instructions",6),e.qZA()),2&r){const s=e.oxw();e.xp6(1),e.Q6J("instructionsText",s.pageInstructionText)("toolTipText",s.pageInstructionHelpText)}}function ve(r,n){if(1&r){const s=e.EpF();e.TgZ(0,"emigrate-report-recipient-form",7),e.NdJ("moveToTarget",function(t){e.CHM(s);const a=e.oxw();return e.KtG(a.onMoveToTarget(t))})("moveToSource",function(t){e.CHM(s);const a=e.oxw();return e.KtG(a.onMoveToSource(t))})("moveAllToTarget",function(t){e.CHM(s);const a=e.oxw();return e.KtG(a.onMoveAllToTarget(t))})("moveAllToSource",function(t){e.CHM(s);const a=e.oxw();return e.KtG(a.onMoveAllToSource(t))})("saveForm",function(){e.CHM(s);const t=e.oxw();return e.KtG(t.saveFormData())})("clearForm",function(){e.CHM(s);const t=e.oxw();return e.KtG(t.clearFormData())})("closeForm",function(){e.CHM(s);const t=e.oxw();return e.KtG(t.redirectToDashboard())}),e.qZA()}if(2&r){const s=e.oxw();e.Q6J("title",s.title)("reportRecipientFormGroup",s.reportRecipientFormGroup)("recipients",s.recipients)("selectedRecipients",s.selectedRecipients)("frequencyList",s.frequencyList)("reportList",s.reportList)}}function Te(r,n){if(1&r){const s=e.EpF();e.TgZ(0,"emigrate-sh-status-confirmation",8),e.NdJ("close",function(){e.CHM(s);const t=e.oxw();return e.KtG(t.redirectToDashboard())}),e.qZA()}if(2&r){const s=e.oxw();e.Q6J("title",s.confirmationTitle)("confirmationMsgLine1",s.confirmationMsg)("confirmationMsgLine2","")("status","success")}}let be=(()=>{var r;class n extends c.H6{constructor(o,t,a,p,f){super(t),this.uiService=o,this.router=a,this.formHelper=p,this.userMgmntService=f,this.showSuccessPage=!1,this.selectedRecipientIds=[],this.pageInstructionText=d.Xef.PAGE_INSTRUCTION_TEXT,this.pageInstructionHelpText=d.Xef.PAGE_INSTRUCTION_HELP_TEXT,this.title="Configure System Parameters",this.confirmationTitle="Success Page",this.confirmationMsg="Report Recipient Parameters are assigned successfully to users !!!"}ngOnInit(){this.breadcrumb=[{label:"Dashboard",routerLink:["/admin"]},{label:"User Management",routerLink:["/admin"]},{label:"Maintain Report Recipient List"}],this.uiService.initPageSetup(this.breadcrumb,"Maintain Report Recipient List"),this.reportRecipientFormGroup=this.formHelper.createReportRecipientListForm(!1),this.selectedRecipients=[],this.recipients=[{label:"Recipient1",value:"1"},{label:"Recipient2",value:"2"},{label:"Recipient3",value:"3"},{label:"Recipient4",value:"4"},{label:"Recipient5",value:"5"},{label:"Recipient6",value:"6"},{label:"Recipient7",value:"7"},{label:"Recipient8",value:"8"}],this.recipientsBk=[...this.recipients]}onMoveToTarget(o){this.updateFormRecipient()}onMoveAllToTarget(o){this.updateFormRecipient()}onMoveToSource(o){this.updateFormRecipient()}onMoveAllToSource(o){this.updateFormRecipient()}updateFormRecipient(){this.selectedRecipientIds=[],this.selectedRecipientIds=this.selectedRecipients.map(t=>t.value);let o=this.reportRecipientFormGroup.getRawValue();o.recipient=this.selectedRecipientIds,this.reportRecipientFormGroup.patchValue({...o})}saveFormData(){let o=!1;this.showSuccessPage=!1,this.reportRecipientFormGroup.markAllAsTouched(),o=this.reportRecipientFormGroup.valid,this.selectedRecipients.length<1&&this.showErrorToast("Please assign recipient"),o&&(this.showSuccessPage=!0)}clearFormData(){this.reportRecipientFormGroup.reset(),this.selectedRecipientIds=[],this.selectedRecipients=[],this.recipients=this.recipientsBk}redirectToDashboard(){this.router.navigate(["/admin/dashboard"])}}return(r=n).\u0275fac=function(o){return new(o||r)(e.Y36(k.n),e.Y36(b.ez),e.Y36(h.F0),e.Y36(pe.j),e.Y36(me.L))},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-report-recipient-list"]],features:[e.qOj],decls:6,vars:3,consts:[[1,"container"],[1,"content","p-3","border","mt-2","mb-2"],["class","row",4,"ngIf"],[3,"title","reportRecipientFormGroup","recipients","selectedRecipients","frequencyList","reportList","moveToTarget","moveToSource","moveAllToTarget","moveAllToSource","saveForm","clearForm","closeForm",4,"ngIf"],[3,"title","confirmationMsgLine1","confirmationMsgLine2","status","close",4,"ngIf"],[1,"row"],[3,"instructionsText","toolTipText"],[3,"title","reportRecipientFormGroup","recipients","selectedRecipients","frequencyList","reportList","moveToTarget","moveToSource","moveAllToTarget","moveAllToSource","saveForm","clearForm","closeForm"],[3,"title","confirmationMsgLine1","confirmationMsgLine2","status","close"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"p-toast"),e.YNc(3,ge,2,2,"div",2),e.YNc(4,ve,1,6,"emigrate-report-recipient-form",3),e.YNc(5,Te,1,4,"emigrate-sh-status-confirmation",4),e.qZA()()),2&o&&(e.xp6(3),e.Q6J("ngIf",!t.showSuccessPage),e.xp6(1),e.Q6J("ngIf",!t.showSuccessPage),e.xp6(1),e.Q6J("ngIf",t.showSuccessPage))},dependencies:[m.O5,c.dB,c.r2,y.FN,fe]}),n})(),_e=(()=>{var r;class n{}return(r=n).\u0275fac=function(o){return new(o||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-validity-parameters"]],decls:2,vars:0,template:function(o,t){1&o&&(e.TgZ(0,"p"),e._uU(1,"validity-parameters works!"),e.qZA())}}),n})(),Pe=(()=>{var r;class n{}return(r=n).\u0275fac=function(o){return new(o||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-country-parameters"]],decls:2,vars:0,template:function(o,t){1&o&&(e.TgZ(0,"p"),e._uU(1,"country-parameters works!"),e.qZA())}}),n})(),Ce=(()=>{var r;class n{constructor(o){this.fb=o}createRole(){return this.fb.group({createRole:this.fb.group({newRole:this.fb.control("",i.kI.compose([i.kI.required,c.YO.fullNameValidator()])),shortName:this.fb.control("",i.kI.compose([i.kI.required,c.YO.fullNameValidator()]))})})}addnewRole(o){const t=o.getRawValue();return(new d.A6o).deserialize({name:t.createRole.newRole,shortName:t.createRole.shortName})}updateRole(o,t){const a=o.getRawValue();return(new d.wch).deserialize({id:t,name:a.createRole.newRole,shortName:a.createRole.shortName})}}return(r=n).\u0275fac=function(o){return new(o||r)(e.LFG(i.qu))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),n})();var x,v=u(655),g=u(262),T=u(8513);class Y{constructor(n){this.CreateRoleService=n}createNewRole(n){return this.CreateRoleService.saveNewRole(n).pipe((0,g.K)(s=>{throw s}))}getlistRole(){return this.CreateRoleService.getRole().pipe((0,g.K)(n=>{throw n}))}deleteRole(n){return this.CreateRoleService.deleteRole(n).pipe((0,g.K)(s=>{throw s}))}updateRole(n){return this.CreateRoleService.updateRole(n).pipe((0,g.K)(s=>{throw s}))}}(x=Y).\u0275fac=function(n){return new(n||x)(e.LFG(d._af))},x.\u0275prov=e.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),(0,v.gn)([(0,T.PS)()],Y.prototype,"createNewRole",null),(0,v.gn)([(0,T.PS)()],Y.prototype,"getlistRole",null);var A=u(4826),j=u(2137);function we(r,n){1&r&&(e.TgZ(0,"tr")(1,"th",25),e._uU(2,"Role Name"),e._UZ(3,"p-sortIcon",26),e.qZA(),e.TgZ(4,"th",27),e._uU(5," Short Name"),e._UZ(6,"p-sortIcon",28),e.qZA(),e.TgZ(7,"th",29),e._uU(8,"Action"),e.qZA()())}function ke(r,n){if(1&r){const s=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"div",30)(7,"button",31),e.NdJ("click",function(){const a=e.CHM(s).$implicit,p=e.oxw();return e.KtG(p.selectedRoleValue(a))}),e._UZ(8,"i",32),e.qZA(),e.TgZ(9,"button",33),e.NdJ("click",function(){const a=e.CHM(s).$implicit,p=e.oxw();return e.KtG(p.deleteRole(a))}),e._UZ(10,"i",34),e.qZA()()()()}if(2&r){const s=n.$implicit;e.xp6(2),e.Oqu(s.name),e.xp6(2),e.Oqu(s.shortName)}}const Ae=function(){return{"min-width":"50rem"}},Se=function(){return[5,10,25,50]},Ze=function(){return{width:"40vw"}};let Re=(()=>{var r;class n extends c.H6{constructor(o,t,a,p,f,R){super(p),this.helperServices=o,this._roleServices=t,this.route=a,this.uiService=f,this.confirmationService=R}ngOnInit(){this.uiService.initPageSetup([],""),this.roleFormGroup=this.helperServices.createRole(),this.getRolelist()}get createRoleControl(){return this.roleFormGroup.controls.createRole}selectedRoleValue(o){this.selectedRoleid=o.id,this.createRoleControl.patchValue({newRole:o.name,shortName:o.shortName}),this.enableUpdate=!0,this.gotoTop(220,0)}getRolelist(){this._roleServices.getlistRole().subscribe({next:o=>{this.listOfRole=o.data.sort((t,a)=>a.id-t.id)},error:o=>{this.showErrorToast(o.message),this.uiService.hideSpinner()},complete:()=>{this.uiService.hideSpinner()}})}saveCreateRole(){if(this.roleFormGroup.markAllAsTouched(),this.roleFormGroup.valid){this.uiService.showSpinner();const o=Object.assign(new d.A6o,this.helperServices.addnewRole(this.roleFormGroup));this._roleServices.createNewRole(o).subscribe({next:t=>{t.status==d.Xef.SUCCESS?(this.clear(),this.uiService.hideSpinner(),this.showSuccessToast(t.message,"Create New Role"),this.getRolelist()):this.showErrorToast(t.message,"Create New Role")},error:t=>{this.showErrorToast(t.message,"Create New Role"),this.uiService.hideSpinner()},complete:()=>{this.uiService.hideSpinner()}})}}deleteRole(o){this.confirmationService.confirm({message:"Are you sure you want to Delete Role",header:"Confirmation",accept:()=>{this.uiService.showSpinner(),this._roleServices.deleteRole(o.id).subscribe({next:t=>{"success"==t.status?(this.uiService.hideSpinner(),this.showSuccessToast(t.message,"Create New Role"),this.getRolelist(),this.clear()):this.showErrorToast(t.message,"Create New Role")},error:t=>{this.showErrorToast(t.message,"Create New Role"),this.uiService.hideSpinner()},complete:()=>{this.uiService.hideSpinner()}})},reject:()=>{}})}updateRole(){if(this.roleFormGroup.markAllAsTouched(),this.roleFormGroup.valid){const o=Object.assign(new d.wch,this.helperServices.updateRole(this.roleFormGroup,this.selectedRoleid));this._roleServices.updateRole(o).subscribe({next:t=>{"success"==t.status?(this.uiService.hideSpinner(),this.clear(),this.showSuccessToast(t.message,"Create New Role"),this.getRolelist()):this.showErrorToast(t.message,"Create New Role")},error:t=>{this.showErrorToast(t.message),this.uiService.hideSpinner()},complete:()=>{this.uiService.hideSpinner()}})}}clear(){this.roleFormGroup.reset(),this.enableUpdate=!1}cancel(){this.route.navigateByUrl("admin/dashboard")}}return(r=n).\u0275fac=function(o){return new(o||r)(e.Y36(Ce),e.Y36(Y),e.Y36(h.F0),e.Y36(b.ez),e.Y36(k.n),e.Y36(b.YP))},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-create-role"]],features:[e.qOj],decls:31,vars:21,consts:[[1,"middle_section"],[1,"container"],[1,"row"],[3,"pageTitle"],[1,"border","p-3","mb-3"],[3,"instructionsText","toolTipText"],[1,"content"],[3,"pageSubTitle"],[1,"form"],[3,"formGroup"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","newRole","inputLabel","Create New Role","inputId","newRole",1,"block",3,"inputFormControl"],["id","newRole","type","text","pInputText","","placeholder","","maxlength","30",3,"formControl"],["for","shortName","inputLabel","Short Name","inputId","shortName",1,"block",3,"inputFormControl"],["id","shortName","type","text","pInputText","","placeholder","","maxlength","30",3,"formControl"],[1,"buttons","mb-3"],["pButton","","type","button",1,"btn-format","mr-2","btn-blue",3,"click"],["pButton","","type","button","label","Clear",1,"p-button-secondary","mr-2","btn-format",3,"click"],["pButton","","type","button","label","Cancel",1,"btn-format","btn-blue",3,"click"],[1,"card","table"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"paginator","rows","showCurrentPageReport","tableStyle","value","rowsPerPageOptions"],["ec",""],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","name",2,"width","20%"],["field","name"],["pSortableColumn","shortName",2,"width","20%"],["field","shortName"],[2,"width","20%"],[1,"user_action"],[1,"text-primary",3,"click"],[1,"pi","pi-file-edit",2,"font-size","0.8rem"],[1,"text-danger",3,"click"],[1,"pi","pi-trash",2,"font-size","0.8rem"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"p-toast"),e.TgZ(3,"div",2),e._UZ(4,"emigrate-sh-page-title",3),e.qZA(),e.TgZ(5,"div",4),e._UZ(6,"emigrate-sh-page-instructions",5),e.TgZ(7,"div",6),e._UZ(8,"emigrate-sh-page-sub-title",7),e.TgZ(9,"div",8)(10,"form",9)(11,"div",2)(12,"div",10)(13,"div",11)(14,"emigrate-sh-html-input",12),e._UZ(15,"input",13),e.qZA()()(),e.TgZ(16,"div",10)(17,"div",11)(18,"emigrate-sh-html-input",14),e._UZ(19,"input",15),e.qZA()()()()()(),e.TgZ(20,"div",16)(21,"button",17),e.NdJ("click",function(){return t.enableUpdate?t.updateRole():t.saveCreateRole()}),e._uU(22),e.qZA(),e.TgZ(23,"button",18),e.NdJ("click",function(){return t.clear()}),e.qZA(),e.TgZ(24,"button",19),e.NdJ("click",function(){return t.cancel()}),e.qZA()(),e.TgZ(25,"div",20)(26,"p-table",21,22),e.YNc(28,we,9,0,"ng-template",23),e.YNc(29,ke,11,2,"ng-template",24),e.qZA()()()(),e._UZ(30,"p-confirmDialog"),e.qZA()()),2&o&&(e.xp6(4),e.Q6J("pageTitle","Create Role"),e.xp6(2),e.Q6J("instructionsText","Fields marked with * (asterisk) are mandatory")("toolTipText","1. Fields marked with * (asterisk) are mandatory.\n        2. Please do not press F5 or Back Button"),e.xp6(2),e.Q6J("pageSubTitle","Create New Role"),e.xp6(2),e.Q6J("formGroup",t.createRoleControl),e.xp6(4),e.Q6J("inputFormControl",null==t.createRoleControl||null==t.createRoleControl.controls?null:t.createRoleControl.controls.newRole),e.xp6(1),e.Q6J("formControl",null==t.createRoleControl||null==t.createRoleControl.controls?null:t.createRoleControl.controls.newRole),e.xp6(3),e.Q6J("inputFormControl",null==t.createRoleControl||null==t.createRoleControl.controls?null:t.createRoleControl.controls.shortName),e.xp6(1),e.Q6J("formControl",null==t.createRoleControl||null==t.createRoleControl.controls?null:t.createRoleControl.controls.shortName),e.xp6(3),e.hij(" ",t.enableUpdate?"Update":"Save"," "),e.xp6(4),e.Q6J("paginator",!0)("rows",10)("showCurrentPageReport",!0)("tableStyle",e.DdM(18,Ae))("value",t.listOfRole)("rowsPerPageOptions",e.DdM(19,Se)),e.xp6(4),e.Akn(e.DdM(20,Ze)))},dependencies:[c.KR,c.TM,c.jZ,c.dB,b.jx,P.Hq,_.o,y.FN,A.iA,A.lQ,A.fz,i._Y,i.Fj,i.JJ,i.JL,i.nD,j.Q,i.oH,i.sg]}),n})();var B,H=u(4325);class G{constructor(n){this.AddBusinessProccessservice=n}createNewRole(n){return this.AddBusinessProccessservice.AddBusinessProces(n).pipe((0,g.K)(s=>{throw s}))}getBusinessProcesslist(){return this.AddBusinessProccessservice.getBusinessProcesslist().pipe((0,g.K)(n=>{throw n}))}deleteBusinessProcess(n){return this.AddBusinessProccessservice.deleteBusinessProcess(n).pipe((0,g.K)(s=>{throw s}))}updateBusinessProcess(n){return this.AddBusinessProccessservice.updateBusinessProcess(n).pipe((0,g.K)(s=>{throw s}))}validateBusinessProcess(n){return this.AddBusinessProccessservice.validateBusinessProcess(n).pipe((0,g.K)(s=>{throw s}))}}(B=G).\u0275fac=function(n){return new(n||B)(e.LFG(d.tux))},B.\u0275prov=e.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),(0,v.gn)([(0,T.PS)()],G.prototype,"createNewRole",null),(0,v.gn)([(0,T.PS)()],G.prototype,"getBusinessProcesslist",null);let ye=(()=>{var r;class n extends c.H6{constructor(o,t,a,p,f){super(a),this.ref=o,this.uiService=t,this.config=p,this._AddBusinessProcessService=f}ngOnInit(){this.addBusinessProcess=this.config.data.AddBusiness}submit(){this.ref.close(this.addBusinessProcess.processId)}}return(r=n).\u0275fac=function(o){return new(o||r)(e.Y36(H.E7),e.Y36(k.n),e.Y36(b.ez),e.Y36(H.S),e.Y36(G))},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-validate-add-business-process"]],features:[e.qOj],decls:8,vars:0,consts:[[1,"content"],[1,"row"],[1,"col-12"],[1,"buttons","mb-3"],["pButton","","type","submit","label","Submit",1,"btn-format","btn-blue",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"p"),e._uU(3,"Business Process validate successfully"),e.qZA()(),e.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"button",4),e.NdJ("click",function(){return t.submit()}),e.qZA()()()()())},dependencies:[P.Hq]}),n})(),Ie=(()=>{var r;class n{constructor(o){this.fb=o}createBusinessProcess(){return this.fb.group({AddBusinessProcess:this.fb.group({processName:this.fb.control("",i.kI.compose([i.kI.required,c.YO.fullNameValidator()])),processDescription:this.fb.control("",i.kI.compose([i.kI.required,c.YO.fullNameValidator()]))})})}addBusiness(o){const t=o.getRawValue();return(new d.DoI).deserialize({processName:t.AddBusinessProcess.processName,processDescription:t.AddBusinessProcess.processDescription})}updateBusiness(o,t){const a=o.getRawValue();return(new d.D7K).deserialize({id:t,processName:a.AddBusinessProcess.processName,processDescription:a.AddBusinessProcess.processDescription})}}return(r=n).\u0275fac=function(o){return new(o||r)(e.LFG(i.qu))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),n})();function Fe(r,n){1&r&&(e.TgZ(0,"tr")(1,"th",25),e._uU(2," Process Name"),e._UZ(3,"p-sortIcon",26),e.qZA(),e.TgZ(4,"th",27),e._uU(5," Process ID"),e._UZ(6,"p-sortIcon",28),e.qZA(),e.TgZ(7,"th",29),e._uU(8," Process Description"),e._UZ(9,"p-sortIcon",30),e.qZA(),e.TgZ(10,"th",31),e._uU(11,"Actions"),e.qZA()())}function Ue(r,n){if(1&r){const s=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"div",32)(9,"button",33),e.NdJ("click",function(){const a=e.CHM(s).$implicit,p=e.oxw();return e.KtG(p.selectedRoleValue(a))}),e._UZ(10,"i",34),e.qZA(),e.TgZ(11,"button",35),e.NdJ("click",function(){const a=e.CHM(s).$implicit,p=e.oxw();return e.KtG(p.deleteProcess(a))}),e._UZ(12,"i",36),e.qZA(),e.TgZ(13,"button",37),e.NdJ("click",function(){const a=e.CHM(s).$implicit,p=e.oxw();return e.KtG(p.open(a))}),e._UZ(14,"i",38),e.qZA()()()()}if(2&r){const s=n.$implicit;e.xp6(2),e.Oqu(s.name),e.xp6(2),e.Oqu(s.processId),e.xp6(2),e.Oqu(s.processDescription),e.xp6(7),e.Q6J("disabled",s.valStatus)}}const Ne=function(){return{"min-width":"50rem"}},xe=function(){return[5,10,25,50]},Be=function(){return{width:"40vw"}};let Oe=(()=>{var r;class n extends c.H6{constructor(o,t,a,p,f,R,U,E){super(p),this.helperService=o,this._AddBusinessProcessService=t,this.route=a,this.uiService=f,this.dialogService=R,this.confirmationService=U,this.ref=E}ngOnInit(){this.AddBusinessFormGroup=this.helperService.createBusinessProcess(),this.getProcessList()}get AddBusinessProcessControl(){return this.AddBusinessFormGroup.controls.AddBusinessProcess}saveAddBusinessProcess(){this.enableUpdate?this.updateProcess():this.saveProcess()}getProcessList(){this._AddBusinessProcessService.getBusinessProcesslist().subscribe({next:o=>{this.businessProcessList=o.data.sort((t,a)=>a.id-t.id)},error:o=>{this.showErrorToast(o.message,"Add Business Process"),this.uiService.hideSpinner()},complete:()=>{this.uiService.hideSpinner()}})}selectedRoleValue(o){this.selectedid=o.id,this.AddBusinessProcessControl.patchValue({processName:o.processName,processDescription:o.processDescription}),this.enableUpdate=!0,this.gotoTop(220,0)}open(o){this.ref=this.dialogService.open(ye,{header:"Validate Business Process",width:"50%",data:{AddBusiness:o}}),this.ref.onClose.subscribe(t=>{this._AddBusinessProcessService.validateBusinessProcess(t).subscribe({next:a=>{"success"==a.status?(this.uiService.hideSpinner(),this.showSuccessToast(a.message,"Add Business Process"),this.getProcessList()):this.showErrorToast(a.message,"Add Business Process")},error:a=>{this.showErrorToast(a.message,"Add Business Process"),this.uiService.hideSpinner()},complete:()=>{this.uiService.hideSpinner()}})})}saveProcess(){if(this.AddBusinessProcessControl.markAllAsTouched(),this.AddBusinessProcessControl.valid){this.uiService.showSpinner();const o=Object.assign(new d.DoI,this.helperService.addBusiness(this.AddBusinessFormGroup));this._AddBusinessProcessService.createNewRole(o).subscribe({next:t=>{"success"==t.status?(this.clear(),this.uiService.hideSpinner(),this.showSuccessToast(t.message,"Add Business Process"),this.getProcessList()):this.showErrorToast(t.message,"Add Business Process")},error:t=>{this.showErrorToast(t.message,"Add Business Process"),this.uiService.hideSpinner()},complete:()=>{this.uiService.hideSpinner()}})}}validateProcess(){}deleteProcess(o){this.confirmationService.confirm({message:"Are you sure you want to Delete Business Process",header:"Confirmation",accept:()=>{this.uiService.showSpinner(),this._AddBusinessProcessService.deleteBusinessProcess(o.id).subscribe({next:t=>{"success"==t.status?(this.uiService.hideSpinner(),this.showSuccessToast(t.message,"Add Business Process"),this.getProcessList()):this.showErrorToast(t.message,"Add Business Process")},error:t=>{this.showErrorToast(t.message,"Add Business Process"),this.uiService.hideSpinner()},complete:()=>{this.uiService.hideSpinner()}})},reject:()=>{}})}updateProcess(){if(this.AddBusinessProcessControl.markAllAsTouched(),this.AddBusinessProcessControl.valid){const o=Object.assign(new d.D7K,this.helperService.updateBusiness(this.AddBusinessFormGroup,this.selectedid));this._AddBusinessProcessService.updateBusinessProcess(o).subscribe({next:t=>{"success"==t.status?(this.uiService.hideSpinner(),this.showSuccessToast(t.message,"Add Business Process"),this.clear(),this.getProcessList()):this.showErrorToast(t.message,"Add Business Process")},error:t=>{this.showErrorToast(t.message,"Add Business Process"),this.uiService.hideSpinner()},complete:()=>{this.uiService.hideSpinner()}}),this.enableUpdate=!0}}clear(){this.AddBusinessFormGroup.reset(),this.enableUpdate=!1}cancel(){this.route.navigateByUrl("admin/dashboard")}}return(r=n).\u0275fac=function(o){return new(o||r)(e.Y36(Ie),e.Y36(G),e.Y36(h.F0),e.Y36(b.ez),e.Y36(k.n),e.Y36(H.xA),e.Y36(b.YP),e.Y36(H.E7))},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-add-business-process"]],features:[e.qOj],decls:34,vars:22,consts:[[1,"middle_section"],[1,"container"],[1,"row"],[3,"pageTitle"],[1,"border","p-3","mb-3"],[3,"instructionsText","toolTipText"],[1,"content"],[3,"pageSubTitle"],[1,"form"],[3,"formGroup"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","processName","inputLabel","Process Name","inputId","processName",1,"block",3,"inputFormControl"],["id","processName","type","text","pInputText","","placeholder","","maxlength","30",3,"formControl"],["for","processDescription","inputLabel","Process Description","inputId","processDescription",1,"block",3,"inputFormControl"],["id","processDescription","type","text","pInputText","","placeholder","","maxlength","",3,"formControl"],[1,"buttons","mb-3"],["pButton","","type","button",1,"btn-format","mr-2","btn-blue",3,"click"],["pButton","","type","button","label","Clear",1,"p-button-secondary","mr-2","btn-format",3,"click"],["pButton","","type","button","label","Cancel",1,"btn-format","btn-blue",3,"click"],[1,"card","table"],["styleClass","p-datatable-gridlines","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"paginator","rows","showCurrentPageReport","tableStyle","value","rowsPerPageOptions"],["ec",""],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","processName",2,"width","20%"],["field","processName"],["pSortableColumn","processId",2,"width","35%"],["field","processId"],["pSortableColumn","processDescription",2,"width","35%"],["field","processDescription"],[2,"width","9%"],[1,"user_action"],[1,"text-primary",3,"click"],[1,"pi","pi-file-edit",2,"font-size","1rem"],[1,"text-danger",3,"click"],[1,"pi","pi-trash",2,"font-size","1rem"],[1,"text-success",3,"disabled","click"],[1,"pi","pi-check",2,"font-size","1rem"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"p-toast"),e.TgZ(3,"div",2),e._UZ(4,"emigrate-sh-page-title",3),e.qZA(),e.TgZ(5,"div",4),e._UZ(6,"emigrate-sh-page-instructions",5),e.TgZ(7,"div",6),e._UZ(8,"emigrate-sh-page-sub-title",7),e.TgZ(9,"div",8)(10,"form",9)(11,"div",2)(12,"div",10)(13,"div",11)(14,"emigrate-sh-html-input",12),e._UZ(15,"input",13),e.qZA()()(),e.TgZ(16,"div",10)(17,"div",11)(18,"emigrate-sh-html-input",14)(19,"textarea",15),e._uU(20,"                                        "),e.qZA()()()()()()(),e.TgZ(21,"div",16)(22,"button",17),e.NdJ("click",function(){return t.enableUpdate?t.updateProcess():t.saveProcess()}),e._uU(23),e.qZA(),e.TgZ(24,"button",18),e.NdJ("click",function(){return t.clear()}),e.qZA(),e.TgZ(25,"button",19),e.NdJ("click",function(){return t.cancel()}),e.qZA()(),e.TgZ(26,"div",6),e._UZ(27,"emigrate-sh-page-sub-title",7),e.TgZ(28,"div",20)(29,"p-table",21,22),e.YNc(31,Fe,12,0,"ng-template",23),e.YNc(32,Ue,15,4,"ng-template",24),e.qZA()()()()(),e._UZ(33,"p-confirmDialog"),e.qZA()()),2&o&&(e.xp6(4),e.Q6J("pageTitle","Create Business Process"),e.xp6(2),e.Q6J("instructionsText","Fields marked with * (asterisk) are mandatory")("toolTipText","1. Fields marked with * (asterisk) are mandatory.\n        2. Please do not press F5 or Back Button"),e.xp6(2),e.Q6J("pageSubTitle","Create Business Process"),e.xp6(2),e.Q6J("formGroup",t.AddBusinessProcessControl),e.xp6(4),e.Q6J("inputFormControl",null==t.AddBusinessProcessControl||null==t.AddBusinessProcessControl.controls?null:t.AddBusinessProcessControl.controls.processName),e.xp6(1),e.Q6J("formControl",null==t.AddBusinessProcessControl||null==t.AddBusinessProcessControl.controls?null:t.AddBusinessProcessControl.controls.processName),e.xp6(3),e.Q6J("inputFormControl",null==t.AddBusinessProcessControl||null==t.AddBusinessProcessControl.controls?null:t.AddBusinessProcessControl.controls.processDescription),e.xp6(1),e.Q6J("formControl",null==t.AddBusinessProcessControl||null==t.AddBusinessProcessControl.controls?null:t.AddBusinessProcessControl.controls.processDescription),e.xp6(4),e.hij(" ",t.enableUpdate?"Update":"Save"," "),e.xp6(4),e.Q6J("pageSubTitle","Business Process List"),e.xp6(2),e.Q6J("paginator",!0)("rows",10)("showCurrentPageReport",!0)("tableStyle",e.DdM(19,Ne))("value",t.businessProcessList)("rowsPerPageOptions",e.DdM(20,xe)),e.xp6(4),e.Akn(e.DdM(21,Be)))},dependencies:[c.KR,c.TM,c.jZ,c.dB,b.jx,P.Hq,_.o,y.FN,A.iA,A.lQ,A.fz,i._Y,i.Fj,i.JJ,i.JL,i.nD,j.Q,i.oH,i.sg]}),n})(),re=(()=>{var r;class n{constructor(o){this.fb=o}createAddTaskToBusinessProcess(){return this.fb.group({AddTaskToBusinessProces:this.fb.group({processName:this.fb.control(null,i.kI.compose([i.kI.required])),taskName:this.fb.control("",i.kI.compose([i.kI.required,c.YO.fullNameValidator()])),taskLabel:this.fb.control("",i.kI.compose([i.kI.required,c.YO.fullNameValidator()])),taskType:this.fb.control("",i.kI.compose([i.kI.required])),taskSequence:this.fb.control(null,i.kI.compose([i.kI.required])),nextTaskName:this.fb.control([],i.kI.compose([i.kI.required])),nextTaskUser:this.fb.control([],i.kI.compose([i.kI.required])),taskDescription:this.fb.control("",i.kI.compose([i.kI.required,c.YO.fullNameValidator()])),taskId:this.fb.control(null),locationAgnostic:this.fb.control(null)})})}}return(r=n).\u0275fac=function(o){return new(o||r)(e.LFG(i.qu))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),n})();var O,S=u(8505);class X{constructor(n){this.addtaskToBusinessProcessservice=n}validateTasks(n){return this.addtaskToBusinessProcessservice.creatTaskprocess(n).pipe((0,S.b)(s=>{}),(0,g.K)(s=>{throw s}))}deleteTask(n){return this.addtaskToBusinessProcessservice.deleteTaskProcess(n).pipe((0,S.b)(s=>{}),(0,g.K)(s=>{throw s}))}}(O=X).\u0275fac=function(n){return new(n||O)(e.LFG(d.k5t))},O.\u0275prov=e.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),(0,v.gn)([(0,T.PS)()],X.prototype,"validateTasks",null);var Le=u(613),ie=u(5722);function De(r,n){if(1&r&&e._UZ(0,"p-radioButton",36),2&r){const s=n.$implicit,o=e.oxw();e.Q6J("formControl",null==o.AddTaskToBusinessProcessControl||null==o.AddTaskToBusinessProcessControl.controls?null:o.AddTaskToBusinessProcessControl.controls.taskType)("label",s.label)("value",s.value)}}function Me(r,n){if(1&r&&(e.TgZ(0,"div",37)(1,"div",38),e._UZ(2,"p-radioButton",39),e.TgZ(3,"label",40),e._uU(4),e.qZA()()()),2&r){const s=n.$implicit,o=e.oxw();e.xp6(2),e.Q6J("value",s.value)("inputId",s.value)("formControl",null==o.AddTaskToBusinessProcessControl||null==o.AddTaskToBusinessProcessControl.controls?null:o.AddTaskToBusinessProcessControl.controls.taskSequence),e.xp6(1),e.Q6J("for",s.label),e.xp6(1),e.Oqu(s.label)}}function Je(r,n){1&r&&(e.TgZ(0,"tr")(1,"th",41),e._uU(2,"Is First "),e._UZ(3,"p-sortIcon",42),e.qZA(),e.TgZ(4,"th",41),e._uU(5,"Is Last "),e._UZ(6,"p-sortIcon",42),e.qZA(),e.TgZ(7,"th",43),e._uU(8,"Task Name "),e._UZ(9,"p-sortIcon",42),e.qZA(),e.TgZ(10,"th",44),e._uU(11,"Task Label "),e._UZ(12,"p-sortIcon",42),e.qZA(),e.TgZ(13,"th",45),e._uU(14,"Task Type "),e._UZ(15,"p-sortIcon",42),e.qZA(),e.TgZ(16,"th",46),e._uU(17,"Description "),e._UZ(18,"p-sortIcon",42),e.qZA(),e.TgZ(19,"th",47),e._uU(20,"Action"),e.qZA()())}const qe=function(r){return{disabled:r}};function Ge(r,n){if(1&r){const s=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"div",48)(15,"button",49)(16,"i",50),e.NdJ("click",function(){const a=e.CHM(s).$implicit,p=e.oxw();return e.KtG(p.editTask(a.taskId,a.id))}),e.qZA()(),e.TgZ(17,"button",51)(18,"i",52),e.NdJ("click",function(){const a=e.CHM(s).$implicit,p=e.oxw();return e.KtG(p.deleteTask(a.taskId,a.id))}),e.qZA()(),e.TgZ(19,"button",53)(20,"i",54),e.NdJ("click",function(){const a=e.CHM(s).$implicit,p=e.oxw();return e.KtG(p.validateTask(a.id))}),e.qZA()()()()()}if(2&r){const s=n.$implicit,o=e.oxw();e.xp6(2),e.Oqu("F"===s.taskSequence?"True":"False"),e.xp6(2),e.Oqu("L"===s.taskSequence?"True":"False"),e.xp6(2),e.Oqu(s.taskName),e.xp6(2),e.Oqu(s.taskLabel),e.xp6(2),e.Oqu("H"===s.taskType?"Human":"Automatic"),e.xp6(2),e.Oqu(s.taskDescription),e.xp6(8),e.Udp("font-size",o.isUpdatingTask?"1.0":"0.8","rem"),e.Q6J("ngClass",e.VKq(9,qe,o.isUpdatingTask))}}const Ee=function(){return{"min-width":"50rem"}},Qe=function(){return[5,10,25,50]},Ye=function(){return{width:"40vw"}};let He=(()=>{var r;class n extends c.H6{constructor(o,t,a,p,f,R,U,E){super(a),this.helperService=o,this.route=t,this.uiService=p,this.apiService=f,this.addTaskToBusinessService=R,this.formHelperservice=U,this.confirmationService=E,this.searchList=[],this.selectedTaskId=null,this.isUpdatingTask=!1,this.taskType=[{label:"Human",value:"H"},{label:"Automatic",value:"A"}],this.taskSequence=[{label:"Is First",value:"F"},{label:"Is Last",value:"L"}],this.processNames=[],this.nextTaskNames=[],this.nextTaskusers=[],this.selectedProcesses=[]}ngOnInit(){this.addTaskToBusinessProcessForm=this.helperService.createAddTaskToBusinessProcess(),console.log(this.AddTaskToBusinessProcessControl.controls),this.getProcessNames(),this.processNameChangeListener()}processNameChangeListener(){this.AddTaskToBusinessProcessControl.controls.processName.valueChanges.subscribe(o=>{o&&this.apiService.getTasksBasedOnProcessId(parseInt(o.toString())).subscribe(t=>{this.searchList="Success"==t.status&&t.data&&t.data.length?t.data:[]})})}getProcessNames(){this.apiService.getProcessNames().subscribe(o=>{o&&(this.processNames=o.data.map(a=>({label:a.name,value:a.id,processId:a.processId})),this.getNextTaskNames(o.data[0].processId))})}getNextTaskNames(o){this.apiService.getNextTaskNames(o).subscribe(t=>{t&&(this.nextTaskNames=t.data.map(a=>({label:a.taskName,taskId:a.taskId,processId:a.processId})))})}get AddTaskToBusinessProcessControl(){return this.addTaskToBusinessProcessForm.controls.AddTaskToBusinessProces}clear(){this.addTaskToBusinessProcessForm.reset()}cancel(){this.route.navigateByUrl("admin/dashboard")}savetask(){if(console.log(this.AddTaskToBusinessProcessControl.controls),this.AddTaskToBusinessProcessControl.markAllAsTouched(),this.AddTaskToBusinessProcessControl.valid){if(this.isUpdatingTask&&this.selectedTaskId){const o=this.searchList.findIndex(t=>t.id===this.selectedTaskId);-1!==o&&(this.searchList[o]={id:this.selectedTaskId,processName:this.AddTaskToBusinessProcessControl.get("processName")?.value,taskName:this.AddTaskToBusinessProcessControl.get("taskName")?.value,taskLabel:this.AddTaskToBusinessProcessControl.get("taskLabel")?.value,taskType:this.AddTaskToBusinessProcessControl.get("taskType")?.value,taskDesc:this.AddTaskToBusinessProcessControl.get("taskDescription")?.value,taskSequence:this.AddTaskToBusinessProcessControl.get("taskSequence")?.value,processId:this.processNames.find(t=>t.value===this.AddTaskToBusinessProcessControl.get("processName").value)?.processId,locationAgnostic:!1,taskId:null,commaSeparatedNextTaskNames:this.AddTaskToBusinessProcessControl.controls.nextTaskName.value.toString(),commaSeparatedNextTaskUsers:this.AddTaskToBusinessProcessControl.controls.nextTaskUser.value.toString()})}else{const o={id:(this.searchList?.length||0)+1,processName:this.AddTaskToBusinessProcessControl.get("processName")?.value,taskName:this.AddTaskToBusinessProcessControl.get("taskName")?.value,taskLabel:this.AddTaskToBusinessProcessControl.get("taskLabel")?.value,taskType:this.AddTaskToBusinessProcessControl.get("taskType")?.value,taskDesc:this.AddTaskToBusinessProcessControl.get("taskDescription")?.value,taskSequence:this.AddTaskToBusinessProcessControl.get("taskSequence")?.value,processId:this.processNames.find(t=>t.value===this.AddTaskToBusinessProcessControl.get("processName").value)?.processId,locationAgnostic:!1,taskId:null,commaSeparatedNextTaskNames:this.AddTaskToBusinessProcessControl.controls.nextTaskName.value.toString(),commaSeparatedNextTaskUsers:this.AddTaskToBusinessProcessControl.controls.nextTaskUser.value.toString()};this.searchList.push(o)}this.addTaskToBusinessProcessForm.reset(),this.isUpdatingTask=!1}}deleteTask(o,t){this.confirmationService.confirm({message:"Are you sure you want to delete this task?",header:"Confirmation",accept:()=>{this.uiService.showSpinner(),o?this.addTaskToBusinessService.deleteTask(o).subscribe({next:a=>{"Success"===a.status?(this.searchList=this.searchList.filter(p=>p.taskId!==o),this.showSuccessToast(a.message,"Delete Task")):this.showErrorToast(a.message,"Delete Task")},error:a=>{this.showErrorToast("An error occurred while deleting tasks.")},complete:()=>{this.uiService.hideSpinner()}}):(this.searchList=this.searchList.filter(a=>a.id!==t),this.uiService.hideSpinner())},reject:()=>{}})}editTask(o,t){let a=this.searchList.find(p=>p.taskId===o);a||(a=this.searchList.find(p=>p.id===t)),a?(this.AddTaskToBusinessProcessControl.patchValue({processName:parseInt(a.processName.toString()),taskName:a.taskName,taskLabel:a.taskLabel,taskType:a.taskType,nextTaskName:a.commaSeparatedNextTaskNames&&a.commaSeparatedNextTaskNames.split(",").map(Number),nextTaskUser:a.commaSeparatedNextTaskUsers&&a.commaSeparatedNextTaskUsers.split(",").map(Number),taskDescription:a.taskDesc,taskSequence:"isFirst"==a.taskSequence?"F":"L"}),this.selectedTaskId=o,this.isUpdatingTask=!0):console.log(`Task with id ${o} not found.`)}validateTask(o){const t=this.searchList.find(a=>a.id===o);this.addTaskToBusinessService.validateTasks(t).subscribe({next:a=>{"500"==a.statusCode?this.showErrorToast(a.error.errorMessage):this.showSuccessToast(a.message)},error:a=>{this.showErrorToast(a.message)}})}}return(r=n).\u0275fac=function(o){return new(o||r)(e.Y36(re),e.Y36(h.F0),e.Y36(b.ez),e.Y36(k.n),e.Y36(d.k5t),e.Y36(X),e.Y36(re),e.Y36(b.YP))},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-add-task-to-business-process"]],features:[e.qOj],decls:57,vars:37,consts:[[1,"row"],[3,"pageTitle"],[1,"border","p-3","mb-3"],[3,"instructionsText","toolTipText"],[1,"content"],[3,"pageSubTitle"],[1,"form"],[3,"formGroup"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","processName","inputLabel","Process Name","inputId","processName",1,"block",3,"inputFormControl"],["EmigrateShDropdown","","id","processName","placeholder","Select process",3,"options","formControl"],["for","taskName","inputLabel","Task Name","inputId","taskName",1,"block",3,"inputFormControl"],["id","taskName","type","text","pInputText","","placeholder","",3,"formControl"],["for","taskLabel","inputLabel","Task Label","inputId","taskLabel",1,"block",3,"inputFormControl"],["id","taskLabel","type","text","pInputText","","placeholder","",3,"formControl"],["for","taskType","inputLabel","Task Type","inputId","taskType",1,"block",3,"inputFormControl"],[1,"d-flex","justify-content-between","mt-2","align-items-center"],["name","taskType","inputId","1",3,"formControl","label","value",4,"ngFor","ngForOf"],["for","taskSequence","inputLabel","Task Sequence","inputId","taskSequence",1,"block",3,"inputFormControl"],["class","field-checkbox",4,"ngFor","ngForOf"],["for","nextTaskName","inputLabel","Next Task Name","inputId","nextTaskName",1,"block",2,"overflow","auto",3,"inputFormControl"],["optionLabel","label","optionValue","taskId",2,"overflow","auto",3,"options","formControl"],["for","nextTaskUser","inputLabel","Next Task User","inputId","nextTaskUser",1,"block",3,"inputFormControl"],["optionLabel","label","optionValue","taskId",3,"options","formControl"],["for","taskDescription","inputLabel","Task Description","inputId","taskDescription",1,"block",3,"inputFormControl"],["id","taskDescription","type","text","pInputText","","placeholder","","maxlength","",3,"formControl"],[1,"buttons","mb-3"],["pButton","","type","button",1,"btn-format","mr-2","btn-blue",3,"label","click"],["pButton","","type","button","label","Clear",1,"p-button-secondary","mr-2","btn-format",3,"click"],["pButton","","type","button","label","Cancel",1,"btn-format","btn-blue",3,"click"],[1,"card","table"],["styleClass","p-datatable-gridlines","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"paginator","rows","showCurrentPageReport","tableStyle","value","rowsPerPageOptions"],["ec",""],["pTemplate","header"],["pTemplate","body"],["name","taskType","inputId","1",3,"formControl","label","value"],[1,"field-checkbox"],[1,"d-flex","align-items-center"],["name","group",3,"value","inputId","formControl"],[1,"ml-2",3,"for"],["pSortableColumn","",2,"width","10%"],["field",""],["pSortableColumn","",2,"width","28%"],["pSortableColumn","",2,"width","20%"],["pSortableColumn","",2,"width","15%"],["pSortableColumn","",2,"width","45%"],[2,"width","20%"],[1,"user_action"],["type","button","label","",1,"text-primary","button"],[1,"pi","pi-file-edit",2,"font-size","1rem",3,"click"],["type","button","label","",1,"text-danger","button"],[1,"pi","pi-trash",2,"font-size","1rem",3,"click"],["type","button","label","",1,"text-success","button"],[1,"pi","pi-check",3,"ngClass","click"]],template:function(o,t){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"div",0),e._UZ(2,"emigrate-sh-page-title",1),e.qZA(),e.TgZ(3,"div",2),e._UZ(4,"emigrate-sh-page-instructions",3),e.TgZ(5,"div",4),e._UZ(6,"emigrate-sh-page-sub-title",5),e.TgZ(7,"div",6)(8,"form",7)(9,"div",0)(10,"div",8)(11,"div",9)(12,"emigrate-sh-html-input",10),e._UZ(13,"p-dropdown",11),e.qZA()()(),e.TgZ(14,"div",8)(15,"div",9)(16,"emigrate-sh-html-input",12),e._UZ(17,"input",13),e.qZA()()(),e.TgZ(18,"div",8)(19,"div",9)(20,"emigrate-sh-html-input",14),e._UZ(21,"input",15),e.qZA()()(),e.TgZ(22,"div",8)(23,"div",9)(24,"emigrate-sh-html-input",16)(25,"div",17),e.YNc(26,De,1,3,"p-radioButton",18),e.qZA()()()(),e.TgZ(27,"div",8)(28,"div",9)(29,"emigrate-sh-html-input",19)(30,"div",17),e.YNc(31,Me,5,5,"div",20),e.qZA()()()(),e.TgZ(32,"div",8)(33,"div",9)(34,"emigrate-sh-html-input",21),e._UZ(35,"p-multiSelect",22),e.qZA()()(),e.TgZ(36,"div",8)(37,"div",9)(38,"emigrate-sh-html-input",23),e._UZ(39,"p-multiSelect",24),e.qZA()()(),e.TgZ(40,"div",8)(41,"div",9)(42,"emigrate-sh-html-input",25)(43,"textarea",26),e._uU(44,"                                "),e.qZA()()()()()()(),e.TgZ(45,"div",27)(46,"button",28),e.NdJ("click",function(){return t.savetask()}),e.qZA(),e.TgZ(47,"button",29),e.NdJ("click",function(){return t.clear()}),e.qZA(),e.TgZ(48,"button",30),e.NdJ("click",function(){return t.cancel()}),e.qZA()(),e.TgZ(49,"div",4),e._UZ(50,"emigrate-sh-page-sub-title",5),e.TgZ(51,"div",31)(52,"p-table",32,33),e.YNc(54,Je,21,0,"ng-template",34),e.YNc(55,Ge,21,11,"ng-template",35),e.qZA()()()()(),e._UZ(56,"p-confirmDialog")),2&o&&(e.xp6(2),e.Q6J("pageTitle","Add Task To Business Process"),e.xp6(2),e.Q6J("instructionsText","Fields marked with * (asterisk) are mandatory")("toolTipText","1. Fields marked with * (asterisk) are mandatory.\n        2. Please do not press F5 or Back Button"),e.xp6(2),e.Q6J("pageSubTitle","Add Task"),e.xp6(2),e.Q6J("formGroup",t.AddTaskToBusinessProcessControl),e.xp6(4),e.Q6J("inputFormControl",null==t.AddTaskToBusinessProcessControl||null==t.AddTaskToBusinessProcessControl.controls?null:t.AddTaskToBusinessProcessControl.controls.processName),e.xp6(1),e.Q6J("options",t.processNames)("formControl",null==t.AddTaskToBusinessProcessControl||null==t.AddTaskToBusinessProcessControl.controls?null:t.AddTaskToBusinessProcessControl.controls.processName),e.xp6(3),e.Q6J("inputFormControl",null==t.AddTaskToBusinessProcessControl||null==t.AddTaskToBusinessProcessControl.controls?null:t.AddTaskToBusinessProcessControl.controls.taskName),e.xp6(1),e.Q6J("formControl",null==t.AddTaskToBusinessProcessControl||null==t.AddTaskToBusinessProcessControl.controls?null:t.AddTaskToBusinessProcessControl.controls.taskName),e.xp6(3),e.Q6J("inputFormControl",null==t.AddTaskToBusinessProcessControl||null==t.AddTaskToBusinessProcessControl.controls?null:t.AddTaskToBusinessProcessControl.controls.taskLabel),e.xp6(1),e.Q6J("formControl",null==t.AddTaskToBusinessProcessControl||null==t.AddTaskToBusinessProcessControl.controls?null:t.AddTaskToBusinessProcessControl.controls.taskLabel),e.xp6(3),e.Q6J("inputFormControl",null==t.AddTaskToBusinessProcessControl||null==t.AddTaskToBusinessProcessControl.controls?null:t.AddTaskToBusinessProcessControl.controls.taskType),e.xp6(2),e.Q6J("ngForOf",t.taskType),e.xp6(3),e.Q6J("inputFormControl",null==t.AddTaskToBusinessProcessControl||null==t.AddTaskToBusinessProcessControl.controls?null:t.AddTaskToBusinessProcessControl.controls.taskSequence),e.xp6(2),e.Q6J("ngForOf",t.taskSequence),e.xp6(3),e.Q6J("inputFormControl",null==t.AddTaskToBusinessProcessControl||null==t.AddTaskToBusinessProcessControl.controls?null:t.AddTaskToBusinessProcessControl.controls.nextTaskName),e.xp6(1),e.Q6J("options",t.nextTaskNames)("formControl",null==t.AddTaskToBusinessProcessControl||null==t.AddTaskToBusinessProcessControl.controls?null:t.AddTaskToBusinessProcessControl.controls.nextTaskName),e.xp6(3),e.Q6J("inputFormControl",null==t.AddTaskToBusinessProcessControl||null==t.AddTaskToBusinessProcessControl.controls?null:t.AddTaskToBusinessProcessControl.controls.nextTaskUser),e.xp6(1),e.Q6J("options",t.nextTaskNames)("formControl",null==t.AddTaskToBusinessProcessControl||null==t.AddTaskToBusinessProcessControl.controls?null:t.AddTaskToBusinessProcessControl.controls.nextTaskUser),e.xp6(3),e.Q6J("inputFormControl",null==t.AddTaskToBusinessProcessControl||null==t.AddTaskToBusinessProcessControl.controls?null:t.AddTaskToBusinessProcessControl.controls.taskDescription),e.xp6(1),e.Q6J("formControl",null==t.AddTaskToBusinessProcessControl||null==t.AddTaskToBusinessProcessControl.controls?null:t.AddTaskToBusinessProcessControl.controls.taskDescription),e.xp6(3),e.Q6J("label",t.isUpdatingTask?"Update":"Add"),e.xp6(4),e.Q6J("pageSubTitle","Business Process List"),e.xp6(2),e.Q6J("paginator",!0)("rows",10)("showCurrentPageReport",!0)("tableStyle",e.DdM(34,Ee))("value",t.searchList)("rowsPerPageOptions",e.DdM(35,Qe)),e.xp6(4),e.Akn(e.DdM(36,Ye)))},dependencies:[m.mk,m.sg,c.KR,c.TM,c.jZ,c.dB,c.lC,b.jx,P.Hq,Q.Lt,_.o,y.FN,A.iA,A.lQ,A.fz,Le.EU,i._Y,i.Fj,i.JJ,i.JL,i.nD,j.Q,i.oH,i.sg,ie.NU]}),n})();class ${deserialize(n){return Object.assign(this,n),this}}var L,ne=u(5963);class F{constructor(n){this.updateProfileCoreService=n}updatePassword(n){return this.updateProfileCoreService.updatePassword(n).pipe((0,S.b)(s=>{}),(0,g.K)(s=>{throw s}))}forgotPassword(n){return this.updateProfileCoreService.forgotPassword(n).pipe((0,S.b)(s=>{}),(0,g.K)(s=>{throw s}))}validateOtp(n){return this.updateProfileCoreService.validateOtp(n).pipe((0,S.b)(s=>{}),(0,g.K)(s=>{throw s}))}resendOtp(n){return this.updateProfileCoreService.resendOtp(n).pipe((0,S.b)(s=>{}),(0,g.K)(s=>{throw s}))}sendOtp(n){return this.updateProfileCoreService.sendOtp(n).pipe((0,S.b)(s=>{}),(0,g.K)(s=>{throw s}))}}(L=F).\u0275fac=function(n){return new(n||L)(e.LFG(d.bqK))},L.\u0275prov=e.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),(0,v.gn)([(0,T.PS)()],F.prototype,"updatePassword",null),(0,v.gn)([(0,T.PS)()],F.prototype,"forgotPassword",null),(0,v.gn)([(0,T.PS)()],F.prototype,"validateOtp",null),(0,v.gn)([(0,T.PS)()],F.prototype,"resendOtp",null),(0,v.gn)([(0,T.PS)()],F.prototype,"sendOtp",null);let K=(()=>{var r;class n{constructor(o){this.fb=o}updatePassword(o){return this.fb.group({oldPassword:this.fb.control("",i.kI.required),newPassword:this.fb.control({value:null,disabled:o},i.kI.compose([i.kI.required,c.YO.passwordValidator("reTypeNewPassword",!0)])),reTypeNewPassword:this.fb.control({value:null,disabled:o},i.kI.compose([i.kI.required,c.YO.passwordValidator("newPassword")])),enterOtp:this.fb.control({value:null,disabled:o},i.kI.compose([i.kI.required,c.YO.numericValidator()])),id:this.fb.control(null,i.kI.required)})}updateProfileApi(o,t){const a=o.getRawValue();return(new $).deserialize({oldPassword:a.oldPassword,newPassword:a.newPassword,id:t})}}return(r=n).\u0275fac=function(o){return new(o||r)(e.LFG(i.qu))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),n})();var W=u(1754),le=u(1493);function Ke(r,n){if(1&r&&(e.TgZ(0,"div",2)(1,"div",3),e._UZ(2,"div",4),e.TgZ(3,"div",5)(4,"h6"),e._uU(5,"Update Account Details"),e.qZA()(),e._UZ(6,"div",4),e.qZA(),e._UZ(7,"emigrate-sh-page-instructions",6),e.qZA()),2&r){const s=e.oxw();e.xp6(7),e.Q6J("instructionsText",s.pageInstructionText)}}function ze(r,n){if(1&r){const s=e.EpF();e.TgZ(0,"div")(1,"div",7)(2,"div",8),e._UZ(3,"emigrate-sh-page-sub-title",9),e.qZA(),e.TgZ(4,"div",10)(5,"div",11)(6,"div",12)(7,"div",13)(8,"span"),e._uU(9,"Name"),e.qZA(),e._UZ(10,"br"),e.TgZ(11,"span"),e._uU(12),e.qZA(),e._UZ(13,"br")(14,"br"),e.qZA(),e.TgZ(15,"form",14)(16,"div",13)(17,"div",15)(18,"div",16)(19,"emigrate-sh-html-input",17),e._UZ(20,"input",18),e.qZA(),e.TgZ(21,"span",19),e.NdJ("click",function(){e.CHM(s);const t=e.oxw();return e.KtG(t.otpNumber())}),e._uU(22," Forgot Password "),e.qZA()()()(),e.TgZ(23,"div",13)(24,"div",15)(25,"div",16)(26,"emigrate-sh-html-input",20),e._UZ(27,"input",21),e.qZA()()(),e.TgZ(28,"div",15)(29,"div",16)(30,"emigrate-sh-html-input",22),e._UZ(31,"input",23),e.qZA()()()()()()(),e.TgZ(32,"div")(33,"div",13)(34,"div",24)(35,"div")(36,"button",25),e.NdJ("click",function(){e.CHM(s);const t=e.oxw();return e.KtG(t.update())}),e.qZA(),e.TgZ(37,"button",26),e.NdJ("click",function(){e.CHM(s);const t=e.oxw();return e.KtG(t.goToHome())}),e.qZA()()()()()()()()}if(2&r){const s=e.oxw();e.xp6(3),e.Q6J("pageSubTitle","Update Profile"),e.xp6(9),e.Oqu(s.loginName),e.xp6(3),e.Q6J("formGroup",s.updateProfileFormGroup),e.xp6(4),e.Q6J("inputFormControl",s.updateProfileFormGroup.controls.oldPassword),e.xp6(1),e.Q6J("formControl",s.updateProfileFormGroup.controls.oldPassword),e.xp6(6),e.Q6J("inputFormControl",s.updateProfileFormGroup.controls.newPassword),e.xp6(1),e.Q6J("formControl",s.updateProfileFormGroup.controls.newPassword),e.xp6(3),e.Q6J("inputFormControl",s.updateProfileFormGroup.controls.reTypeNewPassword),e.xp6(1),e.Q6J("formControl",s.updateProfileFormGroup.controls.reTypeNewPassword)}}const Ve=function(){return{width:"50vw"}};function je(r,n){if(1&r){const s=e.EpF();e.TgZ(0,"div")(1,"div",27)(2,"div",2)(3,"div",2)(4,"div")(5,"div",28)(6,"div",13),e._UZ(7,"emigrate-sh-page-sub-title",9),e.qZA(),e.TgZ(8,"div",29)(9,"form",14)(10,"div",13)(11,"div",15)(12,"div",16)(13,"emigrate-sh-html-input",30),e._UZ(14,"input",31),e.qZA()()()()()(),e.TgZ(15,"div",2)(16,"div",13)(17,"div",24)(18,"button",32),e.NdJ("click",function(){e.CHM(s);const t=e.oxw();return e.KtG(t.previous())}),e.qZA(),e.TgZ(19,"button",33),e.NdJ("click",function(){e.CHM(s);const t=e.oxw();return e.KtG(t.reSendOtp())}),e._uU(20),e.ALo(21,"formatTime"),e.qZA(),e.TgZ(22,"button",34),e.NdJ("click",function(){e.CHM(s);const t=e.oxw();return e.KtG(t.showDialog())}),e.qZA()()()(),e.TgZ(23,"p-dialog",35),e.NdJ("visibleChange",function(t){e.CHM(s);const a=e.oxw();return e.KtG(a.visible=t)}),e.TgZ(24,"div",27)(25,"div",2)(26,"div",2)(27,"div")(28,"div",36)(29,"div",13),e._UZ(30,"emigrate-sh-page-sub-title",9),e.qZA(),e.TgZ(31,"div",29)(32,"form",14)(33,"div",13)(34,"div",37)(35,"div",16)(36,"emigrate-sh-html-input",38),e._UZ(37,"input",21),e.qZA()()(),e.TgZ(38,"div",37)(39,"div",16)(40,"emigrate-sh-html-input",39),e._UZ(41,"input",40),e.qZA()()()()()()(),e.TgZ(42,"div",2)(43,"div",13),e._UZ(44,"div",41),e.TgZ(45,"div",42)(46,"button",43),e.NdJ("click",function(){e.CHM(s);const t=e.oxw();return e.KtG(t.updateDetailsSuccessfully())}),e.qZA(),e.TgZ(47,"button",44),e.NdJ("click",function(){e.CHM(s);const t=e.oxw();return e.KtG(t.back())}),e.qZA()()()()()()()()()()()()()()()}if(2&r){const s=e.oxw();e.xp6(7),e.Q6J("pageSubTitle",s.registeredUserName),e.xp6(2),e.Q6J("formGroup",s.updateProfileFormGroup),e.xp6(4),e.Q6J("inputFormControl",s.updateProfileFormGroup.controls.enterOtp),e.xp6(1),e.Q6J("formControl",s.updateProfileFormGroup.controls.enterOtp),e.xp6(5),e.Q6J("disabled",s.disableResendButton),e.xp6(1),e.hij(" Resend OTP ",e.lcZ(21,19,s.counter)," "),e.xp6(3),e.Akn(e.DdM(21,Ve)),e.Q6J("visible",s.visible)("modal",!0)("draggable",!1)("resizable",!1)("formGroup",s.dialogFormGroup),e.xp6(7),e.Q6J("pageSubTitle","Update Profile"),e.xp6(2),e.Q6J("formGroup",s.dialogFormGroup),e.xp6(4),e.Q6J("inputFormControl",s.dialogFormGroup.controls.newPassword),e.xp6(1),e.Q6J("formControl",s.dialogFormGroup.controls.newPassword),e.xp6(3),e.Q6J("inputFormControl",s.dialogFormGroup.controls.reTypeNewPassword),e.xp6(1),e.Q6J("formControl",s.dialogFormGroup.controls.reTypeNewPassword)}}function Xe(r,n){if(1&r){const s=e.EpF();e.TgZ(0,"div")(1,"div",45)(2,"div",46),e._UZ(3,"emigrate-sh-page-sub-title",9),e.TgZ(4,"div",47)(5,"div",13),e._UZ(6,"div",48),e.TgZ(7,"div",49)(8,"span",50),e._uU(9),e.qZA()()()()()(),e.TgZ(10,"div",2)(11,"div",13)(12,"div",51)(13,"button",52),e.NdJ("click",function(){e.CHM(s);const t=e.oxw();return e.KtG(t.close())}),e.qZA()(),e._UZ(14,"div",4),e.qZA()()()}if(2&r){const s=e.oxw();e.xp6(3),e.Q6J("pageSubTitle","Status"),e.xp6(6),e.Oqu(s.message)}}let ae=(()=>{var r;class n extends c.H6{constructor(o,t,a,p,f,R,U,E){super(o),this.uiService=t,this.updateProfiles=a,this.sessionQuery=p,this.updateProfilehelper=f,this.routerQuery=R,this.router=U,this.fb=E,this.updateProfile=!0,this.showSuccess=!1,this.pageInstructionText=d.Xef.PAGE_INSTRUCTION_TEXT,this.showOtp=!1,this.topMenu=!0,this.disableResendButton=!0,this.counter=0,this.tick=1e3}ngOnInit(){this.updateProfileFormGroup=this.updateProfilehelper.updatePassword(!1),this.setLoginName(),this.dialogFormGroup=this.updateProfilehelper.updatePassword(!1)}setLoginName(){this.sessionQuery.selectUser$.subscribe(o=>{this.loginName=o.employeeDTO.employerName,this.email=o.emailAddress,this.registeredUserName="Please enter the OTP sent to your Registered Email ID ("+this.email+")",this.userId=o.userId})}saveData(){this.updateProfile=!1,this.showSuccess=!0}close(){this.router.navigate(["/admin/dashboard"])}clear(){this.updateProfileFormGroup.reset()}back(){this.visible=!1}otpNumber(){this.showOtp=!0,this.updateProfile=!1,this.sessionQuery.selectUser$.subscribe(o=>{this.updateProfiles.sendOtp(o.emailAddress).subscribe(a=>{this.showSuccessToast(a.message),this.startCountdownTimer()},a=>{409===a.status&&this.showErrorToast(a.error.error.errorMessage)})})}reSendOtp(){this.disableResendButton=!0,this.resetCounter(),this.sessionQuery.selectUser$.subscribe(o=>{this.updateProfiles.resendOtp(o.emailAddress).subscribe(a=>{this.showSuccessToast(a.message)},a=>{})})}cancel(){this.router.navigate(["/admin/dashboard"])}goToHome(){this.router.navigateByUrl("/admin/dashboard")}previous(){this.showOtp=!1,this.updateProfile=!0,this.topMenu=!0}showDialog(){if(this.updateProfileFormGroup.markAllAsTouched(),this.updateProfileFormGroup.controls.enterOtp.valid){const o=new d.CQT;o.otp=this.updateProfileFormGroup.controls.enterOtp.value,o.email=this.email,this.updateProfiles.validateOtp(o).subscribe(t=>{t.status.toLowerCase()===d.Xef.SUCCESS.toLowerCase()?this.visible=!0:this.showErrorToast(t.message)},t=>{this.showErrorToast(t.message)})}this.dialogFormGroup.reset()}updateDetailsSuccessfully(){this.sessionQuery.selectUser$.subscribe(o=>{const t=o.userId,a=this.dialogFormGroup.controls.newPassword.value,p=new $;p.newPassword=a,p.id=t,this.updateProfiles.forgotPassword(p).subscribe(f=>{this.message=f.message,this.showSuccess=!0,this.updateProfile=!1,this.showOtp=!1},f=>{this.showErrorToast(f?.error?.message)})}),this.stopCountdownTimer(),this.updateProfileFormGroup.reset()}update(){if(this.updateProfileFormGroup.markAllAsTouched(),this.updateProfileFormGroup.controls.oldPassword.valid&&this.updateProfileFormGroup.controls.newPassword.valid&&this.updateProfileFormGroup.controls.reTypeNewPassword.valid){const o=Object.assign(new $,this.updateProfilehelper.updateProfileApi(this.updateProfileFormGroup,this.userId));this.updateProfiles.updatePassword(o).subscribe({next:t=>{t.status.toLowerCase()===d.Xef.SUCCESS.toLowerCase()?(this.showSuccessToast(t.message),this.showSuccess=!0,this.message=t.message,this.updateProfile=!1,this.showOtp=!1):this.showErrorToast(t.message),this.uiService.hideSpinner()},error:t=>{this.uiService.hideSpinner();const a=t?.error?.message;this.showErrorToast(a)},complete:()=>{this.uiService.hideSpinner(),this.updateProfileFormGroup.reset()}})}}startCountdownTimer(){this.resetCounter(),this.countDown=(0,ne.H)(0,this.tick).subscribe(()=>(this.counter<=0?(this.disableResendButton=!1,this.clearCountDown()):(this.disableResendButton=!0,--this.counter),this.counter))}clearCountDown(){this.countDown=null}resetCounter(){this.counter=d.Xef.OTP_EXP_IN_SEC,this.clearCountDown()}stopCountdownTimer(){this.timerSubscription&&(this.timerSubscription.unsubscribe(),this.showOtp=!1)}}return(r=n).\u0275fac=function(o){return new(o||r)(e.Y36(b.ez),e.Y36(k.n),e.Y36(F),e.Y36(d.U_o),e.Y36(K),e.Y36(W.dt),e.Y36(h.F0),e.Y36(i.qu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-update-profile"]],features:[e.qOj],decls:5,vars:4,consts:[["class","container",4,"ngIf"],[4,"ngIf"],[1,"container"],[1,"row","mb-2","text-white"],[1,"col-1"],[1,"col-12","prime-900","p-2"],[3,"instructionsText"],[1,"content","border","mt-2","mb-4"],[1,""],[3,"pageSubTitle"],[1,"container","mt-2"],[1,"row_box"],[1,"form"],[1,"row"],[3,"formGroup"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","1","inputLabel","Old Password","inputId","oldPassword",1,"block",3,"inputFormControl"],["id","","type","text","pInputText","","placeholder","Enter Your Old Password",3,"formControl"],[1,"p-button-link","text-danger",3,"click"],["for","1","inputLabel","New Password","inputId","changePassword",1,"block",3,"inputFormControl"],["id","changePassword","type","text","pInputText","","placeholder","Enter New Password",3,"formControl"],["for","1","inputLabel","Re-type New Password","inputId","retypeNewPassword",1,"block",3,"inputFormControl"],["id","retypeNewPassword","type","text","pInputText","","placeholder","Re-Type Password",3,"formControl"],[1,"col-10","mb-2"],["pButton","","type","button","pButton","","pRipple","","label","UPDATE",1,"btn-format","mr-2","btn-blue",3,"click"],["pButton","","type","button","label","CANCEL",1,"p-button-secondary","mr-2","btn-format",3,"click"],[1,"middle_section"],[1,"content","info-table","border","mb-3"],[1,"form","container","mt-2"],["for","1","inputLabel","1.Enter Otp","inputId","otp",1,"block",3,"inputFormControl"],["id","","type","text","pInputText","","placeholder","","maxlength","6",3,"formControl"],["pButton","","type","button","label","CANCEL",1,"btn-format","mr-2","btn-blue",3,"click"],["pButton","","type","button",1,"btn-format","mr-2","btn-blue",3,"disabled","click"],["pButton","","type","submit","label","VALIDATE OTP",1,"btn-format","btn-blue",3,"click"],["header","Update Account Details",3,"visible","modal","draggable","resizable","formGroup","visibleChange"],[1,"content","border","mb-3"],[1,"col-md-6","col-sm-6"],["for","1","inputLabel","New Password","inputId","newPassword",1,"block",3,"inputFormControl"],["for","1","inputLabel","Re-type New Password","inputId","retypeNewPassword1",1,"block",3,"inputFormControl"],["id","retypeNewPassword1","type","text","pInputText","","placeholder","Re-type New Password",3,"formControl"],[1,"col-7"],[1,"col-5","mb-2"],["pButton","","type","button","label","UPDATE",1,"btn-format","mr-2","btn-blue",3,"click"],["pButton","","type","button","label","CLOSE",1,"btn-format","mr-2","btn-blue",3,"click"],[1,"border","mb-4"],[1,"content"],[1,"form","container","m-3"],[1,"col-md-4"],[1,"col-md-8"],[2,"color","green"],[1,"col-10"],["pButton","","type","submit","label","CLOSE",1,"btn-format","mr-2","mb-3","btn-blue",3,"click"]],template:function(o,t){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,Ke,8,1,"div",0),e.YNc(2,ze,38,9,"div",1),e.YNc(3,je,48,22,"div",1),e.YNc(4,Xe,15,2,"div",1)),2&o&&(e.xp6(1),e.Q6J("ngIf",t.topMenu),e.xp6(1),e.Q6J("ngIf",t.updateProfile),e.xp6(1),e.Q6J("ngIf",t.showOtp),e.xp6(1),e.Q6J("ngIf",t.showSuccess))},dependencies:[m.O5,c.KR,c.jZ,c.dB,P.Hq,le.V,_.o,y.FN,i._Y,i.Fj,i.JJ,i.JL,i.nD,i.oH,i.sg,c.Q3]}),n})(),$e=(()=>{var r;class n{constructor(o){this.fb=o}createBusinessProcess(){return this.fb.group({businessProcessRole:this.fb.group({role:this.fb.control({value:null},i.kI.required),process:this.fb.control({value:null},i.kI.required),assignmentDate:this.fb.control({value:null},i.kI.required),taskToRole:this.fb.array([])})})}}return(r=n).\u0275fac=function(o){return new(o||r)(e.LFG(i.qu))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),n})();var D;class ee{constructor(n){this.businessProcessRole=n}getAvailableTaskList(n){return this.businessProcessRole.getAvailableTaskList(n).pipe((0,g.K)(s=>{throw s}))}}(D=ee).\u0275fac=function(n){return new(n||D)(e.LFG(d.Mk1))},D.\u0275prov=e.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),(0,v.gn)([(0,T.PS)()],ee.prototype,"getAvailableTaskList",null);var We=u(8645);function et(r,n){}let tt=(()=>{var r;class n extends c.H6{constructor(o,t,a,p,f){super(a),this.helperservice=o,this.routerQuery=t,this.BusinessProcessRoleService=p,this.uiService=f,this.todayDate=new Date,this.userRole=[],this.processName=[]}ngOnInit(){this.userRole=this.routerQuery.getData()[0][d.nJz.USER_ROLES],this.processName=this.routerQuery.getData()[0][d.nJz.PROCESS_NAME],this.businessProcess=this.helperservice.createBusinessProcess()}get businessProcessRole(){return this.businessProcess.controls.businessProcessRole}getAvailableTaskList(){this.BusinessProcessRoleService.getAvailableTaskList(this.businessProcessRole.controls.process.value).subscribe({next:o=>{this.availableTaskList=o?.taskName,console.log(this.availableTaskList),console.log(o)},error:o=>{this.showErrorToast(o.message,"Add Business Process"),this.uiService.hideSpinner()},complete:()=>{this.uiService.hideSpinner()}})}}return(r=n).\u0275fac=function(o){return new(o||r)(e.Y36($e),e.Y36(W.dt),e.Y36(b.ez),e.Y36(ee),e.Y36(k.n))},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-assign-business-process-to-role"]],features:[e.qOj],decls:27,vars:14,consts:[[1,"Section"],[3,"pageSubTitle"],[1,"row"],[3,"instructionsText","toolTipText"],[1,"content"],[1,"form"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","role","inputLabel","Role","inputId","role",1,"block",3,"inputFormControl"],["EmigrateShDropdown","","id","role","placeholder","Select Role",3,"options","formControl"],["for","process","inputLabel","Process","inputId","process",1,"block",3,"inputFormControl"],["EmigrateShDropdown","","id","process","placeholder","Select Process",3,"options","formControl","onChange"],["for","assignmentDate","inputLabel","Assignment Date","inputId","assignmentDate",1,"block",3,"inputFormControl"],["inputId","assignmentDate",3,"maxDate","formControl"],["sourceHeader","Available Task","targetHeader","Assigned Task to the Role","filterBy","name","sourceFilterPlaceholder","Search by name","targetFilterPlaceholder","Search by Task","breakpoint","1400px",3,"source","target","dragdrop","responsive"],["pTemplate","item"],[1,"buttons","mb-3"],["pButton","","type","button","label","Save",1,"btn-format","mr-2","btn-blue"],["pButton","","type","button","label","Clear",1,"p-button-secondary","mr-2","btn-format"],["pButton","","type","button","label","Cancel",1,"btn-format","btn-blue"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"p-toast")(2,"emigrate-sh-page-sub-title",1),e.TgZ(3,"div",2),e._UZ(4,"emigrate-sh-page-instructions",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"div",2)(8,"div",6)(9,"div",7)(10,"emigrate-sh-html-input",8),e._UZ(11,"p-dropdown",9),e.qZA()()(),e.TgZ(12,"div",6)(13,"div",7)(14,"emigrate-sh-html-input",10)(15,"p-dropdown",11),e.NdJ("onChange",function(){return t.getAvailableTaskList()}),e.qZA()()()(),e.TgZ(16,"div",6)(17,"div",7)(18,"emigrate-sh-html-input",12),e._UZ(19,"p-calendar",13),e.qZA()()()()(),e.TgZ(20,"div",2)(21,"p-pickList",14),e.YNc(22,et,0,0,"ng-template",15),e.qZA()(),e.TgZ(23,"div",16),e._UZ(24,"button",17)(25,"button",18)(26,"button",19),e.qZA()()()),2&o&&(e.xp6(2),e.Q6J("pageSubTitle","Role Task Assignment"),e.xp6(2),e.Q6J("instructionsText","1.Fields marked with * (asterisk) are mandatory")("toolTipText","1. Fields marked with * (asterisk) are mandatory.\n            2. Please do not press F5 or Back Button"),e.xp6(6),e.Q6J("inputFormControl",null==t.businessProcessRole||null==t.businessProcessRole.controls?null:t.businessProcessRole.controls.role),e.xp6(1),e.Q6J("options",t.userRole)("formControl",null==t.businessProcessRole||null==t.businessProcessRole.controls?null:t.businessProcessRole.controls.role),e.xp6(3),e.Q6J("inputFormControl",null==t.businessProcessRole||null==t.businessProcessRole.controls?null:t.businessProcessRole.controls.process),e.xp6(1),e.Q6J("options",t.processName)("formControl",null==t.businessProcessRole||null==t.businessProcessRole.controls?null:t.businessProcessRole.controls.process),e.xp6(3),e.Q6J("inputFormControl",null==t.businessProcessRole||null==t.businessProcessRole.controls?null:t.businessProcessRole.controls.assignmentDate),e.xp6(1),e.Q6J("maxDate",t.todayDate)("formControl",null==t.businessProcessRole||null==t.businessProcessRole.controls?null:t.businessProcessRole.controls.assignmentDate),e.xp6(2),e.Q6J("dragdrop",!0)("responsive",!0))},dependencies:[c.KR,c.jZ,c.dB,c.lC,b.jx,P.Hq,Q.Lt,y.FN,We.f,i.JJ,oe.G,i.oH]}),n})();class ce{deserialize(n){return Object.assign(this,n),this}}let ot=(()=>{var r;class n{poeOfficeFormToOffice(o,t){const a=o.getRawValue();return(new ce).deserialize({name:a.name,locationId:a.district,type:t})}constructor(o){this.fb=o}createPoeOfficeForm(){return this.fb.group({name:this.fb.control(null,[i.kI.required,c.YO.fullNameValidator()]),state:this.fb.control(null,i.kI.required),district:this.fb.control(null,i.kI.required)})}}return(r=n).\u0275fac=function(o){return new(o||r)(e.LFG(i.qu))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),n})();var M,z=u(5861),V=u(3900);class J{constructor(n,s){this.locationService=n,this.meaServ=s}fetchState(n){return this.locationService.fetchState(n).pipe((0,V.w)(function(){var s=(0,z.Z)(function*(o){return o});return function(o){return s.apply(this,arguments)}}()),(0,g.K)(s=>{throw s}))}fetchDistrict(n){return this.locationService.fetchDistrict(n).pipe((0,V.w)(function(){var s=(0,z.Z)(function*(o){return o});return function(o){return s.apply(this,arguments)}}()),(0,g.K)(s=>{throw s}))}getOffices(n){return this.meaServ.getOfficeByType(n).pipe((0,V.w)(function(){var s=(0,z.Z)(function*(o){return o});return function(o){return s.apply(this,arguments)}}()),(0,g.K)(s=>{throw s}))}postOffice(n){return this.meaServ.postOffice(n).pipe((0,V.w)(function(){var s=(0,z.Z)(function*(o){return o});return function(o){return s.apply(this,arguments)}}()),(0,g.K)(s=>{throw s}))}}function st(r,n){1&r&&(e.TgZ(0,"tr")(1,"th",25)(2,"div",26),e._uU(3," Office Name "),e._UZ(4,"p-sortIcon",27),e.qZA()(),e.TgZ(5,"th",28)(6,"div",26),e._uU(7," State "),e._UZ(8,"p-sortIcon",29),e.qZA()(),e.TgZ(9,"th",30)(10,"div",26),e._uU(11," District "),e._UZ(12,"p-sortIcon",31),e.qZA()()())}function rt(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"td")(2,"span",32),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"span",33),e._uU(6),e.qZA()(),e.TgZ(7,"td")(8,"span",32),e._uU(9),e.qZA()()()),2&r){const s=n.$implicit;e.xp6(3),e.Oqu(s.name),e.xp6(3),e.Oqu(s.stateName),e.xp6(3),e.Oqu(s.districtName)}}function it(r,n){1&r&&(e.TgZ(0,"tr")(1,"td",34),e._uU(2,"No Demand found."),e.qZA()())}(M=J).\u0275fac=function(n){return new(n||M)(e.LFG(d.aUv),e.LFG(d.vom))},M.\u0275prov=e.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),(0,v.gn)([(0,T.PS)()],J.prototype,"fetchState",null),(0,v.gn)([(0,T.PS)()],J.prototype,"fetchDistrict",null),(0,v.gn)([(0,T.PS)()],J.prototype,"getOffices",null),(0,v.gn)([(0,T.PS)()],J.prototype,"postOffice",null);const nt=function(){return{"min-width":"50rem"}};let ue=(()=>{var r;class n extends c.H6{constructor(o,t,a,p,f,R,U){super(o),this.formHelper=t,this.routerQuery=a,this.uiService=p,this.router=f,this.sessionQuery=R,this.mngServ=U}ngOnInit(){this.type=this.routerQuery.getData("type"),this.officeType="MEA"==this.type?"MEA Head":"PoE",this.getMasterData(),this.getAllOffices(),console.log(this.offices),this.countries.length>0&&(this.countryId=this.countries.filter(o=>o?.label?.toLowerCase()=="INDIA".toLowerCase())[0].value),this.fetchState(),this.poeOfficeForm=this.formHelper.createPoeOfficeForm(),this.poeOfficeForm.controls.state.valueChanges.subscribe(o=>this.fetchDistrict(o))}getMasterData(){this.countries=this.routerQuery.getData()[0][d.Yo_.COUNTRY]}fetchState(){this.mngServ.fetchState(this.countryId).subscribe({next:o=>{this.states=o.length>0?o:[]},error:()=>{this.showErrorToast(d.rmt.TOAST_COMMON_ERROR)}})}fetchDistrict(o){o&&this.mngServ.fetchDistrict(o).subscribe({next:a=>{this.districts=a.length>0?a:[]},error:()=>{this.showErrorToast(d.rmt.TOAST_COMMON_ERROR)}})}addOffice(){if(this.poeOfficeForm.valid){this.uiService.showSpinner();const o=Object.assign(new ce,this.formHelper.poeOfficeFormToOffice(this.poeOfficeForm,this.type));this.mngServ.postOffice(o).subscribe({next:t=>{this.uiService.hideSpinner(),this.showSuccessToast(t.message)},error:t=>{this.uiService.hideSpinner(),this.showErrorToast(t.error.error.errorMessage)},complete:()=>{this.getAllOffices(),this.uiService.hideSpinner()}})}this.poeOfficeForm.valid||this.showWarningToast("Please fill all required fields")}getAllOffices(){this.mngServ.getOffices(this.type).subscribe(o=>this.offices=o)}}return(r=n).\u0275fac=function(o){return new(o||r)(e.Y36(b.ez),e.Y36(ot),e.Y36(W.dt),e.Y36(k.n),e.Y36(h.F0),e.Y36(d.U_o),e.Y36(J))},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-poe-offices"]],features:[e.qOj],decls:36,vars:18,consts:[[1,"middle_section"],[1,"container"],[1,"row"],[3,"pageTitle"],[1,"content"],[3,"instructionsText","toolTipText"],[3,"pageSubTitle"],[1,"form"],[1,"col-md-4","col-sm-6"],[1,"field"],["inputLabel","Name","inputId","address",1,"block",3,"inputFormControl"],["id","address","type","text","pInputText","","placeholder","Name",3,"formControl"],["inputLabel","State/UT","inputId","state",1,"block",3,"inputFormControl"],["EmigrateShDropdown","","id","state","placeholder","Select",3,"formControl","options"],["inputLabel","Country","inputId","country",1,"block",3,"inputFormControl"],["EmigrateShDropdown","","id","country","placeholder","Select",3,"formControl","options"],[1,"row","mb-2"],[1,"col-12"],[1,"buttons"],["pButton","","type","button","label","Add",1,"btn-format","btn-blue","mr-2","btn-format",3,"click"],["dataKey","arn","title","Offices","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","showCurrentPageReport","tableStyle"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pSortableColumn","arn",2,"min-width","18rem"],[1,"flex","align-items-center"],["field","arn"],["pSortableColumn","employerName",2,"min-width","12rem"],["field","employerName"],["pSortableColumn","feId",2,"min-width","10rem"],["field","feId"],[1,"align-items-center","vertical-align-middle"],[1,"text-center","vertical-align-middle"],["colspan","7"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"p-toast"),e.TgZ(2,"div",1)(3,"div",2),e._UZ(4,"emigrate-sh-page-title",3),e.qZA(),e.TgZ(5,"div",4),e._UZ(6,"emigrate-sh-page-instructions",5)(7,"emigrate-sh-page-sub-title",6),e.TgZ(8,"div",7)(9,"form")(10,"div",2)(11,"div",8)(12,"div",9)(13,"emigrate-sh-html-input",10),e._UZ(14,"input",11),e.qZA()()(),e.TgZ(15,"div",8)(16,"div",9)(17,"emigrate-sh-html-input",12),e._UZ(18,"p-dropdown",13),e.qZA()()(),e.TgZ(19,"div",8)(20,"div",9)(21,"emigrate-sh-html-input",14),e._UZ(22,"p-dropdown",15),e.qZA()()()(),e.TgZ(23,"div",16)(24,"div",17)(25,"div",18)(26,"button",19),e.NdJ("click",function(){return t.addOffice()}),e.qZA()()()()()()()(),e.TgZ(27,"div",4)(28,"h4"),e._uU(29),e.qZA(),e.TgZ(30,"div")(31,"p-table",20,21),e.YNc(33,st,13,0,"ng-template",22),e.YNc(34,rt,10,3,"ng-template",23),e.YNc(35,it,3,0,"ng-template",24),e.qZA()()()()),2&o&&(e.xp6(4),e.MGl("pageTitle","Manage ",t.officeType," Office"),e.xp6(2),e.Q6J("instructionsText","1. Fields marked with * (asterisk) are mandatory.")("toolTipText","Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions."),e.xp6(1),e.MGl("pageSubTitle","Create ",t.officeType," Office"),e.xp6(6),e.Q6J("inputFormControl",t.poeOfficeForm.controls.name),e.xp6(1),e.Q6J("formControl",t.poeOfficeForm.controls.name),e.xp6(3),e.Q6J("inputFormControl",t.poeOfficeForm.controls.state),e.xp6(1),e.Q6J("formControl",t.poeOfficeForm.controls.state)("options",t.states),e.xp6(3),e.Q6J("inputFormControl",t.poeOfficeForm.controls.district),e.xp6(1),e.Q6J("formControl",t.poeOfficeForm.controls.district)("options",t.districts),e.xp6(7),e.hij("Available ",t.officeType," Offices"),e.xp6(2),e.Q6J("value",t.offices)("rows",10)("showCurrentPageReport",!0)("tableStyle",e.DdM(17,nt)))},dependencies:[c.KR,c.TM,c.jZ,c.dB,c.lC,b.jx,P.Hq,Q.Lt,_.o,y.FN,A.iA,A.lQ,A.fz,i._Y,i.Fj,i.JJ,i.JL,i.F,i.oH]}),n})();var q;class I{constructor(n){this.raUpdateResetPasswordService=n}validateOtp(n){return this.raUpdateResetPasswordService.validateOtp(n).pipe((0,S.b)(s=>{}),(0,g.K)(s=>{throw s}))}resendOtp(n){return this.raUpdateResetPasswordService.resendOtp(n).pipe((0,S.b)(s=>{}),(0,g.K)(s=>{throw s}))}sendOtp(n){return this.raUpdateResetPasswordService.sendOtp(n).pipe((0,S.b)(s=>{}),(0,g.K)(s=>{throw s}))}updatePassword(n){return this.raUpdateResetPasswordService.updatePassword(n).pipe((0,S.b)(s=>{}),(0,g.K)(s=>{throw s}))}forgotPassword(n){return this.raUpdateResetPasswordService.forgotPassword(n).pipe((0,S.b)(s=>{}),(0,g.K)(s=>{throw s}))}}(q=I).\u0275fac=function(n){return new(n||q)(e.LFG(d.tEY))},q.\u0275prov=e.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),(0,v.gn)([(0,T.PS)()],I.prototype,"validateOtp",null),(0,v.gn)([(0,T.PS)()],I.prototype,"resendOtp",null),(0,v.gn)([(0,T.PS)()],I.prototype,"sendOtp",null),(0,v.gn)([(0,T.PS)()],I.prototype,"updatePassword",null),(0,v.gn)([(0,T.PS)()],I.prototype,"forgotPassword",null);let de=(()=>{var r;class n{constructor(){this.message="password updated successfully"}}return(r=n).\u0275fac=function(o){return new(o||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-show-success-screen"]],decls:9,vars:2,consts:[[1,"border","mb-4"],[1,"content"],[3,"pageSubTitle"],[1,"form","container","m-3"],[1,"row"],[1,"col-md-4"],[1,"col-md-8"],[2,"color","green"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"emigrate-sh-page-sub-title",2),e.TgZ(3,"div",3)(4,"div",4),e._UZ(5,"div",5),e.TgZ(6,"div",6)(7,"span",7),e._uU(8),e.qZA()()()()()()),2&o&&(e.xp6(2),e.Q6J("pageSubTitle","Status"),e.xp6(6),e.Oqu(t.message))},dependencies:[c.jZ]}),n})();const lt=function(){return{width:"50vw"}};function at(r,n){if(1&r){const s=e.EpF();e.ynx(0),e.TgZ(1,"p-dialog",17),e.NdJ("visibleChange",function(t){e.CHM(s);const a=e.oxw(2);return e.KtG(a.visible=t)}),e.TgZ(2,"div",2)(3,"div",3)(4,"div",3)(5,"div")(6,"div",18)(7,"div",5),e._UZ(8,"emigrate-sh-page-sub-title",6),e.qZA(),e.TgZ(9,"div",7)(10,"form",8)(11,"div",5)(12,"div",19)(13,"div",10)(14,"emigrate-sh-html-input",20),e._UZ(15,"input",21),e.qZA()()(),e.TgZ(16,"div",19)(17,"div",10)(18,"emigrate-sh-html-input",22),e._UZ(19,"input",23),e.qZA()()()(),e.TgZ(20,"div",5)(21,"div",24)(22,"button",25),e.NdJ("click",function(){e.CHM(s);const t=e.oxw(2);return e.KtG(t.updateDetailsSuccessfully())}),e.qZA(),e.TgZ(23,"button",26),e.NdJ("click",function(){e.CHM(s);const t=e.oxw(2);return e.KtG(t.back())}),e.qZA()()()()()()()()()()(),e.BQk()}if(2&r){const s=e.oxw(2);e.xp6(1),e.Akn(e.DdM(13,lt)),e.Q6J("visible",s.visible)("modal",!0)("draggable",!1)("resizable",!1)("formGroup",s.dialogFormGroup),e.xp6(7),e.Q6J("pageSubTitle","Update Profile"),e.xp6(2),e.Q6J("formGroup",s.dialogFormGroup),e.xp6(4),e.Q6J("inputFormControl",s.dialogFormGroup.controls.newPassword),e.xp6(1),e.Q6J("formControl",s.dialogFormGroup.controls.newPassword),e.xp6(3),e.Q6J("inputFormControl",s.dialogFormGroup.controls.reTypeNewPassword),e.xp6(1),e.Q6J("formControl",s.dialogFormGroup.controls.reTypeNewPassword)}}function ct(r,n){if(1&r){const s=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"div",3)(3,"div",4)(4,"div",5),e._UZ(5,"emigrate-sh-page-sub-title",6),e.qZA(),e.TgZ(6,"div",7)(7,"form",8)(8,"div",5)(9,"div",9)(10,"div",10)(11,"emigrate-sh-html-input",11),e._UZ(12,"input",12),e.qZA()()()()()(),e.TgZ(13,"div",3)(14,"div",5)(15,"div",13)(16,"button",14),e.NdJ("click",function(){e.CHM(s);const t=e.oxw();return e.KtG(t.previous())}),e.qZA(),e.TgZ(17,"button",15),e.NdJ("click",function(){e.CHM(s);const t=e.oxw();return e.KtG(t.reSendOtp())}),e._uU(18),e.ALo(19,"formatTime"),e.qZA(),e.TgZ(20,"button",16),e.NdJ("click",function(){e.CHM(s);const t=e.oxw();return e.KtG(t.showDialog())}),e.qZA()()()(),e.YNc(21,at,24,14,"ng-container",1),e.qZA()()()()}if(2&r){const s=e.oxw();e.xp6(5),e.Q6J("pageSubTitle",s.registeredUserName),e.xp6(2),e.Q6J("formGroup",s.updateRaPasswordFormGroup),e.xp6(4),e.Q6J("inputFormControl",null==s.updateRaPasswordFormGroup||null==s.updateRaPasswordFormGroup.controls?null:s.updateRaPasswordFormGroup.controls.enterOtp),e.xp6(1),e.Q6J("formControl",null==s.updateRaPasswordFormGroup||null==s.updateRaPasswordFormGroup.controls?null:s.updateRaPasswordFormGroup.controls.enterOtp),e.xp6(5),e.Q6J("disabled",s.disableResendButton),e.xp6(1),e.hij(" Resend OTP ",e.lcZ(19,7,s.counter)," "),e.xp6(3),e.Q6J("ngIf",s.isModel)}}function ut(r,n){1&r&&(e.ynx(0),e._UZ(1,"emigrate-show-success-screen"),e.BQk())}let dt=(()=>{var r;class n extends c.H6{constructor(o,t,a,p,f){super(o),this.formHelperService=t,this.sessionQuery=a,this.updateProfileHelper=p,this.raUpdatePasswordService=f,this.otpResend=new e.vpe,this.showDialogue=new e.vpe,this.otpEmitter=new e.vpe,this.message="",this.counter=0,this.disableResendButton=!1,this.isModel=!1,this.showSuccess=!1,this.otpScreen=!0}ngOnInit(){this.updateRaPasswordFormGroup=this.formHelperService.updatePassword(!1),this.dialogFormGroup=this.formHelperService.updatePassword(!1)}back(){}updateDetailsSuccessfully(){this.dialogFormGroup.markAllAsTouched(),this.dialogFormGroup.controls.newPassword.valid&&this.dialogFormGroup.controls.reTypeNewPassword.valid&&this.sessionQuery.selectUser$.subscribe(o=>{const t=o.userId,a=this.dialogFormGroup.controls.newPassword.value,p=new d.y3T;p.newPassword=a,p.id=t,this.raUpdatePasswordService.forgotPassword(p).subscribe(f=>{this.message=f.message,this.showSuccess=!0,this.visible=!1,this.otpScreen=!1},f=>{this.showErrorToast(f?.error?.message)})})}showDialog(){this.otpValue=this.updateRaPasswordFormGroup.controls.enterOtp.value,this.updateRaPasswordFormGroup.controls.enterOtp.valid&&(this.otpEmitter.emit(this.otpValue),this.showDialogue.emit(!0))}reSendOtp(){this.otpResend.emit(!0)}previous(){}}return(r=n).\u0275fac=function(o){return new(o||r)(e.Y36(b.ez),e.Y36(K),e.Y36(d.U_o),e.Y36(K),e.Y36(I))},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-ra-forgot-password"]],inputs:{dialogFormGroup:"dialogFormGroup",visible:"visible",otpValue:"otpValue",isModel:"isModel"},outputs:{otpResend:"otpResend",showDialogue:"showDialogue",otpEmitter:"otpEmitter"},features:[e.qOj],decls:2,vars:2,consts:[["class","middle_section",4,"ngIf"],[4,"ngIf"],[1,"middle_section"],[1,"container"],[1,"content","info-table","border","mb-3"],[1,"row"],[3,"pageSubTitle"],[1,"form","container","mt-2"],[3,"formGroup"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","1","inputLabel","1.Enter Otp","inputId","otp",1,"block",3,"inputFormControl"],["id","","type","text","pInputText","","placeholder","","maxlength","6",3,"formControl"],[1,"col-10","mb-2"],["pButton","","type","button","label","CANCEL",1,"btn-format","mr-2","btn-blue",3,"click"],["pButton","","type","button",1,"btn-format","mr-2","btn-blue",3,"disabled","click"],["pButton","","type","submit","label","VALIDATE OTP",1,"btn-format","btn-blue",3,"click"],["header","Update Account Details",3,"visible","modal","draggable","resizable","formGroup","visibleChange"],[1,"content","border","mb-3"],[1,"col-md-6","col-sm-6"],["for","1","inputLabel","New Password","inputId","newPassword",1,"block",3,"inputFormControl"],["id","changePassword","type","text","pInputText","","placeholder","Enter New Password",3,"formControl"],["for","1","inputLabel","Re-type New Password","inputId","retypeNewPassword1",1,"block",3,"inputFormControl"],["id","retypeNewPassword1","type","text","pInputText","","placeholder","Re-type New Password",3,"formControl"],[1,"d-flex","mr-2","mb-2"],["pButton","","type","button","label","UPDATE",1,"btn-format","mr-2","btn-blue",3,"click"],["pButton","","type","button","label","CLOSE",1,"btn-format","mr-2","btn-blue",3,"click"]],template:function(o,t){1&o&&(e.YNc(0,ct,22,9,"div",0),e.YNc(1,ut,2,0,"ng-container",1)),2&o&&(e.Q6J("ngIf",t.otpScreen),e.xp6(1),e.Q6J("ngIf",t.showSuccess))},dependencies:[m.O5,c.KR,c.jZ,P.Hq,le.V,_.o,i._Y,i.Fj,i.JJ,i.JL,i.nD,i.oH,i.sg,de,c.Q3]}),n})();function pt(r,n){if(1&r&&(e.TgZ(0,"div",2)(1,"div",3),e._UZ(2,"div",4),e.TgZ(3,"div",5)(4,"h6"),e._uU(5,"Update Account Details"),e.qZA()(),e._UZ(6,"div",4),e.qZA(),e._UZ(7,"emigrate-sh-page-instructions",6),e.qZA()),2&r){const s=e.oxw();e.xp6(7),e.Q6J("instructionsText",s.pageInstructionText)}}function mt(r,n){if(1&r){const s=e.EpF();e.TgZ(0,"div")(1,"div",7)(2,"div",8),e._UZ(3,"emigrate-sh-page-sub-title",9),e.qZA(),e.TgZ(4,"div",10)(5,"div",11)(6,"div",12)(7,"div",13)(8,"span"),e._uU(9,"Name"),e.qZA(),e._UZ(10,"br"),e.TgZ(11,"span"),e._uU(12),e.qZA(),e._UZ(13,"br")(14,"br"),e.qZA(),e.TgZ(15,"form",14)(16,"div",13)(17,"div",15)(18,"div",16)(19,"emigrate-sh-html-input",17),e._UZ(20,"input",18),e.qZA(),e.TgZ(21,"span",19),e.NdJ("click",function(){e.CHM(s);const t=e.oxw();return e.KtG(t.otpNumber())}),e._uU(22," Forgot Password "),e.qZA()()()(),e.TgZ(23,"div",13)(24,"div",15)(25,"div",16)(26,"emigrate-sh-html-input",20),e._UZ(27,"input",21),e.qZA()()(),e.TgZ(28,"div",15)(29,"div",16)(30,"emigrate-sh-html-input",22),e._UZ(31,"input",23),e.qZA()()()()()()(),e.TgZ(32,"div")(33,"div",13)(34,"div",24)(35,"div")(36,"button",25),e.NdJ("click",function(){e.CHM(s);const t=e.oxw();return e.KtG(t.update())}),e.qZA(),e.TgZ(37,"button",26),e.NdJ("click",function(){e.CHM(s);const t=e.oxw();return e.KtG(t.goToHome())}),e.qZA()()()()()()()()}if(2&r){const s=e.oxw();e.xp6(3),e.Q6J("pageSubTitle","Update Profile"),e.xp6(9),e.Oqu(s.loginName),e.xp6(3),e.Q6J("formGroup",s.updateRaProfileFormGroup),e.xp6(4),e.Q6J("inputFormControl",s.updateRaProfileFormGroup.controls.oldPassword),e.xp6(1),e.Q6J("formControl",s.updateRaProfileFormGroup.controls.oldPassword),e.xp6(6),e.Q6J("inputFormControl",s.updateRaProfileFormGroup.controls.newPassword),e.xp6(1),e.Q6J("formControl",s.updateRaProfileFormGroup.controls.newPassword),e.xp6(3),e.Q6J("inputFormControl",s.updateRaProfileFormGroup.controls.reTypeNewPassword),e.xp6(1),e.Q6J("formControl",s.updateRaProfileFormGroup.controls.reTypeNewPassword)}}function ht(r,n){if(1&r){const s=e.EpF();e.ynx(0),e.TgZ(1,"emigrate-ra-forgot-password",27),e.NdJ("otpResend",function(){e.CHM(s);const t=e.oxw();return e.KtG(t.reSendOtp())})("showDialogue",function(){e.CHM(s);const t=e.oxw();return e.KtG(t.validateOtp())})("otpEmitter",function(t){e.CHM(s);const a=e.oxw();return e.KtG(a.getOtpValue(t))}),e.qZA(),e.BQk()}if(2&r){const s=e.oxw();e.xp6(1),e.Q6J("isModel",s.isDialogue)("visible",s.visible)("isModel",s.isModel)}}function ft(r,n){1&r&&(e.ynx(0),e._UZ(1,"emigrate-show-success-screen"),e.BQk())}let gt=(()=>{var r;class n extends c.H6{constructor(o,t,a,p,f){super(t),this.sessionQuery=o,this.updateProfileHelper=a,this.raUpdatePasswordService=p,this.uiService=f,this.pageInstructionText=d.Xef.PAGE_INSTRUCTION_TEXT,this.updateProfile=!0,this.topMenu=!0,this.otpScreen=!1,this.successScreen=!1,this.isModel=!1,this.showSuccess=!1,this.disableResendButton=!1,this.tick=1e3,this.counter=0,this.visible=!1,this.isDialogue=!1,this.message=""}ngOnInit(){this.updateRaProfileFormGroup=this.updateProfileHelper.updatePassword(!1),this.setLoginName()}getOtpValue(o){this.otpValue=o}setLoginName(){this.sessionQuery.selectUser$.subscribe(o=>{this.loginName=o.employeeDTO.employerName,this.email=o.emailAddress,this.registeredUserName="Please enter the OTP sent to your Registered Email ID ("+this.email+")",this.userId=o.userId})}goToHome(){}otpNumber(){this.otpScreen=!0,this.updateProfile=!1,this.sessionQuery.selectUser$.subscribe(o=>{this.raUpdatePasswordService.sendOtp(o.emailAddress).subscribe(a=>{this.showSuccessToast(a.message),this.startCountdownTimer()},a=>{409===a.status&&this.showErrorToast(a.error.error.errorMessage)})})}reSendOtp(){this.disableResendButton=!0,this.resetCounter(),this.sessionQuery.selectUser$.subscribe(o=>{this.raUpdatePasswordService.resendOtp(o.emailAddress).subscribe(a=>{this.showSuccessToast(a.message)},a=>{})})}validateOtp(){const o=new d.CQT;o.otp=this.otpValue,o.email=this.email,this.raUpdatePasswordService.validateOtp(o).subscribe(t=>{t.status.toLowerCase()===d.Xef.SUCCESS.toLowerCase()?(this.isModel=!0,this.visible=!0):this.showErrorToast(t.message)},t=>{this.showErrorToast(t.message)})}update(){if(this.updateRaProfileFormGroup.markAllAsTouched(),this.updateRaProfileFormGroup.controls.oldPassword.valid&&this.updateRaProfileFormGroup.controls.newPassword.valid&&this.updateRaProfileFormGroup.controls.reTypeNewPassword.valid){const o=Object.assign(new d.y3T,this.updateProfileHelper.updateProfileApi(this.updateRaProfileFormGroup,this.userId));this.raUpdatePasswordService.updatePassword(o).subscribe({next:t=>{t.status.toLowerCase()===d.Xef.SUCCESS.toLowerCase()?(this.showSuccessToast(t.message),this.showSuccess=!0,this.message=t.message,this.updateProfile=!1):this.showErrorToast(t.message),this.uiService.hideSpinner()},error:t=>{this.uiService.hideSpinner();const a=t?.error?.message;this.showErrorToast(a)},complete:()=>{this.uiService.hideSpinner(),this.updateRaProfileFormGroup.reset()}})}}previous(){}updateDetailsSuccessfully(){}back(){}startCountdownTimer(){this.resetCounter(),this.countDown=(0,ne.H)(0,this.tick).subscribe(()=>(this.counter<=0?(this.disableResendButton=!1,this.clearCountDown()):(this.disableResendButton=!0,--this.counter),this.counter))}clearCountDown(){this.countDown=null}resetCounter(){this.counter=d.Xef.OTP_EXP_IN_SEC,this.clearCountDown()}}return(r=n).\u0275fac=function(o){return new(o||r)(e.Y36(d.U_o),e.Y36(b.ez),e.Y36(K),e.Y36(I),e.Y36(k.n))},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-update-ra-password"]],features:[e.qOj],decls:5,vars:4,consts:[["class","container",4,"ngIf"],[4,"ngIf"],[1,"container"],[1,"row","mb-2","text-white"],[1,"col-1"],[1,"col-12","prime-900","p-2"],[3,"instructionsText"],[1,"content","border","mt-2","mb-4"],[1,""],[3,"pageSubTitle"],[1,"container","mt-2"],[1,"row_box"],[1,"form"],[1,"row"],[3,"formGroup"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","1","inputLabel","Old Password","inputId","oldPassword",1,"block",3,"inputFormControl"],["id","","type","text","pInputText","","placeholder","Enter Your Old Password",3,"formControl"],[1,"p-button-link","text-danger",3,"click"],["for","1","inputLabel","New Password","inputId","changePassword",1,"block",3,"inputFormControl"],["id","changePassword","type","text","pInputText","","placeholder","Enter New Password",3,"formControl"],["for","1","inputLabel","Re-type New Password","inputId","retypeNewPassword",1,"block",3,"inputFormControl"],["id","retypeNewPassword","type","text","pInputText","","placeholder","Re-Type Password",3,"formControl"],[1,"col-10","mb-2"],["pButton","","type","button","pButton","","pRipple","","label","UPDATE",1,"btn-format","mr-2","btn-blue",3,"click"],["pButton","","type","button","label","CANCEL",1,"p-button-secondary","mr-2","btn-format",3,"click"],[3,"isModel","visible","otpResend","showDialogue","otpEmitter"]],template:function(o,t){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,pt,8,1,"div",0),e.YNc(2,mt,38,9,"div",1),e.YNc(3,ht,2,3,"ng-container",1),e.YNc(4,ft,2,0,"ng-container",1)),2&o&&(e.xp6(1),e.Q6J("ngIf",t.topMenu),e.xp6(1),e.Q6J("ngIf",t.updateProfile),e.xp6(1),e.Q6J("ngIf",t.otpScreen),e.xp6(1),e.Q6J("ngIf",t.showSuccess))},dependencies:[m.O5,c.KR,c.jZ,c.dB,P.Hq,_.o,y.FN,i._Y,i.Fj,i.JJ,i.JL,i.oH,i.sg,dt,de]}),n})();const vt=[{path:"user",loadChildren:()=>Promise.all([u.e(8592),u.e(982)]).then(u.bind(u,7159)).then(r=>r.UserManagementModule)},{path:"batch-administration",pathMatch:"full",component:C,resolve:[]},{path:"notified-coutries",loadChildren:()=>u.e(1694).then(u.bind(u,1694)).then(r=>r.NotifiedCountriesModule),resolve:[d.nIO]},{path:"payment-reconciliation",pathMatch:"full",component:Z,resolve:[]},{path:"service-levels",pathMatch:"full",component:l,resolve:[]},{path:"report-recipient-list",pathMatch:"full",component:be,resolve:[]},{path:"configure-validity-paramaters",pathMatch:"full",component:_e,resolve:[]},{path:"country-parameters",pathMatch:"full",component:Pe,resolve:[]},{path:"add-business-process",pathMatch:"full",component:Oe,resolve:[]},{path:"add-taskto-business",pathMatch:"full",component:He,resolve:[]},{path:"create-internal-role",pathMatch:"full",component:Re,resolve:[]},{path:"assign-business-process",pathMatch:"full",component:tt,resolve:[d.UBG]},{path:"update-profile",pathMatch:"full",component:ae,resolve:[]},{path:"mark-work-item",pathMatch:"full",component:ae,resolve:[]},{path:"consulate",loadChildren:()=>u.e(5609).then(u.bind(u,5609)).then(r=>r.ConsulateModule)},{path:"business-parameters",loadChildren:()=>u.e(78).then(u.bind(u,78)).then(r=>r.BusinessParametersModule)},{path:"job",loadChildren:()=>u.e(8833).then(u.bind(u,8833)).then(r=>r.JobModule)},{path:"permission",loadChildren:()=>u.e(2131).then(u.bind(u,2131)).then(r=>r.PermissionModule)},{path:"insurance-agency",loadChildren:()=>u.e(7405).then(u.bind(u,7405)).then(r=>r.InsuranceAgencyModule)},{path:"job-designation",loadChildren:()=>u.e(2480).then(u.bind(u,2480)).then(r=>r.JobDesignationModule)},{path:"work-item",loadChildren:()=>Promise.all([u.e(7612),u.e(9899)]).then(u.bind(u,9899)).then(r=>r.WorkItemModule)},{path:"grievance-workitem",loadChildren:()=>u.e(842).then(u.bind(u,842)).then(r=>r.GrievanceWorkitemModule)},{path:"referral-wages",loadChildren:()=>Promise.all([u.e(7612),u.e(8248),u.e(4925)]).then(u.bind(u,4925)).then(r=>r.ReferralWagesModule)},{path:"business-process",loadChildren:()=>Promise.all([u.e(7612),u.e(6088)]).then(u.bind(u,6088)).then(r=>r.BusinessProcessModule)},{path:"emigrant-association-details",loadChildren:()=>u.e(2093).then(u.bind(u,2093)).then(r=>r.UpdateEmigrantAssociationDetailsModule)},{path:"manage-poe-office",pathMatch:"full",component:ue,data:{type:"POE"},resolve:[d.myw]},{path:"manage-mea-office",pathMatch:"full",component:ue,data:{type:"MEA"},resolve:[d.myw]},{path:"ra-update-details",pathMatch:"full",component:gt,resolve:[]}];let Tt=(()=>{var r;class n{}return(r=n).\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[h.Bz.forChild(vt),h.Bz]}),n})(),bt=(()=>{var r;class n{}return(r=n).\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[m.ez,Tt,c.uR,w.g,i.UX,i.u5,ie.q4]}),n})()},8725:(te,N,u)=>{u.d(N,{j:()=>C});var m=u(4006),w=u(2976),h=u(1358),e=u(1571);let C=(()=>{var Z;class P{constructor(i){this.fb=i}createAddUserForm(i){return this.fb.group({userPersonalDetails:this.fb.group({firstName:this.fb.control({value:null,disabled:i},m.kI.compose([m.kI.required,h.YO.characterValidator()])),lastName:this.fb.control({value:null,disabled:i},m.kI.compose([h.YO.characterValidator()])),employeeId:this.fb.control({value:null,disabled:i},m.kI.required),address1:this.fb.control({value:null,disabled:i},m.kI.compose([m.kI.required,h.YO.addressValidator()])),address2:this.fb.control({value:null,disabled:i},m.kI.compose([h.YO.addressValidator()])),countryId:this.fb.control({value:null,disabled:i},m.kI.required),stateId:this.fb.control({value:null,disabled:i},m.kI.required),cityId:this.fb.control({value:null,disabled:i},m.kI.required),emailAddress:this.fb.control({value:null,disabled:i},m.kI.compose([m.kI.required,h.YO.emailValidator()])),landlineNumber:this.fb.control({value:null,disabled:i},m.kI.compose([h.YO.phoneNumberValidator()])),zipCode:this.fb.control({value:null,disabled:i},m.kI.compose([m.kI.required,h.YO.pincodeValidator()])),mobileNumber:this.fb.control({value:null,disabled:i},m.kI.compose([m.kI.required,h.YO.intMobileNumberValidator()]))}),userOtherDetails:this.fb.group({organisationId:this.fb.control({value:null,disabled:i},m.kI.compose([m.kI.required])),roleId:this.fb.control({value:null,disabled:i},m.kI.required),workCountryId:this.fb.control({value:null,disabled:i},m.kI.required),workStateId:this.fb.control({value:null,disabled:i},m.kI.required),timeZone:this.fb.control({value:null,disabled:!0}),accessTimeFrom:this.fb.control({value:null,disabled:!0}),accessTimeTo:this.fb.control({value:null,disabled:!0}),poeOfficeId:this.fb.control({value:null,disabled:i}),consulateId:this.fb.control({value:null,disabled:i}),userDocument:this.fb.group({id:this.fb.control({value:null,disabled:i}),name:this.fb.control({value:null,disabled:i}),file:this.fb.control({value:null,disabled:i},m.kI.required),fileType:this.fb.control({value:null,disabled:i}),size:this.fb.control({value:null,disabled:i})}),file:this.fb.control({value:null})})})}addUserFormToUser(i){const l=i.getRawValue();return(new w.RmF).deserialize({firstName:l.userPersonalDetails.firstName,lastName:l.userPersonalDetails.lastName,employeeId:l.userPersonalDetails.employeeId,address1:l.userPersonalDetails.address1,address2:l.userPersonalDetails.address2,countryId:l.userPersonalDetails.countryId,cityId:l.userPersonalDetails.cityId,stateId:l.userPersonalDetails.stateId,emailAddress:l.userPersonalDetails.emailAddress,zipCode:l.userPersonalDetails.zipCode,landlineNumber:l.userPersonalDetails.landlineNumber,mobileNumber:l.userPersonalDetails.mobileNumber,organisationId:l.userOtherDetails.organisationId,roleId:l.userOtherDetails.roleId,workCountryId:l.userOtherDetails.workCountryId,workStateId:l.userOtherDetails.workStateId,poeOfficeId:l.userOtherDetails.poeOfficeId,consulateId:l.userOtherDetails.consulateId,userDocument:{id:l.userOtherDetails.userDocument.id,name:l.userOtherDetails.userDocument.name,file:l.userOtherDetails.userDocument.file,fileType:l.userOtherDetails.userDocument.fileType}})}viewEditUserForm(i,l){return this.fb.group({employeeId:this.fb.control({value:l?l.employeeId:null,disabled:i}),personalInformation:this.fb.group({firstName:this.fb.control({value:l?l.firstName:null,disabled:i}),lastName:this.fb.control({value:l?l.lastName:null,disabled:i})}),address:this.fb.group({address:this.fb.control({value:l?l.address1+" "+l.address2:null,disabled:i}),cityId:this.fb.control({value:l?l.cityId:null,disabled:i}),stateId:this.fb.control({value:l?l.stateId:null,disabled:i}),zipCode:this.fb.control({value:l?l.zipCode:null,disabled:i}),countryId:this.fb.control({value:l?l.countryId:null,disabled:i}),landlineNumber:this.fb.control({value:l?l.landlineNumber:null,disabled:i})}),contactDetails:this.fb.group({mobileNumber:this.fb.control({value:l?l.mobileNumber:null,disabled:!1},m.kI.compose([m.kI.required,h.YO.intMobileNumberValidator()])),emailAddress:this.fb.control({value:l?l.emailAddress:null,disabled:!1},m.kI.compose([m.kI.required,h.YO.emailValidator()]))}),workLocationInfo:this.fb.group({workCountryId:this.fb.control({value:l?l.workCountryId:null,disabled:!1}),workStateId:this.fb.control({value:l?l.workStateId:null,disabled:!1}),timeZone:this.fb.control({value:l?l.timeZone:null,disabled:i}),accessTimeFrom:this.fb.control({value:l?l.accessTimeFrom:null,disabled:!0}),accessTimeTo:this.fb.control({value:l?l.accessTimeTo:null,disabled:i})})})}viewEditUserFormToUser(i,l){const c=i.getRawValue();return(new w.rsX).deserialize({id:l,emailAddress:c.contactDetails.emailAddress,mobileNumber:c.contactDetails.mobileNumber,workCountryId:c.workLocationInfo.workCountryId,workStateId:c.workLocationInfo.workStateId})}deactivateUserForm(i,l){return this.fb.group({employeeId:this.fb.control({value:l?l.employeeId:null,disabled:i}),personalInformation:this.fb.group({firstName:this.fb.control({value:l?l.firstName:null,disabled:i}),lastName:this.fb.control({value:l?l.lastName:null,disabled:i})}),address:this.fb.group({address:this.fb.control({value:l?l.address1+" "+l.address2:null,disabled:i}),cityId:this.fb.control({value:l?l.cityId:null,disabled:i}),stateId:this.fb.control({value:l?l.stateId:null,disabled:i}),zipCode:this.fb.control({value:l?l.zipCode:null,disabled:i}),countryId:this.fb.control({value:l?l.countryId:null,disabled:i}),landlineNumber:this.fb.control({value:l?l.landlineNumber:null,disabled:i})}),contactDetails:this.fb.group({mobileNumber:this.fb.control({value:l?l.mobileNumber:null,disabled:i},m.kI.compose([m.kI.required,h.YO.intMobileNumberValidator()])),emailAddress:this.fb.control({value:l?l.emailAddress:null,disabled:i},m.kI.compose([m.kI.required,h.YO.emailValidator()]))}),workLocationInfo:this.fb.group({workCountryId:this.fb.control({value:l?l.workCountryId:null,disabled:i}),workStateId:this.fb.control({value:l?l.workStateId:null,disabled:i}),timeZone:this.fb.control({value:l?l.timeZone:null,disabled:i}),accessTimeFrom:this.fb.control({value:l?l.accessTimeFrom:null,disabled:!0}),accessTimeTo:this.fb.control({value:l?l.accessTimeTo:null,disabled:i})}),reasonFrom:this.fb.group({remark:this.fb.control({value:null,disabled:!1},m.kI.required),userDocument:this.fb.group({id:this.fb.control({value:null,disabled:!1}),name:this.fb.control({value:null,disabled:!1}),file:this.fb.control({value:null,disabled:!1}),fileType:this.fb.control({value:null,disabled:!1}),size:this.fb.control({value:null,disabled:!1})})})})}createUserRoleForm(i,l){return this.fb.group({employeeId:this.fb.control({value:l?l.employeeId:null,disabled:i}),personalInformation:this.fb.group({firstName:this.fb.control({value:l?l.firstName:null,disabled:i}),lastName:this.fb.control({value:l?l.lastName:null,disabled:i})}),contactDetails:this.fb.group({mobileNumber:this.fb.control({value:l?l.mobileNumber:null,disabled:i}),emailAddress:this.fb.control({value:l?l.emailAddress:null,disabled:i})}),userRoles:this.fb.group({organisationId:this.fb.control({value:l?l.organisationId:null,disabled:i}),roles:this.fb.control({value:l?l.roles:null,disabled:i})})})}createUserJurisdictionForm(i,l){return this.fb.group({employeeId:this.fb.control({value:l?l.employeeId:null,disabled:i}),personalInformation:this.fb.group({firstName:this.fb.control({value:l?l.firstName:null,disabled:i}),lastName:this.fb.control({value:l?l.lastName:null,disabled:i})}),address:this.fb.group({address:this.fb.control({value:l?l.address1+" "+l.address2:null,disabled:i}),cityId:this.fb.control({value:l?l.cityId:null,disabled:i}),stateId:this.fb.control({value:l?l.stateId:null,disabled:i}),zipCode:this.fb.control({value:l?l.zipCode:null,disabled:i}),countryId:this.fb.control({value:l?l.countryId:null,disabled:i}),landlineNumber:this.fb.control({value:l?l.landlineNumber:null,disabled:i})}),contactDetails:this.fb.group({mobileNumber:this.fb.control({value:l?l.mobileNumber:null,disabled:i}),emailAddress:this.fb.control({value:l?l.emailAddress:null,disabled:i})}),organisationInfo:this.fb.group({organisationId:this.fb.control({value:l?l.organisationId:null,disabled:i}),organisationName:this.fb.control({value:l?l.organisationName:null,disabled:i}),processId:this.fb.control({value:l?l.processId:null,disabled:i}),jurisdictions:this.fb.control({value:l?.locations?.length?l.locations.map(c=>c.id):null,disabled:i})})})}createUserLocationForm(i,l){return this.fb.group({employeeId:this.fb.control({value:l?l.employeeId:null,disabled:i}),personalInformation:this.fb.group({firstName:this.fb.control({value:l?l.firstName:null,disabled:i}),lastName:this.fb.control({value:l?l.lastName:null,disabled:i})}),address:this.fb.group({address:this.fb.control({value:l?l.address1+" "+l.address2:null,disabled:i}),cityId:this.fb.control({value:l?l.cityId:null,disabled:i}),stateId:this.fb.control({value:l?l.stateId:null,disabled:i}),zipCode:this.fb.control({value:l?l.zipCode:null,disabled:i}),countryId:this.fb.control({value:l?l.countryId:null,disabled:i}),landlineNumber:this.fb.control({value:l?l.landlineNumber:null,disabled:i})}),contactDetails:this.fb.group({mobileNumber:this.fb.control({value:l?l.mobileNumber:null,disabled:i}),emailAddress:this.fb.control({value:l?l.emailAddress:null,disabled:i})}),organisationInfo:this.fb.group({organisationId:this.fb.control({value:l?l.organisationId:null,disabled:i}),processId:this.fb.control({value:l?l.processId:null,disabled:i}),locations:this.fb.control({value:l?l.locations:null,disabled:i})})})}createRoleFeatureForm(i,l){return this.fb.group({id:this.fb.control({value:l?l.roleId:null,disabled:i}),roleFeatures:this.fb.group({features:this.fb.control({value:l?l.featureList.map(c=>c.id):null,disabled:i})})})}roleFeatureFormToEmigrateRole(i){const l=i.getRawValue();return(new w.tPd).deserialize({roleId:l.id,featureList:l.roleFeatures.features?.map(c=>(new w.Zy9).deserialize({id:c}))})}userRoleFormToEmigrateUpdateUserRole(i,l){const c=l.getRawValue();return(new w.sj7).deserialize({userId:i,roleIds:c.userRoles?.roles})}createReportRecipientListForm(i,l){return this.fb.group({report:this.fb.control({value:l?.report,disabled:i},m.kI.required),frequency:this.fb.control({value:l?.frequency,disabled:i},m.kI.required),recipient:this.fb.control({value:l?.recipient,disabled:i},m.kI.required)})}userJurisdictionFormToEmigrateUpdateUserJurisdiction(i,l){const c=l.getRawValue();return(new w.VmY).deserialize({userId:i,locationIds:c.organisationInfo?.jurisdictions})}}return(Z=P).\u0275fac=function(i){return new(i||Z)(e.LFG(m.qu))},Z.\u0275prov=e.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),P})()},5518:(te,N,u)=>{u.d(N,{L:()=>i});var _,m=u(655),w=u(4004),h=u(262),e=u(8505),C=u(8513),Z=u(1571),P=u(2976);class i{constructor(c){this.userMgnmtService=c}getAll(){return this.userMgnmtService.getAllUsers().pipe((0,w.U)(c=>c.data),(0,h.K)(c=>{throw c}))}add(c){return this.userMgnmtService.saveUser(c).pipe((0,e.b)(d=>{}),(0,h.K)(d=>{throw d}))}updateUser(c){return this.userMgnmtService.updateUser(c).pipe((0,e.b)(d=>{}),(0,h.K)(d=>{throw d}))}getById(c){return this.userMgnmtService.getUserById(c).pipe((0,w.U)(d=>d),(0,h.K)(d=>{throw d}))}getByIdForJurisdiction(c){return this.userMgnmtService.getUserByIdForJurisdiction(c).pipe((0,w.U)(d=>d),(0,h.K)(d=>{throw d}))}deleteById(c){return this.userMgnmtService.deleteUserById(c).pipe((0,w.U)(d=>d),(0,h.K)(d=>{throw d}))}deactivate(c){return this.userMgnmtService.deactivateUser(c).pipe((0,e.b)(d=>{}),(0,h.K)(d=>{throw d}))}addFeaturesToRole(c){return this.userMgnmtService.addFeaturesToRole(c).pipe((0,e.b)(d=>{}),(0,h.K)(d=>{throw d}))}getUserByRoleIdAndFeatureId(c,d){return this.userMgnmtService.getUserByRoleIdAndFeatureId(c,d).pipe((0,w.U)(k=>k),(0,h.K)(k=>{throw k}))}addRolesToUser(c){return this.userMgnmtService.addRolesToUser(c).pipe((0,e.b)(d=>{}),(0,h.K)(d=>{throw d}))}addJurisdictionsToUser(c){return this.userMgnmtService.addJurisdictionsToUser(c).pipe((0,e.b)(d=>{}),(0,h.K)(d=>{throw d}))}}(_=i).\u0275fac=function(c){return new(c||_)(Z.LFG(P.xhG))},_.\u0275prov=Z.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),(0,m.gn)([(0,C.PS)()],i.prototype,"getAll",null),(0,m.gn)([(0,C.PS)()],i.prototype,"add",null),(0,m.gn)([(0,C.PS)()],i.prototype,"updateUser",null),(0,m.gn)([(0,C.PS)()],i.prototype,"getById",null),(0,m.gn)([(0,C.PS)()],i.prototype,"getByIdForJurisdiction",null),(0,m.gn)([(0,C.PS)()],i.prototype,"deleteById",null),(0,m.gn)([(0,C.PS)()],i.prototype,"deactivate",null),(0,m.gn)([(0,C.PS)()],i.prototype,"addFeaturesToRole",null),(0,m.gn)([(0,C.PS)()],i.prototype,"getUserByRoleIdAndFeatureId",null),(0,m.gn)([(0,C.PS)()],i.prototype,"addRolesToUser",null),(0,m.gn)([(0,C.PS)()],i.prototype,"addJurisdictionsToUser",null)}}]);