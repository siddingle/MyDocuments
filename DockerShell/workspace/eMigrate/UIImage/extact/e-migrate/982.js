"use strict";(self.webpackChunke_migrate=self.webpackChunke_migrate||[]).push([[982],{4950:(nt,N,m)=>{m.d(N,{g:()=>g});var F,C=m(5861),h=m(655),b=m(8505),c=m(262),a=m(3900),v=m(8513),t=m(1571),y=m(2976);class g{constructor(d,u,s){this.empService=d,this.otpService=u,this.locationService=s}saveEmployer(d){return this.empService.saveEmployer(d).pipe((0,b.b)(u=>{}),(0,c.K)(u=>{throw u}))}saveCompany(d){return this.empService.saveCompany(d).pipe((0,b.b)(u=>{}),(0,c.K)(u=>{throw u}))}validateOtp(d){return this.otpService.validateOtp(d).pipe((0,b.b)(u=>{}),(0,c.K)(u=>{throw u}))}validateEmployer(d){return this.empService.validateEmployer(d).pipe((0,b.b)(u=>{}),(0,c.K)(u=>{throw u}))}validateCompany(d){return this.empService.validateCompany(d).pipe((0,b.b)(u=>{}),(0,c.K)(u=>{throw u}))}resendOtp(d){return this.otpService.resendOtp(d).pipe((0,b.b)(u=>{}),(0,c.K)(u=>{throw u}))}downloadFileFEIndividual(d){return this.empService.downloadFileFEIndividual(d).pipe((0,b.b)(u=>{}),(0,c.K)(u=>{throw u}))}downloadFileFECompany(d){return this.empService.downloadFileFECompany(d).pipe((0,b.b)(u=>{}),(0,c.K)(u=>{throw u}))}fetchState(d){return this.locationService.fetchState(d).pipe((0,a.w)(function(){var u=(0,C.Z)(function*(s){return s});return function(s){return u.apply(this,arguments)}}()),(0,c.K)(u=>{throw u}))}fetchCityByCountry(d){return this.locationService.getCityByCountry(d).pipe((0,c.K)(u=>{throw u}))}fetchJurisdiction(d){return this.locationService.fetchJurisdiction(d).pipe((0,a.w)(function(){var u=(0,C.Z)(function*(s){return s});return function(s){return u.apply(this,arguments)}}()),(0,c.K)(u=>{throw u}))}fetchCity(d){return this.locationService.fetchFECity(d).pipe((0,a.w)(function(){var u=(0,C.Z)(function*(s){return s});return function(s){return u.apply(this,arguments)}}()),(0,c.K)(u=>{throw u}))}fetchCityByDistrict(d){return this.locationService.fetchCity(d).pipe((0,a.w)(function(){var u=(0,C.Z)(function*(s){return s});return function(s){return u.apply(this,arguments)}}()),(0,c.K)(u=>{throw u}))}fetchDistrict(d){return this.locationService.fetchDistrict(d).pipe((0,a.w)(function(){var u=(0,C.Z)(function*(s){return s});return function(s){return u.apply(this,arguments)}}()),(0,c.K)(u=>{throw u}))}}(F=g).\u0275fac=function(d){return new(d||F)(t.LFG(y.pLz),t.LFG(y.noZ),t.LFG(y.aUv))},F.\u0275prov=t.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),(0,h.gn)([(0,v.PS)()],g.prototype,"saveEmployer",null),(0,h.gn)([(0,v.PS)()],g.prototype,"saveCompany",null),(0,h.gn)([(0,v.PS)()],g.prototype,"validateOtp",null),(0,h.gn)([(0,v.PS)()],g.prototype,"validateEmployer",null),(0,h.gn)([(0,v.PS)()],g.prototype,"validateCompany",null),(0,h.gn)([(0,v.PS)()],g.prototype,"resendOtp",null),(0,h.gn)([(0,v.PS)()],g.prototype,"downloadFileFEIndividual",null),(0,h.gn)([(0,v.PS)()],g.prototype,"downloadFileFECompany",null),(0,h.gn)([(0,v.PS)()],g.prototype,"fetchState",null),(0,h.gn)([(0,v.PS)()],g.prototype,"fetchCityByCountry",null),(0,h.gn)([(0,v.PS)()],g.prototype,"fetchJurisdiction",null),(0,h.gn)([(0,v.PS)()],g.prototype,"fetchCity",null),(0,h.gn)([(0,v.PS)()],g.prototype,"fetchCityByDistrict",null),(0,h.gn)([(0,v.PS)()],g.prototype,"fetchDistrict",null)},7159:(nt,N,m)=>{m.r(N),m.d(N,{UserManagementModule:()=>ie});var C=m(6895),h=m(3599),b=m(5861),c=m(1358),a=m(2976),v=m(4128),t=m(1571),y=m(8725),F=m(5518),g=m(6945),f=m(805),d=m(1754),u=m(4950),s=m(4006),w=m(3608),U=m(2453),$=m(8783),I=m(2137),T=m(5593),G=m(2210),Z=m(1740);let st=(()=>{var r;class n{constructor(){this.activeIndex=new t.vpe,this.cancelClick=new t.vpe}getNextTab(){this.entityFormGroup.markAllAsTouched(),this.entityFormGroup.valid&&this.activeIndex.emit(1)}onCancelClick(){this.cancelClick.emit(!0)}clearForm(){this.entityFormGroup.reset()}}return(r=n).\u0275fac=function(i){return new(i||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["emigrate-personal-details"]],inputs:{entityFormGroup:"entityFormGroup",countries:"countries",state:"state",city:"city"},outputs:{activeIndex:"activeIndex",cancelClick:"cancelClick"},decls:69,vars:26,consts:[[1,"form"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"field"],["inputLabel","First Name","inputId","firstname",1,"block",3,"inputFormControl"],["id","firstname","type","text","pInputText","","placeholder","First Name",3,"formControl"],["inputLabel","Last Name","inputId","lastname",1,"block",3,"inputFormControl"],["id","lastname","type","text","pInputText","","placeholder","Last Name",3,"formControl"],["inputLabel","Employee ID","inputId","employeeId",1,"block",3,"inputFormControl"],["id","employeeId","type","text","pInputText","","placeholder","Employee ID",3,"formControl"],[1,"mt-3"],["inputLabel","Address (Line1)","inputId","addressLine2",1,"block",3,"inputFormControl"],["id","addressLine2","type","text","pInputText","","placeholder","Address (Line1)",3,"formControl"],["inputLabel","Address (Line2)","inputId","addressline2",1,"block",3,"inputFormControl"],["id","addressline2","type","text","pInputText","","placeholder"," Address (Line2)",3,"formControl"],["inputLabel","Country","inputId","country",1,"block",3,"inputFormControl"],["id","country","placeholder","Select","EmigrateShDropdown","",3,"formControl","options"],["inputLabel","State","inputId","state",1,"block",3,"inputFormControl"],["id","state","placeholder","Select","EmigrateShDropdown","",3,"formControl","options"],["inputLabel","City","inputId","city",1,"block",3,"inputFormControl"],["id","city","type","text","pInputText","","placeholder","City",3,"formControl"],["inputLabel","Postal/Zip-code","inputId","zipCode",1,"block",3,"inputFormControl"],["id","zipCode","type","text","pInputText","","placeholder"," Postal/Zip-code",3,"formControl"],["inputLabel","Email ID","inputId","emailid",1,"block",3,"inputFormControl"],["id","emailid","type","text","pInputText","","placeholder"," Email ID",3,"formControl"],["inputLabel","Landline Number","inputId","landlineNumber",1,"block",3,"inputFormControl"],["id","landlineNumber","type","text","pInputText","","placeholder","Landline Number",3,"formControl"],["inputLabel","Mobile Number","inputId","mobileNumber",1,"block",3,"inputFormControl"],["id","mobileNumber","type","text","pInputText","","placeholder","Mobile Number",3,"formControl"],[1,"buttons","mt-3"],["pButton","","type","button",1,"btn-format","btn-blue","mr-2",3,"click"],[1,"pi","pi-trash",2,"font-size","0.7rem"],["pButton","","type","button",1,"btn-blue","mr-2","btn-format",3,"click"],[1,"pi","pi-times",2,"font-size","0.7rem"],["pButton","","type","button",1,"btn-format","btn-blue",3,"click"],[1,"pi","pi-bookmark","mr-1",2,"font-size","0.7rem"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"h4"),t._uU(2,"Personal Information :"),t.qZA(),t.TgZ(3,"form")(4,"div",1)(5,"div",2)(6,"div",3)(7,"emigrate-sh-html-input",4),t._UZ(8,"input",5),t.qZA()()(),t.TgZ(9,"div",2)(10,"div",3)(11,"emigrate-sh-html-input",6),t._UZ(12,"input",7),t.qZA()()(),t.TgZ(13,"div",2)(14,"div",3)(15,"emigrate-sh-html-input",8),t._UZ(16,"input",9),t.qZA()()()(),t.TgZ(17,"h4",10),t._uU(18,"Address :"),t.qZA(),t.TgZ(19,"div",1)(20,"div",2)(21,"div",3)(22,"emigrate-sh-html-input",11),t._UZ(23,"input",12),t.qZA()()(),t.TgZ(24,"div",2)(25,"div",3)(26,"emigrate-sh-html-input",13),t._UZ(27,"input",14),t.qZA()()(),t.TgZ(28,"div",2)(29,"div",3)(30,"emigrate-sh-html-input",15),t._UZ(31,"p-dropdown",16),t.qZA()()(),t.TgZ(32,"div",2)(33,"div",3)(34,"emigrate-sh-html-input",17),t._UZ(35,"p-dropdown",18),t.qZA()()(),t.TgZ(36,"div",2)(37,"div",3)(38,"emigrate-sh-html-input",19),t._UZ(39,"input",20),t.qZA()()(),t.TgZ(40,"div",2)(41,"div",3)(42,"emigrate-sh-html-input",21),t._UZ(43,"input",22),t.qZA()()(),t.TgZ(44,"div",2)(45,"div",3)(46,"emigrate-sh-html-input",23),t._UZ(47,"input",24),t.qZA()()()(),t.TgZ(48,"h4",10),t._uU(49,"Phone Number ( Please enter atleast one of the mobile or landline number) :"),t.qZA(),t.TgZ(50,"div",1)(51,"div",2)(52,"div",3)(53,"emigrate-sh-html-input",25),t._UZ(54,"input",26),t.qZA()()(),t.TgZ(55,"div",2)(56,"div",3)(57,"emigrate-sh-html-input",27),t._UZ(58,"input",28),t.qZA()()()(),t.TgZ(59,"div",29)(60,"button",30),t.NdJ("click",function(){return o.clearForm()}),t._UZ(61,"i",31),t._uU(62," Clear "),t.qZA(),t.TgZ(63,"button",32),t.NdJ("click",function(){return o.onCancelClick()}),t._UZ(64,"i",33),t._uU(65," Cancel "),t.qZA(),t.TgZ(66,"button",34),t.NdJ("click",function(){return o.getNextTab()}),t._UZ(67,"i",35),t._uU(68," Save & Next "),t.qZA()()()()),2&i&&(t.xp6(7),t.Q6J("inputFormControl",o.entityFormGroup.controls.firstName),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.firstName),t.xp6(3),t.Q6J("inputFormControl",o.entityFormGroup.controls.lastName),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.lastName),t.xp6(3),t.Q6J("inputFormControl",o.entityFormGroup.controls.employeeId),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.employeeId),t.xp6(6),t.Q6J("inputFormControl",o.entityFormGroup.controls.address1),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.address1),t.xp6(3),t.Q6J("inputFormControl",o.entityFormGroup.controls.address2),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.address2),t.xp6(3),t.Q6J("inputFormControl",o.entityFormGroup.controls.countryId),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.countryId)("options",o.countries),t.xp6(3),t.Q6J("inputFormControl",o.entityFormGroup.controls.stateId),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.stateId)("options",o.state),t.xp6(3),t.Q6J("inputFormControl",o.entityFormGroup.controls.cityId),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.cityId),t.xp6(3),t.Q6J("inputFormControl",o.entityFormGroup.controls.zipCode),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.zipCode),t.xp6(3),t.Q6J("inputFormControl",o.entityFormGroup.controls.emailAddress),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.emailAddress),t.xp6(6),t.Q6J("inputFormControl",o.entityFormGroup.controls.landlineNumber),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.landlineNumber),t.xp6(3),t.Q6J("inputFormControl",o.entityFormGroup.controls.mobileNumber),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.mobileNumber))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.oH,T.Hq,G.Lt,Z.o,s.F,c.KR,c.lC]}),n})(),at=(()=>{var r;class n{constructor(){this.activeIndex=new t.vpe,this.submitDetails=new t.vpe,this.cancelClick=new t.vpe,this.maxFileSize=a.Xef.MAX_FILE_SIZE,this.deleteFile=!1}getPreviousTab(){this.activeIndex.emit(0)}documentData(i){if(i)switch(i.action){case a.Xef.ACTION.ADD:this.documentFormGroup.get("id").setValue(i.data.id),this.documentFormGroup.patchValue({id:i.data.id,name:i.data.name,file:i.data.file,fileType:i.data.type,size:i.data.size});break;case a.Xef.ACTION.REMOVE:this.documentFormGroup.patchValue({id:null,name:null,file:null,fileType:null,size:null})}}submitUser(){this.entityFormGroup.markAllAsTouched(),this.entityFormGroup.valid&&this.submitDetails.emit(!0)}clearForm(){this.entityFormGroup.reset(),this.deleteFile=!0,setTimeout(()=>{this.deleteFile=!1},500)}onCancelClick(){this.cancelClick.emit(!0)}get documentFormGroup(){return this.entityFormGroup.controls.userDocument}}return(r=n).\u0275fac=function(i){return new(i||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["emigrate-other-details"]],inputs:{entityFormGroup:"entityFormGroup",countries:"countries",state:"state",organization:"organization",office:"office",jurisdiction:"jurisdiction",userRoles:"userRoles"},outputs:{activeIndex:"activeIndex",submitDetails:"submitDetails",cancelClick:"cancelClick"},decls:69,vars:27,consts:[[1,"form","pb-0"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"field"],["inputLabel","Organization","inputId","organization",1,"block",3,"inputFormControl"],["EmigrateShDropdown","","id","organization","placeholder","Select Organization",3,"formControl","options"],["inputLabel","Role","inputId","role",1,"block",3,"inputFormControl"],["EmigrateShDropdown","","id","role","placeholder","Select",3,"formControl","options"],["inputLabel","Country","inputId","workCountry",1,"block",3,"inputFormControl"],["EmigrateShDropdown","","id","workCountry","placeholder","Select",3,"formControl","options"],["inputLabel","State","inputId","workState",1,"block",3,"inputFormControl"],["EmigrateShDropdown","","id","workState","placeholder","Select",3,"formControl","options"],["inputLabel","Time","inputId","timeZone",1,"block",3,"inputFormControl"],["id","timeZone","type","text","pInputText","","placeholder","Time",3,"formControl"],["inputLabel","Access Time From","inputId","accessTimeFrom",1,"block",3,"inputFormControl"],["id","accessTimeFrom","type","text","pInputText","","placeholder"," Access Time From",3,"formControl"],["inputLabel","Access Time To","inputId","accessTimeTo",1,"block",3,"inputFormControl"],["id","accessTimeTo","type","text","pInputText","","placeholder"," Access Time To",3,"formControl"],["inputLabel","PoE Office","inputId","poeOffice",1,"block",3,"inputFormControl"],["EmigrateShDropdown","","id","poeOffice","placeholder","Select",3,"formControl","options"],["inputLabel","Consulate","inputId","consulate",1,"block",3,"inputFormControl"],["EmigrateShDropdown","","id","consulate","placeholder","Select",3,"formControl","options"],[1,"col-md-12"],[1,"p-0","mb-4","file-upload-listing"],[1,"d-flex"],[3,"documentId","maxFileSize","isFileRemove","uploadedFile"],[1,"buttons","mt-3"],["pButton","","type","button",1,"btn-blue","mr-2","btn-format",3,"click"],[1,"pi","pi-angle-left"],["pButton","","type","button",1,"btn-format","btn-blue",3,"click"],[1,"pi","pi-bookmark","mr-1",2,"font-size","0.7rem"],["pButton","","type","button",1,"btn-format","btn-blue","mr-2",3,"click"],[1,"pi","pi-trash",2,"font-size","0.7rem"],[1,"pi","pi-times",2,"font-size","0.7rem"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"h4"),t._uU(2,"Organization Information"),t.qZA(),t.TgZ(3,"form")(4,"div",1)(5,"div",2)(6,"div",3)(7,"emigrate-sh-html-input",4),t._UZ(8,"p-dropdown",5),t.qZA()()(),t.TgZ(9,"div",2)(10,"div",3)(11,"emigrate-sh-html-input",6),t._UZ(12,"p-dropdown",7),t.qZA()()()(),t.TgZ(13,"h4"),t._uU(14,"Work Location Information"),t.qZA(),t.TgZ(15,"div",1)(16,"div",2)(17,"div",3)(18,"emigrate-sh-html-input",8),t._UZ(19,"p-dropdown",9),t.qZA()()(),t.TgZ(20,"div",2)(21,"div",3)(22,"emigrate-sh-html-input",10),t._UZ(23,"p-dropdown",11),t.qZA()()(),t.TgZ(24,"div",2)(25,"div",3)(26,"emigrate-sh-html-input",12),t._UZ(27,"input",13),t.qZA()()(),t.TgZ(28,"div",2)(29,"div",3)(30,"emigrate-sh-html-input",14),t._UZ(31,"input",15),t.qZA()()(),t.TgZ(32,"div",2)(33,"div",3)(34,"emigrate-sh-html-input",16),t._UZ(35,"input",17),t.qZA()()(),t.TgZ(36,"div",2)(37,"div",3)(38,"emigrate-sh-html-input",18),t._UZ(39,"p-dropdown",19),t.qZA()()(),t.TgZ(40,"div",2)(41,"div",3)(42,"emigrate-sh-html-input",20),t._UZ(43,"p-dropdown",21),t.qZA()()()(),t.TgZ(44,"h4"),t._uU(45,"Upload Authorization document"),t.qZA(),t.TgZ(46,"div",1)(47,"div",22)(48,"div",3)(49,"ul",23)(50,"li",24)(51,"label"),t._uU(52,"Upload Documents "),t.TgZ(53,"span"),t._uU(54,"*"),t.qZA()(),t.TgZ(55,"emigrate-sh-file-upload",25),t.NdJ("uploadedFile",function(p){return o.documentData(p)}),t.qZA()()()()()()(),t.TgZ(56,"div",26)(57,"button",27),t.NdJ("click",function(){return o.getPreviousTab()}),t._UZ(58,"i",28),t._uU(59," Previous "),t.qZA(),t.TgZ(60,"button",29),t.NdJ("click",function(){return o.submitUser()}),t._UZ(61,"i",30),t._uU(62," Save & Next "),t.qZA(),t.TgZ(63,"button",31),t.NdJ("click",function(){return o.clearForm()}),t._UZ(64,"i",32),t._uU(65," Clear "),t.qZA(),t.TgZ(66,"button",27),t.NdJ("click",function(){return o.onCancelClick()}),t._UZ(67,"i",33),t._uU(68," Cancel "),t.qZA()()()),2&i&&(t.xp6(7),t.Q6J("inputFormControl",o.entityFormGroup.controls.organisationId),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.organisationId)("options",o.organization),t.xp6(3),t.Q6J("inputFormControl",o.entityFormGroup.controls.roleId),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.roleId)("options",o.userRoles),t.xp6(6),t.Q6J("inputFormControl",o.entityFormGroup.controls.workCountryId),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.workCountryId)("options",o.countries),t.xp6(3),t.Q6J("inputFormControl",o.entityFormGroup.controls.workStateId),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.workStateId)("options",o.state),t.xp6(3),t.Q6J("inputFormControl",o.entityFormGroup.controls.timeZone),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.timeZone),t.xp6(3),t.Q6J("inputFormControl",o.entityFormGroup.controls.accessTimeFrom),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.accessTimeFrom),t.xp6(3),t.Q6J("inputFormControl",o.entityFormGroup.controls.accessTimeTo),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.accessTimeTo),t.xp6(3),t.Q6J("inputFormControl",o.entityFormGroup.controls.poeOfficeId),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.poeOfficeId)("options",o.office),t.xp6(3),t.Q6J("inputFormControl",o.entityFormGroup.controls.consulateId),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.consulateId)("options",o.jurisdiction),t.xp6(12),t.Q6J("documentId",1)("maxFileSize",o.maxFileSize)("isFileRemove",o.deleteFile))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.oH,T.Hq,G.Lt,Z.o,s.F,c.KR,c.Yr,c.lC]}),n})();function lt(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",3),t._uU(2," Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions. "),t._UZ(3,"span",4),t.qZA(),t._UZ(4,"div",5),t.TgZ(5,"form",6)(6,"p-tabView",7),t.NdJ("activeIndexChange",function(o){t.CHM(e);const l=t.oxw();return t.KtG(l.activeIndex=o)}),t.TgZ(7,"p-tabPanel",8)(8,"emigrate-personal-details",9),t.NdJ("activeIndex",function(o){t.CHM(e);const l=t.oxw();return t.KtG(l.setActiveIndex(o))})("cancelClick",function(o){t.CHM(e);const l=t.oxw();return t.KtG(l.onCancelClick(o))}),t.qZA()(),t.TgZ(9,"p-tabPanel",10)(10,"emigrate-other-details",11),t.NdJ("activeIndex",function(o){t.CHM(e);const l=t.oxw();return t.KtG(l.setActiveIndex(o))})("cancelClick",function(o){t.CHM(e);const l=t.oxw();return t.KtG(l.onCancelClick(o))})("submitDetails",function(o){t.CHM(e);const l=t.oxw();return t.KtG(l.submitUser(o))}),t.qZA()()()()()}if(2&r){const e=t.oxw();t.xp6(5),t.Q6J("formGroup",e.UserFormGroup),t.xp6(1),t.Q6J("activeIndex",e.activeIndex),t.xp6(1),t.Q6J("disabled",!0),t.xp6(1),t.Q6J("entityFormGroup",e.userPersonalDetailsFormGroup)("countries",e.countries)("state",e.state)("city",e.city),t.xp6(1),t.Q6J("disabled",!0),t.xp6(1),t.Q6J("entityFormGroup",e.userOtherDetailsFormGroup)("countries",e.workCountry)("state",e.workState)("organization",e.organization)("office",e.office)("jurisdiction",e.jurisdiction)("userRoles",e.userRoles)}}function ut(r,n){if(1&r&&(t.TgZ(0,"div",12)(1,"h3"),t._uU(2),t.qZA(),t.TgZ(3,"div",2)(4,"p"),t._uU(5),t.qZA()()()),2&r){const e=t.oxw();t.xp6(2),t.Oqu(null==e.successObj?null:e.successObj.heading),t.xp6(3),t.hij("",null==e.successObj?null:e.successObj.message,".")}}const ct=function(){return{width:"40vw"}};let pt=(()=>{var r;class n extends c.H6{constructor(i,o,l,p,_,W,ne,se){super(p),this.formHelper=i,this._userMgmntService=o,this.uiService=l,this.routerQuery=_,this.confirmationService=W,this.router=ne,this._employerService=se,this.activeIndex=0,this.otherDetailsDisabled=!0,this.breadcrumb=[]}ngOnInit(){this.UserFormGroup=this.formHelper.createAddUserForm(!1),this.getAllDropdownValues(),this.home={icon:"pi pi-home",routerLink:"/"},this.showSuccessStatus=!1,this.subscribeToFormValueChanges()}getAllDropdownValues(){this.countries=this.routerQuery.getData()[0][a.Yo_.COUNTRY],this.workCountry=this.routerQuery.getData()[0][a.Yo_.COUNTRY],this.state=this.routerQuery.getData()[0][a.Yo_.STATE],this.workState=this.routerQuery.getData()[0][a.Yo_.STATE],this.district=this.routerQuery.getData()[0][a.Yo_.DISTRICT],this.city=this.routerQuery.getData()[0][a.Yo_.CITY],this.jurisdiction=this.routerQuery.getData()[0][a.Yo_.CONSULATE],this.business=this.routerQuery.getData()[0][a.Yo_.BUSINESS],this.designation=this.routerQuery.getData()[0][a.Yo_.DESIGNATION],this.organization=this.routerQuery.getData()[0][a.Yo_.ORGANIZATION],this.jobRole=this.routerQuery.getData()[0][a.Yo_.JOB_ROLE],this.office=this.routerQuery.getData()[0][a.Yo_.OFFICE],this.userRoles=this.routerQuery.getData()[0][a.Yo_.USER_ROLES]}setBreadcrumb(){this.breadcrumb=[{label:"Dashboard",routerLink:["/admin"]},{label:"User Management",routerLink:["/admin"]}],this.breadcrumb.push({label:"Add User",routerLink:["/admin/user/add"]}),this.uiService.initPageSetup(this.breadcrumb,"Add User")}setActiveIndex(i){this.activeIndex=i,this.otherDetailsDisabled=1!=this.activeIndex}submitUser(i){i&&this.addUser()}addUser(){if(this.UserFormGroup.markAllAsTouched(),this.UserFormGroup.valid){const i=Object.assign(new a.RmF,this.formHelper.addUserFormToUser(this.UserFormGroup));this.uiService.showSpinner(),this._userMgmntService.add(i).subscribe({next:o=>{o.status===a.Xef.SUCCESS?(this.showSuccessToast(o.message),this.router.navigate(["admin/administration/user/success","add"]),this.uiService.hideSpinner()):(this.showErrorToast(o?.message),this.uiService.hideSpinner())},error:o=>{this.showErrorToast(o?.message),this.uiService.hideSpinner()},complete:()=>{}})}else this.showErrorToast("Please enter all required fields")}patchUserFormGroup(i){var o=this;return(0,b.Z)(function*(){o.userPersonalDetailsFormGroup.patchValue({...i.userPersonalDetails}),o.userOtherDetailsFormGroup.patchValue({...i.userOtherDetails})})()}get userPersonalDetailsFormGroup(){return this.UserFormGroup.controls.userPersonalDetails}get userOtherDetailsFormGroup(){return this.UserFormGroup.controls.userOtherDetails}dataUrlToFile(i,o,l){return(0,b.Z)(function*(){const _=yield(yield fetch(i)).blob();return new File([_],o,{type:l})})()}onCancelClick(i){i&&this.UserFormGroup.touched&&this.confirmationService.confirm({message:a.Xef.CONF_MSG,header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{this.router.navigate(["/admin/dashboard"])},reject:()=>{}})}subscribeToFormValueChanges(){this.userPersonalDetailsFormGroup.controls.countryId.valueChanges.subscribe(i=>{const o=Number(i),l=this._employerService.fetchState(o);o&&(0,v.D)([l]).subscribe({next:p=>{p.length>0?(this.state=p[0],this.city=[]):(this.state=[],this.city=[])},error:p=>{this.showErrorToast(a.rmt.TOAST_COMMON_ERROR)},complete:()=>{}})}),this.userPersonalDetailsFormGroup.controls.stateId.valueChanges.subscribe(i=>{const o=Number(i);o&&this._employerService.fetchCity(o).subscribe({next:l=>{this.city=l.length>0?l:[]},error:()=>{this.showErrorToast(a.rmt.TOAST_COMMON_ERROR)},complete:()=>{}})}),this.userOtherDetailsFormGroup.controls.workCountryId.valueChanges.subscribe(i=>{const o=Number(i),l=this._employerService.fetchState(o),p=this._employerService.fetchJurisdiction(o);o&&(0,v.D)([l,p]).subscribe({next:_=>{_.length>0?(this.workState=_[0],this.jurisdiction=_[1]):(this.workState=[],this.jurisdiction=[])},error:_=>{this.showErrorToast(a.rmt.TOAST_COMMON_ERROR)},complete:()=>{}})})}}return(r=n).\u0275fac=function(i){return new(i||r)(t.Y36(y.j),t.Y36(F.L),t.Y36(g.n),t.Y36(f.ez),t.Y36(d.dt),t.Y36(f.YP),t.Y36(h.F0),t.Y36(u.g))},r.\u0275cmp=t.Xpm({type:r,selectors:[["emigrate-user"]],features:[t.qOj],decls:4,vars:5,consts:[["class","container content p-3 border mt-2 mb-2",4,"ngIf"],["class","container content p-3 mt-2 mb-2 row_box",4,"ngIf"],[1,"container","content","p-3","border","mt-2","mb-2"],[1,"instruction","float-md-right","mb-5"],["aria-hidden","true","pTooltip","1. Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions.","tooltipPosition","top",1,"pi","pi-exclamation-circle"],[1,"clearfix"],[3,"formGroup"],[1,"custom_tabs",3,"activeIndex","activeIndexChange"],["header","Personal Details",3,"disabled"],[3,"entityFormGroup","countries","state","city","activeIndex","cancelClick"],["header","Other Details",3,"disabled"],[3,"entityFormGroup","countries","state","organization","office","jurisdiction","userRoles","activeIndex","cancelClick","submitDetails"],[1,"container","content","p-3","mt-2","mb-2","row_box"]],template:function(i,o){1&i&&(t._UZ(0,"p-toast"),t.YNc(1,lt,11,15,"div",0),t.YNc(2,ut,6,2,"div",1),t._UZ(3,"p-confirmDialog")),2&i&&(t.xp6(1),t.Q6J("ngIf",!o.showSuccessStatus),t.xp6(1),t.Q6J("ngIf",o.showSuccessStatus),t.xp6(1),t.Akn(t.DdM(4,ct)))},dependencies:[C.O5,s._Y,s.JL,s.sg,w.u,U.FN,$.xf,$.x4,I.Q,st,at]}),n})();var k=m(655),S=m(9933);let E=(()=>{var r;class n{constructor(){this.cancelClick=new t.vpe}onCancelClick(){this.cancelClick.emit(!0)}clearForm(){this.entityFormGroup.reset()}}return(r=n).\u0275fac=function(i){return new(i||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["emigrate-personal-info"]],inputs:{entityFormGroup:"entityFormGroup",countries:"countries",state:"state",city:"city"},outputs:{cancelClick:"cancelClick"},decls:12,vars:4,consts:[[1,"form"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"field"],["inputLabel","First Name","inputId","firstname",1,"block",3,"inputFormControl"],["id","firstname","type","text","pInputText","","placeholder","First Name",3,"formControl"],["inputLabel","Last Name","inputId","lastname",1,"block",3,"inputFormControl"],["id","lastname","type","text","pInputText","","placeholder","Last Name",3,"formControl"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"h4"),t._uU(2,"Personal Information"),t.qZA(),t.TgZ(3,"div",1)(4,"div",2)(5,"div",3)(6,"emigrate-sh-html-input",4),t._UZ(7,"input",5),t.qZA()()(),t.TgZ(8,"div",2)(9,"div",3)(10,"emigrate-sh-html-input",6),t._UZ(11,"input",7),t.qZA()()()()()),2&i&&(t.xp6(6),t.Q6J("inputFormControl",o.entityFormGroup.controls.firstName),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.firstName),t.xp6(3),t.Q6J("inputFormControl",o.entityFormGroup.controls.lastName),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.lastName))},dependencies:[s.Fj,s.JJ,s.oH,Z.o,c.KR]}),n})(),R=(()=>{var r;class n{constructor(){this.cancelClick=new t.vpe}onCancelClick(){this.cancelClick.emit(!0)}clearForm(){this.entityFormGroup.reset()}}return(r=n).\u0275fac=function(i){return new(i||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["emigrate-contact-details"]],inputs:{entityFormGroup:"entityFormGroup",countries:"countries",state:"state",city:"city"},outputs:{cancelClick:"cancelClick"},decls:12,vars:4,consts:[[1,"form"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"field"],["inputLabel","Mobile Number","inputId","mobileNumber",1,"block",3,"inputFormControl"],["id","mobileNumber","type","text","pInputText","","placeholder","Mobile Number",3,"formControl"],["inputLabel","Email ID","inputId","emailAddress",1,"block",3,"inputFormControl"],["id","emailAddress","type","text","pInputText","","placeholder","Email ID",3,"formControl"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"h4"),t._uU(2,"Contact Detail"),t.qZA(),t.TgZ(3,"div",1)(4,"div",2)(5,"div",3)(6,"emigrate-sh-html-input",4),t._UZ(7,"input",5),t.qZA()()(),t.TgZ(8,"div",2)(9,"div",3)(10,"emigrate-sh-html-input",6),t._UZ(11,"input",7),t.qZA()()()()()),2&i&&(t.xp6(6),t.Q6J("inputFormControl",o.entityFormGroup.controls.mobileNumber),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.mobileNumber),t.xp6(3),t.Q6J("inputFormControl",o.entityFormGroup.controls.emailAddress),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.emailAddress))},dependencies:[s.Fj,s.JJ,s.oH,Z.o,c.KR]}),n})(),q=(()=>{var r;class n{constructor(){this.cancelClick=new t.vpe}onCancelClick(){this.cancelClick.emit(!0)}clearForm(){this.entityFormGroup.reset()}}return(r=n).\u0275fac=function(i){return new(i||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["emigrate-address"]],inputs:{entityFormGroup:"entityFormGroup",countries:"countries",state:"state",city:"city"},outputs:{cancelClick:"cancelClick"},decls:25,vars:12,consts:[[1,"form"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"field"],["inputLabel","Address","inputId","address",1,"block",3,"inputFormControl"],["id","address","type","text","pInputText","","placeholder","Address",3,"formControl"],["inputLabel","City/Town/Village","inputId","city",1,"block",3,"inputFormControl"],["EmigrateShDropdown","","id","city","placeholder","Select",3,"formControl","options"],["inputLabel","State/UT","inputId","state",1,"block",3,"inputFormControl"],["EmigrateShDropdown","","id","state","placeholder","Select",3,"formControl","options"],["inputLabel","Pin Code","inputId","zipCode\n                        [inputFormControl]=","entityFormGroup.controls.zipCode","",1,"block"],["id","zipCode","type","text","pInputText","","placeholder","Pin Code",3,"formControl"],["inputLabel","Country","inputId","country",1,"block",3,"inputFormControl"],["EmigrateShDropdown","","id","country","placeholder","Select",3,"formControl","options"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"h4"),t._uU(2,"Address"),t.qZA(),t.TgZ(3,"form")(4,"div",1)(5,"div",2)(6,"div",3)(7,"emigrate-sh-html-input",4),t._UZ(8,"input",5),t.qZA()()(),t.TgZ(9,"div",2)(10,"div",3)(11,"emigrate-sh-html-input",6),t._UZ(12,"p-dropdown",7),t.qZA()()(),t.TgZ(13,"div",2)(14,"div",3)(15,"emigrate-sh-html-input",8),t._UZ(16,"p-dropdown",9),t.qZA()()(),t.TgZ(17,"div",2)(18,"div",3)(19,"emigrate-sh-html-input",10),t._UZ(20,"input",11),t.qZA()()(),t.TgZ(21,"div",2)(22,"div",3)(23,"emigrate-sh-html-input",12),t._UZ(24,"p-dropdown",13),t.qZA()()()()()()),2&i&&(t.xp6(7),t.Q6J("inputFormControl",o.entityFormGroup.controls.address),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.address),t.xp6(3),t.Q6J("inputFormControl",o.entityFormGroup.controls.cityId),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.cityId)("options",o.city),t.xp6(3),t.Q6J("inputFormControl",o.entityFormGroup.controls.stateId),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.stateId)("options",o.state),t.xp6(4),t.Q6J("formControl",null==o.entityFormGroup.controls?null:o.entityFormGroup.controls.zipCode),t.xp6(3),t.Q6J("inputFormControl",o.entityFormGroup.controls.countryId),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.countryId)("options",o.countries))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.oH,G.Lt,Z.o,s.F,c.KR,c.lC]}),n})();var mt=m(8645);let tt=(()=>{var r;class n extends c.H6{constructor(i,o){super(i),this._employerService=o,this.cancelClick=new t.vpe}onCancelClick(){this.cancelClick.emit(!0)}clearForm(){this.entityFormGroup.reset()}getStateValue(i){const o=this._employerService.fetchState(i.value);i.value&&(0,v.D)([o]).subscribe({next:l=>{this.state=l.length>0?l[0]:[]},error:l=>{this.showErrorToast(a.rmt.TOAST_COMMON_ERROR)},complete:()=>{}})}}return(r=n).\u0275fac=function(i){return new(i||r)(t.Y36(f.ez),t.Y36(u.g))},r.\u0275cmp=t.Xpm({type:r,selectors:[["emigrate-work-location-info"]],inputs:{entityFormGroup:"entityFormGroup",countries:"countries",state:"state"},outputs:{cancelClick:"cancelClick"},features:[t.qOj],decls:25,vars:18,consts:[[1,"form"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"field"],["inputLabel","Country","inputId","workCountryId",1,"block",3,"inputFormControl"],["id","workCountryId","placeholder","Select",3,"formControl","options","onChange"],["inputLabel","State/UT","inputId","workStateId",1,"block",3,"inputFormControl"],["EmigrateShDropdown","","id","workStateId","placeholder","Select",3,"formControl","options"],["inputLabel","Time","inputId","timeZone",1,"block",3,"inputFormControl"],["id","timeZone","type","text","pInputText","","placeholder","Time",3,"formControl"],["inputLabel","Access Time from","inputId","accessTimeFrom",1,"block",3,"inputFormControl"],["appendTo","body","inputId","accessTimeFrom",3,"showTime","timeOnly","formControl","showIcon"],["inputLabel","Access Time to","inputId","accessTimeTo",1,"block",3,"inputFormControl"],["appendTo","body","inputId","accessTimeTo",3,"showTime","timeOnly","formControl","showIcon"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"h4"),t._uU(2,"Work Location Information"),t.qZA(),t.TgZ(3,"form")(4,"div",1)(5,"div",2)(6,"div",3)(7,"emigrate-sh-html-input",4)(8,"p-dropdown",5),t.NdJ("onChange",function(p){return o.getStateValue(p)}),t.qZA()()()(),t.TgZ(9,"div",2)(10,"div",3)(11,"emigrate-sh-html-input",6),t._UZ(12,"p-dropdown",7),t.qZA()()(),t.TgZ(13,"div",2)(14,"div",3)(15,"emigrate-sh-html-input",8),t._UZ(16,"input",9),t.qZA()()(),t.TgZ(17,"div",2)(18,"div",3)(19,"emigrate-sh-html-input",10),t._UZ(20,"p-calendar",11),t.qZA()()(),t.TgZ(21,"div",2)(22,"div",3)(23,"emigrate-sh-html-input",12),t._UZ(24,"p-calendar",13),t.qZA()()()()()()),2&i&&(t.xp6(7),t.Q6J("inputFormControl",o.entityFormGroup.controls.workCountryId),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.workCountryId)("options",o.countries),t.xp6(3),t.Q6J("inputFormControl",o.entityFormGroup.controls.workStateId),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.workStateId)("options",o.state),t.xp6(3),t.Q6J("inputFormControl",o.entityFormGroup.controls.timeZone),t.xp6(1),t.Q6J("formControl",null==o.entityFormGroup.controls?null:o.entityFormGroup.controls.timeZone),t.xp6(3),t.Q6J("inputFormControl",null==o.entityFormGroup.controls?null:o.entityFormGroup.controls.accessTimeFrom),t.xp6(1),t.Q6J("showTime",!0)("timeOnly",!0)("formControl",null==o.entityFormGroup.controls?null:o.entityFormGroup.controls.accessTimeFrom)("showIcon",!1),t.xp6(3),t.Q6J("inputFormControl",null==o.entityFormGroup.controls?null:o.entityFormGroup.controls.accessTimeTo),t.xp6(1),t.Q6J("showTime",!0)("timeOnly",!0)("formControl",null==o.entityFormGroup.controls?null:o.entityFormGroup.controls.accessTimeTo)("showIcon",!1))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.oH,G.Lt,Z.o,mt.f,s.F,c.KR,c.lC]}),n})(),dt=(()=>{var r;class n{constructor(){this.cancelClick=new t.vpe,this.submitDetails=new t.vpe,this.maxFileSize=a.Xef.MAX_FILE_SIZE,this.deleteFile=!1}onCancelClick(){this.cancelClick.emit(!0)}OnSubmitClick(){this.entityFormGroup.markAllAsTouched(),this.entityFormGroup.valid&&this.submitDetails.emit(!0)}documentData(i){if(i)switch(i.action){case a.Xef.ACTION.ADD:this.documentFormGroup.get("id").setValue(i.data.id),this.documentFormGroup.patchValue({id:i.data.id,name:i.data.name,file:i.data.file,fileType:i.data.type});break;case a.Xef.ACTION.REMOVE:this.documentFormGroup.patchValue({id:null,name:null,file:null,fileType:null})}}get documentFormGroup(){return this.entityFormGroup.controls.userDocument}}return(r=n).\u0275fac=function(i){return new(i||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["emigrate-deactivate-reason"]],inputs:{entityFormGroup:"entityFormGroup"},outputs:{cancelClick:"cancelClick",submitDetails:"submitDetails"},decls:24,vars:5,consts:[[1,"form","pb-0"],[1,"row"],[1,"col-md-8","col-sm-6"],[1,"field"],["inputLabel","Enter the reason to deactivate the user Account","inputId","remark",1,"block",3,"inputFormControl"],["id","Remarks","rows","3","cols","50",1,"p-inputtext",3,"formControl"],[1,"p-0","mb-4","file-upload-listing"],[1,"d-flex"],[3,"documentId","maxFileSize","isFileRemove","uploadedFile"],[1,"buttons","mt-3"],["pButton","","type","button",1,"btn-blue","mr-2","btn-format",3,"click"],[1,"pi","pi-times",2,"font-size","0.7rem"],["pButton","","type","button",1,"btn-format","btn-blue",3,"click"],[1,"pi","pi-bookmark","mr-1",2,"font-size","0.7rem"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"h4"),t._uU(2,"Deactivate User Account"),t.qZA(),t.TgZ(3,"form")(4,"div",1)(5,"div",2)(6,"div",3)(7,"emigrate-sh-html-input",4),t._UZ(8,"textarea",5),t.qZA()()()(),t.TgZ(9,"div",1)(10,"div",2)(11,"div",3)(12,"ul",6)(13,"li",7)(14,"label"),t._uU(15,"Upload Documents"),t.qZA(),t.TgZ(16,"emigrate-sh-file-upload",8),t.NdJ("uploadedFile",function(p){return o.documentData(p)}),t.qZA()()()()()()(),t.TgZ(17,"div",9)(18,"button",10),t.NdJ("click",function(){return o.onCancelClick()}),t._UZ(19,"i",11),t._uU(20," Cancel "),t.qZA(),t.TgZ(21,"button",12),t.NdJ("click",function(){return o.OnSubmitClick()}),t._UZ(22,"i",13),t._uU(23,"Submit "),t.qZA()()()),2&i&&(t.xp6(7),t.Q6J("inputFormControl",o.entityFormGroup.controls.remark),t.xp6(1),t.Q6J("formControl",null==o.entityFormGroup.controls?null:o.entityFormGroup.controls.remark),t.xp6(8),t.Q6J("documentId",1)("maxFileSize",o.maxFileSize)("isFileRemove",o.deleteFile))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.oH,T.Hq,s.F,c.KR,c.Yr]}),n})();var A;function ht(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",8)(1,"div",9),t._UZ(2,"emigrate-personal-info",10),t.qZA(),t.TgZ(3,"div",9),t._UZ(4,"emigrate-address",10),t.qZA(),t.TgZ(5,"div",9),t._UZ(6,"emigrate-contact-details",10),t.qZA(),t.TgZ(7,"div",9),t._UZ(8,"emigrate-work-location-info",11),t.qZA(),t.TgZ(9,"div",9)(10,"div",12)(11,"button",13),t._uU(12,"Cancel"),t.qZA(),t.TgZ(13,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.deactivateUser())}),t._uU(14,"Deactivate"),t.qZA()()()()}if(2&r){const e=t.oxw(2);t.xp6(2),t.Q6J("entityFormGroup",e.personalInfoFormGroup)("countries",e.countries)("state",e.state)("city",e.city),t.xp6(2),t.Q6J("entityFormGroup",e.addressFormGroup)("countries",e.countries)("state",e.state)("city",e.city),t.xp6(2),t.Q6J("entityFormGroup",e.contactDetailsFormGroup)("countries",e.countries)("state",e.state)("city",e.city),t.xp6(2),t.Q6J("entityFormGroup",e.workLocationFormGroup)("countries",e.workCountry)("state",e.workState)}}function gt(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",8)(1,"emigrate-deactivate-reason",15),t.NdJ("cancelClick",function(o){t.CHM(e);const l=t.oxw(2);return t.KtG(l.onCancelClick(o))})("submitDetails",function(o){t.CHM(e);const l=t.oxw(2);return t.KtG(l.onSubmitClick(o))}),t.qZA()()}if(2&r){const e=t.oxw(2);t.xp6(1),t.Q6J("entityFormGroup",e.reasonFormGroup)}}function ft(r,n){if(1&r&&(t.TgZ(0,"div",2)(1,"div",3),t._uU(2," Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions. "),t._UZ(3,"span",4),t.qZA(),t._UZ(4,"div",5),t.TgZ(5,"form",6),t.YNc(6,ht,15,15,"div",7),t.YNc(7,gt,2,1,"div",7),t.qZA()()),2&r){const e=t.oxw();t.xp6(5),t.Q6J("formGroup",e.deactivateUserFormGroup),t.xp6(1),t.Q6J("ngIf",!e.showReasonForm),t.xp6(1),t.Q6J("ngIf",e.showReasonForm)}}function _t(r,n){if(1&r&&(t.TgZ(0,"div",16)(1,"h3"),t._uU(2),t.qZA(),t.TgZ(3,"div",2)(4,"p"),t._uU(5),t.qZA()()()),2&r){const e=t.oxw();t.xp6(2),t.Oqu(null==e.successObj?null:e.successObj.heading),t.xp6(3),t.hij("",null==e.successObj?null:e.successObj.message,".")}}const vt=function(){return{width:"40vw"}};let P=((A=class extends c.H6{constructor(n,e,i,o,l,p,_){super(o),this.formHelper=n,this._userMgmntService=e,this.uiService=i,this.routerQuery=l,this.confirmationService=p,this.router=_,this.breadcrumb=[],this.showReasonForm=!1}ngOnInit(){this.getAllDropdownValues(),this.deactivateUserFormGroup=this.formHelper.deactivateUserForm(!0),this.userId=this.routerQuery.getParams().id,this.userId&&this.routerQuery.selectParams().pipe((0,S.t)(this)).subscribe(()=>{this.setBreadcrumb(),this.getUserData(this.userId)}),this.showSuccessStatus=!1}getUserData(n){this._userMgmntService.getById(n).subscribe({next:e=>{e&&e?.data?(this.deactivateUserFormGroup=this.formHelper.deactivateUserForm(!0,e?.data),this.showSuccessToast(e.message)):(this.showErrorToast(e?.message),this.uiService.hideSpinner())},error:e=>{this.showErrorToast(e?.error?.errormessage),this.uiService.hideSpinner()},complete:()=>{}})}getAllDropdownValues(){this.countries=this.routerQuery.getData()[0][a.Yo_.COUNTRY],this.workCountry=this.routerQuery.getData()[0][a.Yo_.COUNTRY],this.state=this.routerQuery.getData()[0][a.Yo_.STATE],this.workState=this.routerQuery.getData()[0][a.Yo_.STATE],this.district=this.routerQuery.getData()[0][a.Yo_.DISTRICT],this.city=this.routerQuery.getData()[0][a.Yo_.CITY],this.workCity=this.routerQuery.getData()[0][a.Yo_.CITY],this.userRoles=this.routerQuery.getData()[0][a.Yo_.USER_ROLES]}setBreadcrumb(){this.breadcrumb=[{label:"Dashboard",routerLink:["/admin"]},{label:"User Management",routerLink:["/admin"]}],this.breadcrumb.push({label:"Deactivate User",routerLink:[`/admin/user/deactivate/${this.userId}`]}),this.uiService.initPageSetup(this.breadcrumb,"Deactive User")}get personalInfoFormGroup(){return this.deactivateUserFormGroup.controls.personalInformation}get addressFormGroup(){return this.deactivateUserFormGroup.controls.address}get workLocationFormGroup(){return this.deactivateUserFormGroup.controls.workLocationInfo}get contactDetailsFormGroup(){return this.deactivateUserFormGroup.controls.contactDetails}get reasonFormGroup(){return this.deactivateUserFormGroup.controls.reasonFrom}deactivateUser(){this.showReasonForm=!0}onCancelClick(n){n&&this.reasonFormGroup.touched&&this.confirmationService.confirm({message:"Are you sure that you want to proceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{this.router.navigate(["/admin/dashboard"])},reject:()=>{}})}onSubmitClick(n){n&&this.confirmationService.confirm({message:"Are you sure you want to deactivate user account?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{const e=this.deactivateUserFormGroup.controls.reasonFrom.getRawValue();let i={userId:this.userId,...e};this.uiService.showSpinner(),this._userMgmntService.deactivate(i).subscribe({next:o=>{o.status===a.Xef.SUCCESS?(this.showSuccessToast(o?.message),this.uiService.hideSpinner(),this.router.navigate(["admin/administration/user/success","deactivate"])):(this.showErrorToast(o?.message),this.uiService.hideSpinner())},error:o=>{this.showErrorToast(o?.message),this.uiService.hideSpinner()},complete:()=>{}})},reject:()=>{}})}}).\u0275fac=function(n){return new(n||A)(t.Y36(y.j),t.Y36(F.L),t.Y36(g.n),t.Y36(f.ez),t.Y36(d.dt),t.Y36(f.YP),t.Y36(h.F0))},A.\u0275cmp=t.Xpm({type:A,selectors:[["emigrate-deactivate-user"]],features:[t.qOj],decls:4,vars:5,consts:[["class","container content p-3 border mt-2 mb-2",4,"ngIf"],["class","container content p-3 mt-2 mb-2 row_box",4,"ngIf"],[1,"container","content","p-3","border","mt-2","mb-2"],[1,"instruction","float-md-right","mb-5"],["aria-hidden","true","pTooltip","1. Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions.","tooltipPosition","top",1,"pi","pi-exclamation-circle"],[1,"clearfix"],[3,"formGroup"],["class","row",4,"ngIf"],[1,"row"],[1,"row_box"],[3,"entityFormGroup","countries","state","city"],[3,"entityFormGroup","countries","state"],[1,"buttons","mt-3"],["pButton","","type","button",1,"btn-blue","mr-2","btn-format"],["pButton","","type","button",1,"btn-format","btn-blue","mr-2",3,"click"],[3,"entityFormGroup","cancelClick","submitDetails"],[1,"container","content","p-3","mt-2","mb-2","row_box"]],template:function(n,e){1&n&&(t._UZ(0,"p-toast"),t.YNc(1,ft,8,3,"div",0),t.YNc(2,_t,6,2,"div",1),t._UZ(3,"p-confirmDialog")),2&n&&(t.xp6(1),t.Q6J("ngIf",!e.showSuccessStatus),t.xp6(1),t.Q6J("ngIf",e.showSuccessStatus),t.xp6(1),t.Akn(t.DdM(4,vt)))},dependencies:[C.O5,s._Y,s.JL,s.sg,w.u,T.Hq,U.FN,I.Q,E,R,q,tt,dt]}),A);P=(0,k.gn)([(0,S.c)()],P);let Ct=(()=>{var r;class n{constructor(i){this.fb=i}createSearchForm(i){return this.fb.group({roleId:this.fb.control({value:null,disabled:i},s.kI.required),firstName:this.fb.control({value:null,disabled:i}),lastName:this.fb.control({value:null,disabled:i}),loginId:this.fb.control({value:null,disabled:i}),emailId:this.fb.control({value:null,disabled:i})})}searchFormToEmigrateSearchUser(i){const o=i.getRawValue();return(new a.idN).deserialize({firstName:o.firstName,lastName:o.lastName,emailId:o.emailId,loginId:o.loginId,roleId:o.roleId})}createSearchFormAssignRole(i){return this.fb.group({roleId:this.fb.control({value:null,disabled:i},s.kI.required),firstName:this.fb.control({value:null,disabled:i}),lastName:this.fb.control({value:null,disabled:i}),loginId:this.fb.control({value:null,disabled:i}),emailId:this.fb.control({value:null,disabled:i})})}}return(r=n).\u0275fac=function(i){return new(i||r)(t.LFG(s.qu))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),n})();var D,Ft=m(4004),bt=m(262),yt=m(8513);class H{constructor(n){this.searchservice=n}getUserByRole(n,e){return this.searchservice.getUser(n,e).pipe((0,Ft.U)(i=>i),(0,bt.K)(i=>{throw i}))}}(D=H).\u0275fac=function(n){return new(n||D)(t.LFG(a.oDG))},D.\u0275prov=t.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),(0,k.gn)([(0,yt.PS)()],H.prototype,"getUserByRole",null);var Y=m(4826);function Tt(r,n){if(1&r&&(t.TgZ(0,"div",6)(1,"div",7)(2,"emigrate-sh-html-input",28),t._UZ(3,"p-dropdown",29),t.qZA()()()),2&r){const e=t.oxw();t.xp6(2),t.Q6J("inputFormControl",e.searchFormGroup.controls.roleId),t.xp6(1),t.Q6J("formControl",e.searchFormGroup.controls.roleId)("options",e.userRoles)}}function St(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._UZ(3,"i",33),t.TgZ(4,"input",34),t.NdJ("input",function(o){t.CHM(e),t.oxw();const l=t.MAs(33);return t.KtG(l.filterGlobal(o.target.value,"contains"))}),t.qZA()()(),t.TgZ(5,"div",35)(6,"button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),l=t.MAs(33);return t.KtG(o.clearTable(l))}),t._uU(7,"Clear"),t.qZA()()()}}function Zt(r,n){1&r&&(t.TgZ(0,"tr")(1,"th",36)(2,"div",37),t._uU(3,"User Role"),t.qZA()(),t.TgZ(4,"th",38)(5,"div",37),t._uU(6," Login ID "),t._UZ(7,"p-sortIcon",39)(8,"p-columnFilter",40),t.qZA()(),t.TgZ(9,"th",41)(10,"div",37),t._uU(11," User Name "),t._UZ(12,"p-sortIcon",42)(13,"p-columnFilter",43),t.qZA()(),t.TgZ(14,"th",44)(15,"div",37),t._uU(16," Email ID "),t._UZ(17,"p-sortIcon",45)(18,"p-columnFilter",46),t.qZA()(),t.TgZ(19,"th",47)(20,"div",37),t._uU(21," Location "),t._UZ(22,"p-sortIcon",48)(23,"p-columnFilter",49),t.qZA()()())}function Ut(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"tr",50),t.NdJ("click",function(){const l=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.onRowClick(l))}),t.TgZ(1,"td")(2,"span",51),t._uU(3,"User Role"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"span",51),t._uU(7,"Login ID"),t.qZA(),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"span",51),t._uU(11,"User Name"),t.qZA(),t._uU(12),t.qZA(),t.TgZ(13,"td")(14,"span",51),t._uU(15,"Email ID"),t.qZA(),t._uU(16),t.qZA(),t.TgZ(17,"td")(18,"span",51),t._uU(19,"Location"),t.qZA(),t._uU(20),t.qZA()()}if(2&r){const e=n.$implicit;t.Q6J("pSelectableRow",e),t.xp6(4),t.hij(" ",e.roleName," "),t.xp6(4),t.hij(" ",e.loginId," "),t.xp6(4),t.hij(" ",e.userName," "),t.xp6(4),t.hij(" ",e.emailId," "),t.xp6(4),t.hij(" ",e.location," ")}}function wt(r,n){1&r&&(t.TgZ(0,"tr")(1,"td",52),t._uU(2,"No User found."),t.qZA()())}const It=function(){return[10,25,50]},kt=function(){return["roleName","loginId","userName","emailId","location"]};let O=(()=>{var r;class n extends c.H6{constructor(i,o,l,p,_,W){super(i),this.uiService=o,this.formHelper=l,this.searchCriteriaService=p,this.router=_,this.routerQuery=W,this.RecordClick=new t.vpe,this.breadcrumb=[],this.pageTitle="Search Criteria",this.userRoles=[],this.userDataArr=[],this.isRoleAvailable=!0,this.uiService.initPageSetup(this.breadcrumb,"Search User")}ngOnInit(){this.userDataArr=[],"/admin/administration/user/assign-role"===this.router.url?(this.isRoleAvailable=!0,this.userRoles=this.routerQuery.getData()[0][a.Yo_.USER_ROLES],this.searchFormGroup=this.formHelper.createSearchFormAssignRole(!1)):(this.userRoles=this.routerQuery.getData()[0][a.Yo_.USER_ROLES],this.searchFormGroup=this.formHelper.createSearchForm(!1))}clearData(){this.searchFormGroup.reset()}getData(){this.userDataArr=[],this.uiService.showSpinner();let i=Object.assign(new a.idN,this.formHelper.searchFormToEmigrateSearchUser(this.searchFormGroup));this.searchCriteriaService.getUserByRole(this.searchFormGroup.controls?.roleId?.value,i).subscribe({next:o=>{o?(o.data?.length?(this.showSuccessToast(o.message,"Search"),this.userDataArr=JSON.parse(JSON.stringify(o.data))):this.showWarningToast("No results found","Search"),this.uiService.hideSpinner()):(this.uiService.hideSpinner(),this.showErrorToast(o?.error?.errorMessage,"Search"))},error:o=>{this.showErrorToast(o?.error?.errorMessage,"Search"),this.uiService.hideSpinner()}})}onRowClick(i){this.selectedUser=i}sendData(){if(this.selectedUser){switch(this.router.url){case"/admin/administration/user/manage":this.router.navigate(["admin/administration/user/edit",this.selectedUser.userId]);break;case"/admin/administration/user/deactivate":this.router.navigate(["admin/administration/user/deactivate",this.selectedUser.userId]);break;case"/admin/administration/user/assign-role":this.router.navigate(["admin/administration/user/assign-role",this.selectedUser.userId]);break;case"/admin/administration/user/jurisdiction":this.router.navigate(["admin/administration/user/jurisdiction",this.selectedUser.userId]);break;case"/admin/administration/user/location":this.router.navigate(["admin/administration/user/location",this.selectedUser.userId]);break;case"/admin/administration/user/role/feature":this.router.navigate(["admin/administration/user/role/feature",this.selectedUser.userId])}this.userDataArr=[]}}clearTable(i){i.clear()}}return(r=n).\u0275fac=function(i){return new(i||r)(t.Y36(f.ez),t.Y36(g.n),t.Y36(Ct),t.Y36(H),t.Y36(h.F0),t.Y36(d.dt))},r.\u0275cmp=t.Xpm({type:r,selectors:[["emigrate-search-criteria"]],outputs:{RecordClick:"RecordClick"},features:[t.qOj],decls:41,vars:19,consts:[[1,"container"],[1,"content"],[3,"pageSubTitle"],[1,"form","p-2"],[1,"row"],["class","col-md-4 col-sm-6",4,"ngIf"],[1,"col-md-4","col-sm-6"],[1,"field"],["inputLabel","First Name","inputId","firstname",1,"block",3,"inputFormControl"],["id","firstname","type","text","pInputText","","placeholder","First Name",3,"formControl"],["inputLabel","Last Name","inputId","lastname",1,"block",3,"inputFormControl"],["id","lastname","type","text","pInputText","","placeholder","Last Name",3,"formControl"],["inputLabel","Login ID","inputId","loginId",1,"block",3,"inputFormControl"],["id","loginId","type","text","pInputText","","placeholder","Login ID",3,"formControl"],["inputLabel","Email ID","inputId","emailId",1,"block",3,"inputFormControl"],["id","emailId","type","text","pInputText","","placeholder","Email ID",3,"formControl"],[1,"buttons","mt-3"],["pButton","","type","button",1,"btn-blue","mr-2","btn-format",3,"click"],["pButton","","type","button",1,"btn-format","btn-blue",3,"click"],[1,"search-result"],["pageSubTitle","Search Result"],[1,"card"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","showCurrentPageReport","rowsPerPageOptions","paginator","filterDelay","globalFilterFields"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["inputLabel","User Role","inputId","role",1,"block",3,"inputFormControl"],["EmigrateShDropdown","","id","role","placeholder","Select",3,"formControl","options"],[1,"table-header","row"],[1,"col-md-10"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Global Search",3,"input"],[1,"col-md-2"],["pSortableColumn","roleName",2,"min-width","14rem"],[1,"flex","justify-content-between","align-items-center"],["pSortableColumn","loginId",2,"min-width","14rem"],["field","loginId"],["type","text","field","loginId","display","menu",1,"ml-auto"],["pSortableColumn","userName",2,"min-width","10rem"],["field","userName"],["type","userName","field","userName","display","menu",1,"ml-auto"],["pSortableColumn","emailId",2,"min-width","14rem"],["field","emailId"],["type","text","field","emailId","display","menu",1,"ml-auto"],["pSortableColumn","location",2,"min-width","14rem"],["field","location"],["type","text","field","location","display","menu",1,"ml-auto"],[3,"pSelectableRow","click"],[1,"p-column-title"],["colspan","5",1,"text-center"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t._UZ(1,"p-toast"),t.TgZ(2,"div",1),t._UZ(3,"emigrate-sh-page-sub-title",2),t.TgZ(4,"div",3)(5,"form")(6,"div",4),t.YNc(7,Tt,4,3,"div",5),t.TgZ(8,"div",6)(9,"div",7)(10,"emigrate-sh-html-input",8),t._UZ(11,"input",9),t.qZA()()(),t.TgZ(12,"div",6)(13,"div",7)(14,"emigrate-sh-html-input",10),t._UZ(15,"input",11),t.qZA()()(),t.TgZ(16,"div",6)(17,"div",7)(18,"emigrate-sh-html-input",12),t._UZ(19,"input",13),t.qZA()()(),t.TgZ(20,"div",6)(21,"div",7)(22,"emigrate-sh-html-input",14),t._UZ(23,"input",15),t.qZA()()()(),t.TgZ(24,"div",16)(25,"button",17),t.NdJ("click",function(){return o.getData()}),t._uU(26,"Search"),t.qZA(),t.TgZ(27,"button",18),t.NdJ("click",function(){return o.clearData()}),t._uU(28,"Clear"),t.qZA()()()(),t.TgZ(29,"div",19),t._UZ(30,"emigrate-sh-page-sub-title",20),t.TgZ(31,"div",21)(32,"p-table",22,23),t.YNc(34,St,8,0,"ng-template",24),t.YNc(35,Zt,24,0,"ng-template",25),t.YNc(36,Ut,21,6,"ng-template",26),t.YNc(37,wt,3,0,"ng-template",27),t.qZA()(),t.TgZ(38,"div",16)(39,"button",17),t.NdJ("click",function(){return o.sendData()}),t._uU(40,"Proceed"),t.qZA()()()()()),2&i&&(t.xp6(3),t.Q6J("pageSubTitle",o.pageTitle),t.xp6(4),t.Q6J("ngIf",o.isRoleAvailable),t.xp6(3),t.Q6J("inputFormControl",o.searchFormGroup.controls.firstName),t.xp6(1),t.Q6J("formControl",o.searchFormGroup.controls.firstName),t.xp6(3),t.Q6J("inputFormControl",o.searchFormGroup.controls.lastName),t.xp6(1),t.Q6J("formControl",o.searchFormGroup.controls.lastName),t.xp6(3),t.Q6J("inputFormControl",o.searchFormGroup.controls.loginId),t.xp6(1),t.Q6J("formControl",o.searchFormGroup.controls.loginId),t.xp6(3),t.Q6J("inputFormControl",o.searchFormGroup.controls.emailId),t.xp6(1),t.Q6J("formControl",o.searchFormGroup.controls.emailId),t.xp6(9),t.Q6J("value",o.userDataArr)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(17,It))("paginator",!0)("filterDelay",0)("globalFilterFields",t.DdM(18,kt)))},dependencies:[C.O5,s._Y,s.Fj,s.JJ,s.JL,s.oH,f.jx,T.Hq,G.Lt,Z.o,U.FN,Y.iA,Y.lQ,Y.Ei,Y.fz,Y.xl,s.F,c.KR,c.jZ,c.lC],styles:[".p-selectable-row[_ngcontent-%COMP%]:focus, .p-selectable-row[_ngcontent-%COMP%]:hover{background-color:#d3d3d3!important;outline:none!important}.p-selectable-row[_ngcontent-%COMP%]{cursor:pointer}"]}),n})();var x;function Gt(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",3),t._uU(2," Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions. "),t._UZ(3,"span",4),t.qZA(),t._UZ(4,"div",5),t.TgZ(5,"form",6)(6,"div",7),t._UZ(7,"emigrate-personal-info",8),t.qZA(),t.TgZ(8,"div",7),t._UZ(9,"emigrate-address",8),t.qZA(),t.TgZ(10,"div",7),t._UZ(11,"emigrate-contact-details",8),t.qZA(),t.TgZ(12,"div",7),t._UZ(13,"emigrate-work-location-info",9),t.qZA(),t.TgZ(14,"div",7)(15,"div",10)(16,"button",11),t._uU(17,"Cancel"),t.qZA(),t.TgZ(18,"button",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.updateUser())}),t._uU(19,"Update"),t.qZA()()()()()}if(2&r){const e=t.oxw();t.xp6(5),t.Q6J("formGroup",e.viewEditUserFormGroup),t.xp6(2),t.Q6J("entityFormGroup",e.personalInfoFormGroup)("countries",e.countries)("state",e.state)("city",e.city),t.xp6(2),t.Q6J("entityFormGroup",e.addressFormGroup)("countries",e.countries)("state",e.state)("city",e.city),t.xp6(2),t.Q6J("entityFormGroup",e.contactDetailsFormGroup)("countries",e.countries)("state",e.state)("city",e.city),t.xp6(2),t.Q6J("entityFormGroup",e.workLocationFormGroup)("countries",e.workCountry)("state",e.workState)}}function At(r,n){if(1&r&&(t.TgZ(0,"div",13)(1,"h3"),t._uU(2),t.qZA(),t.TgZ(3,"div",2)(4,"p"),t._uU(5),t.qZA()()()),2&r){const e=t.oxw();t.xp6(2),t.Oqu(null==e.successObj?null:e.successObj.heading),t.xp6(3),t.hij("",null==e.successObj?null:e.successObj.message,".")}}const Dt=function(){return{width:"40vw"}};let B=((x=class extends c.H6{constructor(n,e,i,o,l,p){super(o),this.formHelper=n,this._userMgmntService=e,this.uiService=i,this.routerQuery=l,this.router=p,this.breadcrumb=[]}ngOnInit(){this.getAllDropdownValues(),this.viewEditUserFormGroup=this.formHelper.viewEditUserForm(!0),this.userId=this.routerQuery.getParams().id,this.userId&&this.routerQuery.selectParams().pipe((0,S.t)(this)).subscribe(()=>{this.setBreadcrumb(),this.getUserData(this.userId)}),this.showSuccessStatus=!1}getUserData(n){this._userMgmntService.getById(n).subscribe({next:e=>{e&&e?.data?(this.viewEditUserFormGroup=this.formHelper.viewEditUserForm(!0,e?.data),this.showSuccessToast(e.message)):(this.showErrorToast(e?.message),this.uiService.hideSpinner())},error:e=>{this.showErrorToast(e?.error?.errormessage),this.uiService.hideSpinner()},complete:()=>{}})}getAllDropdownValues(){this.countries=this.routerQuery.getData()[0][a.Yo_.COUNTRY],this.workCountry=this.routerQuery.getData()[0][a.Yo_.COUNTRY],this.state=this.routerQuery.getData()[0][a.Yo_.STATE],this.workState=this.routerQuery.getData()[0][a.Yo_.STATE],this.district=this.routerQuery.getData()[0][a.Yo_.DISTRICT],this.city=this.routerQuery.getData()[0][a.Yo_.CITY],this.workCity=this.routerQuery.getData()[0][a.Yo_.CITY],this.userRoles=this.routerQuery.getData()[0][a.Yo_.USER_ROLES]}setBreadcrumb(){this.breadcrumb=[{label:"Dashboard",routerLink:["/admin"]},{label:"User Management",routerLink:["/admin"]}],this.breadcrumb.push({label:"Edit User",routerLink:[`/admin/user/edit/${this.userId}`]}),this.uiService.initPageSetup(this.breadcrumb,"Edit User")}updateUser(){if(this.viewEditUserFormGroup.markAllAsTouched(),this.viewEditUserFormGroup.valid){this.uiService.showSpinner();const n=Object.assign(new a.rsX,this.formHelper.viewEditUserFormToUser(this.viewEditUserFormGroup,this.userId));this._userMgmntService.updateUser(n).subscribe({next:e=>{e?.status?.toLowerCase()===a.Xef.SUCCESS.toLowerCase()?(this.uiService.hideSpinner(),this.router.navigate(["admin/administration/user/success","update"])):(this.showErrorToast(e?.message),this.uiService.hideSpinner())},error:e=>{this.showErrorToast(e?.error?.errormessage),this.uiService.hideSpinner()},complete:()=>{}})}else this.showErrorToast("Please enter all required fields")}get personalInfoFormGroup(){return this.viewEditUserFormGroup.controls.personalInformation}get addressFormGroup(){return this.viewEditUserFormGroup.controls.address}get workLocationFormGroup(){return this.viewEditUserFormGroup.controls.workLocationInfo}get contactDetailsFormGroup(){return this.viewEditUserFormGroup.controls.contactDetails}}).\u0275fac=function(n){return new(n||x)(t.Y36(y.j),t.Y36(F.L),t.Y36(g.n),t.Y36(f.ez),t.Y36(d.dt),t.Y36(h.F0))},x.\u0275cmp=t.Xpm({type:x,selectors:[["emigrate-user-view-edit"]],features:[t.qOj],decls:4,vars:5,consts:[["class","container content p-3 border mt-2 mb-2",4,"ngIf"],["class","container content p-3 mt-2 mb-2 row_box",4,"ngIf"],[1,"container","content","p-3","border","mt-2","mb-2"],[1,"instruction","float-md-right","mb-5"],["aria-hidden","true","pTooltip","1. Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions.","tooltipPosition","top",1,"pi","pi-exclamation-circle"],[1,"clearfix"],[3,"formGroup"],[1,"row_box"],[3,"entityFormGroup","countries","state","city"],[3,"entityFormGroup","countries","state"],[1,"buttons","mt-3"],["pButton","","type","button",1,"btn-blue","mr-2","btn-format"],["pButton","","type","button",1,"btn-format","btn-blue","mr-2",3,"click"],[1,"container","content","p-3","mt-2","mb-2","row_box"]],template:function(n,e){1&n&&(t._UZ(0,"p-toast"),t.YNc(1,Gt,20,16,"div",0),t.YNc(2,At,6,2,"div",1),t._UZ(3,"p-confirmDialog")),2&n&&(t.xp6(1),t.Q6J("ngIf",!e.showSuccessStatus),t.xp6(1),t.Q6J("ngIf",e.showSuccessStatus),t.xp6(1),t.Akn(t.DdM(4,Dt)))},dependencies:[C.O5,s._Y,s.JL,s.sg,w.u,T.Hq,U.FN,I.Q,E,R,q,tt]}),x);B=(0,k.gn)([(0,S.c)()],B);let xt=(()=>{var r;class n{constructor(i,o){this.routerQuery=i,this.router=o}ngOnInit(){switch(this.taskName=this.routerQuery.getParams().task,this.taskName){case"add":this.successMsg="User Successfully Added.";break;case"update":this.successMsg="User Successfully Updated.";break;case"deactivate":this.successMsg="User Account Deactivated.";break;case"add-role":this.successMsg="Role Successfully Added.";break;case"assign-role":this.successMsg="Roles have been assigned to User successfully.";break;case"assign-location":this.successMsg="Locations have been assigned to User successfully.";break;case"assign-jurisdiction":this.successMsg="Jurisdictions have been assigned to User successfully.";break;case"ADD-CONSULATE":this.successMsg="Consulate Details added successfully.";break;case"DELETE-CONSULATE":this.successMsg="Consulate Details deleted successfully.";break;case"EDIT-CONSULATE":this.successMsg="Consulate Details updated successfully.";break;case"features-to-role":this.successMsg="Features have been assigned to Role successfully.";break;default:this.successMsg=""}}onCloseClick(){this.router.navigate(["/admin/dashboard"])}}return(r=n).\u0275fac=function(i){return new(i||r)(t.Y36(d.dt),t.Y36(h.F0))},r.\u0275cmp=t.Xpm({type:r,selectors:[["emigrate-user-success"]],decls:11,vars:1,consts:[[1,"form","pb-0"],[1,"container","content","p-3","border","mt-2","mb-2"],[1,"col-md-12","text-center"],[1,"buttons","mt-3","mb-3"],["pButton","","type","button",1,"btn-blue","mr-2","btn-format",3,"click"],[1,"pi","pi-times",2,"font-size","0.7rem"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"h4"),t._uU(2,"Success"),t.qZA(),t.TgZ(3,"div",1)(4,"div",2)(5,"p"),t._uU(6),t.qZA()()(),t.TgZ(7,"div",3)(8,"button",4),t.NdJ("click",function(){return o.onCloseClick()}),t._UZ(9,"i",5),t._uU(10," Close "),t.qZA()()()),2&i&&(t.xp6(6),t.Oqu(o.successMsg))},dependencies:[T.Hq]}),n})();var j=m(6625);function Jt(r,n){if(1&r&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.label," ")}}const et=function(){return{height:"30rem"}};let Qt=(()=>{var r;class n{constructor(){this.cancelClick=new t.vpe,this.selectedRoleIds=[]}ngOnInit(){this.selectedRoles=[]}onCancelClick(){this.cancelClick.emit(!0)}clearForm(){this.entityFormGroup.reset()}onMoveToTarget(i){this.selectedRoleIds=[],this.selectedRoleIds=this.selectedRoles.map(l=>l.value);let o=this.entityFormGroup.getRawValue();o.roles=this.selectedRoleIds,this.entityFormGroup.patchValue({...o})}onMoveToSource(i){console.log(i)}}return(r=n).\u0275fac=function(i){return new(i||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["emigrate-user-role-mapping"]],inputs:{entityFormGroup:"entityFormGroup",countries:"countries",state:"state",city:"city",userRoles:"userRoles"},outputs:{cancelClick:"cancelClick"},decls:14,vars:12,consts:[[1,"form"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"field"],["inputLabel","Organisation","inputId","organisationId",1,"block",3,"inputFormControl"],["id","organisationId","type","text","pInputText","","placeholder","Organisation",3,"formControl"],[1,"col-md-12","col-sm-12"],["sourceHeader","Available Roles","targetHeader","Role/Roles assigned to the User","breakpoint","1400px",3,"source","target","dragdrop","responsive","sourceStyle","targetStyle","showSourceControls","showTargetControls","onMoveToTarget","onMoveToSource"],["pTemplate","item"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"h4"),t._uU(2,"User Role Mapping"),t.qZA(),t.TgZ(3,"form")(4,"div",1)(5,"div",2)(6,"div",3)(7,"emigrate-sh-html-input",4),t._UZ(8,"input",5),t.qZA()()()(),t.TgZ(9,"div",1)(10,"div",6)(11,"div",3)(12,"p-pickList",7),t.NdJ("onMoveToTarget",function(p){return o.onMoveToTarget(p)})("onMoveToSource",function(p){return o.onMoveToSource(p)}),t.YNc(13,Jt,2,1,"ng-template",8),t.qZA()()()()()()),2&i&&(t.xp6(7),t.Q6J("inputFormControl",o.entityFormGroup.controls.organisationId),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.organisationId),t.xp6(4),t.Q6J("source",o.userRoles)("target",o.selectedRoles)("dragdrop",!0)("responsive",!0)("sourceStyle",t.DdM(10,et))("targetStyle",t.DdM(11,et))("showSourceControls",!1)("showTargetControls",!1))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.oH,f.jx,Z.o,s.F,j.G,c.KR]}),n})();var J;const Mt=function(){return{width:"40vw"}};let z=((J=class extends c.H6{constructor(n,e,i,o,l,p,_){super(o),this.formHelper=n,this._userMgmntService=e,this.uiService=i,this.routerQuery=l,this.confirmationService=p,this.router=_,this.breadcrumb=[]}ngOnInit(){this.getAllDropdownValues(),this.userRoleFormGroup=this.formHelper.createUserRoleForm(!0),this.userId=this.routerQuery.getParams().id,this.userId&&this.routerQuery.selectParams().pipe((0,S.t)(this)).subscribe(()=>{this.setBreadcrumb(),this.getUserData(this.userId)})}getUserData(n){this._userMgmntService.getById(n).subscribe({next:e=>{e?(this.userRoleFormGroup=this.formHelper.createUserRoleForm(!0,e?.data),this.showSuccessToast(e.message)):(this.showErrorToast(e?.message),this.uiService.hideSpinner())},error:e=>{this.showErrorToast(e?.error?.errormessage),this.uiService.hideSpinner()},complete:()=>{}})}getAllDropdownValues(){this.countries=this.routerQuery.getData()[0][a.Yo_.COUNTRY],this.workCountry=this.routerQuery.getData()[0][a.Yo_.COUNTRY],this.state=this.routerQuery.getData()[0][a.Yo_.STATE],this.workState=this.routerQuery.getData()[0][a.Yo_.STATE],this.district=this.routerQuery.getData()[0][a.Yo_.DISTRICT],this.city=this.routerQuery.getData()[0][a.Yo_.CITY],this.workCity=this.routerQuery.getData()[0][a.Yo_.CITY],this.userRoles=this.routerQuery.getData()[0][a.Yo_.USER_ROLES]}setBreadcrumb(){this.breadcrumb=[{label:"Dashboard",routerLink:["/admin"]},{label:"User Management",routerLink:["/admin"]}],this.breadcrumb.push({label:"Assign Role",routerLink:[`/admin/user/assign-role/${this.userId}`]}),this.uiService.initPageSetup(this.breadcrumb,"Assign Role")}get personalInfoFormGroup(){return this.userRoleFormGroup.controls.personalInformation}get contactDetailsFormGroup(){return this.userRoleFormGroup.controls.contactDetails}get userRoleMappingFormGroup(){return this.userRoleFormGroup.controls.userRoles}updateUser(){const n=Object.assign(new a.sj7,this.formHelper.userRoleFormToEmigrateUpdateUserRole(this.userId,this.userRoleFormGroup));this._userMgmntService.addRolesToUser(n).subscribe({next:e=>{e.status===a.Xef.SUCCESS&&e?.data?(this.showSuccessToast(e.message),this.router.navigate(["admin/administration/user/success","assign-role"])):(this.showErrorToast(e?.message),this.uiService.hideSpinner())},error:e=>{this.showErrorToast(e?.error?.errormessage),this.uiService.hideSpinner()},complete:()=>{}})}onCancelClick(n){n&&this.userRoleFormGroup.touched&&this.confirmationService.confirm({message:"Are you sure that you want to proceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{this.router.navigate(["/admin/dashboard"])},reject:()=>{}})}saveUser(){this.confirmationService.confirm({message:"Are you sure you want to update user account?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{this.updateUser()},reject:()=>{}})}}).\u0275fac=function(n){return new(n||J)(t.Y36(y.j),t.Y36(F.L),t.Y36(g.n),t.Y36(f.ez),t.Y36(d.dt),t.Y36(f.YP),t.Y36(h.F0))},J.\u0275cmp=t.Xpm({type:J,selectors:[["emigrate-role"]],features:[t.qOj],decls:21,vars:17,consts:[[1,"container","content","p-3","border","mt-2","mb-2"],[1,"instruction","float-md-right","mb-5"],["aria-hidden","true","pTooltip","1. Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions.","tooltipPosition","top",1,"pi","pi-exclamation-circle"],[1,"clearfix"],[3,"formGroup"],[1,"row"],[1,"row_box"],[3,"entityFormGroup","countries","state","city"],[3,"entityFormGroup","countries","state","city","userRoles"],[1,"buttons","mt-3"],["pButton","","type","button",1,"btn-blue","mr-2","btn-format"],["pButton","","type","button",1,"btn-format","btn-blue","mr-2",3,"click"]],template:function(n,e){1&n&&(t._UZ(0,"p-toast"),t.TgZ(1,"div",0)(2,"div",1),t._uU(3," Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions. "),t._UZ(4,"span",2),t.qZA(),t._UZ(5,"div",3),t.TgZ(6,"form",4)(7,"div",5)(8,"div",6),t._UZ(9,"emigrate-personal-info",7),t.qZA(),t.TgZ(10,"div",6),t._UZ(11,"emigrate-contact-details",7),t.qZA(),t.TgZ(12,"div",6),t._UZ(13,"emigrate-user-role-mapping",8),t.qZA(),t.TgZ(14,"div",6)(15,"div",9)(16,"button",10),t._uU(17,"Cancel"),t.qZA(),t.TgZ(18,"button",11),t.NdJ("click",function(){return e.saveUser()}),t._uU(19,"Update"),t.qZA()()()()()(),t._UZ(20,"p-confirmDialog")),2&n&&(t.xp6(6),t.Q6J("formGroup",e.userRoleFormGroup),t.xp6(3),t.Q6J("entityFormGroup",e.personalInfoFormGroup)("countries",e.countries)("state",e.state)("city",e.city),t.xp6(2),t.Q6J("entityFormGroup",e.contactDetailsFormGroup)("countries",e.countries)("state",e.state)("city",e.city),t.xp6(2),t.Q6J("entityFormGroup",e.userRoleMappingFormGroup)("countries",e.countries)("state",e.state)("city",e.city)("userRoles",e.userRoles),t.xp6(7),t.Akn(t.DdM(16,Mt)))},dependencies:[s._Y,s.JL,s.sg,w.u,T.Hq,U.FN,I.Q,E,R,Qt]}),J);function Lt(r,n){if(1&r&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.label," ")}}z=(0,k.gn)([(0,S.c)()],z);const ot=function(){return{height:"30rem"}};let Et=(()=>{var r;class n{constructor(){this.cancelClick=new t.vpe,this.selectedJurisdictionIds=[]}ngOnInit(){console.log(this.selectedJurisdictions)}onCancelClick(){this.cancelClick.emit(!0)}clearForm(){this.entityFormGroup.reset()}onMoveToTarget(i){this.selectedJurisdictionIds=[],this.selectedJurisdictionIds=this.selectedJurisdictions.map(l=>l.value);let o=this.entityFormGroup.getRawValue();o.jurisdictions=this.selectedJurisdictionIds,this.entityFormGroup.patchValue({...o}),console.log(o)}onMoveToSource(i){console.log(i)}}return(r=n).\u0275fac=function(i){return new(i||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["emigrate-user-jurisdiction-mapping"]],inputs:{entityFormGroup:"entityFormGroup",countries:"countries",state:"state",city:"city",jurisdictions:"jurisdictions",selectedJurisdictions:"selectedJurisdictions"},outputs:{cancelClick:"cancelClick"},decls:15,vars:12,consts:[[1,"form"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"field"],["inputLabel","Organisation","inputId","organisationName",1,"block",3,"inputFormControl"],["id","organisationName","type","text","pInputText","","placeholder","Organisation",3,"formControl"],[1,"col-md-12","col-sm-12"],["sourceHeader","Available Jurisdictions","targetHeader","Jurisdictions assigned to the User","breakpoint","1400px","filterBy","label",3,"source","target","dragdrop","responsive","sourceStyle","targetStyle","showSourceControls","showTargetControls","onMoveToTarget","onMoveToSource"],["pTemplate","item"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"h4"),t._uU(2,"User Jurisdiction Mapping"),t.qZA(),t.TgZ(3,"form")(4,"div",1)(5,"div",2)(6,"div",3)(7,"emigrate-sh-html-input",4),t._UZ(8,"input",5),t.qZA()()(),t._UZ(9,"div",2),t.qZA(),t.TgZ(10,"div",1)(11,"div",6)(12,"div",3)(13,"p-pickList",7),t.NdJ("onMoveToTarget",function(p){return o.onMoveToTarget(p)})("onMoveToSource",function(p){return o.onMoveToSource(p)}),t.YNc(14,Lt,2,1,"ng-template",8),t.qZA()()()()()()),2&i&&(t.xp6(7),t.Q6J("inputFormControl",o.entityFormGroup.controls.organisationName),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.organisationName),t.xp6(5),t.Q6J("source",o.jurisdictions)("target",o.selectedJurisdictions)("dragdrop",!0)("responsive",!0)("sourceStyle",t.DdM(10,ot))("targetStyle",t.DdM(11,ot))("showSourceControls",!1)("showTargetControls",!1))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.oH,f.jx,Z.o,s.F,j.G,c.KR]}),n})();var Q;function Rt(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",8)(1,"div",9),t._UZ(2,"emigrate-personal-info",10),t.qZA(),t.TgZ(3,"div",9),t._UZ(4,"emigrate-address",10),t.qZA(),t.TgZ(5,"div",9),t._UZ(6,"emigrate-contact-details",10),t.qZA(),t.TgZ(7,"div",9),t._UZ(8,"emigrate-user-jurisdiction-mapping",11),t.qZA(),t.TgZ(9,"div",9)(10,"div",12)(11,"button",13),t._uU(12,"Cancel"),t.qZA(),t.TgZ(13,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.confirmUpdateUser())}),t._uU(14,"Update"),t.qZA()()()()}if(2&r){const e=t.oxw(2);t.xp6(2),t.Q6J("entityFormGroup",e.personalInfoFormGroup)("countries",e.countries)("state",e.state)("city",e.city),t.xp6(2),t.Q6J("entityFormGroup",e.addressFormGroup)("countries",e.countries)("state",e.state)("city",e.city),t.xp6(2),t.Q6J("entityFormGroup",e.contactDetailsFormGroup)("countries",e.countries)("state",e.state)("city",e.city),t.xp6(2),t.Q6J("entityFormGroup",e.userJurisdictionMappingFormGroup)("countries",e.countries)("state",e.state)("city",e.city)("jurisdictions",e.jurisdictions)("selectedJurisdictions",e.selectedJurisdictions)}}function Yt(r,n){1&r&&t._UZ(0,"div",8)}function Ot(r,n){if(1&r&&(t.TgZ(0,"div",2)(1,"div",3),t._uU(2," Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions. "),t._UZ(3,"span",4),t.qZA(),t._UZ(4,"div",5),t.TgZ(5,"form",6),t.YNc(6,Rt,15,18,"div",7),t.YNc(7,Yt,1,0,"div",7),t.qZA()()),2&r){const e=t.oxw();t.xp6(5),t.Q6J("formGroup",e.userJurisdictionFormGroup),t.xp6(1),t.Q6J("ngIf",!e.showReasonForm),t.xp6(1),t.Q6J("ngIf",e.showReasonForm)}}function Nt(r,n){if(1&r&&(t.TgZ(0,"div",15)(1,"h3"),t._uU(2),t.qZA(),t.TgZ(3,"div",2)(4,"p"),t._uU(5),t.qZA()()()),2&r){const e=t.oxw();t.xp6(2),t.Oqu(null==e.successObj?null:e.successObj.heading),t.xp6(3),t.hij("",null==e.successObj?null:e.successObj.message,".")}}const qt=function(){return{width:"40vw"}};let V=((Q=class extends c.H6{constructor(n,e,i,o,l,p,_){super(o),this.formHelper=n,this._userMgmntService=e,this.uiService=i,this.routerQuery=l,this.confirmationService=p,this.router=_,this.breadcrumb=[],this.showReasonForm=!1}ngOnInit(){this.getAllDropdownValues(),this.userJurisdictionFormGroup=this.formHelper.createUserJurisdictionForm(!0),this.userId=this.routerQuery.getParams().id,this.userId&&this.routerQuery.selectParams().pipe((0,S.t)(this)).subscribe(()=>{this.setBreadcrumb(),this.getUserData(this.userId)}),this.showSuccessStatus=!1}getUserData(n){this.selectedJurisdictions=[],this._userMgmntService.getByIdForJurisdiction(n).subscribe({next:e=>{e&&e.data?(this.userJurisdictionFormGroup=this.formHelper.createUserJurisdictionForm(!0,e?.data),e.data.locations&&e.data.locations.length&&(this.selectedJurisdictions=this.jurisdictions.filter(i=>this.userJurisdictionMappingFormGroup.controls.jurisdictions.value.indexOf(i.value)>=0)),this.showSuccessToast(e.message)):(this.showErrorToast(e?.message),this.uiService.hideSpinner())},error:e=>{this.showErrorToast(e?.error?.errormessage),this.uiService.hideSpinner()},complete:()=>{}})}getAllDropdownValues(){this.countries=this.routerQuery.getData()[0][a.Yo_.COUNTRY],this.state=this.routerQuery.getData()[0][a.Yo_.STATE],this.district=this.routerQuery.getData()[0][a.Yo_.DISTRICT],this.city=this.routerQuery.getData()[0][a.Yo_.CITY],this.jurisdictions=this.routerQuery.getData()[0][a.Yo_.JURISDICTIONS]}setBreadcrumb(){this.breadcrumb=[{label:"Dashboard",routerLink:["/admin"]},{label:"User Management",routerLink:["/admin"]}],this.breadcrumb.push({label:"Assign Jurisdictions",routerLink:[`/admin/user/jurisdiction/${this.userId}`]}),this.uiService.initPageSetup(this.breadcrumb,"Assign Jurisdictions")}get personalInfoFormGroup(){return this.userJurisdictionFormGroup.controls.personalInformation}get addressFormGroup(){return this.userJurisdictionFormGroup.controls.address}get contactDetailsFormGroup(){return this.userJurisdictionFormGroup.controls.contactDetails}get userJurisdictionMappingFormGroup(){return this.userJurisdictionFormGroup.controls.organisationInfo}updateUserJurisdiction(){const n=Object.assign(new a.VmY,this.formHelper.userJurisdictionFormToEmigrateUpdateUserJurisdiction(this.userId,this.userJurisdictionFormGroup));this._userMgmntService.addJurisdictionsToUser(n).subscribe({next:e=>{e.status.toLocaleLowerCase()===a.Xef.SUCCESS&&e?.data?(this.showSuccessToast(e.message),this.router.navigate(["admin/administration/user/success","assign-jurisdiction"])):(this.showErrorToast(e?.message),this.uiService.hideSpinner())},error:e=>{this.showErrorToast(e?.error?.errormessage),this.uiService.hideSpinner()},complete:()=>{}})}confirmUpdateUser(){this.confirmationService.confirm({message:"Are you sure that you want to proceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{this.updateUserJurisdiction()},reject:()=>{}})}}).\u0275fac=function(n){return new(n||Q)(t.Y36(y.j),t.Y36(F.L),t.Y36(g.n),t.Y36(f.ez),t.Y36(d.dt),t.Y36(f.YP),t.Y36(h.F0))},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["emigrate-jurisdiction"]],features:[t.qOj],decls:4,vars:5,consts:[["class","container content p-3 border mt-2 mb-2",4,"ngIf"],["class","container content p-3 mt-2 mb-2 row_box",4,"ngIf"],[1,"container","content","p-3","border","mt-2","mb-2"],[1,"instruction","float-md-right","mb-5"],["aria-hidden","true","pTooltip","1. Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions.","tooltipPosition","top",1,"pi","pi-exclamation-circle"],[1,"clearfix"],[3,"formGroup"],["class","row",4,"ngIf"],[1,"row"],[1,"row_box"],[3,"entityFormGroup","countries","state","city"],[3,"entityFormGroup","countries","state","city","jurisdictions","selectedJurisdictions"],[1,"buttons","mt-3"],["pButton","","type","button",1,"btn-blue","mr-2","btn-format"],["pButton","","type","button",1,"btn-format","btn-blue","mr-2",3,"click"],[1,"container","content","p-3","mt-2","mb-2","row_box"]],template:function(n,e){1&n&&(t._UZ(0,"p-toast"),t.YNc(1,Ot,8,3,"div",0),t.YNc(2,Nt,6,2,"div",1),t._UZ(3,"p-confirmDialog")),2&n&&(t.xp6(1),t.Q6J("ngIf",!e.showSuccessStatus),t.xp6(1),t.Q6J("ngIf",e.showSuccessStatus),t.xp6(1),t.Akn(t.DdM(4,qt)))},dependencies:[C.O5,s._Y,s.JL,s.sg,w.u,T.Hq,U.FN,I.Q,E,R,q,Et]}),Q);function jt(r,n){if(1&r&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.label," ")}}V=(0,k.gn)([(0,S.c)()],V);const rt=function(){return{height:"30rem"}};let Pt=(()=>{var r;class n{constructor(){this.cancelClick=new t.vpe,this.selectedLocationIds=[]}ngOnInit(){this.selectedLocations=[]}onCancelClick(){this.cancelClick.emit(!0)}clearForm(){this.entityFormGroup.reset()}onMoveToTarget(i){this.selectedLocationIds=[],this.selectedLocationIds=this.selectedLocations.map(l=>l.value);let o=this.entityFormGroup.getRawValue();o.locations=this.selectedLocationIds,this.entityFormGroup.patchValue({...o}),console.log(this.selectedLocationIds)}onMoveToSource(i){console.log(i)}}return(r=n).\u0275fac=function(i){return new(i||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["emigrate-user-location-mapping"]],inputs:{entityFormGroup:"entityFormGroup",countries:"countries",state:"state",city:"city",locations:"locations"},outputs:{cancelClick:"cancelClick"},decls:18,vars:14,consts:[[1,"form"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"field"],["inputLabel","Organisation","inputId","organisationId",1,"block",3,"inputFormControl"],["id","organisationId","type","text","pInputText","","placeholder","Organisation",3,"formControl"],["inputLabel","Process Type/Jurisdiction","inputId","processId",1,"block",3,"inputFormControl"],["id","processId","type","text","pInputText","","placeholder","Process Type/Jurisdiction",3,"formControl"],[1,"col-md-12","col-sm-12"],["sourceHeader","Available Locations","targetHeader","Locations assigned to the User","breakpoint","1400px",3,"source","target","dragdrop","responsive","sourceStyle","targetStyle","showSourceControls","showTargetControls","onMoveToTarget","onMoveToSource"],["pTemplate","item"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"h4"),t._uU(2,"User Role Mapping"),t.qZA(),t.TgZ(3,"form")(4,"div",1)(5,"div",2)(6,"div",3)(7,"emigrate-sh-html-input",4),t._UZ(8,"input",5),t.qZA()()(),t.TgZ(9,"div",2)(10,"div",3)(11,"emigrate-sh-html-input",6),t._UZ(12,"input",7),t.qZA()()()(),t.TgZ(13,"div",1)(14,"div",8)(15,"div",3)(16,"p-pickList",9),t.NdJ("onMoveToTarget",function(p){return o.onMoveToTarget(p)})("onMoveToSource",function(p){return o.onMoveToSource(p)}),t.YNc(17,jt,2,1,"ng-template",10),t.qZA()()()()()()),2&i&&(t.xp6(7),t.Q6J("inputFormControl",o.entityFormGroup.controls.organisationId),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.organisationId),t.xp6(3),t.Q6J("inputFormControl",o.entityFormGroup.controls.processId),t.xp6(1),t.Q6J("formControl",o.entityFormGroup.controls.processId),t.xp6(4),t.Q6J("source",o.locations)("target",o.selectedLocations)("dragdrop",!0)("responsive",!0)("sourceStyle",t.DdM(12,rt))("targetStyle",t.DdM(13,rt))("showSourceControls",!1)("showTargetControls",!1))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.oH,f.jx,Z.o,s.F,j.G,c.KR]}),n})();var M;function Ht(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",8)(1,"div",9),t._UZ(2,"emigrate-personal-info",10),t.qZA(),t.TgZ(3,"div",9),t._UZ(4,"emigrate-address",10),t.qZA(),t.TgZ(5,"div",9),t._UZ(6,"emigrate-contact-details",10),t.qZA(),t.TgZ(7,"div",9),t._UZ(8,"emigrate-user-location-mapping",11),t.qZA(),t.TgZ(9,"div",9)(10,"div",12)(11,"button",13),t._uU(12,"Cancel"),t.qZA(),t.TgZ(13,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.updateUser())}),t._uU(14,"Update"),t.qZA()()()()}if(2&r){const e=t.oxw(2);t.xp6(2),t.Q6J("entityFormGroup",e.personalInfoFormGroup)("countries",e.countries)("state",e.state)("city",e.city),t.xp6(2),t.Q6J("entityFormGroup",e.addressFormGroup)("countries",e.countries)("state",e.state)("city",e.city),t.xp6(2),t.Q6J("entityFormGroup",e.contactDetailsFormGroup)("countries",e.countries)("state",e.state)("city",e.city),t.xp6(2),t.Q6J("entityFormGroup",e.userLocationMappingFormGroup)("countries",e.countries)("state",e.state)("city",e.city)("locations",e.locations)}}function Bt(r,n){1&r&&t._UZ(0,"div",8)}function zt(r,n){if(1&r&&(t.TgZ(0,"div",2)(1,"div",3),t._uU(2," Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions. "),t._UZ(3,"span",4),t.qZA(),t._UZ(4,"div",5),t.TgZ(5,"form",6),t.YNc(6,Ht,15,17,"div",7),t.YNc(7,Bt,1,0,"div",7),t.qZA()()),2&r){const e=t.oxw();t.xp6(5),t.Q6J("formGroup",e.userLocationFormGroup),t.xp6(1),t.Q6J("ngIf",!e.showReasonForm),t.xp6(1),t.Q6J("ngIf",e.showReasonForm)}}function Vt(r,n){if(1&r&&(t.TgZ(0,"div",15)(1,"h3"),t._uU(2),t.qZA(),t.TgZ(3,"div",2)(4,"p"),t._uU(5),t.qZA()()()),2&r){const e=t.oxw();t.xp6(2),t.Oqu(null==e.successObj?null:e.successObj.heading),t.xp6(3),t.hij("",null==e.successObj?null:e.successObj.message,".")}}const Kt=function(){return{width:"40vw"}};let K=((M=class extends c.H6{constructor(n,e,i,o,l,p,_){super(o),this.formHelper=n,this._userMgmntService=e,this.uiService=i,this.routerQuery=l,this.confirmationService=p,this.router=_,this.breadcrumb=[],this.showReasonForm=!1}ngOnInit(){this.getAllDropdownValues(),this.userLocationFormGroup=this.formHelper.createUserLocationForm(!0),this.userId=this.routerQuery.getParams().id,this.userId&&this.routerQuery.selectParams().pipe((0,S.t)(this)).subscribe(()=>{this.setBreadcrumb(),this.getUserData(this.userId)}),this.showSuccessStatus=!1}getUserData(n){this._userMgmntService.getById(n).subscribe({next:e=>{e&&e?.data?(this.userLocationFormGroup=this.formHelper.createUserLocationForm(!0,e?.data),this.showSuccessToast(e.message)):(this.showErrorToast(e?.message),this.uiService.hideSpinner())},error:e=>{this.showErrorToast(e?.error?.errormessage),this.uiService.hideSpinner()},complete:()=>{}})}getAllDropdownValues(){this.countries=this.routerQuery.getData()[0][a.Yo_.COUNTRY],this.workCountry=this.routerQuery.getData()[0][a.Yo_.COUNTRY],this.state=this.routerQuery.getData()[0][a.Yo_.STATE],this.workState=this.routerQuery.getData()[0][a.Yo_.STATE],this.district=this.routerQuery.getData()[0][a.Yo_.DISTRICT],this.city=this.routerQuery.getData()[0][a.Yo_.CITY],this.workCity=this.routerQuery.getData()[0][a.Yo_.CITY],this.locations=this.routerQuery.getData()[0][a.Yo_.CONSULATE]}setBreadcrumb(){this.breadcrumb=[{label:"Dashboard",routerLink:["/admin"]},{label:"User Management",routerLink:["/admin"]}],this.breadcrumb.push({label:"Assign Locations",routerLink:[`/admin/user/location/${this.userId}`]}),this.uiService.initPageSetup(this.breadcrumb,"Assign Locations")}get personalInfoFormGroup(){return this.userLocationFormGroup.controls.personalInformation}get addressFormGroup(){return this.userLocationFormGroup.controls.address}get contactDetailsFormGroup(){return this.userLocationFormGroup.controls.contactDetails}get userLocationMappingFormGroup(){return this.userLocationFormGroup.controls.organisationInfo}updateUser(){this.showReasonForm=!0,console.log(this.userLocationFormGroup.getRawValue()),this.router.navigate(["admin/administration/user/success","assign-locations"])}onCancelClick(n){n&&this.userLocationFormGroup.touched&&this.confirmationService.confirm({message:"Are you sure that you want to proceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{this.router.navigate(["/admin/dashboard"])},reject:()=>{}})}onSubmitClick(n){}}).\u0275fac=function(n){return new(n||M)(t.Y36(y.j),t.Y36(F.L),t.Y36(g.n),t.Y36(f.ez),t.Y36(d.dt),t.Y36(f.YP),t.Y36(h.F0))},M.\u0275cmp=t.Xpm({type:M,selectors:[["emigrate-location"]],features:[t.qOj],decls:4,vars:5,consts:[["class","container content p-3 border mt-2 mb-2",4,"ngIf"],["class","container content p-3 mt-2 mb-2 row_box",4,"ngIf"],[1,"container","content","p-3","border","mt-2","mb-2"],[1,"instruction","float-md-right","mb-5"],["aria-hidden","true","pTooltip","1. Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions.","tooltipPosition","top",1,"pi","pi-exclamation-circle"],[1,"clearfix"],[3,"formGroup"],["class","row",4,"ngIf"],[1,"row"],[1,"row_box"],[3,"entityFormGroup","countries","state","city"],[3,"entityFormGroup","countries","state","city","locations"],[1,"buttons","mt-3"],["pButton","","type","button",1,"btn-blue","mr-2","btn-format"],["pButton","","type","button",1,"btn-format","btn-blue","mr-2",3,"click"],[1,"container","content","p-3","mt-2","mb-2","row_box"]],template:function(n,e){1&n&&(t._UZ(0,"p-toast"),t.YNc(1,zt,8,3,"div",0),t.YNc(2,Vt,6,2,"div",1),t._UZ(3,"p-confirmDialog")),2&n&&(t.xp6(1),t.Q6J("ngIf",!e.showSuccessStatus),t.xp6(1),t.Q6J("ngIf",e.showSuccessStatus),t.xp6(1),t.Akn(t.DdM(4,Kt)))},dependencies:[C.O5,s._Y,s.JL,s.sg,w.u,T.Hq,U.FN,I.Q,E,R,q,Pt]}),M);function Xt(r,n){if(1&r&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&r){const e=n.$implicit;t.xp6(1),t.hij(" ",e.label," ")}}K=(0,k.gn)([(0,S.c)()],K);const it=function(){return{height:"30rem"}};let Wt=(()=>{var r;class n{constructor(){this.cancelClick=new t.vpe,this.selectedFeatureIds=[]}ngOnInit(){this.selectedFeatures=[],console.log(this.features)}onCancelClick(){this.cancelClick.emit(!0)}clearForm(){this.entityFormGroup.reset()}onMoveToTarget(i){this.selectedFeatureIds=[],this.selectedFeatureIds=this.selectedFeatures.map(l=>l.value);let o=this.entityFormGroup.getRawValue();o.features=this.selectedFeatureIds,this.entityFormGroup.patchValue({...o}),console.log(this.selectedFeatureIds)}onMoveToSource(i){console.log(i)}}return(r=n).\u0275fac=function(i){return new(i||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["emigrate-role-feature-mapping"]],inputs:{entityFormGroup:"entityFormGroup",features:"features"},outputs:{cancelClick:"cancelClick"},decls:9,vars:10,consts:[[1,"form"],[1,"row"],[1,"col-md-12","col-sm-12"],[1,"field"],["sourceHeader","Available Features","targetHeader","Feature/Features assigned to the Role","breakpoint","1400px",3,"source","target","dragdrop","responsive","sourceStyle","targetStyle","showSourceControls","showTargetControls","onMoveToTarget","onMoveToSource"],["pTemplate","item"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"h4"),t._uU(2,"Role Feature Mapping"),t.qZA(),t.TgZ(3,"form")(4,"div",1)(5,"div",2)(6,"div",3)(7,"p-pickList",4),t.NdJ("onMoveToTarget",function(p){return o.onMoveToTarget(p)})("onMoveToSource",function(p){return o.onMoveToSource(p)}),t.YNc(8,Xt,2,1,"ng-template",5),t.qZA()()()()()()),2&i&&(t.xp6(7),t.Q6J("source",o.features)("target",o.selectedFeatures)("dragdrop",!0)("responsive",!0)("sourceStyle",t.DdM(8,it))("targetStyle",t.DdM(9,it))("showSourceControls",!1)("showTargetControls",!1))},dependencies:[s._Y,s.JL,f.jx,s.F,j.G]}),n})();var L;function $t(r,n){if(1&r&&(t.TgZ(0,"div",17)(1,"h3"),t._uU(2),t.qZA(),t.TgZ(3,"div",0)(4,"p"),t._uU(5),t.qZA()()()),2&r){const e=t.oxw();t.xp6(2),t.Oqu(null==e.successObj?null:e.successObj.heading),t.xp6(3),t.hij("",null==e.successObj?null:e.successObj.message,".")}}const te=function(){return{width:"40vw"}};let X=((L=class extends c.H6{constructor(n,e,i,o,l,p,_){super(o),this.formHelper=n,this._userMgmntService=e,this.uiService=i,this.routerQuery=l,this.confirmationService=p,this.router=_,this.breadcrumb=[],this.showReasonForm=!1}ngOnInit(){this.getAllDropdownValues(),this.roleFeatureFormGroup=this.formHelper.createRoleFeatureForm(!1),this.setBreadcrumb(),this.showSuccessStatus=!1}getUserData(n){this._userMgmntService.getById(n).subscribe({next:e=>{e&&e?.data?(this.roleFeatureFormGroup=this.formHelper.createRoleFeatureForm(!1,e?.data),this.showSuccessToast(e.message)):(this.showErrorToast(e?.message),this.uiService.hideSpinner())},error:e=>{this.showErrorToast(e?.error?.errormessage),this.uiService.hideSpinner()},complete:()=>{}})}getAllDropdownValues(){this.userRoles=this.routerQuery.getData()[0][a.Yo_.USER_ROLES],this.features=this.routerQuery.getData()[0][a.Yo_.FEATURES]}setBreadcrumb(){this.breadcrumb=[{label:"Dashboard",routerLink:["/admin"]},{label:"Role Management",routerLink:["/admin"]}],this.breadcrumb.push({label:"Assign Features",routerLink:[`/admin/user/assign-role/${this.roleId}`]}),this.uiService.initPageSetup(this.breadcrumb,"Assign Features")}get roleFeatureMappingFormGroup(){return this.roleFeatureFormGroup.controls.roleFeatures}updateRole(){this.showReasonForm=!0;const n=Object.assign(new a.tPd,this.formHelper.roleFeatureFormToEmigrateRole(this.roleFeatureFormGroup));this._userMgmntService.addFeaturesToRole(n).subscribe({next:e=>{e.status===a.Xef.SUCCESS&&e?.data?(this.showSuccessToast(e.message),this.router.navigate(["admin/administration/user/success","features-to-role"])):(this.showErrorToast(e?.message),this.uiService.hideSpinner())},error:e=>{this.showErrorToast(e?.error?.errormessage),this.uiService.hideSpinner()},complete:()=>{}})}onCancelClick(n){n&&this.roleFeatureFormGroup.touched&&this.confirmationService.confirm({message:"Are you sure that you want to proceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{this.router.navigate(["/admin/dashboard"])},reject:()=>{}})}onSubmitClick(n){}}).\u0275fac=function(n){return new(n||L)(t.Y36(y.j),t.Y36(F.L),t.Y36(g.n),t.Y36(f.ez),t.Y36(d.dt),t.Y36(f.YP),t.Y36(h.F0))},L.\u0275cmp=t.Xpm({type:L,selectors:[["emigrate-feature"]],features:[t.qOj],decls:28,vars:10,consts:[[1,"container","content","p-3","border","mt-2","mb-2"],[1,"instruction","float-md-right","mb-5"],["aria-hidden","true","pTooltip","1. Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions.","tooltipPosition","top",1,"pi","pi-exclamation-circle"],[1,"clearfix"],[3,"formGroup"],[1,"row"],[1,"row_box"],[1,"form"],[1,"col-md-4","col-sm-6"],[1,"field"],["inputLabel","User Role","inputId","role",1,"block",3,"inputFormControl"],["EmigrateShDropdown","","id","role","placeholder","Select",3,"formControl","options"],[3,"entityFormGroup","features"],[1,"buttons","mt-3"],["pButton","","type","button",1,"btn-blue","mr-2","btn-format"],["pButton","","type","button",1,"btn-format","btn-blue","mr-2",3,"click"],["class","container content p-3 mt-2 mb-2 row_box",4,"ngIf"],[1,"container","content","p-3","mt-2","mb-2","row_box"]],template:function(n,e){1&n&&(t._UZ(0,"p-toast"),t.TgZ(1,"div",0)(2,"div",1),t._uU(3," Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions. "),t._UZ(4,"span",2),t.qZA(),t._UZ(5,"div",3),t.TgZ(6,"form",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"h4"),t._uU(11,"Search Role"),t.qZA(),t.TgZ(12,"div",5)(13,"div",8)(14,"div",9)(15,"div",9)(16,"emigrate-sh-html-input",10),t._UZ(17,"p-dropdown",11),t.qZA()()()()()()(),t.TgZ(18,"div",6),t._UZ(19,"emigrate-role-feature-mapping",12),t.qZA(),t.TgZ(20,"div",6)(21,"div",13)(22,"button",14),t._uU(23,"Cancel"),t.qZA(),t.TgZ(24,"button",15),t.NdJ("click",function(){return e.updateRole()}),t._uU(25,"Update"),t.qZA()()()()()(),t.YNc(26,$t,6,2,"div",16),t._UZ(27,"p-confirmDialog")),2&n&&(t.xp6(6),t.Q6J("formGroup",e.roleFeatureFormGroup),t.xp6(10),t.Q6J("inputFormControl",e.roleFeatureFormGroup.controls.id),t.xp6(1),t.Q6J("formControl",e.roleFeatureFormGroup.controls.id)("options",e.userRoles),t.xp6(2),t.Q6J("entityFormGroup",e.roleFeatureMappingFormGroup)("features",e.features),t.xp6(7),t.Q6J("ngIf",e.showSuccessStatus),t.xp6(1),t.Akn(t.DdM(9,te)))},dependencies:[C.O5,s._Y,s.JJ,s.JL,s.oH,s.sg,w.u,T.Hq,G.Lt,U.FN,I.Q,c.KR,c.lC,Wt]}),L);X=(0,k.gn)([(0,S.c)()],X);const ee=[{path:"add",pathMatch:"full",component:pt,data:{mode:"NEW"},resolve:[a.myw]},{path:"edit/:id",pathMatch:"full",component:B,data:{mode:"EDIT"},resolve:[a.myw]},{path:"manage",pathMatch:"full",component:O,data:{page:"manage"},resolve:[a.myw]},{path:"deactivate",pathMatch:"full",component:O,data:{page:"deactivate"},resolve:[a.myw]},{path:"deactivate/:id",pathMatch:"full",component:P,resolve:[a.myw]},{path:"assign-role",pathMatch:"full",component:O,data:{page:"assign-role"},resolve:[a.myw]},{path:"assign-role/:id",pathMatch:"full",component:z,resolve:[a.myw]},{path:"jurisdiction",pathMatch:"full",component:O,data:{page:"jurisdiction"},resolve:[a.myw]},{path:"jurisdiction/:id",pathMatch:"full",component:V,resolve:[a.myw]},{path:"location",pathMatch:"full",component:O,data:{page:"location"},resolve:[a.myw]},{path:"location/:id",pathMatch:"full",component:K,resolve:[a.myw]},{path:"success/:task",pathMatch:"full",component:xt,resolve:[]},{path:"role/feature",pathMatch:"full",component:X,resolve:[a.myw]}];let oe=(()=>{var r;class n{}return(r=n).\u0275fac=function(i){return new(i||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[h.Bz.forChild(ee),h.Bz]}),n})();var re=m(6270);let ie=(()=>{var r;class n{}return(r=n).\u0275fac=function(i){return new(i||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[C.ez,s.UX,oe,re.g,c.uR]}),n})()}}]);