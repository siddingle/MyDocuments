"use strict";(self.webpackChunke_migrate=self.webpackChunke_migrate||[]).push([[9862],{9862:(he,Z,m)=>{m.r(Z),m.d(Z,{PbbyPolicyModule:()=>ge});var d=m(6895),l=m(1358),i=m(4006),C=m(3599),p=m(2976),e=m(1571);let I=(()=>{var n;class s{constructor(o,t){this.fb=o,this.datePipe=t}createPbbyClaimForm(o){return this.fb.group({pbbyClaimDetails:this.fb.group({passportno:this.fb.control({value:null,disabled:o},i.kI.compose([l.YO.passportNumberValidator()])),mobileno:this.fb.control({value:null,disabled:o},i.kI.compose([i.kI.required,l.YO.mobileNumberValidator()])),email:this.fb.control({value:null,disabled:o},i.kI.compose([i.kI.required,i.kI.maxLength(50),l.YO.emailValidator()])),captcha:this.fb.control({value:null,disabled:o},i.kI.compose([i.kI.required]))})})}createPbbyClaimOtpForm(o){return this.fb.group({otpDetails:this.fb.group({otp:this.fb.control({value:null,disabled:o},i.kI.compose([i.kI.required,l.YO.numericValidator()]))})})}createPbbyPolicyForm(o){return this.fb.group({emigrantAndInsuranceDetails:this.fb.group({personalDetails:this.fb.group({firstName:this.fb.control({value:null,disabled:o},i.kI.compose([i.kI.required,l.YO.fullNameValidator()])),surname:this.fb.control({value:null,disabled:o},i.kI.compose([l.YO.fullNameValidator()])),dateOfBirth:this.fb.control({value:null,disabled:o},i.kI.required),passportNo:this.fb.control({value:null,disabled:o},i.kI.compose([i.kI.required,l.YO.passportNumberValidator()])),address:this.fb.control({value:null,disabled:o},i.kI.compose([i.kI.required,l.YO.addressValidator()])),visaNo:this.fb.control({value:null,disabled:o},i.kI.compose([i.kI.required,l.YO.alphaNumericValidator()])),visaExpiryDate:this.fb.control({value:null,disabled:o},i.kI.required),gender:this.fb.control({value:null,disabled:o},i.kI.required),mobileno:this.fb.control({value:null,disabled:o},i.kI.compose([i.kI.required,l.YO.numericValidator()])),emaiAddress:this.fb.control({value:null,disabled:o},i.kI.compose([i.kI.required,i.kI.maxLength(50),l.YO.emailValidator()])),countryOfEmployment:this.fb.control({value:null,disabled:o},i.kI.required)}),insuranceDetails:this.fb.group({insurancePolicyNo:this.fb.control({value:null,disabled:o},i.kI.compose([i.kI.required,l.YO.alphaNumericValidator()])),insurancePolicyIssuedOn:this.fb.control({value:null,disabled:o},i.kI.required),insurancePolicyPeriod:this.fb.control({value:null,disabled:o},i.kI.compose([i.kI.required,l.YO.numericValidator()])),insuranceAgency:this.fb.control({value:null,disabled:o},i.kI.compose([i.kI.required])),insurancePolicyAmount:this.fb.control({value:null,disabled:o},i.kI.compose([i.kI.required,l.YO.numericValidator()]))}),bankDetails:this.fb.group({nameOfNominee:this.fb.control({value:null,disabled:o},i.kI.compose([i.kI.required,l.YO.fullNameValidator()])),accountNoOfNominee:this.fb.control({value:null,disabled:o},i.kI.compose([i.kI.required,l.YO.numericValidator()])),bankName:this.fb.control({value:null,disabled:o},i.kI.compose([i.kI.required,l.YO.fullNameValidator()])),mobilenoNominee:this.fb.control({value:null,disabled:o},i.kI.compose([i.kI.required,l.YO.mobileNumberValidator()])),addressOfNominee:this.fb.control({value:null,disabled:o},i.kI.compose([i.kI.required,l.YO.addressValidator()]))})}),eventualityDetails:this.fb.group({typeOfEventuality:this.fb.control({value:null,disabled:o},i.kI.required),dateOfEventuality:this.fb.control({value:null,disabled:o}),dateOfBodyTransport:this.fb.control({value:null,disabled:o}),eventuality:this.fb.control({value:null,disabled:o},i.kI.compose([i.kI.required,l.YO.fullNameValidator()])),countryEventuality:this.fb.control({value:null,disabled:o},i.kI.required),reportedBy:this.fb.control({value:null,disabled:o},i.kI.required),name:this.fb.control({value:null,disabled:o}),relationWithEmigirant:this.fb.control({value:null,disabled:o}),descriptionEventuality:this.fb.control({value:null,disabled:o},i.kI.compose([i.kI.required,l.YO.fullNameValidator()])),relationshipOtherEmigrant:this.fb.control({value:null,disabled:o},i.kI.compose([l.YO.fullNameValidator()]))}),documentList:this.fb.array([])})}pbbyPolicyClaimFormTopbbyPolicyClaim(o){const t=o.getRawValue();return(new p.ty_).deserialize({passportNumber:t.pbbyClaimDetails?.passportno,mobileNumber:t.pbbyClaimDetails?.mobileno,email:t.pbbyClaimDetails?.email})}documenToList(o){return{id:o.id,fileCode:o.fileCode,file:o.file,fileType:o.fileType}}emigrantAndInsuranceDetailsToEmigrant(o){const t=o.getRawValue();return(new p.CTs).deserialize({personalDetails:{firstName:t.personalDetails.firstName,surname:t.personalDetails.surname,dateOfBirth:t.personalDetails.dateOfBirth,passportNo:t.personalDetails.passportNo,address:t.personalDetails.address,visaNo:t.personalDetails.visaNo,visaExpiryDate:t.personalDetails.visaExpiryDate,gender:t.personalDetails.gender,mobileno:t.personalDetails.mobileno,emaiAddress:t.personalDetails.emaiAddress,countryOfEmployment:t.personalDetails.countryOfEmployment},insuranceDetails:{insurancePolicyNo:t.insuranceDetails.insurancePolicyNo,insurancePolicyIssuedOn:t.insuranceDetails.insurancePolicyIssuedOn,insurancePolicyPeriod:t.insuranceDetails.insurancePolicyPeriod,insuranceAgency:t.insuranceDetails.insuranceAgency,insurancePolicyAmount:t.insuranceDetails.insurancePolicyAmount},bankDetails:{nameOfNominee:t.bankDetails.nameOfNominee,accountNoOfNominee:t.bankDetails.accountNoOfNominee,bankName:t.bankDetails.bankName,mobilenoNominee:t.bankDetails.mobilenoNominee,addressOfNominee:t.bankDetails.addressOfNominee}})}eventualityDetailsFormToEventuality(o){const t=o.getRawValue();return(new p.CTs).deserialize({eventualityDetails:{typeOfEventuality:t.typeOfEventuality,dateOfEventuality:t.dateOfEventuality,dateOfBodyTransport:t.dateOfBodyTransport,eventuality:t.eventuality,countryEventuality:t.countryEventuality,reportedBy:t.reportedBy,name:t.name,relationWithEmigirant:t.relationWithEmigirant,descriptionEventuality:t.descriptionEventuality}})}pbbyPolicyFormToPolicy(o,t){const a=o.getRawValue();return(new p.CTs).deserialize({passportFirstName:a.emigrantAndInsuranceDetails.personalDetails.firstName,passportSurname:a.emigrantAndInsuranceDetails.personalDetails.surname,dateOfBirth:a.emigrantAndInsuranceDetails.personalDetails.dateOfBirth?this.datePipe.transform(a.emigrantAndInsuranceDetails.personalDetails.dateOfBirth,"yyyy-MM-dd"):"",passportNumber:a.emigrantAndInsuranceDetails.personalDetails.passportNo,address:a.emigrantAndInsuranceDetails.personalDetails.address,visaNumber:a.emigrantAndInsuranceDetails.personalDetails.visaNo,visaExpiryDate:a.emigrantAndInsuranceDetails.personalDetails.visaExpiryDate?this.datePipe.transform(a.emigrantAndInsuranceDetails.personalDetails.visaExpiryDate,"yyyy-MM-dd"):"",gender:a.emigrantAndInsuranceDetails.personalDetails.gender,mobileNumber:a.emigrantAndInsuranceDetails.personalDetails.mobileno,email:a.emigrantAndInsuranceDetails.personalDetails.emaiAddress,countryEmployment:a.emigrantAndInsuranceDetails.personalDetails.countryOfEmployment,insurancePolicyNumber:a.emigrantAndInsuranceDetails.insuranceDetails.insurancePolicyNo,insurancePolicyIssueDate:a.emigrantAndInsuranceDetails.insuranceDetails.insurancePolicyIssuedOn?this.datePipe.transform(a.emigrantAndInsuranceDetails.insuranceDetails.insurancePolicyIssuedOn,"yyyy-MM-dd"):"",insurancePolicyPeriod:a.emigrantAndInsuranceDetails.insuranceDetails.insurancePolicyPeriod,insurancePolicyAgency:a.emigrantAndInsuranceDetails.insuranceDetails.insuranceAgency,insurancePolicyAmount:a.emigrantAndInsuranceDetails.insuranceDetails.insurancePolicyAmount,nameBenificaryNominee:a.emigrantAndInsuranceDetails.bankDetails.nameOfNominee,accountBenificary:a.emigrantAndInsuranceDetails.bankDetails.accountNoOfNominee,bankName:a.emigrantAndInsuranceDetails.bankDetails.bankName,benificaryMobileNumber:a.emigrantAndInsuranceDetails.bankDetails.mobilenoNominee,benificaryAddress:a.emigrantAndInsuranceDetails.bankDetails.addressOfNominee,typeEventuality:a.eventualityDetails.typeOfEventuality,dateEventuality:a.eventualityDetails.dateOfEventuality?this.datePipe.transform(a.eventualityDetails.dateOfEventuality,"yyyy-MM-dd"):"",dateBodyTransport:a.eventualityDetails.dateOfBodyTransport?this.datePipe.transform(a.eventualityDetails.dateOfBodyTransport,"yyyy-MM-dd"):"",eventuality:a.eventualityDetails.eventuality,countryEventuality:a.eventualityDetails.countryEventuality,reportedBy:a.eventualityDetails.reportedBy,name:a.eventualityDetails.name,relationashipWithEmigrant:a.eventualityDetails.relationWithEmigirant,relationshipOtherEmigrant:a.eventualityDetails.relationshipOtherEmigrant,eventualityDescription:a.eventualityDetails.descriptionEventuality,emigrantARN:t,documentList:a?.documentList?.map(u=>this.documenToList(u))})}createInsurancePeriodandEmigrantForm(o=!1){return this.fb.group({arn:this.fb.control({value:null,disabled:o},i.kI.compose([i.kI.required,l.YO.arnNumberValidator()])),passportNumber:this.fb.control({value:null,disabled:o},i.kI.compose([i.kI.required,l.YO.passportNumberValidator()])),captcha:this.fb.control({value:null,disabled:o},i.kI.required)})}createInsurancePeriodandAgencyForm(o,t){return this.fb.group({arn:this.fb.control({value:t?.arn,disabled:o},i.kI.compose([i.kI.required,l.YO.arnNumberValidator()])),passportNumber:this.fb.control({value:t?.passportNumber,disabled:o},i.kI.compose([i.kI.required,l.YO.passportNumberValidator()])),firstName:this.fb.control({value:t?.firstName,disabled:o},i.kI.compose([i.kI.maxLength(200),l.YO.fullNameValidator()])),insurancePeriod:this.fb.control({value:null,disabled:!1},i.kI.required),insuranceAgency:this.fb.control({value:null,disabled:!1},i.kI.required)})}createProposalNumberForm(o,t){return this.fb.group({passportNumber:this.fb.control({value:t?.passportNumber,disabled:o},i.kI.compose([i.kI.required,l.YO.passportNumberValidator()])),proposalNumber:this.fb.control({value:t?.proposalNumber,disabled:o},i.kI.required)})}createPaymentDetailsForm(o,t){return this.fb.group({passportNumber:this.fb.control({value:t?.passportNumber,disabled:o},i.kI.compose([i.kI.required,l.YO.passportNumberValidator()])),crossPremium:this.fb.control({value:t?.crossPremium,disabled:o},i.kI.compose([i.kI.required,l.YO.numericValidator()])),serviceTax:this.fb.control({value:t?.serviceTax,disabled:o},i.kI.compose([i.kI.required,l.YO.numericValidator()])),netPremium:this.fb.control({value:t?.netPremium,disabled:o},i.kI.compose([i.kI.required,l.YO.numericValidator()]))})}}return(n=s).\u0275fac=function(o){return new(o||n)(e.LFG(i.qu),e.LFG(d.uU))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),s})();var F,y=m(655),g=m(8505),h=m(262),f=m(8513);class c{constructor(s){this.pbbypolicysservice=s}add(s){return this.pbbypolicysservice.savePbbyPolicy(s).pipe((0,g.b)(r=>{}),(0,h.K)(r=>{throw r}))}validateOtp(s){return this.pbbypolicysservice.validateOtp(s).pipe((0,g.b)(r=>{}),(0,h.K)(r=>{throw r}))}resendOtp(s){return this.pbbypolicysservice.resendOtp(s).pipe((0,g.b)(r=>{}),(0,h.K)(r=>{throw r}))}validatepbbyPolicyClaim(s){return this.pbbypolicysservice.validatepbbyPolicyClaim(s).pipe((0,g.b)(r=>{}),(0,h.K)(r=>{throw r}))}validateEmigrant(s){return this.pbbypolicysservice.validateEmigrant(s).pipe((0,g.b)(r=>{}),(0,h.K)(r=>{throw r}))}fetchProposalNumber(s){return this.pbbypolicysservice.fetchProposalNumber(s).pipe((0,g.b)(r=>{}),(0,h.K)(r=>{throw r}))}fetchPaymentDetails(s){return this.pbbypolicysservice.fetchPaymentDetails(s).pipe((0,g.b)(r=>{}),(0,h.K)(r=>{throw r}))}policyPayment(s){return this.pbbypolicysservice.policyPayment(s).pipe((0,g.b)(r=>{}),(0,h.K)(r=>{throw r}))}}(F=c).\u0275fac=function(s){return new(s||F)(e.LFG(p.VIi))},F.\u0275prov=e.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),(0,y.gn)([(0,f.PS)()],c.prototype,"add",null),(0,y.gn)([(0,f.PS)()],c.prototype,"validateOtp",null),(0,y.gn)([(0,f.PS)()],c.prototype,"resendOtp",null),(0,y.gn)([(0,f.PS)()],c.prototype,"validatepbbyPolicyClaim",null),(0,y.gn)([(0,f.PS)()],c.prototype,"validateEmigrant",null),(0,y.gn)([(0,f.PS)()],c.prototype,"fetchProposalNumber",null),(0,y.gn)([(0,f.PS)()],c.prototype,"fetchPaymentDetails",null),(0,y.gn)([(0,f.PS)()],c.prototype,"policyPayment",null);var T=m(805),N=m(2453),x=m(1754),k=m(8783),b=m(5593),D=m(2210),v=m(1740),O=m(613),A=m(8645);function G(n,s){if(1&n&&e._UZ(0,"p-radioButton",28),2&n){const r=s.$implicit,o=e.oxw();e.Q6J("formControl",o.subToSubEntityFormGroup.controls.gender)("label",r.label)("value",r.value)}}let S=(()=>{var n;class s extends l.H6{ngOnInit(){this.todayDate=new Date,this.minYear=new Date((new Date).setDate(this.todayDate.getDate()-6574))}}return(n=s).\u0275fac=function(){let r;return function(t){return(r||(r=e.n5z(n)))(t||n)}}(),n.\u0275cmp=e.Xpm({type:n,selectors:[["emigrate-ei-personal-details"]],inputs:{subToSubEntityFormGroup:"subToSubEntityFormGroup",gender:"gender",countryOfEmployment:"countryOfEmployment"},features:[e.qOj],decls:48,vars:30,consts:[[1,"container","form"],[3,"pageSubTitle"],[3,"formGroup"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","1","inputLabel","Name as on Passport (First Name)","inputId","FirstName",1,"block",3,"inputFormControl"],["id","FirstName","type","text","pInputText","","maxlength","200",3,"formControl"],["for","1","inputLabel","Surname","inputId","Surname",1,"block",3,"inputFormControl"],["id","Surname","type","text","pInputText","","placeholder","","maxlength","200",3,"formControl"],["for","1","inputLabel","Date of Birth","inputId","DoB",1,"block",3,"inputFormControl"],["appendTo","body","inputId","DoB",3,"maxDate","ngModel","dateFormat","formControl","ngModelChange"],["for","1","inputLabel","Gender","inputId","Gender",1,"block",3,"inputFormControl"],["class","mr-5","name","employment","inputId","1",3,"formControl","label","value",4,"ngFor","ngForOf"],["for","1","inputLabel","Visa Number","inputId","visaNumber",1,"block",3,"inputFormControl"],["id","visaNumber","type","text","pInputText","","maxlength","12","placeholder","",3,"formControl"],["for","1","inputLabel","Visa Expiry Date","inputId","visaExpiry",1,"block",3,"inputFormControl"],["appendTo","body","inputId","visaExpiry",3,"minDate","dateFormat","formControl"],["for","1","inputLabel","Passport Number","inputId","PassportNumber",1,"block",3,"inputFormControl"],["id","PassportNumber","type","text","pInputText","","maxlength","8",3,"formControl"],["for","1","inputLabel","Mobile Number","inputId","MobileNumber",1,"block",3,"inputFormControl"],["id","MobileNumber","type","text","pInputText","","maxlength","10","placeholder","",3,"formControl"],["for","1","inputLabel","Email ID","inputId","EmailAddress",1,"block",3,"inputFormControl"],["id","EmailAddress","type","text","pInputText","","placeholder","",3,"formControl"],["for","1","inputLabel","Country of Employment","inputId","CntryEmployment",1,"block",3,"inputFormControl"],["id","countryOfEmployment","placeholder","Select an Country","EmigrateShDropdown","",3,"formControl","options"],["for","1","inputLabel","Address in India","inputId","Address",1,"block",3,"inputFormControl"],["id","Address","pInputText","","maxlength","500",1,"p-inputtext",3,"formControl"],["name","employment","inputId","1",1,"mr-5",3,"formControl","label","value"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"emigrate-sh-page-sub-title",1),e.TgZ(2,"form",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"emigrate-sh-html-input",6),e._UZ(7,"input",7),e.qZA()()(),e.TgZ(8,"div",4)(9,"div",5)(10,"emigrate-sh-html-input",8),e._UZ(11,"input",9),e.qZA()()(),e.TgZ(12,"div",4)(13,"div",5)(14,"emigrate-sh-html-input",10)(15,"p-calendar",11),e.NdJ("ngModelChange",function(u){return t.dob=u}),e.qZA()()()(),e.TgZ(16,"div",4)(17,"div",5)(18,"emigrate-sh-html-input",12),e.YNc(19,G,1,3,"p-radioButton",13),e.qZA()()(),e.TgZ(20,"div",4)(21,"div",5)(22,"emigrate-sh-html-input",14),e._UZ(23,"input",15),e.qZA()()(),e.TgZ(24,"div",4)(25,"div",5)(26,"emigrate-sh-html-input",16),e._UZ(27,"p-calendar",17),e.qZA()()(),e.TgZ(28,"div",4)(29,"div",5)(30,"emigrate-sh-html-input",18),e._UZ(31,"input",19),e.qZA()()(),e.TgZ(32,"div",4)(33,"div",5)(34,"emigrate-sh-html-input",20),e._UZ(35,"input",21),e.qZA()()(),e.TgZ(36,"div",4)(37,"div",5)(38,"emigrate-sh-html-input",22),e._UZ(39,"input",23),e.qZA()()(),e.TgZ(40,"div",4)(41,"div",5)(42,"emigrate-sh-html-input",24),e._UZ(43,"p-dropdown",25),e.qZA()()(),e.TgZ(44,"div",4)(45,"div",5)(46,"emigrate-sh-html-input",26),e._UZ(47,"textarea",27),e.qZA()()()()()()),2&o&&(e.xp6(1),e.Q6J("pageSubTitle","Personal Details"),e.xp6(1),e.Q6J("formGroup",t.subToSubEntityFormGroup),e.xp6(4),e.Q6J("inputFormControl",t.subToSubEntityFormGroup.controls.firstName),e.xp6(1),e.Q6J("formControl",t.subToSubEntityFormGroup.controls.firstName),e.xp6(3),e.Q6J("inputFormControl",t.subToSubEntityFormGroup.controls.surname),e.xp6(1),e.Q6J("formControl",t.subToSubEntityFormGroup.controls.surname),e.xp6(3),e.Q6J("inputFormControl",t.subToSubEntityFormGroup.controls.dateOfBirth),e.xp6(1),e.Q6J("maxDate",t.minYear)("ngModel",t.dob)("dateFormat",t.defaultDateFormat)("formControl",t.subToSubEntityFormGroup.controls.dateOfBirth),e.xp6(3),e.Q6J("inputFormControl",t.subToSubEntityFormGroup.controls.gender),e.xp6(1),e.Q6J("ngForOf",t.gender),e.xp6(3),e.Q6J("inputFormControl",t.subToSubEntityFormGroup.controls.visaNo),e.xp6(1),e.Q6J("formControl",t.subToSubEntityFormGroup.controls.visaNo),e.xp6(3),e.Q6J("inputFormControl",t.subToSubEntityFormGroup.controls.visaExpiryDate),e.xp6(1),e.Q6J("minDate",t.dob)("dateFormat",t.defaultDateFormat)("formControl",t.subToSubEntityFormGroup.controls.visaExpiryDate),e.xp6(3),e.Q6J("inputFormControl",t.subToSubEntityFormGroup.controls.passportNo),e.xp6(1),e.Q6J("formControl",t.subToSubEntityFormGroup.controls.passportNo),e.xp6(3),e.Q6J("inputFormControl",t.subToSubEntityFormGroup.controls.mobileno),e.xp6(1),e.Q6J("formControl",t.subToSubEntityFormGroup.controls.mobileno),e.xp6(3),e.Q6J("inputFormControl",t.subToSubEntityFormGroup.controls.emaiAddress),e.xp6(1),e.Q6J("formControl",t.subToSubEntityFormGroup.controls.emaiAddress),e.xp6(3),e.Q6J("inputFormControl",t.subToSubEntityFormGroup.controls.countryOfEmployment),e.xp6(1),e.Q6J("formControl",t.subToSubEntityFormGroup.controls.countryOfEmployment)("options",t.countryOfEmployment),e.xp6(3),e.Q6J("inputFormControl",t.subToSubEntityFormGroup.controls.address),e.xp6(1),e.Q6J("formControl",t.subToSubEntityFormGroup.controls.address))},dependencies:[d.sg,i._Y,i.Fj,i.JJ,i.JL,i.nD,i.oH,i.sg,l.KR,l.jZ,l.lC,D.Lt,v.o,O.EU,A.f]}),s})(),J=(()=>{var n;class s extends l.H6{constructor(o){super(o),this.years=[{label:"24 months",value:24},{label:"36 months",value:36}]}ngOnInit(){this.todayDate=new Date,this.todayDate.setDate(this.todayDate.getDate()-1)}}return(n=s).\u0275fac=function(o){return new(o||n)(e.Y36(T.ez))},n.\u0275cmp=e.Xpm({type:n,selectors:[["emigrate-ei-insurance-details"]],inputs:{subToSubEntityFormGroup:"subToSubEntityFormGroup",insuranceAgency:"insuranceAgency"},features:[e.qOj],decls:24,vars:17,consts:[[1,"container","form"],[3,"pageSubTitle"],[3,"formGroup"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","1","inputLabel","Insurance Policy Number","inputId","InsurancePolicyNumber",1,"block",3,"inputFormControl"],["id","InsurancePolicyNumber","type","text","pInputText","","placeholder","","maxlength","15",3,"formControl"],["for","1","inputLabel","Insurance Policy Issued on","inputId","InsurancePolicyIssuedon",1,"block",3,"inputFormControl"],["appendTo","body","inputId","InsurancePolicyIssuedon",3,"maxDate","dateFormat","ngModel","formControl","ngModelChange"],["for","1","inputLabel","Insurance Policy Period (in months)","inputId","InsurancePolicyPeriod",1,"block",3,"inputFormControl"],["id","InsurancePolicyPeriod","placeholder","Select an Policy Period","EmigrateShDropdown","",3,"formControl","options"],["for","1","inputLabel","Insurance Agency","inputId","InsuranceAgency",1,"block",3,"inputFormControl"],["id","InsuranceAgency","placeholder","Select an Agency","EmigrateShDropdown","",3,"formControl","options"],["for","1","inputLabel","Insurance Policy Amount","inputId","InsurancePolicyAmount",1,"block",3,"inputFormControl"],["id","InsurancePolicyAmount","type","text","pInputText","","placeholder","",3,"formControl"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"emigrate-sh-page-sub-title",1),e.TgZ(2,"form",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"emigrate-sh-html-input",6),e._UZ(7,"input",7),e.qZA()()(),e.TgZ(8,"div",4)(9,"div",5)(10,"emigrate-sh-html-input",8)(11,"p-calendar",9),e.NdJ("ngModelChange",function(u){return t.insuranceDate=u}),e.qZA()()()(),e.TgZ(12,"div",4)(13,"div",5)(14,"emigrate-sh-html-input",10),e._UZ(15,"p-dropdown",11),e.qZA()()(),e.TgZ(16,"div",4)(17,"div",5)(18,"emigrate-sh-html-input",12),e._UZ(19,"p-dropdown",13),e.qZA()()(),e.TgZ(20,"div",4)(21,"div",5)(22,"emigrate-sh-html-input",14),e._UZ(23,"input",15),e.qZA()()()()()()),2&o&&(e.xp6(1),e.Q6J("pageSubTitle","Insurance Details"),e.xp6(1),e.Q6J("formGroup",t.subToSubEntityFormGroup),e.xp6(4),e.Q6J("inputFormControl",t.subToSubEntityFormGroup.controls.insurancePolicyNo),e.xp6(1),e.Q6J("formControl",t.subToSubEntityFormGroup.controls.insurancePolicyNo),e.xp6(3),e.Q6J("inputFormControl",t.subToSubEntityFormGroup.controls.insurancePolicyIssuedOn),e.xp6(1),e.Q6J("maxDate",t.todayDate)("dateFormat",t.defaultDateFormat)("ngModel",t.insuranceDate)("formControl",t.subToSubEntityFormGroup.controls.insurancePolicyIssuedOn),e.xp6(3),e.Q6J("inputFormControl",t.subToSubEntityFormGroup.controls.insurancePolicyPeriod),e.xp6(1),e.Q6J("formControl",t.subToSubEntityFormGroup.controls.insurancePolicyPeriod)("options",t.years),e.xp6(3),e.Q6J("inputFormControl",t.subToSubEntityFormGroup.controls.insuranceAgency),e.xp6(1),e.Q6J("formControl",t.subToSubEntityFormGroup.controls.insuranceAgency)("options",t.insuranceAgency),e.xp6(3),e.Q6J("inputFormControl",t.subToSubEntityFormGroup.controls.insurancePolicyAmount),e.xp6(1),e.Q6J("formControl",t.subToSubEntityFormGroup.controls.insurancePolicyAmount))},dependencies:[i._Y,i.Fj,i.JJ,i.JL,i.nD,i.oH,i.sg,l.KR,l.jZ,l.lC,D.Lt,v.o,A.f]}),s})();function w(n,s){if(1&n){const r=e.EpF();e.TgZ(0,"i",19),e.NdJ("mousedown",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.showPassword=!t.showPassword)}),e.qZA()}}function q(n,s){if(1&n){const r=e.EpF();e.TgZ(0,"i",20),e.NdJ("mouseup",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.showPassword=!t.showPassword)}),e.qZA()}}let Q=(()=>{var n;class s{}return(n=s).\u0275fac=function(o){return new(o||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["emigrate-ei-bank-details"]],inputs:{subToSubEntityFormGroup:"subToSubEntityFormGroup"},decls:27,vars:15,consts:[[1,"container","form"],[3,"pageSubTitle"],[3,"formGroup"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","1","inputLabel","Name of Beneficiary/Nominee","inputId","nameOfNominee",1,"block",3,"inputFormControl"],["id","nameOfNominee","type","text","pInputText","","placeholder","",3,"formControl"],["for","1","inputLabel","Account No of Beneficiary/Nominee","inputId","accountNoOfNominee",1,"block",3,"inputFormControl"],[1,"p-input-icon-right","w-100"],["id","accountNoOfNominee","pInputText","","placeholder","","maxlength","20",3,"type","formControl"],["class","pi pi-eye","style","font-size: 1rem",3,"mousedown",4,"ngIf"],["class","pi pi-eye-slash","style","font-size: 1rem",3,"mouseup",4,"ngIf"],["for","1","inputLabel","Name of Bank","inputId","bankName",1,"block",3,"inputFormControl"],["id","bankName","type","text","pInputText","","placeholder","","maxlength","100",3,"formControl"],["for","1","inputLabel","Mobile Number of Beneficiary/Nominee","inputId","mobilenoNominee",1,"block",3,"inputFormControl"],["id","mobilenoNominee","type","text","pInputText","","maxlength","10",3,"formControl"],["for","1","inputLabel","Address of Beneficiary/Nominee","inputId","addressOfNominee",1,"block",3,"inputFormControl"],["id","addressOfNominee","type","text","pInputText","","placeholder","","maxlength","500",3,"formControl"],[1,"pi","pi-eye",2,"font-size","1rem",3,"mousedown"],[1,"pi","pi-eye-slash",2,"font-size","1rem",3,"mouseup"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"emigrate-sh-page-sub-title",1),e.TgZ(2,"form",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"emigrate-sh-html-input",6),e._UZ(7,"input",7),e.qZA()()(),e.TgZ(8,"div",4)(9,"div",5)(10,"emigrate-sh-html-input",8)(11,"span",9),e._UZ(12,"input",10),e.YNc(13,w,1,0,"i",11),e.YNc(14,q,1,0,"i",12),e.qZA()()()(),e.TgZ(15,"div",4)(16,"div",5)(17,"emigrate-sh-html-input",13),e._UZ(18,"input",14),e.qZA()()(),e.TgZ(19,"div",4)(20,"div",5)(21,"emigrate-sh-html-input",15),e._UZ(22,"input",16),e.qZA()()(),e.TgZ(23,"div",4)(24,"div",5)(25,"emigrate-sh-html-input",17),e._UZ(26,"textarea",18),e.qZA()()()()()()),2&o&&(e.xp6(1),e.Q6J("pageSubTitle","Bank Details of Beneficiary/Nominee"),e.xp6(1),e.Q6J("formGroup",t.subToSubEntityFormGroup),e.xp6(4),e.Q6J("inputFormControl",t.subToSubEntityFormGroup.controls.nameOfNominee),e.xp6(1),e.Q6J("formControl",t.subToSubEntityFormGroup.controls.nameOfNominee),e.xp6(3),e.Q6J("inputFormControl",t.subToSubEntityFormGroup.controls.accountNoOfNominee),e.xp6(2),e.Q6J("type",t.showPassword?"text":"password")("formControl",null==t.subToSubEntityFormGroup||null==t.subToSubEntityFormGroup.controls?null:t.subToSubEntityFormGroup.controls.accountNoOfNominee),e.xp6(1),e.Q6J("ngIf",!t.showPassword),e.xp6(1),e.Q6J("ngIf",t.showPassword),e.xp6(3),e.Q6J("inputFormControl",t.subToSubEntityFormGroup.controls.bankName),e.xp6(1),e.Q6J("formControl",t.subToSubEntityFormGroup.controls.bankName),e.xp6(3),e.Q6J("inputFormControl",t.subToSubEntityFormGroup.controls.mobilenoNominee),e.xp6(1),e.Q6J("formControl",t.subToSubEntityFormGroup.controls.mobilenoNominee),e.xp6(3),e.Q6J("inputFormControl",t.subToSubEntityFormGroup.controls.addressOfNominee),e.xp6(1),e.Q6J("formControl",t.subToSubEntityFormGroup.controls.addressOfNominee))},dependencies:[d.O5,i._Y,i.Fj,i.JJ,i.JL,i.nD,i.oH,i.sg,l.KR,l.jZ,v.o]}),s})(),B=(()=>{var n;class s{constructor(o,t){this.router=o,this.datePipe=t,this.activeIndex=new e.vpe}ngOnInit(){this.getprefilledData()}getNextTab(){this.subEntityFormGroup.markAllAsTouched(),this.subEntityFormGroup.valid&&this.activeIndex.emit(1)}redirectToHome(){this.router.navigate(["/"])}get personalDetailsFormGroup(){return this.subEntityFormGroup.controls.personalDetails}get insuranceDetailsFormGroup(){return this.subEntityFormGroup.controls.insuranceDetails}get bankDetailsFormGroup(){return this.subEntityFormGroup.controls.bankDetails}clear(){this.subEntityFormGroup.reset()}getprefilledData(){"emigrantDetails"in this.responsePassportdata?.data?(this.personalDetailsFormGroup.patchValue({firstName:this.responsePassportdata?.data?.emigrantDetails?.passportFirstName,surname:this.responsePassportdata?.data?.emigrantDetails?.passportSurname,dateOfBirth:new Date(this.responsePassportdata?.data?.emigrantDetails?.dateOfBirth),passportNo:this.responsePassportdata?.data?.emigrantDetails?.passportNumber,address:this.responsePassportdata?.data?.emigrantDetails?.address,visaNo:this.responsePassportdata?.data?.emigrantDetails?.visaNumber,visaExpiryDate:new Date(this.responsePassportdata?.data?.emigrantDetails?.visaExpiryDate),gender:this.responsePassportdata?.data?.emigrantDetails?.gender,mobileno:this.responsePassportdata?.data?.emigrantDetails?.mobileNumber,emaiAddress:this.responsePassportdata?.data?.emigrantDetails?.email,countryOfEmployment:Number(this.responsePassportdata?.data?.emigrantDetails?.countryEmployment)}),this.insuranceDetailsFormGroup.patchValue({insurancePolicyNo:this.responsePassportdata?.data?.emigrantDetails?.insurancePolicyNumber,insurancePolicyIssuedOn:new Date(this.responsePassportdata?.data?.emigrantDetails?.insurancePolicyIssueDate),insurancePolicyPeriod:this.responsePassportdata?.data?.emigrantDetails?.insurancePolicyPeriod,insuranceAgency:Number(this.responsePassportdata?.data?.emigrantDetails?.insurancePolicyAgency),insurancePolicyAmount:this.responsePassportdata?.data?.emigrantDetails?.insurancePolicyAmount}),this.insuranceDetailsFormGroup.disable(),this.personalDetailsFormGroup.disable()):(this.personalDetailsFormGroup.patchValue({passportNo:this.pbbyclaimDetailsData?.passportno,mobileno:this.pbbyclaimDetailsData?.mobileno,emaiAddress:this.pbbyclaimDetailsData?.email}),this.insuranceDetailsFormGroup.enable(),this.personalDetailsFormGroup.enable(),this.personalDetailsFormGroup.controls.passportNo.disable(),this.personalDetailsFormGroup.controls.mobileno.disable(),this.personalDetailsFormGroup.controls.emaiAddress.disable())}}return(n=s).\u0275fac=function(o){return new(o||n)(e.Y36(C.F0),e.Y36(d.uU))},n.\u0275cmp=e.Xpm({type:n,selectors:[["emigrate-rpc-emigrant-and-insurance-details"]],inputs:{gender:"gender",responsePassportdata:"responsePassportdata",countryOfEmployment:"countryOfEmployment",insuranceAgency:"insuranceAgency",pbbyclaimDetailsData:"pbbyclaimDetailsData",subEntityFormGroup:"subEntityFormGroup"},outputs:{activeIndex:"activeIndex"},decls:10,vars:7,consts:[[3,"formGroup"],[3,"countryOfEmployment","gender","subToSubEntityFormGroup"],[3,"insuranceAgency","subToSubEntityFormGroup"],[3,"subToSubEntityFormGroup"],[1,"row"],[1,"col-12"],[1,"buttons","mt-3"],["pButton","","type","button","label","Clear",1,"btn-format","mr-2","btn-blue",3,"click"],["pButton","","type","button","label","GoToHome",1,"p-button-secondary","mr-2","btn-format",3,"click"],["pButton","","type","button","label","Save & Next",1,"btn-format","btn-blue",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"form",0),e._UZ(1,"emigrate-ei-personal-details",1)(2,"emigrate-ei-insurance-details",2)(3,"emigrate-ei-bank-details",3),e.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"button",7),e.NdJ("click",function(){return t.clear()}),e.qZA(),e.TgZ(8,"button",8),e.NdJ("click",function(){return t.redirectToHome()}),e.qZA(),e.TgZ(9,"button",9),e.NdJ("click",function(){return t.getNextTab()}),e.qZA()()()()()),2&o&&(e.Q6J("formGroup",t.subEntityFormGroup),e.xp6(1),e.Q6J("countryOfEmployment",t.countryOfEmployment)("gender",t.gender)("subToSubEntityFormGroup",t.personalDetailsFormGroup),e.xp6(1),e.Q6J("insuranceAgency",t.insuranceAgency)("subToSubEntityFormGroup",t.insuranceDetailsFormGroup),e.xp6(1),e.Q6J("subToSubEntityFormGroup",t.bankDetailsFormGroup))},dependencies:[i._Y,i.JL,i.sg,b.Hq,S,J,Q]}),s})();function U(n,s){if(1&n){const r=e.EpF();e.TgZ(0,"p-radioButton",33),e.NdJ("onClick",function(t){e.CHM(r);const a=e.oxw();return e.KtG(a.reportedByselection(t))}),e.qZA()}if(2&n){const r=s.$implicit,o=e.oxw();e.Q6J("formControl",null==o.subEntityFormGroup||null==o.subEntityFormGroup.controls?null:o.subEntityFormGroup.controls.reportedBy)("label",r.label)("value",r.value)}}const E=function(n){return{"emigrate-required":n,"emigrate-input-disabled":!1}};function R(n,s){if(1&n&&(e.TgZ(0,"div",5)(1,"div",6)(2,"emigrate-sh-html-input",34),e._UZ(3,"span",10)(4,"input",35),e.qZA()()()),2&n){const r=e.oxw();e.xp6(2),e.Q6J("inputFormControl",r.subEntityFormGroup.controls.relationshipOtherEmigrant),e.xp6(1),e.Q6J("ngClass",e.VKq(3,E,r.relationshipOtherEmigrant)),e.xp6(1),e.Q6J("formControl",r.subEntityFormGroup.controls.relationshipOtherEmigrant)}}let V=(()=>{var n;class s extends l.H6{constructor(o){super(o),this.activeIndex=new e.vpe,this.documentEnable=new e.vpe,this.todayDate=new Date,this.reportedBy=[{label:"Self",value:"S"},{label:"Others",value:"O"}]}setTypeOfEventualityDesc(o){o&&this.subEntityFormGroup.controls.typeOfEventuality.setValue(this.typeofEventuality.find(t=>t.value===o).label,{onlySelf:!0,emitEvent:!1})}setCountryEventualityDesc(o){o&&this.subEntityFormGroup.controls.countryEventuality.setValue(this.countryOfEmployment.find(t=>t.value===o).label,{onlySelf:!0,emitEvent:!1})}getNextTab(){this.subEntityFormGroup.markAllAsTouched(),this.subEntityFormGroup.valid&&this.activeIndex.emit(2)}getPreviousTab(){this.activeIndex.emit(0)}clear(){this.subEntityFormGroup.reset(),this.enableRequired=!1,this.relationshipOtherEmigrant=!1,this.reportedByEnable=!1}reportedByselection(o){"O"==o.value?(this.reportedByEnable=!0,this.subEntityFormGroup.controls.name.setValidators([i.kI.required,l.YO.fullNameValidator()]),this.subEntityFormGroup.controls.name.updateValueAndValidity(),this.subEntityFormGroup.controls.name.enable(),this.subEntityFormGroup.controls.relationWithEmigirant.setValidators([i.kI.required]),this.subEntityFormGroup.controls.relationWithEmigirant.updateValueAndValidity(),this.subEntityFormGroup.controls.relationWithEmigirant.enable()):(this.reportedByEnable=!1,this.relationshipOtherEmigrant=!1,this.subEntityFormGroup.controls.name.clearValidators(),this.subEntityFormGroup.controls.name.updateValueAndValidity(),this.subEntityFormGroup.controls.name.disable(),this.subEntityFormGroup.controls.name.reset(),this.subEntityFormGroup.controls.relationWithEmigirant.clearValidators(),this.subEntityFormGroup.controls.relationWithEmigirant.updateValueAndValidity(),this.subEntityFormGroup.controls.relationWithEmigirant.reset(),this.subEntityFormGroup.controls.relationWithEmigirant.disable(),this.subEntityFormGroup.controls.relationshipOtherEmigrant.clearValidators(),this.subEntityFormGroup.controls.relationshipOtherEmigrant.updateValueAndValidity(),this.subEntityFormGroup.controls.relationshipOtherEmigrant.reset(),this.subEntityFormGroup.controls.relationshipOtherEmigrant.disable())}relationshipChanges(o){7==o.value?(this.relationshipOtherEmigrant=!0,this.subEntityFormGroup.controls.relationshipOtherEmigrant.reset(),this.subEntityFormGroup.controls.relationshipOtherEmigrant.setValidators(i.kI.compose([i.kI.required,l.YO.fullNameValidator()])),this.subEntityFormGroup.controls.relationshipOtherEmigrant.updateValueAndValidity(),this.subEntityFormGroup.controls.relationshipOtherEmigrant.enable()):(this.relationshipOtherEmigrant=!1,this.subEntityFormGroup.controls.relationshipOtherEmigrant.clearValidators(),this.subEntityFormGroup.controls.relationshipOtherEmigrant.updateValueAndValidity(),this.subEntityFormGroup.controls.relationshipOtherEmigrant.disable())}dateOfEventualityChanges(o){1==o.value||13==o.value?(this.enableRequired=!0,this.subEntityFormGroup.controls.dateOfEventuality.setValidators(i.kI.compose([i.kI.required])),this.subEntityFormGroup.controls.dateOfEventuality.updateValueAndValidity(),this.subEntityFormGroup.controls.dateOfEventuality.enable(),this.subEntityFormGroup.controls.dateOfBodyTransport.setValidators(i.kI.compose([i.kI.required])),this.subEntityFormGroup.controls.dateOfBodyTransport.updateValueAndValidity(),this.subEntityFormGroup.controls.dateOfBodyTransport.enable(),this.documentEnable.emit(!0)):(this.enableRequired=!1,this.subEntityFormGroup.controls.dateOfEventuality.clearValidators(),this.subEntityFormGroup.controls.dateOfEventuality.updateValueAndValidity(),this.subEntityFormGroup.controls.dateOfEventuality.enable(),this.documentEnable.emit(!1))}}return(n=s).\u0275fac=function(o){return new(o||n)(e.Y36(T.ez))},n.\u0275cmp=e.Xpm({type:n,selectors:[["emigrate-rpc-eventuality-details"]],inputs:{subEntityFormGroup:"subEntityFormGroup",typeofEventuality:"typeofEventuality",countryOfEmployment:"countryOfEmployment",relationship:"relationship",minInsurance:"minInsurance"},outputs:{activeIndex:"activeIndex",documentEnable:"documentEnable"},features:[e.qOj],decls:54,vars:42,consts:[[1,"container"],[1,"form"],[3,"pageSubTitle"],[3,"formGroup"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","2","inputLabel","Type of Eventuality","inputId","typeOfEventuality",1,"block",3,"inputFormControl"],["id","typeOfEventuality","placeholder","Select an option","EmigrateShDropdown","",3,"formControl","options","onChange"],["for","1","inputLabel","Date of Eventuality","inputId","dateOfEventuality",1,"block","star-posdropdown",3,"inputFormControl"],[3,"ngClass"],["appendTo","body","inputId","dateOfEventuality",3,"maxDate","ngModel","dateFormat","minDate","formControl","ngModelChange"],["for","1","inputLabel","Date of Body Transport","inputId","dateOfBodyTransport",1,"block","star-posdropdowns",3,"inputFormControl"],["appendTo","body","inputId","dateOfBodyTransport",3,"minDate","dateFormat","formControl"],["for","1","inputLabel","Place of Eventuality","inputId","Eventuality",1,"block",3,"inputFormControl"],["id","Eventuality","type","text","pInputText","","placeholder","","maxlength","200",3,"formControl"],["for","2","inputLabel","Country of Eventuality","inputId","nationalof",1,"block",3,"inputFormControl"],["id","countryofEventuality","placeholder","Select an Country","EmigrateShDropdown","",3,"formControl","options"],["for","1","inputLabel","Description of Eventuality","inputId","descriptionEventuality",1,"block",3,"inputFormControl"],["id","descriptionEventuality","type","text","pInputText","","placeholder","","maxlength","500",3,"formControl"],["inputLabel","Reported by","inputId","reportedBy",1,"block",3,"inputFormControl"],[1,"d-flex","mt-2","align-items-center"],["class","mr-80","name","reportedBy","inputId","reportedBy",3,"formControl","label","value","onClick",4,"ngFor","ngForOf"],["for","1","inputLabel","Name","inputId","name",1,"block","star-pos",3,"inputFormControl"],["id","name","type","text","pInputText","","maxlength","200",3,"formControl"],["for","1","inputLabel","Relationship with Emigrant","inputId","RelationshipwithEmgirant",1,"block","star-po",3,"inputFormControl"],["id","typeOfEventuality","placeholder","Select an Relationship","EmigrateShDropdown","",3,"formControl","options","onChange"],["class","col-md-4 col-sm-6",4,"ngIf"],[1,"col-12"],[1,"buttons","mt-3"],["pButton","","type","button","label","Previous",1,"p-button-secondary","mr-2","btn-format",3,"click"],["pButton","","type","button","label","Clear",1,"btn-format","mr-2","btn-blue",3,"click"],["pButton","","type","button","label","Save & Next",1,"btn-format","btn-blue",3,"click"],["name","reportedBy","inputId","reportedBy",1,"mr-80",3,"formControl","label","value","onClick"],["for","1","inputLabel","Relationship Others Name","inputId","relationshipOtherEmigrant",1,"block","star-ipos",3,"inputFormControl"],["id","relationshipOtherEmigrant","maxlength","200","type","text","pInputText","",3,"formControl"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"emigrate-sh-page-sub-title",2),e.TgZ(3,"form",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"emigrate-sh-html-input",7)(8,"p-dropdown",8),e.NdJ("onChange",function(u){return t.dateOfEventualityChanges(u)}),e.qZA()()()(),e.TgZ(9,"div",5)(10,"div",6)(11,"emigrate-sh-html-input",9),e._UZ(12,"span",10),e.TgZ(13,"p-calendar",11),e.NdJ("ngModelChange",function(u){return t.dateEventuality=u}),e.qZA()()()(),e.TgZ(14,"div",5)(15,"div",6)(16,"emigrate-sh-html-input",12),e._UZ(17,"span",10)(18,"p-calendar",13),e.qZA()()(),e.TgZ(19,"div",5)(20,"div",6)(21,"emigrate-sh-html-input",14),e._UZ(22,"input",15),e.qZA()()(),e.TgZ(23,"div",5)(24,"div",6)(25,"emigrate-sh-html-input",16),e._UZ(26,"p-dropdown",17),e.qZA()()(),e.TgZ(27,"div",5)(28,"div",6)(29,"emigrate-sh-html-input",18)(30,"textarea",19),e._uU(31,"                            "),e.qZA()()()(),e.TgZ(32,"div",5)(33,"div",6)(34,"emigrate-sh-html-input",20)(35,"div",21),e.YNc(36,U,1,3,"p-radioButton",22),e.qZA()()()(),e.TgZ(37,"div",5)(38,"div",6)(39,"emigrate-sh-html-input",23),e._UZ(40,"span",10)(41,"input",24),e.qZA()()(),e.TgZ(42,"div",5)(43,"div",6)(44,"emigrate-sh-html-input",25),e._UZ(45,"span",10),e.TgZ(46,"p-dropdown",26),e.NdJ("onChange",function(u){return t.relationshipChanges(u)}),e.qZA()()()(),e.YNc(47,R,5,5,"div",27),e.qZA()(),e.TgZ(48,"div",4)(49,"div",28)(50,"div",29)(51,"button",30),e.NdJ("click",function(){return t.getPreviousTab()}),e.qZA(),e.TgZ(52,"button",31),e.NdJ("click",function(){return t.clear()}),e.qZA(),e.TgZ(53,"button",32),e.NdJ("click",function(){return t.getNextTab()}),e.qZA()()()()()()),2&o&&(e.xp6(2),e.Q6J("pageSubTitle","Eventuality Details"),e.xp6(1),e.Q6J("formGroup",t.subEntityFormGroup),e.xp6(4),e.Q6J("inputFormControl",t.subEntityFormGroup.controls.typeOfEventuality),e.xp6(1),e.Q6J("formControl",t.subEntityFormGroup.controls.typeOfEventuality)("options",t.typeofEventuality),e.xp6(3),e.Q6J("inputFormControl",t.subEntityFormGroup.controls.dateOfEventuality),e.xp6(1),e.Q6J("ngClass",e.VKq(34,E,t.enableRequired)),e.xp6(1),e.Q6J("maxDate",t.todayDate)("ngModel",t.dateEventuality)("dateFormat",t.defaultDateFormat)("minDate",t.minInsurance)("formControl",t.subEntityFormGroup.controls.dateOfEventuality),e.xp6(3),e.Q6J("inputFormControl",t.subEntityFormGroup.controls.dateOfBodyTransport),e.xp6(1),e.Q6J("ngClass",e.VKq(36,E,t.enableRequired)),e.xp6(1),e.Q6J("minDate",t.dateEventuality)("dateFormat",t.defaultDateFormat)("formControl",t.subEntityFormGroup.controls.dateOfBodyTransport),e.xp6(3),e.Q6J("inputFormControl",t.subEntityFormGroup.controls.eventuality),e.xp6(1),e.Q6J("formControl",t.subEntityFormGroup.controls.eventuality),e.xp6(3),e.Q6J("inputFormControl",t.subEntityFormGroup.controls.countryEventuality),e.xp6(1),e.Q6J("formControl",t.subEntityFormGroup.controls.countryEventuality)("options",t.countryOfEmployment),e.xp6(3),e.Q6J("inputFormControl",t.subEntityFormGroup.controls.descriptionEventuality),e.xp6(1),e.Q6J("formControl",t.subEntityFormGroup.controls.descriptionEventuality),e.xp6(4),e.Q6J("inputFormControl",null==t.subEntityFormGroup||null==t.subEntityFormGroup.controls?null:t.subEntityFormGroup.controls.reportedBy),e.xp6(2),e.Q6J("ngForOf",t.reportedBy),e.xp6(3),e.Q6J("inputFormControl",t.subEntityFormGroup.controls.name),e.xp6(1),e.Q6J("ngClass",e.VKq(38,E,t.reportedByEnable)),e.xp6(1),e.Q6J("formControl",t.subEntityFormGroup.controls.name),e.xp6(3),e.Q6J("inputFormControl",t.subEntityFormGroup.controls.relationWithEmigirant),e.xp6(1),e.Q6J("ngClass",e.VKq(40,E,t.reportedByEnable)),e.xp6(1),e.Q6J("formControl",t.subEntityFormGroup.controls.relationWithEmigirant)("options",t.relationship),e.xp6(1),e.Q6J("ngIf",t.relationshipOtherEmigrant))},dependencies:[d.mk,d.sg,d.O5,i._Y,i.Fj,i.JJ,i.JL,i.nD,i.oH,i.sg,l.KR,l.jZ,l.lC,b.Hq,D.Lt,v.o,O.EU,A.f],styles:[".star-pos[_ngcontent-%COMP%]   .emigrate-required[_ngcontent-%COMP%]{position:absolute;top:2px;left:49px}.star-po[_ngcontent-%COMP%]   .emigrate-required[_ngcontent-%COMP%]{position:absolute;top:2px;left:173px}.star-ipos[_ngcontent-%COMP%]   .emigrate-required[_ngcontent-%COMP%]{position:absolute;top:2px;left:168px}.star-posdropdown[_ngcontent-%COMP%]   .emigrate-required[_ngcontent-%COMP%]{position:absolute;top:2px;left:125px}.star-posdropdowns[_ngcontent-%COMP%]   .emigrate-required[_ngcontent-%COMP%]{position:absolute;top:2px;left:145px}"]}),s})();const Y=function(n){return{"emigrate-required":n,"emigrate-input-disabled":!1}};let M=(()=>{var n;class s{constructor(o,t){this.fb=o,this.messageService=t,this.activeIndex=new e.vpe,this.submitPbbyPolicy=new e.vpe,this.isDocumentUploaded=!1,this.maxFileSize=p.Xef.MAX_FILE_SIZE}getPreviousTab(){this.activeIndex.emit(1)}documentData(o){if(o)switch(o.action){case p.Xef.ACTION.ADD:this.documents.push(this.fb.group({id:o.data.id,fileCode:o.data.name,file:o.data.file,fileType:o.data.type,size:o.data.size}));break;case p.Xef.ACTION.REMOVE:this.documents.removeAt(this.documents.value.findIndex(t=>t.id===o.data.id))}}get documents(){return this.subEntityFormGroup.controls.documentList}submit(){const o=this.documents.getRawValue();let t=0;o.forEach(a=>{t+=a.file.size}),this.deathCertificateEnable&&1!=o[0]?.id?this.messageService.add({severity:"error",summary:"Please upload Death Certificate document"}):t>this.maxFileSize?this.messageService.add({severity:"error",summary:"combined file size not more than 4MB"}):(this.isDocumentUploaded=!0,this.submitPbbyPolicy.emit(this.isDocumentUploaded))}}return(n=s).\u0275fac=function(o){return new(o||n)(e.Y36(i.qu),e.Y36(T.ez))},n.\u0275cmp=e.Xpm({type:n,selectors:[["emigrate-rpc-upload-document"]],inputs:{subEntityFormGroup:"subEntityFormGroup",deathCertificateEnable:"deathCertificateEnable",isDocumentUploaded:"isDocumentUploaded"},outputs:{activeIndex:"activeIndex",submitPbbyPolicy:"submitPbbyPolicy"},decls:44,vars:14,consts:[[1,"container"],[1,"form"],[3,"pageSubTitle"],[1,"row"],[1,"col-md-12"],[1,"p-0","mb-4","file-upload-listing"],[1,"col-md-6","star-pos"],[3,"ngClass"],[1,"col-md-6"],[3,"documentId","maxFileSize","uploadedFile"],[1,"mr-3"],[1,"buttons","mt-3","mb-5"],["pButton","","type","submit","label","Previous",1,"btn-format","mr-2","btn-blue",3,"click"],["pButton","","type","submit","label","Submit",1,"btn-format","btn-blue",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"emigrate-sh-page-sub-title",2),e.TgZ(3,"form")(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",3)(8,"div",6)(9,"span"),e._uU(10,"Death Certificate "),e._UZ(11,"span",7),e.qZA()(),e.TgZ(12,"div",8)(13,"emigrate-sh-file-upload",9),e.NdJ("uploadedFile",function(u){return t.documentData(u)}),e.qZA()()(),e.TgZ(14,"div",3)(15,"div",8)(16,"span"),e._uU(17,"Passport"),e.qZA()(),e.TgZ(18,"div",8)(19,"emigrate-sh-file-upload",9),e.NdJ("uploadedFile",function(u){return t.documentData(u)}),e.qZA()()(),e.TgZ(20,"div",3)(21,"div",8)(22,"span",10)(23,"span"),e._uU(24,"Insurance Policy "),e.qZA()()(),e.TgZ(25,"div",8)(26,"emigrate-sh-file-upload",9),e.NdJ("uploadedFile",function(u){return t.documentData(u)}),e.qZA()()(),e.TgZ(27,"div",3)(28,"div",8)(29,"span",10)(30,"span"),e._uU(31,"Doctors Report "),e.qZA()()(),e.TgZ(32,"div",8)(33,"emigrate-sh-file-upload",9),e.NdJ("uploadedFile",function(u){return t.documentData(u)}),e.qZA()()(),e.TgZ(34,"div",3)(35,"div",8)(36,"span",10)(37,"span"),e._uU(38,"Police Report"),e.qZA()()(),e.TgZ(39,"div",8)(40,"emigrate-sh-file-upload",9),e.NdJ("uploadedFile",function(u){return t.documentData(u)}),e.qZA()()()()(),e.TgZ(41,"div",11)(42,"button",12),e.NdJ("click",function(){return t.getPreviousTab()}),e.qZA(),e.TgZ(43,"button",13),e.NdJ("click",function(){return t.submit()}),e.qZA()()()()()()),2&o&&(e.xp6(2),e.Q6J("pageSubTitle","Upload Document"),e.xp6(9),e.Q6J("ngClass",e.VKq(12,Y,t.deathCertificateEnable)),e.xp6(2),e.Q6J("documentId",1)("maxFileSize",t.maxFileSize),e.xp6(6),e.Q6J("documentId",2)("maxFileSize",t.maxFileSize),e.xp6(7),e.Q6J("documentId",3)("maxFileSize",t.maxFileSize),e.xp6(7),e.Q6J("documentId",4)("maxFileSize",t.maxFileSize),e.xp6(7),e.Q6J("documentId",5)("maxFileSize",t.maxFileSize))},dependencies:[d.mk,i._Y,i.JL,l.jZ,l.Yr,b.Hq,i.F],styles:[".star-pos[_ngcontent-%COMP%]   .emigrate-required[_ngcontent-%COMP%]{position:absolute;top:2px;left:120px}"]}),s})(),L=(()=>{var n;class s extends l.H6{constructor(o,t,a,u){super(a),this.formHelper=o,this._pbbyPolicyService=t,this.routerQuery=u,this.activeIndex=0,this.pbbyRecordSuccess=new e.vpe}ngOnInit(){this.pbbyPolicyFormGroup=this.formHelper.createPbbyPolicyForm(!1),this.countryOfEmployment=this.routerQuery.getData()[0][p.lUO.COUNTRY],this.gender=this.routerQuery.getData()[0][p.lUO.GENDER].filter(o=>"3"!=o.value),this.eventuality=this.routerQuery.getData()[0][p.lUO.EVENTUALITY],this.insuranceAgency=this.routerQuery.getData()[0][p.lUO.INSURANCE_AGENCY],this.relationship=this.routerQuery.getData()[0][p.lUO.RELATIONSHIP],this.valueChange()}setActiveIndex(o){this.activeIndex=o}documentEnable(o){this.deathCertificateEnable=o}valueChange(){this.pbbyPolicyFormGroup.controls.emigrantAndInsuranceDetails.controls.insuranceDetails.controls.insurancePolicyIssuedOn.valueChanges.subscribe(o=>{this.minInsurance=o})}submit(o){if(o&&(this.pbbyPolicyFormGroup.markAllAsTouched(),this.pbbyPolicyFormGroup.valid)){const t=this.responsePassportdata?.emigrantArn?this.responsePassportdata?.emigrantArn:0,a=Object.assign(new p.CTs,this.formHelper.pbbyPolicyFormToPolicy(this.pbbyPolicyFormGroup,t));this._pbbyPolicyService.add(a).subscribe(u=>{this.showSuccessToast(u.message,"Pbby Policy Claim"),this.pbbyRecordSuccess.emit({enable:!0,ARN:u.data.ARN})},u=>this.showErrorToast(u,"Pbby Policy Claim"))}}get emigrantAndInsuranceDetailsFormGroup(){return this.pbbyPolicyFormGroup.controls.emigrantAndInsuranceDetails}get eventualityDetailsFormGroup(){return this.pbbyPolicyFormGroup.controls.eventualityDetails}}return(n=s).\u0275fac=function(o){return new(o||n)(e.Y36(I),e.Y36(c),e.Y36(T.ez),e.Y36(x.dt))},n.\u0275cmp=e.Xpm({type:n,selectors:[["emigrate-pp-record-pbby-claim"]],inputs:{responsePassportdata:"responsePassportdata",pbbyclaimDetailsData:"pbbyclaimDetailsData"},outputs:{pbbyRecordSuccess:"pbbyRecordSuccess"},features:[e.qOj],decls:7,vars:17,consts:[[1,"custom_tabs",3,"activeIndex","activeIndexChange"],["header","Emigrant and Insurance Details",3,"disabled"],[3,"insuranceAgency","countryOfEmployment","pbbyclaimDetailsData","subEntityFormGroup","responsePassportdata","gender","activeIndex"],["header","Eventuality Details",3,"disabled"],[3,"subEntityFormGroup","relationship","typeofEventuality","minInsurance","countryOfEmployment","activeIndex","documentEnable"],["header","Upload Document",3,"disabled"],[3,"deathCertificateEnable","subEntityFormGroup","activeIndex","submitPbbyPolicy"]],template:function(o,t){1&o&&(e.TgZ(0,"p-tabView",0),e.NdJ("activeIndexChange",function(u){return t.activeIndex=u}),e.TgZ(1,"p-tabPanel",1)(2,"emigrate-rpc-emigrant-and-insurance-details",2),e.NdJ("activeIndex",function(u){return t.setActiveIndex(u)}),e.qZA()(),e.TgZ(3,"p-tabPanel",3)(4,"emigrate-rpc-eventuality-details",4),e.NdJ("activeIndex",function(u){return t.setActiveIndex(u)})("documentEnable",function(u){return t.documentEnable(u)}),e.qZA()(),e.TgZ(5,"p-tabPanel",5)(6,"emigrate-rpc-upload-document",6),e.NdJ("activeIndex",function(u){return t.setActiveIndex(u)})("submitPbbyPolicy",function(u){return t.submit(u)}),e.qZA()()()),2&o&&(e.Q6J("activeIndex",t.activeIndex),e.xp6(1),e.Q6J("disabled",!0),e.xp6(1),e.Q6J("insuranceAgency",t.insuranceAgency)("countryOfEmployment",t.countryOfEmployment)("pbbyclaimDetailsData",t.pbbyclaimDetailsData)("subEntityFormGroup",t.emigrantAndInsuranceDetailsFormGroup)("responsePassportdata",t.responsePassportdata)("gender",t.gender),e.xp6(1),e.Q6J("disabled",!0),e.xp6(1),e.Q6J("subEntityFormGroup",t.eventualityDetailsFormGroup)("relationship",t.relationship)("typeofEventuality",t.eventuality)("minInsurance",t.minInsurance)("countryOfEmployment",t.countryOfEmployment),e.xp6(1),e.Q6J("disabled",!0),e.xp6(1),e.Q6J("deathCertificateEnable",t.deathCertificateEnable)("subEntityFormGroup",t.pbbyPolicyFormGroup))},dependencies:[k.xf,k.x4,B,V,M]}),s})(),H=(()=>{var n;class s{}return(n=s).\u0275fac=function(o){return new(o||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["emigrate-pp-status"]],inputs:{arn:"arn"},decls:7,vars:1,consts:[[1,"container"],[1,"border","p-3"],[1,"content"],[1,"text-center"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4"),e._uU(4,"PBBY Claim"),e.qZA(),e.TgZ(5,"p",3),e._uU(6),e.qZA()()()()),2&o&&(e.xp6(6),e.hij("Eventuality Recorded successfully. Your ARN is ",t.arn,""))}}),s})(),K=(()=>{var n;class s{constructor(o){this.router=o,this.Validate=new e.vpe}ValidateClaim(){this.Validate.emit(!0)}redirectToHome(){this.router.navigate(["/"])}clear(){this.entityFormGroup.reset()}}return(n=s).\u0275fac=function(o){return new(o||n)(e.Y36(C.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["emigrate-sh-pbby-claim"]],inputs:{entityFormGroup:"entityFormGroup"},outputs:{Validate:"Validate"},decls:23,vars:8,consts:[[3,"formGroup"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"field"],["inputLabel","Passport Number","inputId","passportNumber",1,"block",3,"inputFormControl"],["id","passportNumber","type","text","pInputText","","placeholder","","maxlength","8",3,"formControl"],["inputLabel","Mobile Number","inputId","MobileNumber",1,"block",3,"inputFormControl"],["id","MobileNumber","type","text","pInputText","","placeholder","","name","MobileNumber",3,"formControl"],["inputLabel","Email Id","inputId","Email",1,"block",3,"inputFormControl"],["id","Email","name","email","type","email","maxlength","50","pInputText","","placeholder","",3,"formControl"],[3,"entityFormGroup"],[1,"col-12"],[1,"buttons","mb-3"],["pButton","","type","button","label","Cancel",1,"p-button-secondary","mr-2","btn-format",3,"click"],["pButton","","type","button","label","Clear",1,"btn-format","mr-2","btn-blue",3,"click"],["pButton","","type","submit","label","Validate",1,"btn-format","btn-blue",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"emigrate-sh-html-input",4),e._UZ(5,"input",5),e.qZA()()(),e.TgZ(6,"div",2)(7,"div",3)(8,"emigrate-sh-html-input",6),e._UZ(9,"input",7),e.qZA()()(),e.TgZ(10,"div",2)(11,"div",3)(12,"emigrate-sh-html-input",8),e._UZ(13,"input",9),e.qZA()()(),e.TgZ(14,"div",2)(15,"div",3),e._UZ(16,"emigrate-sh-recaptcha",10),e.qZA()()()(),e.TgZ(17,"div",1)(18,"div",11)(19,"div",12)(20,"button",13),e.NdJ("click",function(){return t.redirectToHome()}),e.qZA(),e.TgZ(21,"button",14),e.NdJ("click",function(){return t.clear()}),e.qZA(),e.TgZ(22,"button",15),e.NdJ("click",function(){return t.ValidateClaim()}),e.qZA()()()()),2&o&&(e.Q6J("formGroup",t.entityFormGroup),e.xp6(4),e.Q6J("inputFormControl",t.entityFormGroup.controls.passportno),e.xp6(1),e.Q6J("formControl",t.entityFormGroup.controls.passportno),e.xp6(3),e.Q6J("inputFormControl",t.entityFormGroup.controls.mobileno),e.xp6(1),e.Q6J("formControl",t.entityFormGroup.controls.mobileno),e.xp6(3),e.Q6J("inputFormControl",t.entityFormGroup.controls.email),e.xp6(1),e.Q6J("formControl",t.entityFormGroup.controls.email),e.xp6(3),e.Q6J("entityFormGroup",t.entityFormGroup))},dependencies:[i._Y,i.Fj,i.JJ,i.JL,i.nD,i.oH,i.sg,l.KR,l.wT,b.Hq,v.o]}),s})(),z=(()=>{var n;class s{constructor(o){this.router=o,this.enableTab=new e.vpe}Cancel(){this.router.navigate(["/"])}enable(){this.enableTab.emit(!0)}}return(n=s).\u0275fac=function(o){return new(o||n)(e.Y36(C.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["emigrate-pp-passport-not-existing"]],outputs:{enableTab:"enableTab"},decls:9,vars:0,consts:[[1,"row"],[1,"col-md-8","text-center","offset-md-2"],[1,"buttons","mt-3","text-center"],["pButton","","type","button","label","Cancel",1,"btn-format","mr-2","btn-blue",3,"click"],["pButton","","type","button","label","Proceed",1,"btn-format","btn-blue",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"h4"),e._uU(1,"Record PBBY Claim"),e.qZA(),e.TgZ(2,"div",0)(3,"div",1)(4,"p"),e._uU(5," The details for entered Passport Number are not present. Please upload Passport and Insurance Policy copy. Please mention RA/Employer Name and Address in Details as applicable "),e.qZA()()(),e.TgZ(6,"div",2)(7,"button",3),e.NdJ("click",function(){return t.Cancel()}),e.qZA(),e.TgZ(8,"button",4),e.NdJ("click",function(){return t.enable()}),e.qZA()())},dependencies:[b.Hq]}),s})();function X(n,s){if(1&n){const r=e.EpF();e.TgZ(0,"div",2)(1,"form",3)(2,"div",4),e._UZ(3,"emigrate-sh-page-title",5),e.qZA(),e.TgZ(4,"div",6),e._UZ(5,"emigrate-sh-page-instructions",7),e.TgZ(6,"div",8),e._UZ(7,"emigrate-sh-page-sub-title",9),e.TgZ(8,"div",10)(9,"div",4)(10,"emigrate-sh-pbby-claim",11),e.NdJ("Validate",function(t){e.CHM(r);const a=e.oxw();return e.KtG(a.ValidatePbbClaim(t))}),e.qZA()()()()()()()}if(2&n){const r=e.oxw();e.xp6(1),e.Q6J("formGroup",r.pbbyPolicyClaimFormGroup),e.xp6(2),e.Q6J("pageTitle","Record Emigrant PBBY Claim"),e.xp6(2),e.Q6J("instructionsText","Fields marked with * (asterisk) are mandatory. To avoid mistakes,\n                            please refer guidelines & instructions")("toolTipText","1. Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions."),e.xp6(2),e.Q6J("pageSubTitle","Record Emigrant PBBY Claim"),e.xp6(3),e.Q6J("entityFormGroup",r.pbbyClaimDetailsFormGroup)}}function j(n,s){if(1&n){const r=e.EpF();e.TgZ(0,"div",2)(1,"div",4),e._UZ(2,"emigrate-sh-page-title",5),e.qZA(),e.TgZ(3,"div",6),e._UZ(4,"emigrate-sh-page-instructions",7),e.TgZ(5,"div",8),e._UZ(6,"emigrate-sh-page-sub-title",9),e.TgZ(7,"div",10)(8,"div",4)(9,"emigrate-sh-otp-verification",12),e.NdJ("verifiedOtp",function(t){e.CHM(r);const a=e.oxw();return e.KtG(a.ValidateOtp(t))})("resendingOtp",function(t){e.CHM(r);const a=e.oxw();return e.KtG(a.ResendOtp(t))}),e.qZA()()()()()()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("pageTitle","Enter OTP Received for submitting Eventuality"),e.xp6(2),e.Q6J("instructionsText","Fields marked with * (asterisk) are mandatory. To avoid mistakes,\n                        please refer guidelines & instructions")("toolTipText","1. Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions."),e.xp6(2),e.Q6J("pageSubTitle","Enter OTP Received for Eventuality"),e.xp6(3),e.Q6J("entityFormGroup",r.otpDetailsFormGroup)}}function W(n,s){if(1&n){const r=e.EpF();e.TgZ(0,"div",2)(1,"div",4),e._UZ(2,"emigrate-sh-page-title",5),e.qZA(),e.TgZ(3,"div",6)(4,"div",8)(5,"emigrate-pp-passport-not-existing",13),e.NdJ("enableTab",function(t){e.CHM(r);const a=e.oxw();return e.KtG(a.enableTab(t))}),e.qZA()()()()}2&n&&(e.xp6(2),e.Q6J("pageTitle","Record PBBY Claim Details"))}function $(n,s){if(1&n){const r=e.EpF();e.TgZ(0,"div",2)(1,"div",4),e._UZ(2,"emigrate-sh-page-title",5),e.qZA(),e.TgZ(3,"div",6)(4,"div",4),e._UZ(5,"emigrate-sh-page-instructions",7),e.qZA(),e.TgZ(6,"div",8)(7,"emigrate-pp-record-pbby-claim",14),e.NdJ("pbbyRecordSuccess",function(t){e.CHM(r);const a=e.oxw();return e.KtG(a.showSuccessEmigrant(t))}),e.qZA()()()()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("pageTitle","Record PBBY Claim Details"),e.xp6(3),e.Q6J("instructionsText","Fields marked with * (asterisk) are mandatory. To avoid mistakes,\n      please refer guidelines & instructions")("toolTipText","1. Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions."),e.xp6(2),e.Q6J("responsePassportdata",r.responsePassportdata)("pbbyclaimDetailsData",r.pbbyclaimDetailsData)}}function ee(n,s){if(1&n&&(e.TgZ(0,"div",2)(1,"div",4),e._UZ(2,"emigrate-sh-page-title",5),e.qZA(),e.TgZ(3,"div",8),e._UZ(4,"emigrate-pp-status",15),e.qZA()()),2&n){const r=e.oxw();e.xp6(2),e.Q6J("pageTitle","Record Emgirant PBBY Claim"),e.xp6(2),e.Q6J("arn",r.arn)}}let te=(()=>{var n;class s extends l.H6{constructor(o,t,a){super(a),this.formHelper=o,this._pbbyPolicyService=t,this.PbbyClaim=!1,this.otp=!1,this.PbbyClaimtab=!1,this.SuccessEmgirant=!1,this.passportStatus=!1}ngOnInit(){this.PbbyClaim=!0,this.initForm()}initForm(){this.pbbyPolicyClaimFormGroup=this.formHelper.createPbbyClaimForm(!1),this.pbbyPolicyClaimOtpFormGroup=this.formHelper.createPbbyClaimOtpForm(!1)}ValidatePbbClaim(o){if(o&&(this.pbbyPolicyClaimFormGroup.markAllAsTouched(),this.pbbyPolicyClaimFormGroup.valid)){const t=this.formHelper.pbbyPolicyClaimFormTopbbyPolicyClaim(this.pbbyPolicyClaimFormGroup);this._pbbyPolicyService.validatepbbyPolicyClaim(t).subscribe(a=>{"success"!==a.status?this.showErrorToast(a.message,"Pbby Policy Claim"):(this.showSuccessToast(a.message,"Pbby Policy Claim"),this.otp=!0,this.PbbyClaim=!1,this.PbbyClaimtab=!1,this.passportStatus=!1,this.responsePassportdata=a)},a=>{this.showErrorToast(a,"Pbby Policy Claim")})}}ValidateOtp(o){if(o){const t=this.otpDetailsFormGroup.getRawValue(),a=this.pbbyClaimDetailsFormGroup.getRawValue();let u={otp:t.otp,email:a.email},_=Object.assign(new p.CQT,u);this._pbbyPolicyService.validateOtp(_).subscribe(P=>{P.status.toLowerCase()==p.Xef.SUCCESS.toLowerCase()?(this.showSuccessToast(P.message,"Pbby Policy Claim"),this.otp=!1,this.PbbyClaim=!1,"emigrantDetails"in this.responsePassportdata?.data?(this.PbbyClaimtab=!0,this.passportStatus=!1):(this.passportStatus=!0,this.pbbyclaimDetailsData=a,this.PbbyClaimtab=!1)):this.showErrorToast(P.message,"Pbby Policy Claim")},P=>{this.showErrorToast(P,"Pbby Policy Claim")})}}ResendOtp(o){if(o){const t=this.pbbyClaimDetailsFormGroup.getRawValue();this._pbbyPolicyService.resendOtp(t.email).subscribe(a=>{"success"!==a.status?this.showInfoToast(a.message,"Pbby Policy Claim"):this.showSuccessToast(a.message,"Pbby Policy Claim")},a=>{this.showErrorToast(a,"Pbby Policy Claim")})}}enableTab(o){this.otp=!1,this.PbbyClaim=!1,this.PbbyClaimtab=o,this.passportStatus=!1}showSuccessEmigrant(o){o&&(this.SuccessEmgirant=o.enable,this.arn=o.ARN,this.PbbyClaimtab=!1)}get otpDetailsFormGroup(){return this.pbbyPolicyClaimOtpFormGroup.controls.otpDetails}get pbbyClaimDetailsFormGroup(){return this.pbbyPolicyClaimFormGroup.controls.pbbyClaimDetails}}return(n=s).\u0275fac=function(o){return new(o||n)(e.Y36(I),e.Y36(c),e.Y36(T.ez))},n.\u0275cmp=e.Xpm({type:n,selectors:[["emigrate-pbby-policy"]],features:[e.qOj],decls:7,vars:5,consts:[[1,"middle_section"],["class","container",4,"ngIf"],[1,"container"],[3,"formGroup"],[1,"row"],[3,"pageTitle"],[1,"border","p-3"],[3,"instructionsText","toolTipText"],[1,"content"],[3,"pageSubTitle"],[1,"form"],[3,"entityFormGroup","Validate"],[3,"entityFormGroup","verifiedOtp","resendingOtp"],[3,"enableTab"],[3,"responsePassportdata","pbbyclaimDetailsData","pbbyRecordSuccess"],[3,"arn"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"p-toast"),e.YNc(2,X,11,6,"div",1),e.YNc(3,j,10,5,"div",1),e.YNc(4,W,6,1,"div",1),e.YNc(5,$,8,5,"div",1),e.YNc(6,ee,5,2,"div",1),e.qZA()),2&o&&(e.xp6(2),e.Q6J("ngIf",t.PbbyClaim),e.xp6(1),e.Q6J("ngIf",t.otp),e.xp6(1),e.Q6J("ngIf",t.passportStatus),e.xp6(1),e.Q6J("ngIf",t.PbbyClaimtab),e.xp6(1),e.Q6J("ngIf",t.SuccessEmgirant))},dependencies:[d.O5,i._Y,i.JL,i.sg,l.n0,l.TM,l.jZ,l.dB,N.FN,L,H,K,z]}),s})();var oe=m(6945);let ne=(()=>{var n;class s{constructor(){this.insurancePeriods=[],this.insuranceAgencies=[],this.submitAgency=new e.vpe,this.clearAgencyFormData=new e.vpe,this.cancelPayment=new e.vpe}submitAgencyandPeriod(){this.submitAgency.emit()}clearForm(){this.clearAgencyFormData.emit()}cancel(){this.cancelPayment.emit()}}return(n=s).\u0275fac=function(o){return new(o||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["emigrate-pbby-agency"]],inputs:{insurancePeriodandAgencyForm:"insurancePeriodandAgencyForm",insurancePeriods:"insurancePeriods",insuranceAgencies:"insuranceAgencies"},outputs:{submitAgency:"submitAgency",clearAgencyFormData:"clearAgencyFormData",cancelPayment:"cancelPayment"},decls:70,vars:22,consts:[[1,"d-flex","justify-content-end"],[1,"instruction"],[1,"mb-0"],[1,"row_box"],[1,"content"],[1,"form"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","arn","inputLabel","1. Emigrant ARN","inputId","arn",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","arn","type","text","pInputText","","placeholder","Application Reference Number",3,"formControl"],["for","firstName","inputLabel","2. First Name","inputId","firstName",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","firstName","type","text","pInputText","","placeholder","First Name",3,"formControl"],["for","insurancePeriod","inputLabel","3. Insurance Period (Months)","inputId","insurancePeriod",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","insurancePeriod","placeholder","Select Insurance Period","EmigrateShDropdown","",1,"w-100",3,"options","formControl"],["for","passportNumber","inputLabel","4. Passport Number","inputId","passportNumber",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","passportNumber","type","text","pInputText","","placeholder","Passport Number",3,"formControl"],["for","insuranceAgency","inputLabel","5. Policy Provider","inputId","insuranceAgency",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","insuranceAgency","placeholder","Select Policy Provider","EmigrateShDropdown","",1,"w-100",3,"options","formControl"],[1,"col-md-12"],[1,"buttons"],["pButton","","type","submit","label","Proceed",1,"btn-format","btn-blue","mr-2",3,"click"],["pButton","","type","button","label","Clear",1,"btn-blue","btn-format","mr-2",3,"click"],["pButton","","type","button","label","Cancel",1,"btn-format","btn-blue",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"ol")(3,"li")(4,"p",2)(5,"b"),e._uU(6,"1. "),e.qZA(),e._uU(7," Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions. "),e.qZA()(),e.TgZ(8,"li")(9,"p",2)(10,"b"),e._uU(11,"2. "),e.qZA(),e._uU(12," Please verify that the data shown below is correct for the EC Application Reference Number provided by you. "),e.qZA()(),e.TgZ(13,"li")(14,"p",2)(15,"b"),e._uU(16,"3. "),e.qZA(),e._uU(17," Please specify the insurance period for which you want the PBBY policy to be issued."),e.qZA()(),e.TgZ(18,"li")(19,"p",2)(20,"b"),e._uU(21,"4. "),e.qZA(),e._uU(22," Please select the name of the insurance angency from which you want the PBBY policy to be issued. "),e.qZA()(),e.TgZ(23,"li")(24,"p",2)(25,"b"),e._uU(26,"5. "),e.qZA(),e._uU(27," Please click on Proceed to send the emigrant's details to the selected PBBY insurance agency for getting the PBBY policy issued. "),e.qZA()(),e.TgZ(28,"li")(29,"p",2)(30,"b"),e._uU(31,"6. "),e.qZA(),e._uU(32," On clicking on Proceed, you will also be redirected to the payment gateway website of the selected insurance agency to make the online payment for PBBY policy. "),e.qZA()(),e.TgZ(33,"li")(34,"p",2)(35,"b"),e._uU(36,"7. "),e.qZA(),e._uU(37," Please do not press F5 or Back button."),e.qZA()()()()(),e.TgZ(38,"div",3)(39,"div",4)(40,"h4"),e._uU(41,"Please Select the Insurance Period and Insurance Agency"),e.qZA(),e.TgZ(42,"div",5)(43,"form")(44,"div",6)(45,"div",7)(46,"div",8)(47,"emigrate-sh-html-input",9),e._UZ(48,"input",10),e.qZA()()(),e.TgZ(49,"div",7)(50,"div",8)(51,"emigrate-sh-html-input",11),e._UZ(52,"input",12),e.qZA()()(),e.TgZ(53,"div",7)(54,"div",8)(55,"emigrate-sh-html-input",13),e._UZ(56,"p-dropdown",14),e.qZA()()(),e.TgZ(57,"div",7)(58,"div",8)(59,"emigrate-sh-html-input",15),e._UZ(60,"input",16),e.qZA()()(),e.TgZ(61,"div",7)(62,"div",8)(63,"emigrate-sh-html-input",17),e._UZ(64,"p-dropdown",18),e.qZA()()(),e.TgZ(65,"div",19)(66,"div",20)(67,"button",21),e.NdJ("click",function(){return t.submitAgencyandPeriod()}),e.qZA(),e.TgZ(68,"button",22),e.NdJ("click",function(){return t.clearForm()}),e.qZA(),e.TgZ(69,"button",23),e.NdJ("click",function(){return t.cancel()}),e.qZA()()()()()()()()),2&o&&(e.xp6(47),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.insurancePeriodandAgencyForm.controls.arn),e.xp6(1),e.Q6J("formControl",t.insurancePeriodandAgencyForm.controls.arn),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.insurancePeriodandAgencyForm.controls.firstName),e.xp6(1),e.Q6J("formControl",t.insurancePeriodandAgencyForm.controls.firstName),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.insurancePeriodandAgencyForm.controls.insurancePeriod),e.xp6(1),e.Q6J("options",t.insurancePeriods)("formControl",t.insurancePeriodandAgencyForm.controls.insurancePeriod),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.insurancePeriodandAgencyForm.controls.passportNumber),e.xp6(1),e.Q6J("formControl",t.insurancePeriodandAgencyForm.controls.passportNumber),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.insurancePeriodandAgencyForm.controls.insuranceAgency),e.xp6(1),e.Q6J("options",t.insuranceAgencies)("formControl",t.insurancePeriodandAgencyForm.controls.insuranceAgency))},dependencies:[i._Y,i.Fj,i.JJ,i.JL,i.oH,l.KR,l.lC,b.Hq,D.Lt,v.o,i.F]}),s})(),ie=(()=>{var n;class s{constructor(){this.submitProposal=new e.vpe,this.cancelPayment=new e.vpe}submitProposalNumber(){this.submitProposal.emit()}cancel(){this.cancelPayment.emit()}}return(n=s).\u0275fac=function(o){return new(o||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["emigrate-proposal-details"]],inputs:{proposalNumberForm:"proposalNumberForm",pageInstructionText:"pageInstructionText",pageInstructionHelpText:"pageInstructionHelpText"},outputs:{submitProposal:"submitProposal",cancelPayment:"cancelPayment"},decls:21,vars:10,consts:[[1,"row"],[3,"instructionsText","toolTipText"],[1,"row_box"],[1,"content"],[1,"form"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","passportNumber","inputLabel","1. Passport Number","inputId","passportNumber",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","passportNumber","type","text","pInputText","","placeholder","Passport Number",3,"formControl"],["for","proposalNumber","inputLabel","2. Proposal Number","inputId","proposalNumber",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","proposalNumber","type","text","pInputText","","placeholder","Proposal Number",3,"formControl"],[1,"col-md-12"],[1,"buttons"],["pButton","","type","submit","label","Confirm for Payment",1,"btn-format","btn-blue","mr-2",3,"click"],["pButton","","type","button","label","Cancel",1,"btn-format","btn-blue",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"emigrate-sh-page-instructions",1),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"h4"),e._uU(5,"Details of Payment"),e.qZA(),e.TgZ(6,"div",4)(7,"form")(8,"div",0)(9,"div",5)(10,"div",6)(11,"emigrate-sh-html-input",7),e._UZ(12,"input",8),e.qZA()()(),e.TgZ(13,"div",5)(14,"div",6)(15,"emigrate-sh-html-input",9),e._UZ(16,"input",10),e.qZA()()(),e.TgZ(17,"div",11)(18,"div",12)(19,"button",13),e.NdJ("click",function(){return t.submitProposalNumber()}),e.qZA(),e.TgZ(20,"button",14),e.NdJ("click",function(){return t.cancel()}),e.qZA()()()()()()()()),2&o&&(e.xp6(1),e.Q6J("instructionsText",t.pageInstructionText)("toolTipText",t.pageInstructionHelpText),e.xp6(10),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.proposalNumberForm.controls.passportNumber),e.xp6(1),e.Q6J("formControl",t.proposalNumberForm.controls.passportNumber),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.proposalNumberForm.controls.proposalNumber),e.xp6(1),e.Q6J("formControl",t.proposalNumberForm.controls.proposalNumber))},dependencies:[i._Y,i.Fj,i.JJ,i.JL,i.oH,l.KR,l.dB,b.Hq,v.o,i.F]}),s})(),re=(()=>{var n;class s{constructor(){this.submitPaymentDetails=new e.vpe,this.cancelPayment=new e.vpe}submitPayment(){this.submitPaymentDetails.emit()}cancel(){this.cancelPayment.emit()}}return(n=s).\u0275fac=function(o){return new(o||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["emigrate-payment-details"]],inputs:{paymentDetailsForm:"paymentDetailsForm"},outputs:{submitPaymentDetails:"submitPaymentDetails",cancelPayment:"cancelPayment"},decls:43,vars:0,consts:[[1,"row_box"],[1,"content"],[1,"form"],[1,"row"],[1,"col-md-4","col-sm-6","mb-2"],[1,"col-md-12"],[1,"buttons"],["pButton","","type","submit","label","Confirm for Payment",1,"btn-format","btn-blue","mr-2",3,"click"],["pButton","","type","button","label","Cancel",1,"btn-format","btn-blue",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3,"Details of Payment"),e.qZA(),e.TgZ(4,"div",2)(5,"form")(6,"div",3)(7,"div",4)(8,"table")(9,"tr")(10,"td")(11,"label")(12,"b"),e._uU(13,"Passport Number"),e.qZA()()(),e.TgZ(14,"td")(15,"label"),e._uU(16,"A7673873"),e.qZA()()(),e.TgZ(17,"tr")(18,"td")(19,"label"),e._uU(20,"Cross Premium"),e.qZA()(),e.TgZ(21,"td")(22,"label"),e._uU(23,"275"),e.qZA()()(),e.TgZ(24,"tr")(25,"td")(26,"label"),e._uU(27,"Service Tax"),e.qZA()(),e.TgZ(28,"td")(29,"label"),e._uU(30,"50"),e.qZA()()(),e.TgZ(31,"tr")(32,"td")(33,"label")(34,"b"),e._uU(35,"Net Premium (Total)"),e.qZA()()(),e.TgZ(36,"td")(37,"label"),e._uU(38,"325"),e.qZA()()()()(),e.TgZ(39,"div",5)(40,"div",6)(41,"button",7),e.NdJ("click",function(){return t.submitPayment()}),e.qZA(),e.TgZ(42,"button",8),e.NdJ("click",function(){return t.cancel()}),e.qZA()()()()()()()())},dependencies:[i._Y,i.JL,b.Hq,i.F],styles:["table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:none}"]}),s})(),ae=(()=>{var n;class s{constructor(){this.validateEmigrant=new e.vpe,this.clearEmigrantFormData=new e.vpe,this.cancelPayment=new e.vpe}validateArnandPassport(){this.validateEmigrant.emit()}clearForm(){this.clearEmigrantFormData.emit()}cancel(){this.cancelPayment.emit()}}return(n=s).\u0275fac=function(o){return new(o||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["emigrate-emigrant-details"]],inputs:{insurancePeriodandEmigrantForm:"insurancePeriodandEmigrantForm",pageInstructionText:"pageInstructionText",pageInstructionHelpText:"pageInstructionHelpText"},outputs:{validateEmigrant:"validateEmigrant",clearEmigrantFormData:"clearEmigrantFormData",cancelPayment:"cancelPayment"},decls:26,vars:11,consts:[[1,"row"],[3,"instructionsText","toolTipText"],[1,"clearfix"],[1,"row_box"],[1,"content"],[1,"form"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","passportNumber","inputLabel","1. Passport Number","inputId","passportNumber",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","passportNumber","type","text","pInputText","","placeholder","Passport Number",3,"formControl"],["for","arn","inputLabel","2. Emigrant ARN","inputId","arn",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","arn","type","text","pInputText","","placeholder","Application Reference Number",3,"formControl"],[3,"entityFormGroup"],[1,"col-md-12"],[1,"buttons"],["pButton","","type","submit","label","Validate",1,"btn-format","btn-blue","mr-2",3,"click"],["pButton","","type","button","label","Clear",1,"btn-blue","btn-format","mr-2",3,"click"],["pButton","","type","button","label","Cancel",1,"btn-format","btn-blue",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"emigrate-sh-page-instructions",1),e.qZA(),e._UZ(2,"div",2),e.TgZ(3,"div",3)(4,"div",4)(5,"h4"),e._uU(6,"Enter Details"),e.qZA(),e.TgZ(7,"div",5)(8,"form")(9,"div",0)(10,"div",6)(11,"div",7)(12,"emigrate-sh-html-input",8),e._UZ(13,"input",9),e.qZA()()(),e.TgZ(14,"div",6)(15,"div",7)(16,"emigrate-sh-html-input",10),e._UZ(17,"input",11),e.qZA()()(),e.TgZ(18,"div",6)(19,"div",7),e._UZ(20,"emigrate-sh-recaptcha",12),e.qZA()(),e.TgZ(21,"div",13)(22,"div",14)(23,"button",15),e.NdJ("click",function(){return t.validateArnandPassport()}),e.qZA(),e.TgZ(24,"button",16),e.NdJ("click",function(){return t.clearForm()}),e.qZA(),e.TgZ(25,"button",17),e.NdJ("click",function(){return t.cancel()}),e.qZA()()()()()()()()),2&o&&(e.xp6(1),e.Q6J("instructionsText",t.pageInstructionText)("toolTipText",t.pageInstructionHelpText),e.xp6(11),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.insurancePeriodandEmigrantForm.controls.passportNumber),e.xp6(1),e.Q6J("formControl",t.insurancePeriodandEmigrantForm.controls.passportNumber),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.insurancePeriodandEmigrantForm.controls.arn),e.xp6(1),e.Q6J("formControl",t.insurancePeriodandEmigrantForm.controls.arn),e.xp6(3),e.Q6J("entityFormGroup",t.insurancePeriodandEmigrantForm))},dependencies:[i._Y,i.Fj,i.JJ,i.JL,i.oH,l.KR,l.dB,l.wT,b.Hq,v.o,i.F]}),s})();function se(n,s){if(1&n){const r=e.EpF();e.TgZ(0,"emigrate-emigrant-details",7),e.NdJ("clearEmigrantFormData",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.clearEmigrantFormData())})("validateEmigrant",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.validateEmigrant())})("cancelPayment",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.cancelPayment())}),e.qZA()}if(2&n){const r=e.oxw();e.Q6J("insurancePeriodandEmigrantForm",r.insurancePeriodandEmigrantForm)("pageInstructionText",r.pageInstructionText)("pageInstructionHelpText",r.pageInstructionHelpText)}}function le(n,s){if(1&n){const r=e.EpF();e.TgZ(0,"emigrate-pbby-agency",8),e.NdJ("clearAgencyFormData",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.clearAgencyFormData())})("submitAgency",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.submitAgency())})("cancelPayment",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.cancelPayment())}),e.qZA()}if(2&n){const r=e.oxw();e.Q6J("insurancePeriodandAgencyForm",r.insurancePeriodandAgencyForm)("insurancePeriods",r.insurancePeriods)("insuranceAgencies",r.insuranceAgencies)}}function ue(n,s){if(1&n){const r=e.EpF();e.TgZ(0,"emigrate-proposal-details",9),e.NdJ("submitProposal",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.submitProposal())})("cancelPayment",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.cancelPayment())}),e.qZA()}if(2&n){const r=e.oxw();e.Q6J("proposalNumberForm",r.proposalNumberForm)("pageInstructionText",r.pageInstructionText)("pageInstructionHelpText",r.pageInstructionHelpText)}}function pe(n,s){if(1&n){const r=e.EpF();e.TgZ(0,"emigrate-payment-details",10),e.NdJ("submitPaymentDetails",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.submitPaymentDetails())})("cancelPayment",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.cancelPayment())}),e.qZA()}if(2&n){const r=e.oxw();e.Q6J("paymentDetailsForm",r.paymentDetailsForm)}}function me(n,s){if(1&n){const r=e.EpF();e.TgZ(0,"emigrate-sh-status-confirmation",11),e.NdJ("close",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.redirectToDashboard())}),e.qZA()}if(2&n){const r=e.oxw();e.Q6J("title",r.confirmationTitle)("confirmationMsgLine1",r.confirmationMsg)("status","success")}}let ce=(()=>{var n;class s extends l.H6{constructor(o,t,a,u,_,P){super(t),this.uiService=o,this.pbbyPolicyFormHelperService=a,this.pbbyPolicyService=u,this.router=_,this.routerQuery=P,this.showEmigrantForm=!1,this.showAgencyForm=!1,this.showPropsalNumber=!1,this.showPaymentDetails=!1,this.showStatus=!1,this.pageInstructionText=p.Xef.PAGE_INSTRUCTION_TEXT,this.pageInstructionHelpText=p.Xef.PAGE_INSTRUCTION_HELP_TEXT,this.confirmationTitle="Policy Success",this.insuranceAgencies=[],this.insurancePeriods=[{label:"2 Years",value:"24"},{label:"3 Years",value:"36"}]}ngOnInit(){this.breadcrumb=[{label:"Admin",routerLink:["/admin"]},{label:"PBBY Policy"},{label:"Select PBBY Agency"}],this.uiService.initPageSetup(this.breadcrumb,"Select PBBY Agency"),this.masterData=this.routerQuery.getData(),this.insuranceAgencies=this.masterData[0][p.zlJ.INSURANCE_AGENCY],this.showEmigrantForm=!0,this.insurancePeriodandEmigrantForm=this.pbbyPolicyFormHelperService.createInsurancePeriodandEmigrantForm(),this.insurancePeriodandAgencyForm=this.pbbyPolicyFormHelperService.createInsurancePeriodandAgencyForm(!0,{}),this.proposalNumberForm=this.pbbyPolicyFormHelperService.createProposalNumberForm(!0,{}),this.paymentDetailsForm=this.pbbyPolicyFormHelperService.createPaymentDetailsForm(!0,{})}validateEmigrant(){let o=!1;this.insurancePeriodandEmigrantForm.markAllAsTouched(),o=this.insurancePeriodandEmigrantForm.valid,o&&(this.uiService.showSpinner(),this.pbbyPolicyService.validateEmigrant(this.insurancePeriodandEmigrantForm.value).subscribe({next:t=>{t.status.toLowerCase()===p.Xef.SUCCESS.toLowerCase()?(this.showEmigrantForm=!1,this.showAgencyForm=!0,this.insurancePeriodandAgencyForm.patchValue({}),this.showSuccessToast(t.message)):(this.uiService.hideSpinner(),this.showErrorToast(t.message))},error:t=>{this.uiService.hideSpinner(),this.showErrorToast(t?.error?.errorMessage)},complete:()=>{this.uiService.hideSpinner()}}))}submitAgency(){let o=!1;this.insurancePeriodandAgencyForm.markAllAsTouched(),o=this.insurancePeriodandAgencyForm.valid,o&&(this.uiService.showSpinner(),this.pbbyPolicyService.fetchProposalNumber(this.insurancePeriodandAgencyForm.value).subscribe({next:t=>{t.status.toLowerCase()===p.Xef.SUCCESS.toLowerCase()?(this.showAgencyForm=!1,this.showPropsalNumber=!0,this.proposalNumberForm.patchValue({}),this.showSuccessToast(t.message)):(this.uiService.hideSpinner(),this.showErrorToast(t.message))},error:t=>{this.uiService.hideSpinner(),this.showErrorToast(t?.error?.errorMessage)},complete:()=>{this.uiService.hideSpinner()}}))}submitProposal(){let o=!1;this.proposalNumberForm.markAllAsTouched(),o=this.proposalNumberForm.valid,o&&(this.uiService.showSpinner(),this.pbbyPolicyService.fetchPaymentDetails(this.proposalNumberForm.value).subscribe({next:t=>{t.status.toLowerCase()===p.Xef.SUCCESS.toLowerCase()?(this.showPropsalNumber=!1,this.showPaymentDetails=!0,this.paymentDetailsForm.patchValue({}),this.showSuccessToast(t.message)):(this.uiService.hideSpinner(),this.showErrorToast(t.message))},error:t=>{this.uiService.hideSpinner(),this.showErrorToast(t?.error?.errorMessage)},complete:()=>{this.uiService.hideSpinner()}}))}submitPaymentDetails(){let o=!1;this.showStatus=!1,this.paymentDetailsForm.markAllAsTouched(),o=this.paymentDetailsForm.valid,o&&(this.uiService.showSpinner(),this.pbbyPolicyService.policyPayment(this.paymentDetailsForm.value).subscribe({next:t=>{t.status.toLowerCase()===p.Xef.SUCCESS.toLowerCase()?(this.showPaymentDetails=!1,this.showStatus=!0,this.confirmationMsg="You have successfully purchased the PBBY Policy with policy no.12345 which is valid till 23/01/2099 from insurance agency IFFCO TOKIO. Now, you need to upload the policy document to proceed further to pay EC fee.",this.showSuccessToast(t.message)):(this.uiService.hideSpinner(),this.showErrorToast(t.message))},error:t=>{this.uiService.hideSpinner(),this.showErrorToast(t?.error?.errorMessage)},complete:()=>{this.uiService.hideSpinner()}}))}clearEmigrantFormData(){this.insurancePeriodandEmigrantForm.reset()}clearAgencyFormData(){this.insurancePeriodandAgencyForm.reset()}cancelPayment(){this.router.navigate(["/"])}redirectToDashboard(){this.cancelPayment()}}return(n=s).\u0275fac=function(o){return new(o||n)(e.Y36(oe.n),e.Y36(T.ez),e.Y36(I),e.Y36(c),e.Y36(C.F0),e.Y36(x.dt))},n.\u0275cmp=e.Xpm({type:n,selectors:[["emigrate-policy-payment"]],features:[e.qOj],decls:8,vars:5,consts:[[1,"container"],[1,"content","p-3","border","mt-2","mb-2"],[3,"insurancePeriodandEmigrantForm","pageInstructionText","pageInstructionHelpText","clearEmigrantFormData","validateEmigrant","cancelPayment",4,"ngIf"],[3,"insurancePeriodandAgencyForm","insurancePeriods","insuranceAgencies","clearAgencyFormData","submitAgency","cancelPayment",4,"ngIf"],[3,"proposalNumberForm","pageInstructionText","pageInstructionHelpText","submitProposal","cancelPayment",4,"ngIf"],[3,"paymentDetailsForm","submitPaymentDetails","cancelPayment",4,"ngIf"],[3,"title","confirmationMsgLine1","status","close",4,"ngIf"],[3,"insurancePeriodandEmigrantForm","pageInstructionText","pageInstructionHelpText","clearEmigrantFormData","validateEmigrant","cancelPayment"],[3,"insurancePeriodandAgencyForm","insurancePeriods","insuranceAgencies","clearAgencyFormData","submitAgency","cancelPayment"],[3,"proposalNumberForm","pageInstructionText","pageInstructionHelpText","submitProposal","cancelPayment"],[3,"paymentDetailsForm","submitPaymentDetails","cancelPayment"],[3,"title","confirmationMsgLine1","status","close"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"p-toast"),e.YNc(3,se,1,3,"emigrate-emigrant-details",2),e.YNc(4,le,1,3,"emigrate-pbby-agency",3),e.YNc(5,ue,1,3,"emigrate-proposal-details",4),e.YNc(6,pe,1,1,"emigrate-payment-details",5),e.YNc(7,me,1,3,"emigrate-sh-status-confirmation",6),e.qZA()()),2&o&&(e.xp6(3),e.Q6J("ngIf",t.showEmigrantForm),e.xp6(1),e.Q6J("ngIf",t.showAgencyForm),e.xp6(1),e.Q6J("ngIf",t.showPropsalNumber),e.xp6(1),e.Q6J("ngIf",t.showPaymentDetails),e.xp6(1),e.Q6J("ngIf",t.showStatus))},dependencies:[d.O5,l.r2,N.FN,ne,ie,re,ae]}),s})();const de=[{path:"",pathMatch:"full",component:te,resolve:[p.zZR]},{path:"policy-payment",pathMatch:"full",component:ce,resolve:[p.Lx4]}];let be=(()=>{var n;class s{}return(n=s).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[C.Bz.forChild(de),C.Bz]}),s})();var ye=m(6270);let ge=(()=>{var n;class s{}return(n=s).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.ez,i.UX,l.uR,ye.g,i.u5,be]}),s})()}}]);