"use strict";(self.webpackChunke_migrate=self.webpackChunke_migrate||[]).push([[590],{590:(H,h,o)=>{o.r(h),o.d(h,{ReportModule:()=>M});var m=o(6895),g=o(3599),s=o(2976),e=o(1571),l=o(1358),u=o(5593),v=o(8645);let b=(()=>{var t;class r{constructor(){this.pageInstructionText=s.Xef.PAGE_INSTRUCTION_TEXT,this.pageInstructionHelpText=s.Xef.PAGE_INSTRUCTION_HELP_TEXT}}return(t=r).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["emigrate-grievance-details"]],decls:21,vars:8,consts:[[1,"middle_section"],[1,"container"],[1,"row"],[3,"pageTitle"],[3,"instructionsText","toolTipText"],[1,"content"],[3,"pageSubTitle"],[1,"row","mb-3"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","6","inputLabel","From","inputId","fromdate",1,"block",3,"inputRequired","patternMsg"],["appendTo","body","inputId","fromdate"],["for","6","inputLabel","To","inputId","todate",1,"block",3,"inputRequired","patternMsg"],["appendTo","body","inputId","todate"],[1,"col-12"],[1,"buttons","mt-3"],["pButton","","type","button","label","Submit",1,"p-button-secondary","mr-2","btn-format"]],template:function(n,a){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"emigrate-sh-page-title",3)(4,"emigrate-sh-page-instructions",4),e.TgZ(5,"div",5),e.ynx(6),e._UZ(7,"emigrate-sh-page-sub-title",6),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"emigrate-sh-html-input",10),e._UZ(12,"p-calendar",11),e.qZA()()(),e.TgZ(13,"div",8)(14,"div",9)(15,"emigrate-sh-html-input",12),e._UZ(16,"p-calendar",13),e.qZA()()()(),e.TgZ(17,"div",2)(18,"div",14)(19,"div",15),e._UZ(20,"button",16),e.qZA()()(),e.BQk(),e.qZA()()()()),2&n&&(e.xp6(3),e.Q6J("pageTitle","Reports"),e.xp6(1),e.Q6J("instructionsText",a.pageInstructionText)("toolTipText",a.pageInstructionHelpText),e.xp6(3),e.Q6J("pageSubTitle","Grievance Detailed Report"),e.xp6(4),e.Q6J("inputRequired",!0)("patternMsg","pattern message"),e.xp6(4),e.Q6J("inputRequired",!0)("patternMsg","pattern message"))},dependencies:[l.KR,l.TM,l.jZ,l.dB,u.Hq,v.f]}),r})(),R=(()=>{var t;class r{}return(t=r).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["emigrate-grievance-consolidated"]],decls:2,vars:0,template:function(n,a){1&n&&(e.TgZ(0,"p"),e._uU(1,"grievance-consolidated works!"),e.qZA())}}),r})(),f=(()=>{var t;class r{}return(t=r).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["emigrate-grievance-pendency"]],decls:17,vars:6,consts:[[1,"middle_section"],[1,"container"],[1,"row"],[3,"pageTitle"],[3,"instructionsText","toolTipText"],[1,"content"],[3,"pageSubTitle"],[1,"row","mb-3"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","6","inputLabel","Generate Grievance Pendency Report As On","inputId","date",1,"block",3,"inputRequired","patternMsg"],["appendTo","body","inputId","date"],[1,"col-12"],[1,"buttons","mt-3"],["pButton","","type","button","label","Submit",1,"p-button-secondary","mr-2","btn-format"]],template:function(n,a){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"emigrate-sh-page-title",3)(4,"emigrate-sh-page-instructions",4),e.TgZ(5,"div",5),e.ynx(6),e._UZ(7,"emigrate-sh-page-sub-title",6),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"emigrate-sh-html-input",10),e._UZ(12,"p-calendar",11),e.qZA()()()(),e.TgZ(13,"div",2)(14,"div",12)(15,"div",13),e._UZ(16,"button",14),e.qZA()()(),e.BQk(),e.qZA()()()()),2&n&&(e.xp6(3),e.Q6J("pageTitle","Reports"),e.xp6(1),e.Q6J("instructionsText","Fields marked with * (asterisk) are mandatory. To avoid mistakes,\n        please refer guidelines & instructions")("toolTipText","1. Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions."),e.xp6(3),e.Q6J("pageSubTitle","Generate Pendency Report"),e.xp6(4),e.Q6J("inputRequired",!0)("patternMsg","pattern message"))},dependencies:[l.KR,l.TM,l.jZ,l.dB,u.Hq,v.f]}),r})(),Z=(()=>{var t;class r{constructor(){this.pageInstructionText=s.Xef.PAGE_INSTRUCTION_TEXT,this.pageInstructionHelpText=s.Xef.PAGE_INSTRUCTION_HELP_TEXT}}return(t=r).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["emigrate-grievance-adhoc"]],decls:21,vars:8,consts:[[1,"middle_section"],[1,"container"],[1,"row"],[3,"pageTitle"],[3,"instructionsText","toolTipText"],[1,"content"],[3,"pageSubTitle"],[1,"row","mb-3"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","6","inputLabel","From","inputId","fromdate",1,"block",3,"inputRequired","patternMsg"],["appendTo","body","inputId","fromdate"],["for","6","inputLabel","To","inputId","todate",1,"block",3,"inputRequired","patternMsg"],["appendTo","body","inputId","todate"],[1,"col-12"],[1,"buttons","mt-3"],["pButton","","type","button","label","Submit",1,"p-button-secondary","mr-2","btn-format"]],template:function(n,a){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"emigrate-sh-page-title",3)(4,"emigrate-sh-page-instructions",4),e.TgZ(5,"div",5),e.ynx(6),e._UZ(7,"emigrate-sh-page-sub-title",6),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"emigrate-sh-html-input",10),e._UZ(12,"p-calendar",11),e.qZA()()(),e.TgZ(13,"div",8)(14,"div",9)(15,"emigrate-sh-html-input",12),e._UZ(16,"p-calendar",13),e.qZA()()()(),e.TgZ(17,"div",2)(18,"div",14)(19,"div",15),e._UZ(20,"button",16),e.qZA()()(),e.BQk(),e.qZA()()()()),2&n&&(e.xp6(3),e.Q6J("pageTitle","Reports"),e.xp6(1),e.Q6J("instructionsText",a.pageInstructionText)("toolTipText",a.pageInstructionHelpText),e.xp6(3),e.Q6J("pageSubTitle","Grievance Detailed Report"),e.xp6(4),e.Q6J("inputRequired",!0)("patternMsg","pattern message"),e.xp6(4),e.Q6J("inputRequired",!0)("patternMsg","pattern message"))},dependencies:[l.KR,l.TM,l.jZ,l.dB,u.Hq,v.f]}),r})();var D=o(805),p=o(4006);let A=(()=>{var t;class r{constructor(n){this.fb=n}createDeploymentEmigrateRAForm(n){return this.fb.group({raId:this.fb.control({value:null,disabled:!1},p.kI.compose([p.kI.required,l.YO.raIdValidator()]))})}}return(t=r).\u0275fac=function(n){return new(n||t)(e.LFG(p.qu))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();var d,y=o(6945),I=o(655),x=o(8505),C=o(262),S=o(8513);class T{constructor(r){this.lastDeploymentEmigrantRa=r}getRaId(r){return this.lastDeploymentEmigrantRa.getRaIdDetails(r).pipe((0,x.b)(i=>{}),(0,C.K)(i=>{throw i}))}}(d=T).\u0275fac=function(r){return new(r||d)(e.LFG(s.wR1))},d.\u0275prov=e.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),(0,I.gn)([(0,S.PS)()],T.prototype,"getRaId",null);var E=o(1740),U=o(2453);function G(t,r){if(1&t){const i=e.EpF();e.TgZ(0,"div",0)(1,"div",5)(2,"div",6),e._UZ(3,"emigrate-sh-page-sub-title",7),e.TgZ(4,"div",20)(5,"form")(6,"div",21)(7,"div",3)(8,"div",10)(9,"div",11)(10,"label",22),e._uU(11,"RA ID"),e.qZA(),e.TgZ(12,"p",23)(13,"b"),e._uU(14),e.qZA()()()(),e.TgZ(15,"div",10)(16,"div",11)(17,"label",22),e._uU(18,"RA Name"),e.qZA(),e.TgZ(19,"p",23)(20,"b"),e._uU(21),e.qZA()()()(),e._UZ(22,"div",10),e.TgZ(23,"div",10)(24,"div",11)(25,"label",22),e._uU(26,"ECR Passport Holder"),e.qZA(),e.TgZ(27,"p",23)(28,"b"),e._uU(29),e.qZA()()()(),e.TgZ(30,"div",10)(31,"div",11)(32,"label",22),e._uU(33,"Latest EC Approval Date"),e.qZA(),e.TgZ(34,"p",23)(35,"b"),e._uU(36),e.ALo(37,"date"),e.qZA()()()(),e.TgZ(38,"div",10)(39,"div",11)(40,"label",22),e._uU(41,"Latest Deployment Date of ECR Passport Holder (as per monthly Return Submitted by RA)"),e.qZA(),e.TgZ(42,"p",23)(43,"b"),e._uU(44),e.qZA()()()(),e.TgZ(45,"div",10)(46,"div",11)(47,"label",22),e._uU(48,"ECNR Passport Holder"),e.qZA(),e.TgZ(49,"p",23)(50,"b"),e._uU(51),e.qZA()()()(),e.TgZ(52,"div",10)(53,"div",11)(54,"label",22),e._uU(55,"Latest ECNR Registration Date"),e.qZA(),e.TgZ(56,"p",23)(57,"b"),e._uU(58),e.ALo(59,"date"),e.qZA()()()(),e.TgZ(60,"div",10)(61,"div",11)(62,"label",22),e._uU(63,"Latest Deployment Date of ECNR Passport Holder (as per monthly Return Submitted by RA)"),e.qZA(),e.TgZ(64,"p",23)(65,"b"),e._uU(66),e.qZA()()()()()()()()()(),e.TgZ(67,"div",3)(68,"div",14)(69,"div",24)(70,"button",25),e.NdJ("click",function(){e.CHM(i);const a=e.oxw();return e.KtG(a.close())}),e.qZA()()()()()}if(2&t){const i=e.oxw();e.xp6(3),e.Q6J("pageSubTitle",i.pageSubTitle),e.xp6(11),e.Oqu(null==i.tempRaDetails?null:i.tempRaDetails.raId),e.xp6(7),e.Oqu(null==i.tempRaDetails?null:i.tempRaDetails.raName),e.xp6(8),e.Oqu(null==i.tempRaDetails?null:i.tempRaDetails.ecrPassportHolder),e.xp6(7),e.Oqu(e.xi3(37,9,null==i.tempRaDetails?null:i.tempRaDetails.ecApprovalDateEcr,"dd/MM/YYYY")),e.xp6(8),e.Oqu(null==i.tempRaDetails?null:i.tempRaDetails.ecrDeployedDate),e.xp6(7),e.Oqu(null==i.tempRaDetails?null:i.tempRaDetails.ecnrPassportHolder),e.xp6(7),e.Oqu(e.xi3(59,12,null==i.tempRaDetails?null:i.tempRaDetails.ecEcnrRegistrationDate,"dd/MM/YYYY")),e.xp6(8),e.Oqu(null==i.tempRaDetails?null:i.tempRaDetails.ecnrDeployedDate)}}const q=[{path:"grievance-details",pathMatch:"full",component:b},{path:"grievance-consolidated",pathMatch:"full",component:R},{path:"grievance-pendency",pathMatch:"full",component:f},{path:"grievance-adhoc",pathMatch:"full",component:Z},{path:"last-deployment-emigrant-ra",pathMatch:"full",component:(()=>{var t;class r extends l.H6{constructor(n,a,c,J,L){super(n),this.reportFormHelperService=a,this.router=c,this.uiService=J,this.reportService=L,this.pageTitle="Last Deployment of Emigrant by RA",this.pageSubTitle="View Latest Deployment Details",this.pageInstructionText=s.Xef.PAGE_INSTRUCTION_TEXT,this.showDetails=!1}ngOnInit(){this.uiService.initPageSetup([],""),this.showDetails=!1,this.emigrateRAFormGroup=this.reportFormHelperService.createDeploymentEmigrateRAForm(!1)}clear(){this.showDetails=!1,this.emigrateRAFormGroup.controls.raId.reset()}cancel(){this.redirectToHome()}submit(){this.showDetails=!1,this.emigrateRAFormGroup.invalid?this.showErrorToast(s.rmt.TOAST_FILL_ALL_FIELDS):/\d/.test(this.raId)?(this.uiService.showSpinner(),this.reportService.getRaId(this.raId?.match(/\d+$/)[0].toString()).subscribe({next:n=>{this.uiService.hideSpinner(),n.status?.toLowerCase()===s.Xef.SUCCESS?(this.tempRaDetails=n.data,this.tempRaDetails.raId=s.Xef.ROLE.RA+this.tempRaDetails.raId,n?.data?.ecrDeployedDate&&(this.tempRaDetails.ecrDeployedDate=this.formatDeployedDate(this.tempRaDetails.ecrDeployedDate)),n?.data?.ecnrDeployedDate&&(this.tempRaDetails.ecnrDeployedDate=this.formatDeployedDate(this.tempRaDetails.ecnrDeployedDate)),this.showDetails=!0,this.showSuccessToast(s.rmt.DEFAULT_DATA_FETCHED_SUCCESS)):this.showErrorToast(s.rmt.DEFAULT_NO_DATA_FOUND)},error:n=>{this.uiService.hideSpinner(),this.showErrorToast(s.rmt.TOAST_COMMON_ERROR)},complete:()=>{this.uiService.hideSpinner()}})):this.showErrorToast(s.rmt.DEFAULT_RA_ID)}formatDeployedDate(n){let c=new Date(n).toLocaleString("en-us",{month:"long",year:"numeric"}).split(" ");return"Month "+c[0]+" Year "+c[1]}close(){this.showDetails=!1,this.redirectToHome()}redirectToHome(){this.router.navigate(["admin/dashboard"])}get raId(){return this.emigrateRAFormGroup.get("raId").value}}return(t=r).\u0275fac=function(n){return new(n||t)(e.Y36(D.ez),e.Y36(A),e.Y36(g.F0),e.Y36(y.n),e.Y36(T))},t.\u0275cmp=e.Xpm({type:t,selectors:[["emigrate-grievance-deployment-emigrant-ra"]],features:[e.qOj],decls:24,vars:9,consts:[[1,"container"],[1,"row","header-background"],[3,"pageTitle"],[1,"row"],[3,"instructionsText","toolTipText"],[1,"mb-3"],[1,"form","border"],[3,"pageSubTitle"],[1,"content","p-3"],[1,"content",3,"formGroup"],[1,"col-md-4","col-sm-6"],[1,"field"],["inputLabel","1. Enter RA ID","inputId","raId",1,"block",3,"inputFormControl","inputRequired"],["id","raId","type","text","pInputText","","maxlength","30","placeholder","e.g. RA12345",3,"formControl"],[1,"col-12"],[1,"buttons","mt-3","mb-3"],["pButton","","type","submit","label","Submit",1,"btn-format","btn-blue","mr-2",3,"click"],["pButton","","type","submit","label","Clear",1,"btn-format","btn-blue","mr-2",3,"click"],["pButton","","type","submit","label","Cancel",1,"btn-format","btn-blue","mr-2",3,"click"],["class","container",4,"ngIf"],[1,"content"],[1,"p-3","mb-3"],["for","4",1,"block"],[1,"color-blue"],[1,"buttons","mb-3"],["pButton","","type","submit","label","Close",1,"btn-format","btn-blue",3,"click"]],template:function(n,a){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"p-toast"),e.TgZ(2,"div",1),e._UZ(3,"emigrate-sh-page-title",2),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"emigrate-sh-page-instructions",4),e.qZA(),e.TgZ(6,"div",5)(7,"div",6),e._UZ(8,"emigrate-sh-page-sub-title",7),e.TgZ(9,"div",8)(10,"div",3)(11,"form",9)(12,"div",3)(13,"div",10)(14,"div",11)(15,"emigrate-sh-html-input",12),e._UZ(16,"input",13),e.qZA()()()()()()()()()(),e.TgZ(17,"div")(18,"div",14)(19,"div",15)(20,"button",16),e.NdJ("click",function(){return a.submit()}),e.qZA(),e.TgZ(21,"button",17),e.NdJ("click",function(){return a.clear()}),e.qZA(),e.TgZ(22,"button",18),e.NdJ("click",function(){return a.cancel()}),e.qZA()()()(),e.YNc(23,G,71,15,"div",19)),2&n&&(e.xp6(3),e.Q6J("pageTitle",a.pageTitle),e.xp6(2),e.Q6J("instructionsText",a.pageInstructionText)("toolTipText",a.pageInstructionText),e.xp6(3),e.Q6J("pageSubTitle",a.pageSubTitle),e.xp6(3),e.Q6J("formGroup",a.emigrateRAFormGroup),e.xp6(4),e.Q6J("inputFormControl",a.emigrateRAFormGroup.controls.raId)("inputRequired",!0),e.xp6(1),e.Q6J("formControl",a.emigrateRAFormGroup.controls.raId),e.xp6(7),e.Q6J("ngIf",a.showDetails))},dependencies:[m.O5,l.KR,l.TM,l.jZ,l.dB,u.Hq,E.o,U.FN,p._Y,p.Fj,p.JJ,p.JL,p.nD,p.F,p.oH,p.sg,m.uU],styles:[".color-blue[_ngcontent-%COMP%]{color:#00008b}"]}),r})()}];let F=(()=>{var t;class r{}return(t=r).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[g.Bz.forChild(q),g.Bz]}),r})();var _=o(6270);let M=(()=>{var t;class r{}return(t=r).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[m.ez,F,l.uR,_.g,p.u5,p.UX]}),r})()}}]);