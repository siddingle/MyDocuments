"use strict";(self.webpackChunke_migrate=self.webpackChunke_migrate||[]).push([[4675],{9023:(A,x,f)=>{f.d(x,{K:()=>C});var e=f(4006),u=f(2976),l=f(1358),c=f(1571);let C=(()=>{var y;class N{constructor(a){this.fb=a}createGrievanceUserForm(a,g){return this.fb.group({userDetails:this.fb.group({email:this.fb.control({value:null,disabled:g},e.kI.compose([e.kI.required,l.YO.emailValidator(),e.kI.maxLength(100)])),mobileNumber:this.fb.control({value:null,disabled:g},e.kI.compose([e.kI.required,l.YO.mobileNumberValidator()]))})})}createGrievanceOtpForm(a,g){return this.fb.group({otpDetails:this.fb.group({otp:this.fb.control({value:null,disabled:g},e.kI.compose([e.kI.required]))})})}createGrievanceEmigrantForm(a,g){return this.fb.group({emigrantDetails:this.fb.group({modeOfComplaint:this.fb.control({value:null,disabled:!g},e.kI.compose([e.kI.required])),grievanceReceivedDate:this.fb.control({value:null,disabled:!g}),firstName:this.fb.control({value:null,disabled:a},e.kI.compose([e.kI.required,l.YO.fullNameValidator()])),lastName:this.fb.control({value:null,disabled:a},e.kI.compose([e.kI.required,l.YO.fullNameValidator()])),passportNumber:this.fb.control({value:null,disabled:a},e.kI.compose([l.YO.passportNumberValidator()])),gender:this.fb.control({value:null,disabled:a},e.kI.compose([e.kI.required])),fkStateCode:this.fb.control({value:null,disabled:a},e.kI.compose([e.kI.required])),fkDestinationCountry:this.fb.control({value:null,disabled:a}),captcha:this.fb.control({value:null,disabled:a},e.kI.compose([e.kI.required])),stateEventuality:void 0,typeOfEventuality:void 0,countryEventuality:void 0,countryEventualityDesc:void 0,email:void 0,mobileNumber:void 0})})}emigrantDetailsStatusApiPayload(a){const g=a.getRawValue();return(new u.HdO).deserialize({firstName:g.firstName,lastName:g.lastName,passportNumber:g.passportNumber,gender:g.gender,fkStateCode:g.fkStateCode,fkDestinationCountry:g.fkDestinationCountry,captcha:g.captcha})}createGrievanceRegistrationForm(a){return this.fb.group({complaintDetailsTab:this.fb.group({passportDetails:this.fb.group({name:this.fb.control({value:null,disabled:a}),surName:this.fb.control({value:null,disabled:a}),passportNumber:this.fb.control({value:null,disabled:a},e.kI.compose([l.YO.passportNumberValidator()])),gender:this.fb.control({value:null,disabled:a}),state:this.fb.control({value:null,disabled:a}),destinationCountry:this.fb.control({value:null,disabled:a}),stateEventuality:void 0,typeOfEventuality:void 0,countryEventuality:void 0,email:void 0,mobileNumber:void 0,receivingDate:void 0}),complaintDetails:this.fb.group({grievanceSubmittedBy:this.fb.control({value:null,disabled:a},e.kI.required),relationship:this.fb.control({value:null,disabled:a},e.kI.required),firstName:this.fb.control({value:null,disabled:a},e.kI.compose([e.kI.required,l.YO.fullNameValidator()])),lastName:this.fb.control({value:null,disabled:a},e.kI.compose([l.YO.fullNameValidator()])),addressLine1:this.fb.control({value:null,disabled:a},e.kI.compose([e.kI.required,l.YO.addressValidator()])),addressLine2:this.fb.control({value:null,disabled:a},e.kI.compose([e.kI.maxLength(200)])),country:this.fb.control({value:null,disabled:a},e.kI.required),state:this.fb.control({value:null,disabled:a},e.kI.required),district:this.fb.control({value:null,disabled:a},e.kI.required),city:this.fb.control({value:null,disabled:a},e.kI.compose([e.kI.required,l.YO.fullNameValidator()])),postalPincode:this.fb.control({value:null,disabled:a},e.kI.compose([l.YO.pincodeValidator()])),landLineNumber:this.fb.control({value:null,disabled:a},e.kI.compose([e.kI.maxLength(20),l.YO.phoneNumberValidator()])),mobileNumber:this.fb.control({value:null,disabled:a},e.kI.compose([l.YO.mobileNumberValidator()])),email:this.fb.control({value:null,disabled:a},e.kI.compose([l.YO.emailValidator(),e.kI.maxLength(100)])),grievanceAgainst:this.fb.control({value:null,disabled:a},e.kI.required),userId:void 0})}),employmentDetails:this.fb.group({employerId:this.fb.control({value:null,disabled:a}),employerName:this.fb.control({value:null,disabled:a},e.kI.compose([e.kI.required,l.YO.fullNameValidator()])),recruitingAgentId:this.fb.control({value:null,disabled:a}),recruitingAgentName:this.fb.control({value:null,disabled:a},e.kI.compose([e.kI.required,l.YO.fullNameValidator()])),projectExporterId:this.fb.control({value:null,disabled:a}),projectExporterName:this.fb.control({value:null,disabled:a},e.kI.compose([e.kI.required,l.YO.fullNameValidator()])),searchEmployerId:this.fb.control({value:null,disabled:!0},e.kI.compose([l.YO.alphaNumericValidator()])),searchEmployerName:this.fb.control({value:null,disabled:a},e.kI.compose([e.kI.required,l.YO.fullNameValidator()])),searchRecruitingAgentId:this.fb.control({value:null,disabled:!0},e.kI.compose([l.YO.alphaNumericValidator()])),searchRecruitingAgentName:this.fb.control({value:null,disabled:a},e.kI.compose([e.kI.required,l.YO.fullNameValidator()])),searchProjectExporterId:this.fb.control({value:null,disabled:!0},e.kI.compose([l.YO.alphaNumericValidator()])),searchProjectExporterName:this.fb.control({value:null,disabled:a},e.kI.compose([e.kI.required,l.YO.fullNameValidator()])),permitId:this.fb.control({value:null,disabled:a}),demandId:this.fb.control({value:null,disabled:a}),jobId:this.fb.control({value:null,disabled:a}),associationDetails:this.fb.control({value:null,disabled:a},e.kI.required),firstName:this.fb.control({value:null,disabled:a},e.kI.compose([l.YO.fullNameValidator()])),lastName:this.fb.control({value:null,disabled:a},e.kI.compose([l.YO.fullNameValidator()])),address:this.fb.control({value:null,disabled:a},e.kI.compose([e.kI.maxLength(500),l.YO.addressValidator()])),searchAddress:this.fb.control({value:null,disabled:a}),email:this.fb.control({value:null,disabled:a},e.kI.compose([l.YO.emailValidator(),e.kI.maxLength(100)])),landlineNumber:this.fb.control({value:null,disabled:a},e.kI.compose([e.kI.maxLength(20),l.YO.phoneNumberValidator()])),mobileNumber:this.fb.control({value:null,disabled:a},e.kI.compose([l.YO.mobileNumberValidator()])),firstNameNew:this.fb.control({value:null,disabled:a},e.kI.compose([l.YO.fullNameValidator()])),lastNameNew:this.fb.control({value:null,disabled:a},e.kI.compose([l.YO.fullNameValidator()])),addressNew:this.fb.control({value:null,disabled:a},e.kI.compose([l.YO.addressValidator()])),emailNew:this.fb.control({value:null,disabled:a},e.kI.compose([l.YO.emailValidator(),e.kI.maxLength(100)])),landlineNumberNew:this.fb.control({value:null,disabled:a},e.kI.compose([e.kI.maxLength(20),l.YO.phoneNumberValidator()])),mobileNumberNew:this.fb.control({value:null,disabled:a},e.kI.compose([l.YO.mobileNumberValidator()])),countryEventualityDesc:void 0,typeOfEventuality:void 0,typeOfEventualityDesc:void 0,countryEventuality:void 0,extraColumnsData:void 0,extraColumnsDataForNo:void 0}),grievanceDetailsTab:this.fb.group({grievanceDetails:this.fb.group({grievance:this.fb.control({value:null,disabled:a},e.kI.required),numberOfAffetecdUsers:this.fb.control({value:null,disabled:a},e.kI.compose([l.YO.numericValidator()])),grievanceDetails:this.fb.control({value:null,disabled:a},e.kI.required),moreOptionalAttachments:this.fb.control({value:null,disabled:a})}),listOfGrievanceDocument:this.fb.array([])})})}grievanceRegistrationFormApiPayload(a,g){const d=a.getRawValue(),p=g.getRawValue();let F=[];d.grievanceDetailsTab.listOfGrievanceDocument.forEach(v=>{F.push({date:(new Date).toISOString(),documentExtension:v.extension,documentSize:v.size,fileName:v.fileName,fileContent:v.fileContent,documentTypeCode:v.documentTypeCode})});let I=[];"no"===d.employmentDetails.associationDetails&&d.employmentDetails.hasOwnProperty("extraColumnsDataForNo")&&Array.isArray(d.employmentDetails.extraColumnsDataForNo)?d.employmentDetails.extraColumnsDataForNo.forEach(v=>{let D={partner:v.recruitingAgentId?v.recruitingAgentId:v.partnerId?v.partnerId:null,partnerTypeCode:v.partnerTypeCode?v.partnerTypeCode.replace("GA_",""):null,partnerName:v.recruitingAgentName?v.recruitingAgentName:v.firstName?v.firstName:null,firstName:v.firstName,lastName:v.lastName,email:v.email,landlineNumber:v.landlineNumber,mobileNumber:v.mobileNumber,address:v.searchAddress?v.searchAddress:v.address?v.address:null,demandId:v.demandId,jobId:v.jobId};D.partnerName&&I.push(D)}):"yes"===d.employmentDetails.associationDetails&&d.employmentDetails.hasOwnProperty("extraColumnsData")&&Array.isArray(d.employmentDetails.extraColumnsData)&&d.employmentDetails.extraColumnsData.forEach(v=>{let D={partner:v.recruitingAgentId?v.recruitingAgentId:v.partnerId?v.partnerId:null,partnerTypeCode:v.partnerTypeCode?v.partnerTypeCode.replace("GA_",""):null,partnerName:v.recruitingAgentName?v.recruitingAgentName:v.firstName?v.firstName:null,firstName:v.firstName,lastName:v.lastName,email:v.email,landlineNumber:v.landlineNumber,mobileNumber:v.mobileNumber,address:v.searchAddress?v.searchAddress:v.address?v.address:null,demandId:v.demandId,jobId:v.jobId};D.partnerName&&I.push(D)});let Z=this.removeTime(p.passportDetails.receivingDate?p.passportDetails.receivingDate:new Date);return(new u.J3x).deserialize({grievanceArn:"abc",userId:p?.complaintDetails?.userId,emigrantDetailsDTO:{emigrantFirstName:p.passportDetails.name,emigrantLastName:p.passportDetails.surName,emigrantPassportNumber:p.passportDetails.passportNumber,emigrantStateCode:p.passportDetails.state,emigrantGender:p.passportDetails.gender,emigrantDestinationCountryCode:p.passportDetails.destinationCountry,modeOfComplaint:p.passportDetails.modeOfComplaint,receivingDate:Z,email:p.passportDetails.email,mobileNumber:p.passportDetails.mobileNumber},complainantDetailsDTO:{grievanceSubmittedBy:d.complaintDetailsTab.complaintDetails.grievanceSubmittedBy,relationshipCode:d.complaintDetailsTab.complaintDetails.relationship,firstName:d.complaintDetailsTab.complaintDetails.firstName,lastName:d.complaintDetailsTab.complaintDetails.lastName,addressLine1:d.complaintDetailsTab.complaintDetails.addressLine1,addressLine2:d.complaintDetailsTab.complaintDetails.addressLine2,countryCode:d.complaintDetailsTab.complaintDetails.country,stateCode:d.complaintDetailsTab.complaintDetails.state,districtCode:d.complaintDetailsTab.complaintDetails.district,city:d.complaintDetailsTab.complaintDetails.city,postalCode:d.complaintDetailsTab.complaintDetails.postalPincode,landlineNumber:d.complaintDetailsTab.complaintDetails.landLineNumber,mobileNumber:d.complaintDetailsTab.complaintDetails.mobileNumber,email:d.complaintDetailsTab.complaintDetails.email,grievanceAgainst:d.complaintDetailsTab.complaintDetails.grievanceAgainst},employmentDetailsDTO:[...I],grievanceDetailsDTO:{grievanceTypeCode:d.grievanceDetailsTab.grievanceDetails.grievance,affectedUsers:d.grievanceDetailsTab.grievanceDetails.numberOfAffetecdUsers,grievanceDescription:d.grievanceDetailsTab.grievanceDetails.grievanceDetails,emigrantFirstName:p.passportDetails.name,emigrantLastName:p.passportDetails.surName},grievanceDocumentDetailsDTO:[...F]})}removeTime(a){let g=new Date(a),d=g.getDate(),p=g.getMonth(),b=g.getFullYear();return g.setUTCHours(0,0,0,0),g.setDate(d),g.setMonth(p),g.setFullYear(b),g.toISOString()}sgUserFormToSg(a){const g=a.getRawValue();return(new u.fVg).deserialize({mobileNumber:g.userDetails.mobileNumber,email:g.userDetails.email})}sgOtpFormToSg(a){const g=a.getRawValue();return(new u.y_i).deserialize({oneTimePassword:g.otpDetails.otp})}sgEmigrantFormToSg(a){const g=a.getRawValue();return(new u.HdO).deserialize({emigrantFirstName:g.emigrantDetails.firstName,emigrantLastName:g.emigrantDetails.lastName,emigrantPassportNumber:g.emigrantDetails.passportNumber?g.emigrantDetails.passportNumber:null,emigrantStateCode:g.emigrantDetails.fkStateCode,emigrantGender:g.emigrantDetails.gender,emigrantDestinationCountryCode:g.emigrantDetails.fkDestinationCountry,modeOfComplaint:g.emigrantDetails.modeOfComplaint,receivingDate:g.emigrantDetails.receivingDate,email:g.emigrantDetails.email,mobileNumber:g.emigrantDetails.mobileNumber})}searchDetailsForm(a){return this.fb.group({searchDetails:this.fb.group({insuranceAgency:this.fb.control({value:null,disabled:a}),firstName:this.fb.control({value:null,disabled:a},e.kI.compose([e.kI.required,l.YO.fullNameValidator()])),lastName:this.fb.control({value:null,disabled:a},e.kI.compose([e.kI.required,l.YO.fullNameValidator()])),searchDetails:void 0}),insuranceAgency:void 0,firstName:void 0,lastName:void 0})}searchDetailsStatusApiPayload(a){const g=a.getRawValue();return(new u.JTE).deserialize({insuranceAgency:g.insuranceAgency,firstName:g.firstName,lastName:g.lastName})}}return(y=N).\u0275fac=function(a){return new(a||y)(c.LFG(e.qu))},y.\u0275prov=c.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),N})()},3352:(A,x,f)=>{f.d(x,{f:()=>a});var T,e=f(655),u=f(8505),l=f(262),c=f(8513),C=f(1135),y=f(1571),N=f(2976);class a{constructor(d){this.submitGrievancesService=d,this.stringSubject=new C.X(1111)}validateOtp(d){return this.submitGrievancesService.validateOtp(d).pipe((0,u.b)(p=>{}),(0,l.K)(p=>{throw p}))}validateSgEmigrant(d){return this.submitGrievancesService.saveSgEmigrant(d).pipe((0,u.b)(p=>{}),(0,l.K)(p=>{throw p}))}getOtp(d){return this.submitGrievancesService.getOtp(d).pipe((0,u.b)(p=>{}),(0,l.K)(p=>{throw p}))}validateUser(d){return this.submitGrievancesService.validateSgUser(d).pipe((0,u.b)(p=>{}),(0,l.K)(p=>{throw p}))}validateSgRegistration(d){return this.submitGrievancesService.validateSgRegistration(d).pipe((0,u.b)(p=>{}),(0,l.K)(p=>{throw p}))}getGriveanceType(){return this.submitGrievancesService.getGriveanceType().pipe((0,u.b)(d=>{}),(0,l.K)(d=>{throw d}))}getCorrespondenceDocument(d,p,b){return this.submitGrievancesService.getCorrespondenceDocument(d,p,b).pipe((0,u.b)(F=>{}),(0,l.K)(F=>{throw F}))}getCorrespondence(d){return this.submitGrievancesService.getCorrespondenceList(d).pipe((0,u.b)(p=>{}),(0,l.K)(p=>{throw p}))}showCorrespondence(d,p,b){return this.submitGrievancesService.showCorrespondence(d,p,b).pipe((0,u.b)(F=>{}),(0,l.K)(F=>{throw F}))}saveCorrespondence(d,p,b){return this.submitGrievancesService.saveCorrespondence(d,p,b).pipe((0,u.b)(F=>{}),(0,l.K)(F=>{throw F}))}searchGriveance(d){return this.submitGrievancesService.searchGriveance(d).pipe((0,u.b)(p=>{}),(0,l.K)(p=>{throw p}))}findGriveance(d){return this.submitGrievancesService.findGriveance(d).pipe((0,u.b)(p=>{}),(0,l.K)(p=>{throw p}))}partnerSearch(d){return this.submitGrievancesService.partnerSearch(d).pipe((0,u.b)(p=>{}),(0,l.K)(p=>{throw p}))}grievanceStatus(){return this.submitGrievancesService.grievanceStatus().pipe((0,u.b)(d=>{}),(0,l.K)(d=>{throw d}))}createRegistrationform(d,p){return this.submitGrievancesService.createRegistrationForm(d,p).pipe((0,u.b)(b=>{}),(0,l.K)(b=>{throw b}))}resendOtp(d){return this.submitGrievancesService.resendOtp(d).pipe((0,u.b)(p=>{}),(0,l.K)(p=>{throw p}))}checkEmploymentDetails(d){return this.submitGrievancesService.checkEmploymentDetails(d).pipe((0,u.b)(p=>{}),(0,l.K)(p=>{throw p}))}getProductsData(){return[{raId:1e3,agentname:"f230fh0g3",firstname:"Bamboo Watch",lastname:"Product Description",status:"Active"},{raId:1001,agentname:"nvklal433",firstname:"Black Watch",lastname:"Product Description",status:"Active"},{raId:1002,agentname:"zz21cz3c1",firstname:"Blue Band",lastname:"Product Description",status:"Active"},{raId:1003,agentname:"244wgerg2",firstname:"Blue T-Shirt",lastname:"Product Description",status:"Active"}]}getProductsSmall(){return Promise.resolve(this.getProductsData().slice(0,10))}passValue(d){this.stringSubject.next(d)}}(T=a).\u0275fac=function(d){return new(d||T)(y.LFG(N.O6I))},T.\u0275prov=y.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),(0,e.gn)([(0,c.PS)()],a.prototype,"validateOtp",null),(0,e.gn)([(0,c.PS)()],a.prototype,"validateSgEmigrant",null),(0,e.gn)([(0,c.PS)()],a.prototype,"getOtp",null),(0,e.gn)([(0,c.PS)()],a.prototype,"validateUser",null),(0,e.gn)([(0,c.PS)()],a.prototype,"validateSgRegistration",null),(0,e.gn)([(0,c.PS)()],a.prototype,"getGriveanceType",null),(0,e.gn)([(0,c.PS)()],a.prototype,"getCorrespondenceDocument",null),(0,e.gn)([(0,c.PS)()],a.prototype,"getCorrespondence",null),(0,e.gn)([(0,c.PS)()],a.prototype,"showCorrespondence",null),(0,e.gn)([(0,c.PS)()],a.prototype,"saveCorrespondence",null),(0,e.gn)([(0,c.PS)()],a.prototype,"searchGriveance",null),(0,e.gn)([(0,c.PS)()],a.prototype,"findGriveance",null),(0,e.gn)([(0,c.PS)()],a.prototype,"partnerSearch",null),(0,e.gn)([(0,c.PS)()],a.prototype,"grievanceStatus",null),(0,e.gn)([(0,c.PS)()],a.prototype,"createRegistrationform",null),(0,e.gn)([(0,c.PS)()],a.prototype,"resendOtp",null),(0,e.gn)([(0,c.PS)()],a.prototype,"checkEmploymentDetails",null)},4675:(A,x,f)=>{f.d(x,{f:()=>vt});var e=f(1571),u=f(4006),l=f(2976),c=f(1358),C=f(3599),y=f(6945),N=f(1754),T=f(805),a=f(3352),g=f(9023),d=f(4148),p=f(6895),b=f(5593),F=f(2453),I=f(4128),Z=f(4950),v=f(2210),D=f(1740),G=f(613),w=f(8645);function J(o,s){if(1&o&&(e.TgZ(0,"div",2)(1,"div",3)(2,"emigrate-sh-html-input",22)(3,"div",23)(4,"div",9),e._UZ(5,"p-radioButton",24),e.TgZ(6,"label",25),e._uU(7,"Email"),e.qZA()(),e.TgZ(8,"div",9),e._UZ(9,"p-radioButton",26),e.TgZ(10,"label",27),e._uU(11,"Phone"),e.qZA()(),e.TgZ(12,"div",9),e._UZ(13,"p-radioButton",28),e.TgZ(14,"label",29),e._uU(15,"Letter"),e.qZA()(),e.TgZ(16,"div",9),e._UZ(17,"p-radioButton",30),e.TgZ(18,"label",31),e._uU(19,"MADAD"),e.qZA()()()()()()),2&o){const r=e.oxw();e.xp6(2),e.Q6J("inputFormControl",r.entityFormGroup.controls.modeOfComplaint),e.xp6(3),e.Q6J("formControl",r.entityFormGroup.controls.modeOfComplaint),e.xp6(4),e.Q6J("formControl",r.entityFormGroup.controls.modeOfComplaint),e.xp6(4),e.Q6J("formControl",r.entityFormGroup.controls.modeOfComplaint),e.xp6(4),e.Q6J("formControl",r.entityFormGroup.controls.modeOfComplaint)}}function V(o,s){if(1&o&&(e.TgZ(0,"div",2)(1,"div",3)(2,"emigrate-sh-html-input",32),e._UZ(3,"p-calendar",33),e.qZA()()()),2&o){const r=e.oxw();e.xp6(2),e.Q6J("inputFormControl",r.entityFormGroup.controls.grievanceReceivedDate),e.xp6(1),e.Q6J("maxDate",r.maxDateValue)("dateFormat",r.defaultDateFormat)("formControl",r.entityFormGroup.controls.grievanceReceivedDate)}}let Q=(()=>{var o;class s extends c.H6{constructor(i,t){super(i),this._employerService=t,this.maxDateValue=new Date}getStateValue(i){const t=this._employerService.fetchState(i.value);i.value&&(0,I.D)([t]).subscribe({next:n=>{this.state=n.length>0?n[0]:[]},error:n=>{this.showErrorToast(l.rmt.TOAST_COMMON_ERROR)},complete:()=>{}})}clearInvalidData(i){let t=this.entityFormGroup.controls.firstName.errors||this.entityFormGroup.controls.lastName.errors||this.entityFormGroup.controls.fkDestinationCountry.errors;t=t&&Object.keys(t),t&&t.length>0&&t.some(n=>"invalidData"===n)&&("fkDestinationCountry"===i?(this.entityFormGroup.controls.fkDestinationCountry.clearValidators(),this.entityFormGroup.controls.fkDestinationCountry.updateValueAndValidity()):"firstName"===i?(this.entityFormGroup.controls.firstName.clearValidators(),this.entityFormGroup.controls.firstName.setValidators([u.kI.required,c.YO.fullNameValidator()]),this.entityFormGroup.controls.firstName.updateValueAndValidity()):"lastName"===i&&(this.entityFormGroup.controls.lastName.clearValidators(),this.entityFormGroup.controls.lastName.setValidators([u.kI.required,c.YO.fullNameValidator()]),this.entityFormGroup.controls.lastName.updateValueAndValidity()))}}return(o=s).\u0275fac=function(i){return new(i||o)(e.Y36(T.ez),e.Y36(Z.g))},o.\u0275cmp=e.Xpm({type:o,selectors:[["emigrate-grievance-emigrant-details"]],inputs:{entityFormGroup:"entityFormGroup",state:"state",countries:"countries",isInternal:"isInternal"},features:[e.qOj],decls:37,vars:20,consts:[[1,"row"],["class","col-md-4 col-sm-6",4,"ngIf"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","firstName","inputLabel","First Name (As on Passport)","inputId","firstName",1,"block",3,"inputFormControl"],["id","firstName","maxlength","200","type","text","pInputText","","placeholder","",3,"formControl","input"],["for","lastName","inputLabel","Last Name (As on Passport)","inputId","lastName",1,"block",3,"inputFormControl"],["id","lastName","maxlength","200","type","text","pInputText","",3,"formControl","input"],["inputLabel","Gender","inputId","gender",1,"block",3,"inputFormControl"],[1,"d-flex","align-items-center"],["name","gender","value","M","inputId","1",1,"mr-2",3,"formControl"],["for","1",1,"mr-5","mb-0"],["name","gender","value","F","inputId","2",1,"mr-2",3,"formControl"],["for","2",1,"mr-5","mb-0"],["for","passportNumber","inputLabel","Passport Number","inputId","passportNumber",1,"block",3,"inputRequired","inputFormControl"],["maxlength","12","id","passportNumber","type","text","pInputText","","placeholder","Passport number",3,"formControl"],["for","fkDestinationCountry","inputLabel","Destination country","inputId","fkDestinationCountry",1,"block",3,"inputFormControl"],["id","fkDestinationCountry","placeholder","Select an option","EmigrateShDropdown","",3,"showClear","formControl","options","onChange"],["for","fkStateCode","inputLabel","State/UT of Origin (India)","inputId","fkStateCode",1,"block",3,"inputFormControl"],["id","fkStateCode","placeholder","Select an option","EmigrateShDropdown","",3,"formControl","options"],[1,"col-md-2","col-sm-2","col-5","mb-3"],[3,"entityFormGroup"],["inputLabel","Mode of Complaint","inputId","modeOfComplaint",1,"block",3,"inputFormControl"],[1,"d-flex","align-items-center","justify-content-between"],["name","modeOfComplaint","value","email","inputId","1",1,"mr-2",3,"formControl"],["for","1",1,"mb-0"],["name","modeOfComplaint","value","phone","inputId","2",1,"mr-2",3,"formControl"],["for","2",1,"mb-0"],["name","modeOfComplaint","value","letter","inputId","3",1,"mr-2",3,"formControl"],["for","3",1,"mb-0"],["name","modeOfComplaint","value","madad","inputId","4",1,"mr-2",3,"formControl"],["for","4",1,"mb-0"],["inputLabel","Grievance Received Date","inputId","grievanceReceivedDate",1,"block",3,"inputFormControl"],["appendTo","body","inputId","",3,"maxDate","dateFormat","formControl"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0),e.YNc(1,J,20,5,"div",1),e.YNc(2,V,4,4,"div",1),e.TgZ(3,"div",2)(4,"div",3)(5,"emigrate-sh-html-input",4)(6,"input",5),e.NdJ("input",function(){return t.clearInvalidData("firstName")}),e.qZA()()()(),e.TgZ(7,"div",2)(8,"div",3)(9,"emigrate-sh-html-input",6)(10,"input",7),e.NdJ("input",function(){return t.clearInvalidData("lastName")}),e.qZA()()()(),e.TgZ(11,"div",2)(12,"div",3)(13,"emigrate-sh-html-input",8)(14,"div",9)(15,"span"),e._UZ(16,"p-radioButton",10),e.TgZ(17,"label",11),e._uU(18,"Male"),e.qZA()(),e.TgZ(19,"span"),e._UZ(20,"p-radioButton",12),e.TgZ(21,"label",13),e._uU(22,"Female"),e.qZA()()()()()(),e.TgZ(23,"div",2)(24,"div",3)(25,"emigrate-sh-html-input",14),e._UZ(26,"input",15),e.qZA()()(),e.TgZ(27,"div",2)(28,"div",3)(29,"emigrate-sh-html-input",16)(30,"p-dropdown",17),e.NdJ("onChange",function(){return t.clearInvalidData("fkDestinationCountry")}),e.qZA()()()(),e.TgZ(31,"div",2)(32,"div",3)(33,"emigrate-sh-html-input",18),e._UZ(34,"p-dropdown",19),e.qZA()()(),e.TgZ(35,"div",20),e._UZ(36,"emigrate-sh-recaptcha",21),e.qZA()()),2&i&&(e.xp6(1),e.Q6J("ngIf",!t.isInternal),e.xp6(1),e.Q6J("ngIf",!t.isInternal),e.xp6(3),e.Q6J("inputFormControl",t.entityFormGroup.controls.firstName),e.xp6(1),e.Q6J("formControl",t.entityFormGroup.controls.firstName),e.xp6(3),e.Q6J("inputFormControl",t.entityFormGroup.controls.lastName),e.xp6(1),e.Q6J("formControl",t.entityFormGroup.controls.lastName),e.xp6(3),e.Q6J("inputFormControl",t.entityFormGroup.controls.gender),e.xp6(3),e.Q6J("formControl",t.entityFormGroup.controls.gender),e.xp6(4),e.Q6J("formControl",t.entityFormGroup.controls.gender),e.xp6(5),e.Q6J("inputRequired",!1)("inputFormControl",t.entityFormGroup.controls.passportNumber),e.xp6(1),e.Q6J("formControl",t.entityFormGroup.controls.passportNumber),e.xp6(3),e.Q6J("inputFormControl",t.entityFormGroup.controls.fkDestinationCountry),e.xp6(1),e.Q6J("showClear",!0)("formControl",t.entityFormGroup.controls.fkDestinationCountry)("options",t.countries),e.xp6(3),e.Q6J("inputFormControl",t.entityFormGroup.controls.fkStateCode),e.xp6(1),e.Q6J("formControl",t.entityFormGroup.controls.fkStateCode)("options",t.state),e.xp6(2),e.Q6J("entityFormGroup",t.entityFormGroup))},dependencies:[p.O5,u.Fj,u.JJ,u.nD,u.oH,c.KR,c.wT,c.lC,v.Lt,D.o,G.EU,w.f]}),s})(),U=(()=>{var o;class s{}return(o=s).\u0275fac=function(i){return new(i||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["emigrate-sg-user-details"]],inputs:{entityFormGroup:"entityFormGroup"},decls:10,vars:4,consts:[[1,"table-border"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","email","inputLabel","Email ID","inputId","email",1,"block",3,"inputFormControl"],["id","email","maxlength","50","type","text","pInputText","","placeholder","Email",3,"formControl"],["for","1","inputLabel","Mobile Number ","inputId","mobileNumber",1,"block",3,"inputFormControl"],["maxlength","15","id","mobileNumber","type","text","pInputText","","placeholder","Mobile number",3,"formControl"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"emigrate-sh-html-input",4),e._UZ(5,"input",5),e.qZA()()(),e.TgZ(6,"div",2)(7,"div",3)(8,"emigrate-sh-html-input",6),e._UZ(9,"input",7),e.qZA()()()()()),2&i&&(e.xp6(4),e.Q6J("inputFormControl",t.entityFormGroup.controls.email),e.xp6(1),e.Q6J("formControl",t.entityFormGroup.controls.email),e.xp6(3),e.Q6J("inputFormControl",t.entityFormGroup.controls.mobileNumber),e.xp6(1),e.Q6J("formControl",t.entityFormGroup.controls.mobileNumber))},dependencies:[u.Fj,u.JJ,u.nD,u.oH,c.KR,D.o]}),s})(),P=(()=>{var o;class s{constructor(){this.validate=new e.vpe,this.reSend=new e.vpe,this.redirectToHome=new e.vpe,this.subTitleForOtp="We have sent a mail to your email Id {email}. It contains an OTP. Please check your mail and enter the same below. Also check your Spam/Junk folder before making more attempt"}validateOtp(i){this.entityFormGroup.markAllAsTouched(),this.entityFormGroup.valid&&this.validate.emit(!0)}resendOtp(i){this.reSend.emit(!0)}ngAfterViewInit(){setTimeout(()=>{this.subTitleForOtp=this.entityFormGroupTwo?.controls?.email?.value?this.subTitleForOtp.replace("{email}",this.entityFormGroupTwo.controls.email.value):""},100)}cancelOtp(i){this.redirectToHome.emit(!0)}}return(o=s).\u0275fac=function(i){return new(i||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["emigrate-sg-otp-details"]],inputs:{entityFormGroup:"entityFormGroup",entityFormGroupTwo:"entityFormGroupTwo"},outputs:{validate:"validate",reSend:"reSend",redirectToHome:"redirectToHome"},decls:3,vars:4,consts:[[1,"table-border"],[1,"row","form"],["descriptionFormControlName","otp",3,"entityFormGroup","inputFormControlName","subTitleName","emailId","verifiedOtp","resendingOtp","cancel"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"emigrate-sh-otp-verification",2),e.NdJ("verifiedOtp",function(m){return t.validateOtp(m)})("resendingOtp",function(m){return t.resendOtp(m)})("cancel",function(m){return t.cancelOtp(m)}),e.qZA()()()),2&i&&(e.xp6(2),e.Q6J("entityFormGroup",t.entityFormGroup)("inputFormControlName",t.entityFormGroup.controls.otp)("subTitleName",t.subTitleForOtp)("emailId",t.entityFormGroupTwo.controls.email.value))},dependencies:[c.n0]}),s})();var R=f(8783);let L=(()=>{var o;class s{ngAfterViewInit(){setTimeout(()=>{this.subToSubEntityFormGroup.disable(),this.subToSubEntityFormGroup.get("destinationCountry").clearValidators(),this.subToSubEntityFormGroup.get("destinationCountry").updateValueAndValidity()},500)}}return(o=s).\u0275fac=function(i){return new(i||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["emigrate-gr-passport-details"]],inputs:{subToSubEntityFormGroup:"subToSubEntityFormGroup",state:"state",countries:"countries"},decls:38,vars:16,consts:[[1,"form","content","info-table"],[3,"pageSubTitle"],[1,"table-border"],[1,"row","mb-3"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","1","inputLabel","Name","inputId","name",1,"block",3,"inputFormControl"],["id","name","type","text","placeholder","Name","pInputText","",3,"formControl"],["for","1","inputLabel","Last Name","inputId","lastName",1,"block",3,"inputFormControl"],["id","lastName","type","text","placeholder","Last Name","pInputText","",3,"formControl"],["for","1",1,"block"],[1,"d-flex","align-items-center"],["name","gender","value","M","inputId","1",3,"formControl"],["for","1",1,"ml-2","mr-4","mb-0"],["name","gender","value","F","inputId","2",3,"formControl"],["for","2",1,"ml-2","mb-0"],["for","1","inputLabel","Passport Number","inputId","passportNumber",1,"block",3,"inputRequired","inputFormControl"],["id","passportNumber","type","string","pInputText","","placeholder","Passport number",3,"formControl"],["for","1","inputLabel","State/UT","inputId","state",1,"block",3,"inputFormControl"],["id","state","placeholder","Select an option","EmigrateShDropdown","",3,"formControl","options"],["for","1","inputLabel","Destination country","inputId","dCountry",1,"block",3,"inputFormControl"],["id","dCountry","placeholder","Select an option","EmigrateShDropdown","",3,"formControl","options"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0),e._UZ(1,"emigrate-sh-page-sub-title",1),e.TgZ(2,"div",2)(3,"form")(4,"div",3)(5,"div",4)(6,"div",5)(7,"emigrate-sh-html-input",6),e._UZ(8,"input",7),e.qZA()()(),e.TgZ(9,"div",4)(10,"div",5)(11,"emigrate-sh-html-input",8),e._UZ(12,"input",9),e.qZA()()(),e.TgZ(13,"div",4)(14,"div",5)(15,"label",10),e._uU(16,"Gender"),e.qZA(),e.TgZ(17,"div",11)(18,"span"),e._UZ(19,"p-radioButton",12),e.TgZ(20,"label",13),e._uU(21,"Male"),e.qZA()(),e.TgZ(22,"span"),e._UZ(23,"p-radioButton",14),e.TgZ(24,"label",15),e._uU(25,"Female"),e.qZA()()()()(),e.TgZ(26,"div",4)(27,"div",5)(28,"emigrate-sh-html-input",16),e._UZ(29,"input",17),e.qZA()()(),e.TgZ(30,"div",4)(31,"div",5)(32,"emigrate-sh-html-input",18),e._UZ(33,"p-dropdown",19),e.qZA()()(),e.TgZ(34,"div",4)(35,"div",5)(36,"emigrate-sh-html-input",20),e._UZ(37,"p-dropdown",21),e.qZA()()()()()()()),2&i&&(e.xp6(1),e.Q6J("pageSubTitle","Personal Details"),e.xp6(6),e.Q6J("inputFormControl",t.subToSubEntityFormGroup.controls.name),e.xp6(1),e.Q6J("formControl",t.subToSubEntityFormGroup.controls.name),e.xp6(3),e.Q6J("inputFormControl",t.subToSubEntityFormGroup.controls.surName),e.xp6(1),e.Q6J("formControl",t.subToSubEntityFormGroup.controls.surName),e.xp6(7),e.Q6J("formControl",t.subToSubEntityFormGroup.controls.gender),e.xp6(4),e.Q6J("formControl",t.subToSubEntityFormGroup.controls.gender),e.xp6(5),e.Q6J("inputRequired",!1)("inputFormControl",t.subToSubEntityFormGroup.controls.passportNumber),e.xp6(1),e.Q6J("formControl",t.subToSubEntityFormGroup.controls.passportNumber),e.xp6(3),e.Q6J("inputFormControl",t.subToSubEntityFormGroup.controls.state),e.xp6(1),e.Q6J("formControl",t.subToSubEntityFormGroup.controls.state)("options",t.state),e.xp6(3),e.Q6J("inputFormControl",t.subToSubEntityFormGroup.controls.destinationCountry),e.xp6(1),e.Q6J("formControl",t.subToSubEntityFormGroup.controls.destinationCountry)("options",t.countries))},dependencies:[u._Y,u.Fj,u.JJ,u.JL,u.oH,c.KR,c.jZ,c.lC,v.Lt,D.o,G.EU,u.F]}),s})();function M(o,s){if(1&o){const r=e.EpF();e.ynx(0),e.TgZ(1,"span")(2,"p-radioButton",10),e.NdJ("onClick",function(){e.CHM(r);const t=e.oxw(2);return e.KtG(t.handleRadioSubmittedBy())}),e.qZA(),e.TgZ(3,"label",11),e._uU(4),e.qZA()(),e.BQk()}if(2&o){const r=s.$implicit,i=s.index,t=e.oxw(2);e.xp6(2),e.s9C("value",null==r?null:r.shortName),e.MGl("inputId","id_",i,""),e.Q6J("formControl",t.subToSubEntityFormGroup.controls.grievanceSubmittedBy),e.xp6(1),e.MGl("for","id_",i,""),e.xp6(1),e.Oqu(null==r?null:r.name)}}function Y(o,s){if(1&o&&(e.ynx(0),e.YNc(1,M,5,5,"ng-container",9),e.BQk()),2&o){const r=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==r.complaintConfig?null:r.complaintConfig.grievanceUserTypeDTO)}}function j(o,s){if(1&o&&(e.TgZ(0,"div",4)(1,"div",5)(2,"emigrate-sh-html-input",39),e._UZ(3,"p-dropdown",40),e.qZA()()()),2&o){const r=e.oxw(2);e.xp6(2),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",r.subToSubEntityFormGroup.controls.relationship),e.xp6(1),e.Q6J("formControl",r.subToSubEntityFormGroup.controls.relationship)("options",r.relationship)}}function B(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"span",41),e._UZ(2,"p-radioButton",42),e.TgZ(3,"label",43),e._uU(4),e.qZA()(),e.BQk()),2&o){const r=s.$implicit,i=e.oxw(3);e.xp6(2),e.s9C("value",null==r?null:r.shortName),e.Q6J("formControl",i.subToSubEntityFormGroup.controls.grievanceAgainst),e.xp6(2),e.Oqu(null==r?null:r.name)}}function K(o,s){if(1&o&&(e.ynx(0),e.YNc(1,B,5,3,"ng-container",9),e.BQk()),2&o){const r=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",null==r.complaintConfig?null:r.complaintConfig.grievanceAgainstDTO)}}function H(o,s){if(1&o){const r=e.EpF();e.TgZ(0,"div")(1,"div",3)(2,"div",4)(3,"div",5)(4,"emigrate-sh-html-input",12),e._UZ(5,"input",13),e.qZA()()(),e.TgZ(6,"div",4)(7,"div",5)(8,"emigrate-sh-html-input",14),e._UZ(9,"input",15),e.qZA()()()(),e.TgZ(10,"div",3),e.YNc(11,j,4,5,"div",16),e.TgZ(12,"div",4)(13,"div",5)(14,"emigrate-sh-html-input",17),e._UZ(15,"input",18),e.qZA()()(),e.TgZ(16,"div",4)(17,"div",5)(18,"emigrate-sh-html-input",19),e._UZ(19,"input",20),e.qZA()()(),e.TgZ(20,"div",4)(21,"div",5)(22,"emigrate-sh-html-input",21)(23,"p-dropdown",22),e.NdJ("onChange",function(t){e.CHM(r);const n=e.oxw();return e.KtG(n.getStateValue(t))}),e.qZA()()()(),e.TgZ(24,"div",4)(25,"div",5)(26,"emigrate-sh-html-input",23)(27,"p-dropdown",24),e.NdJ("onChange",function(t){e.CHM(r);const n=e.oxw();return e.KtG(n.getDistrictValue(t))}),e.qZA()()()(),e.TgZ(28,"div",4)(29,"div",5)(30,"emigrate-sh-html-input",25),e._UZ(31,"p-dropdown",26),e.qZA()()(),e.TgZ(32,"div")(33,"div",3)(34,"div",4)(35,"div",5)(36,"emigrate-sh-html-input",27),e._UZ(37,"input",28),e.qZA()()(),e.TgZ(38,"div",4)(39,"div",5)(40,"emigrate-sh-html-input",29),e._UZ(41,"input",30),e.qZA()()(),e.TgZ(42,"div",4)(43,"div",5)(44,"emigrate-sh-html-input",31),e._UZ(45,"input",32),e.qZA()()()(),e.TgZ(46,"div",3)(47,"div",4)(48,"div",5)(49,"emigrate-sh-html-input",33),e._UZ(50,"input",34),e.qZA()()(),e.TgZ(51,"div",4)(52,"div",5)(53,"emigrate-sh-html-input",35),e._UZ(54,"input",36),e.qZA()()()()(),e.TgZ(55,"div",3)(56,"div",37)(57,"div",5)(58,"emigrate-sh-html-input",38)(59,"div",7),e.YNc(60,K,2,1,"ng-container",8),e.qZA()()()()()()()}if(2&o){const r=e.oxw();e.xp6(4),e.Q6J("inputRequired",!1)("patternMsg","pattern message")("inputFormControl",r.subToSubEntityFormGroup.controls.firstName),e.xp6(1),e.Q6J("formControl",r.subToSubEntityFormGroup.controls.firstName),e.xp6(3),e.Q6J("inputRequired",!1)("patternMsg","pattern message")("inputFormControl",r.subToSubEntityFormGroup.controls.lastName),e.xp6(1),e.Q6J("formControl",r.subToSubEntityFormGroup.controls.lastName),e.xp6(2),e.Q6J("ngIf",r.isOtherFields),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",r.subToSubEntityFormGroup.controls.addressLine1),e.xp6(1),e.Q6J("formControl",r.subToSubEntityFormGroup.controls.addressLine1),e.xp6(3),e.Q6J("inputRequired",!1)("inputFormControl",r.subToSubEntityFormGroup.controls.addressLine2),e.xp6(1),e.Q6J("formControl",r.subToSubEntityFormGroup.controls.addressLine2),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",r.subToSubEntityFormGroup.controls.country),e.xp6(1),e.Q6J("formControl",r.subToSubEntityFormGroup.controls.country)("options",r.countries),e.xp6(3),e.Q6J("inputRequired",!0)("inputFormControl",r.subToSubEntityFormGroup.controls.state)("patternMsg","pattern message"),e.xp6(1),e.Q6J("formControl",r.subToSubEntityFormGroup.controls.state)("options",r.state),e.xp6(3),e.Q6J("inputRequired",!1)("patternMsg","pattern message")("inputFormControl",r.subToSubEntityFormGroup.controls.district),e.xp6(1),e.Q6J("formControl",r.subToSubEntityFormGroup.controls.district)("options",r.district),e.xp6(5),e.Q6J("inputRequired",!0)("inputFormControl",r.subToSubEntityFormGroup.controls.city)("patternMsg","pattern message"),e.xp6(1),e.Q6J("formControl",r.subToSubEntityFormGroup.controls.city),e.xp6(3),e.Q6J("inputRequired",!1)("patternMsg","pattern message")("inputFormControl",r.subToSubEntityFormGroup.controls.postalPincode),e.xp6(1),e.Q6J("formControl",r.subToSubEntityFormGroup.controls.postalPincode),e.xp6(3),e.Q6J("inputRequired",!1)("patternMsg","pattern message")("inputFormControl",r.subToSubEntityFormGroup.controls.landLineNumber),e.xp6(1),e.Q6J("formControl",r.subToSubEntityFormGroup.controls.landLineNumber),e.xp6(4),e.Q6J("inputRequired",!1)("patternMsg","pattern message")("inputFormControl",r.subToSubEntityFormGroup.controls.mobileNumber),e.xp6(1),e.Q6J("formControl",r.subToSubEntityFormGroup.controls.mobileNumber),e.xp6(3),e.Q6J("patternMsg","pattern message")("inputFormControl",r.subToSubEntityFormGroup.controls.email),e.xp6(1),e.Q6J("formControl",r.subToSubEntityFormGroup.controls.email),e.xp6(4),e.Q6J("inputFormControl",r.subToSubEntityFormGroup.controls.grievanceAgainst),e.xp6(2),e.Q6J("ngIf",(null==r.complaintConfig||null==r.complaintConfig.grievanceAgainstDTO?null:r.complaintConfig.grievanceAgainstDTO.length)>0)}}let z=(()=>{var o;class s extends c.H6{constructor(i,t,n,m){super(i),this._employerService=t,this.uiService=n,this.routerQuery=m,this.complaintConfig={},this.showEmigrantFields=!0,this.isOtherFields=!1}ngOnInit(){this.state=[],this.district=[],this.city=[],this.isOtherFields=!1,this.showEmigrantFields=!0,this.isInternalUser=this.routerQuery.getData("userType")===l.Xef.USER_TYPE}ngAfterViewInit(){this.subToSubEntityFormGroup.get("firstName").enable(),this.subToSubEntityFormGroup.get("lastName").enable(),this.isInternalUser||(this.subToSubEntityFormGroup.get("mobileNumber").enable(),this.subToSubEntityFormGroup.get("email").enable())}removeValidators(){["relationship"].forEach(i=>{this.subToSubEntityFormGroup.get(i).clearValidators(),this.subToSubEntityFormGroup.get(i).updateValueAndValidity()})}handleRadioSubmittedBy(){const i=this.subToSubEntityFormGroup.controls.grievanceSubmittedBy.value;i&&("GSB_OTH"==i?(["relationship"].forEach(t=>{this.subToSubEntityFormGroup.get(t).setValidators([u.kI.required]),this.subToSubEntityFormGroup.get(t).updateValueAndValidity()}),this.subToSubEntityFormGroup.get("firstName").enable(),this.subToSubEntityFormGroup.get("lastName").enable(),this.subToSubEntityFormGroup.get("mobileNumber").enable(),this.subToSubEntityFormGroup.get("email").enable(),this.subToSubEntityFormGroup.patchValue({firstName:"",lastName:"",mobileNumber:null,email:""}),this.isOtherFields=!0):(this.subToSubEntityFormGroup.patchValue({firstName:this.primaryFormGroup?.get("name").value,lastName:this.primaryFormGroup?.get("surName")?.value}),this.subToSubEntityFormGroup.get("firstName").disable(),this.subToSubEntityFormGroup.get("lastName").disable(),this.isInternalUser||(this.subToSubEntityFormGroup.patchValue({mobileNumber:this.primaryFormGroup?.get("mobileNumber")?.value,email:this.primaryFormGroup?.get("email")?.value}),this.subToSubEntityFormGroup.get("mobileNumber").disable(),this.subToSubEntityFormGroup.get("email").disable()),this.showEmigrantFields=!0,this.isOtherFields=!1,this.removeValidators()))}getStateValue(i){const t=this._employerService.fetchState(i.value);let n=this.countries.filter(m=>m.value==i.value)[0];i.value&&"india"===n?.label.toLowerCase()?(["district","state"].forEach(m=>{this.subToSubEntityFormGroup.get(m).enable(),this.subToSubEntityFormGroup.get(m).setValidators([u.kI.required]),this.subToSubEntityFormGroup.get(m).updateValueAndValidity()}),this.subToSubEntityFormGroup.get("city").setValue(null),this.subToSubEntityFormGroup.get("city").setValidators([u.kI.required,c.YO.fullNameValidator()]),this.subToSubEntityFormGroup.get("city").updateValueAndValidity(),this.uiService.showSpinner(),(0,I.D)([t]).subscribe({next:m=>{this.uiService.hideSpinner(),this.state=m.length>0?m[0]:[]},error:m=>{this.uiService.hideSpinner(),this.showErrorToast(l.rmt.TOAST_COMMON_ERROR)},complete:()=>{}})):(["district","state"].forEach(m=>{this.subToSubEntityFormGroup.get(m).disable(),this.subToSubEntityFormGroup.get(m).clearValidators(),this.subToSubEntityFormGroup.get(m).updateValueAndValidity()}),this.subToSubEntityFormGroup.get("city").setValue(null),this.subToSubEntityFormGroup.get("state").setValue(null),this.subToSubEntityFormGroup.get("district").setValue(null),this.subToSubEntityFormGroup.get("city").setValidators([u.kI.required,c.YO.fullNameValidator()]),this.subToSubEntityFormGroup.get("city").updateValueAndValidity())}getDistrictValue(i){const t=this._employerService.fetchDistrict(i.value);i.value&&(this.uiService.showSpinner(),(0,I.D)([t]).subscribe({next:n=>{this.uiService.hideSpinner(),this.district=n.length>0?n[0]:[]},error:n=>{this.showErrorToast(l.rmt.TOAST_COMMON_ERROR)},complete:()=>{}}))}getCityValue(i){const t=this._employerService.fetchCityByDistrict(i.value);i.value&&(this.uiService.showSpinner(),(0,I.D)([t]).subscribe({next:n=>{this.uiService.hideSpinner(),this.city=n.length>0?n[0]:[]},error:n=>{this.uiService.hideSpinner(),this.showErrorToast(l.rmt.TOAST_COMMON_ERROR)},complete:()=>{}}))}}return(o=s).\u0275fac=function(i){return new(i||o)(e.Y36(T.ez),e.Y36(Z.g),e.Y36(y.n),e.Y36(N.dt))},o.\u0275cmp=e.Xpm({type:o,selectors:[["emigrate-gr-complaint-details"]],inputs:{subToSubEntityFormGroup:"subToSubEntityFormGroup",primaryFormGroup:"primaryFormGroup",relationship:"relationship",complaintConfig:"complaintConfig",countries:"countries",state:"state",district:"district",city:"city"},features:[e.qOj],decls:11,vars:4,consts:[[1,"form","content","info-table"],[3,"pageSubTitle"],[1,"table-border"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"field"],["inputLabel","Grievance Submitted By","inputId","grievanceSubmittedBy",1,"block",3,"inputFormControl"],[1,"d-flex","align-items-center"],[4,"ngIf"],[4,"ngFor","ngForOf"],["name","submittedBy",3,"value","inputId","formControl","onClick"],[1,"ml-2","mr-4","mb-0",3,"for"],["for","3","inputLabel","Name","inputId","firstName",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","firstName","type","text","maxlength","200","pInputText","",3,"formControl"],["for","4","inputLabel","Last Name","inputId","lastName",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","lastName","maxlength","200","type","text","pInputText","",3,"formControl"],["class","col-md-4 col-sm-6",4,"ngIf"],["for","5","inputLabel","Address Line 1","inputId","addressline1",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["maxlength","200","id","addressline1","type","text","pInputText","",3,"formControl"],["for","6","inputLabel","Address Line 2","inputId","addressline2",1,"block",3,"inputRequired","inputFormControl"],["id","addressline2","maxlength","200","type","text","pInputText","",3,"formControl"],["for","7","inputLabel","Country","inputId","country",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","country","placeholder","Select an option","EmigrateShDropdown","",3,"formControl","options","onChange"],["for","1","inputLabel","State/UT","inputId","state",1,"block",3,"inputRequired","inputFormControl","patternMsg"],["id","state","placeholder","Select an option","EmigrateShDropdown","",3,"formControl","options","onChange"],["for","9","inputLabel","District","inputId","district",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","district","placeholder","Select an option","EmigrateShDropdown","",3,"formControl","options"],["for","10","inputLabel","City/Town/Village","inputId","city",1,"block",3,"inputRequired","inputFormControl","patternMsg"],["id","city","type","text","maxlength","25","placeholder","City/Town/Village","pInputText","",3,"formControl"],["for","11","inputLabel","Pin Code","inputId","pincode",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","pincode","type","text","maxlength","6","pInputText","",3,"formControl"],["for","12","inputLabel","Landline Number","inputId","landLineNumber",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["maxlength","15","id","landLineNumber","type","text","pInputText","",3,"formControl"],["for","13","inputLabel","Mobile Number","inputId","mobile",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","mobile","type","text","pInputText","","maxlength","15",3,"formControl"],["for","14","inputLabel","Email","inputId","email",1,"block",3,"patternMsg","inputFormControl"],["id","email","maxlength","50","type","text","pInputText","",3,"formControl"],[1,"col-md-12","col-sm-6"],["inputLabel","Grievance Against","inputId","grievanceAgainst",1,"block",3,"inputFormControl"],["for","2","inputLabel","Relationship with Emigrant","inputId","relationship",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","relationship","placeholder","Select an option","EmigrateShDropdown","",3,"formControl","options"],[1,"mr-40"],["name","grievanceAgainst","inputId","1",3,"formControl","value"],["for","1",1,"mb-0","ml-2"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0),e._UZ(1,"emigrate-sh-page-sub-title",1),e.TgZ(2,"div",2)(3,"form")(4,"div",3)(5,"div",4)(6,"div",5)(7,"emigrate-sh-html-input",6)(8,"div",7),e.YNc(9,Y,2,1,"ng-container",8),e.qZA()()()(),e.YNc(10,H,61,52,"div",8),e.qZA()()()()),2&i&&(e.xp6(1),e.Q6J("pageSubTitle","Complainant Details"),e.xp6(6),e.Q6J("inputFormControl",t.subToSubEntityFormGroup.controls.grievanceSubmittedBy),e.xp6(2),e.Q6J("ngIf",(null==t.complaintConfig||null==t.complaintConfig.grievanceUserTypeDTO?null:t.complaintConfig.grievanceUserTypeDTO.length)>0),e.xp6(1),e.Q6J("ngIf",t.showEmigrantFields))},dependencies:[p.sg,p.O5,u._Y,u.Fj,u.JJ,u.JL,u.nD,u.oH,c.KR,c.jZ,c.lC,v.Lt,D.o,G.EU,u.F]}),s})(),X=(()=>{var o;class s extends c.H6{constructor(i,t,n,m,h,_,E){super(E),this.router=i,this.routerQuery=t,this.masterDataService=n,this._submitGrievanceService=m,this.uiService=h,this.sessionQuery=_,this.activeIndex=new e.vpe,this.complaintConfig={},this.relationship=[],this.addedList=[],this.userRa=l.Xef.USER_RA.toUpperCase(),this.userFe=l.Xef.USER_FE.toUpperCase(),this.userPe=l.Xef.USER_PE.toUpperCase(),this.userRaFe=l.Xef.USER_RAFE.toUpperCase()}ngOnInit(){this.complaintDetailsFormGroup.reset(),this.user=this.sessionQuery.user,this.setValidatorsToVisibleFields(),this.countries=this.routerQuery.getData()[0][l.tc$.COUNTRY],this.state=this.routerQuery.getData()[0][l.tc$.STATE],this.getCountryDetails(),this.getComplaintConfigDetails()}get passportDetailsFormGroup(){return this.complaintDetails.controls.passportDetails}get complaintDetailsFormGroup(){return this.complaintDetails.controls.complaintDetails}getComplaintConfigDetails(){this.uiService.showSpinner(),this.masterDataService.getConplaintConfig().subscribe(i=>{this.uiService.hideSpinner(),this.complaintConfig=i?.data?i.data:{},this.complaintConfig.hasOwnProperty("grievanceRelationshipDTO")&&this.complaintConfig.grievanceRelationshipDTO.forEach(t=>{this.relationship.push({label:t.name,value:t.shortName})})},i=>{this.uiService.hideSpinner(),this.showErrorToast(i?.error?.error?.errorMessage?i.error.error.errorMessage:i.message,"Submit Grievance")})}getCountryDetails(){this.masterDataService.getCountry().subscribe(i=>{this.countries=i})}previous(){this.activeIndex.emit(4)}clear(){this.complaintDetailsFormGroup.reset()}cancel(){this.router.navigate(this.user?.userId?["admin/dashboard"]:["emigrate"])}getNextTab(){if(this.complaintDetails.markAllAsTouched(),this.complaintDetails.controls.complaintDetails.get("grievanceSubmittedBy").valid||this.complaintDetails.controls.complaintDetails.get("grievanceSubmittedBy").markAsDirty(),this.complaintDetails.controls.complaintDetails.get("grievanceAgainst").valid||this.complaintDetails.controls.complaintDetails.get("grievanceAgainst").markAsDirty(),this.complaintDetails.valid){if("GA_OTH"===this.complaintDetails.controls.complaintDetails.controls.grievanceAgainst.value)this.activeIndex.emit(2);else if(this.complaintDetails.markAllAsTouched(),this.complaintDetails.valid){let i=this.complaintDetails.getRawValue(),t={emigrantDetailsDTO:{emigrantFirstName:i.passportDetails.name,emigrantLastName:i.passportDetails.surName,emigrantPassportNumber:i.passportDetails.passportNumber,emigrantStateCode:i.passportDetails.state,emigrantGender:i.passportDetails.gender,emigrantDestinationCountryCode:i.passportDetails.destinationCountry,modeOfComplaint:i?.passportDetails?.modeOfComplaint?i?.passportDetails?.modeOfComplaint:"",receivingDate:i?.passportDetails?.receivingDate?i?.passportDetails?.receivingDate:(new Date).toISOString(),email:i.passportDetails.email,mobileNumber:i.passportDetails.mobileNumber},complainantDetailsDTO:{grievanceSubmittedBy:i.complaintDetails.grievanceSubmittedBy,relationshipCode:i.complaintDetails.relationship,firstName:i.complaintDetails.firstName,lastName:i.complaintDetails.lastName,addressLine1:i.complaintDetails.addressLine1,addressLine2:i.complaintDetails.addressLine2,countryCode:i.complaintDetails.country,stateCode:i.complaintDetails.state,districtCode:i.complaintDetails.district,city:i.complaintDetails.city,postalCode:i.complaintDetails.postalPincode,landlineNumber:i.complaintDetails.landLineNumber,mobileNumber:i.complaintDetails.mobileNumber,email:i.complaintDetails.email,grievanceAgainst:i.complaintDetails.grievanceAgainst}};this.uiService.showSpinner(),this._submitGrievanceService.checkEmploymentDetails(t).subscribe(n=>{if(this.uiService.hideSpinner(),n.status.toLowerCase()!==l.Xef.SUCCESS)this.showErrorToast(n.message,"Submit Grievance");else{if(this.showSuccessToast(n.message,"Submit Grievance"),n.hasOwnProperty("data")&&n.data.hasOwnProperty("partnerDetails")&&Array.isArray(n.data.partnerDetails)){const m=n.data.partnerDetails;this.patchEmploymentDetails(m.length>0?m:[],t.complainantDetailsDTO.grievanceAgainst)}else this.patchEmploymentDetails([],t.complainantDetailsDTO.grievanceAgainst);this.activeIndex.emit(1)}},n=>{this.uiService.hideSpinner(),this.showErrorToast(n?.error?.error?.errorMessage?n.error.error.errorMessage:n.message,"Submit Grievance")})}}else this.showErrorToast(l.rmt.DEFAULT_IF_VALIDATION_PENDING,"Submit Grievance")}patchEmploymentDetails(i=[],t){let n;["GA_"+this.userRa,"GA_"+this.userFe,"GA_"+this.userPe].indexOf(t)>-1?n=i.filter(t=="GA_"+this.userPe?h=>{if(h.partnerTypeCode=h?.partnerTypeCode?"GA_"+h.partnerTypeCode:"",h.partnerTypeCode&&[this.userPe].lastIndexOf(h.partnerTypeCode)>-1)return h}:h=>{if(h.partnerTypeCode=h?.partnerTypeCode?"GA_"+h.partnerTypeCode:"",h.partnerTypeCode&&t.lastIndexOf(h.partnerTypeCode)>-1)return h}):(n={GA_RA:{},GA_FE:{}},i.forEach((h,_)=>{h.partnerTypeCode=h?.partnerTypeCode?"GA_"+h.partnerTypeCode:"",h.partnerTypeCode&&["GA_"+this.userRa,"GA_"+this.userFe].indexOf(h.partnerTypeCode)>-1&&(n[h.partnerTypeCode]={...h})})),this.subEntityFormGroup.reset();let m={recruitingAgentId:null,recruitingAgentName:null,demandId:null,jobId:null,employerId:null,employerName:null,permitId:null,projectExporterId:null,projectExporterName:null,extraColumnsData:null};if(this.subEntityFormGroup.enable(),t==="GA_"+this.userRa&&Array.isArray(n)&&n.length>0?(m.recruitingAgentId=n[0]?.partnerId?n[0]?.partnerId:null,m.recruitingAgentName=n[0]?.partnerOrgName?n[0]?.partnerOrgName:null,m.demandId=n[0]?.demandId?n[0]?.demandId:null,m.jobId=n[0]?.jobId?n[0]?.jobId:null):t==="GA_"+this.userFe&&Array.isArray(n)&&n.length>0?(m.employerId=n[0]?.partnerId?n[0]?.partnerId:null,m.employerName=n[0]?.partnerOrgName?n[0]?.partnerOrgName:null,m.permitId=n[0]?.demandId?n[0]?.demandId:null,m.jobId=n[0]?.jobId?n[0]?.jobId:null):t==="GA_"+this.userPe&&Array.isArray(n)&&n.length>0?(m.projectExporterId=n[0]?.partnerId?n[0]?.partnerId:null,m.projectExporterName=n[0]?.partnerOrgName?n[0]?.partnerOrgName:null,m.permitId=n[0]?.demandId?n[0]?.demandId:null,m.jobId=n[0]?.jobId?n[0]?.jobId:null):(m.recruitingAgentId=n["GA_"+this.userRa]?.partnerId?n["GA_"+this.userRa]?.partnerId:null,m.recruitingAgentName=n["GA_"+this.userRa]?.partnerOrgName?n["GA_"+this.userRa]?.partnerOrgName:null,m.demandId=n["GA_"+this.userRa]?.demandId?n["GA_"+this.userRa]?.demandId:n["GA_"+this.userFe]?.demandId?n["GA_"+this.userFe]?.demandId:null,m.jobId=n["GA_"+this.userRa]?.jobId?n["GA_"+this.userRa]?.jobId:n["GA_"+this.userFe]?.jobId?n["GA_"+this.userFe]?.jobId:null,m.employerId=n["GA_"+this.userFe]?.partnerId?n["GA_"+this.userFe]?.partnerId:null,m.employerName=n["GA_"+this.userFe]?.partnerOrgName?n["GA_"+this.userFe]?.partnerOrgName:null),Object.keys(m).forEach(h=>{"extraColumnsData"!==h&&this.subEntityFormGroup.get(h).disable()}),["GA_"+this.userRa,"GA_"+this.userFe,"GA_"+this.userPe].indexOf(t)>-1)m.extraColumnsData=[{firstName:n[0]?.firstName?n[0].firstName:null,lastName:n[0]?.lastName?n[0].lastName:null,address:n[0]?.address?n[0].address:null,email:n[0]?.email?n[0].email:null,landlineNumber:n[0]?.landlineNumber?n[0].landlineNumber:null,mobileNumber:n[0]?.mobileNumber?n[0].mobileNumber:null,jobId:n[0]?.jobId?n[0].jobId:null,demandId:n[0]?.demandId?n[0].demandId:null,partnerId:n[0]?.partnerId?n[0].partnerId:null,partnerTypeCode:n[0]?.partnerTypeCode?n[0].partnerTypeCode:null,recruitingAgentName:n[0]?.partnerOrgName?n[0].partnerOrgName:null}];else if(["GA_"+this.userRaFe].indexOf(t)>-1){let h=[];["GA_"+this.userRa,"GA_"+this.userFe].forEach(_=>{h.push({firstName:n[_]?.firstName?n[_].firstName:null,lastName:n[_]?.lastName?n[_].lastName:null,address:n[_]?.address?n[_].address:null,email:n[_]?.email?n[_].email:null,landlineNumber:n[_]?.landlineNumber?n[_].landlineNumber:null,mobileNumber:n[_]?.mobileNumber?n[_].mobileNumber:null,jobId:n[_]?.jobId?n[_].jobId:null,demandId:n[_]?.demandId?n[_].demandId:null,partnerId:n[_]?.partnerId?n[_].partnerId:null,partnerTypeCode:n[_]?.partnerTypeCode?n[_].partnerTypeCode:null,recruitingAgentName:n[_]?.partnerOrgName?n[_].partnerOrgName:null})}),m.extraColumnsData=h}this.subEntityFormGroup.patchValue({...m})}addtolist(){this.subEntityFormGroup.markAllAsTouched(),this.subEntityFormGroup.valid&&this.addedList.push(this.subEntityFormGroup.value)}setValidatorsToVisibleFields(){const i=["name","lastName","country","state","city","postalPincode","landlineNumber","addressLine1","addressLine2","mobileNumber","email","district"],t=["name","lastName","country","state","city","postalPincode","landlineNumber","addressLine1","addressLine2","mobileNumber","relationship","email","district"];this.complaintDetailsFormGroup.valueChanges.subscribe(n=>{"GSB_EMG"===n.grievanceSubmittedBy?(this.setValidators(!0,i),this.setValidators(!1,t)):(this.setValidators(!0,t),this.setValidators(!1,i))})}setValidators(i,t){}}return(o=s).\u0275fac=function(i){return new(i||o)(e.Y36(C.F0),e.Y36(N.dt),e.Y36(l.$M0),e.Y36(a.f),e.Y36(y.n),e.Y36(l.U_o),e.Y36(T.ez))},o.\u0275cmp=e.Xpm({type:o,selectors:[["emigrate-complaint-details"]],inputs:{complaintDetails:"complaintDetails",subEntityFormGroup:"subEntityFormGroup"},outputs:{activeIndex:"activeIndex"},features:[e.qOj],decls:8,vars:12,consts:[[3,"formGroup"],[3,"subToSubEntityFormGroup","state","countries"],[3,"subToSubEntityFormGroup","primaryFormGroup","state","countries","city","district","relationship","complaintConfig"],[1,"buttons","mt-3"],["pButton","","type","button","label","Previous",1,"btn-format","mr-2","btn-blue",3,"click"],["pButton","","type","button","label","Cancel",1,"btn-format","mr-2","btn-blue",3,"click"],["pButton","","type","button","label","Clear",1,"btn-format","mr-2","btn-blue",3,"click"],["pButton","","type","button","label","Save & Next",1,"btn-format","btn-blue",3,"click"]],template:function(i,t){1&i&&(e.TgZ(0,"form",0),e._UZ(1,"emigrate-gr-passport-details",1)(2,"emigrate-gr-complaint-details",2),e.TgZ(3,"div",3)(4,"button",4),e.NdJ("click",function(){return t.previous()}),e.qZA(),e.TgZ(5,"button",5),e.NdJ("click",function(){return t.cancel()}),e.qZA(),e.TgZ(6,"button",6),e.NdJ("click",function(){return t.clear()}),e.qZA(),e.TgZ(7,"button",7),e.NdJ("click",function(){return t.getNextTab()}),e.qZA()()()),2&i&&(e.Q6J("formGroup",t.complaintDetails),e.xp6(1),e.Q6J("subToSubEntityFormGroup",t.passportDetailsFormGroup)("state",t.state)("countries",t.countries),e.xp6(1),e.Q6J("subToSubEntityFormGroup",t.complaintDetailsFormGroup)("primaryFormGroup",t.passportDetailsFormGroup)("state",t.state)("countries",t.countries)("city",t.city)("district",t.district)("relationship",t.relationship)("complaintConfig",t.complaintConfig))},dependencies:[u._Y,u.JL,u.sg,b.Hq,L,z]}),s})();var O=f(4325),k=f(4826);function W(o,s){if(1&o&&(e.TgZ(0,"div",19)(1,"div",2)(2,"div",20)(3,"div",21)(4,"emigrate-sh-html-input",22),e._UZ(5,"input",23),e.qZA()()(),e.TgZ(6,"div",20)(7,"div",21)(8,"emigrate-sh-html-input",24),e._UZ(9,"input",25),e.qZA()()(),e.TgZ(10,"div",20)(11,"div",21)(12,"emigrate-sh-html-input",26),e._UZ(13,"input",27),e.qZA()()()()()),2&o){const r=e.oxw();e.xp6(4),e.Q6J("inputFormControl",r.insuranceagency),e.xp6(1),e.Q6J("formControl",r.insuranceagency),e.xp6(3),e.Q6J("inputFormControl",r.firstname),e.xp6(1),e.Q6J("formControl",r.firstname),e.xp6(3),e.Q6J("inputFormControl",r.lastname),e.xp6(1),e.Q6J("formControl",r.lastname)}}function $(o,s){if(1&o&&(e.TgZ(0,"emigrate-sh-html-input",37),e._UZ(1,"input",38),e.qZA()),2&o){const r=e.oxw(2);e.Q6J("inputFormControl",r.employerName),e.xp6(1),e.Q6J("formControl",r.employerName)}}function ee(o,s){if(1&o&&(e.TgZ(0,"emigrate-sh-html-input",39),e._UZ(1,"input",40),e.qZA()),2&o){const r=e.oxw(2);e.Q6J("inputFormControl",r.employerName),e.xp6(1),e.Q6J("formControl",r.employerName)}}function te(o,s){if(1&o&&(e.TgZ(0,"div",19)(1,"div",2)(2,"div",28)(3,"div",21),e.YNc(4,$,2,2,"emigrate-sh-html-input",29),e.YNc(5,ee,2,2,"emigrate-sh-html-input",30),e.qZA()(),e.TgZ(6,"div",28)(7,"div",21)(8,"emigrate-sh-html-input",31),e._UZ(9,"p-dropdown",32),e.qZA()()(),e.TgZ(10,"div",28)(11,"div",21)(12,"emigrate-sh-html-input",33),e._UZ(13,"input",34),e.qZA()()(),e.TgZ(14,"div",28)(15,"div",21)(16,"emigrate-sh-html-input",35),e._UZ(17,"input",36),e.qZA()()()()()),2&o){const r=e.oxw();e.xp6(4),e.Q6J("ngIf",r.userType===r.employer),e.xp6(1),e.Q6J("ngIf",r.userType===r.projectExporter),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",r.country),e.xp6(1),e.Q6J("formControl",r.country)("options",r.countries),e.xp6(3),e.Q6J("inputFormControl",r.firstname),e.xp6(1),e.Q6J("formControl",r.firstname),e.xp6(3),e.Q6J("inputFormControl",r.lastname),e.xp6(1),e.Q6J("formControl",r.lastname)}}function ie(o,s){if(1&o){const r=e.EpF();e.ynx(0),e.TgZ(1,"button",41),e.NdJ("click",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.search())}),e.qZA(),e.BQk()}if(2&o){const r=e.oxw();e.xp6(1),e.Q6J("disabled",!r.firstname.valid||!r.lastname.valid||!r.insuranceagency.valid)}}function re(o,s){if(1&o){const r=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.search())}),e.qZA()}if(2&o){const r=e.oxw();e.Q6J("disabled",!(r.country.valid&&r.employerName.valid&&r.firstname.valid&&r.lastname.valid))}}function ne(o,s){if(1&o&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&o){const r=s.$implicit;e.xp6(1),e.Oqu(r.header)}}function oe(o,s){if(1&o&&(e.TgZ(0,"tr"),e.YNc(1,ne,2,1,"th",42),e.qZA()),2&o){const r=s.$implicit;e.xp6(1),e.Q6J("ngForOf",r)}}function ae(o,s){if(1&o&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&o){const r=e.oxw().$implicit;e.xp6(1),e.Oqu(r.organizationName)}}function se(o,s){if(1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o){const r=s.$implicit,i=s.index,t=e.oxw().$implicit;e.xp6(1),e.AsE(" ",r.firstName,"",i<(null==t?null:t.partnerDirectorDTOList.length)-1?",":""," ")}}function le(o,s){if(1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o){const r=s.$implicit,i=s.index,t=e.oxw().$implicit;e.xp6(1),e.AsE(" ",r.lastName,"",i<(null==t?null:t.partnerDirectorDTOList.length)-1?",":""," ")}}function ue(o,s){if(1&o&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&o){const r=e.oxw().$implicit;e.xp6(1),e.Oqu(null==r||null==r.partnerAddressDTOList[0]?null:r.partnerAddressDTOList[0].country)}}function me(o,s){if(1&o){const r=e.EpF();e.TgZ(0,"tr",43)(1,"td")(2,"input",44),e.NdJ("click",function(){const n=e.CHM(r).$implicit,m=e.oxw();return m.getSelectedValue(n),e.KtG(m.currentSelectedID=!0)}),e.qZA()(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.YNc(5,ae,2,1,"td",45),e.TgZ(6,"td"),e.YNc(7,se,2,2,"ng-container",42),e.qZA(),e.TgZ(8,"td"),e.YNc(9,le,2,2,"ng-container",42),e.qZA(),e.YNc(10,ue,2,1,"td",45),e.TgZ(11,"td"),e._uU(12),e.qZA()()}if(2&o){const r=s.$implicit,i=e.oxw();e.Q6J("pSelectableRow",r),e.xp6(4),e.Oqu(r.partnerId),e.xp6(1),e.Q6J("ngIf",i.userType===i.recuriting),e.xp6(2),e.Q6J("ngForOf",null==r?null:r.partnerDirectorDTOList),e.xp6(2),e.Q6J("ngForOf",null==r?null:r.partnerDirectorDTOList),e.xp6(1),e.Q6J("ngIf",i.userType!==i.recuriting),e.xp6(2),e.Oqu(null!=r&&r.status?r.status:"")}}function pe(o,s){1&o&&(e.TgZ(0,"tr",46)(1,"td",47),e._uU(2,"No record found"),e.qZA()())}const ce=function(o,s){return[o,s]};let de=(()=>{var o;class s{constructor(i,t,n,m,h,_){this.ref=i,this.messageService=t,this.dialogConfig=n,this.routerQuery=m,this._submitGrievance=h,this.uiService=_,this.recuriting=l.Xef.ISRECURTING,this.employer=l.Xef.ISEMPLOYER,this.projectExporter=l.Xef.ISPROJECTEXPORTER,this.selectedValue={},this.insuranceagency=new u.NI("",[c.YO.fullNameValidator()]),this.firstname=new u.NI("",[u.kI.required,c.YO.fullNameValidator()]),this.lastname=new u.NI("",[u.kI.required,c.YO.fullNameValidator()]),this.currentSelectedID=!1,this.employerName=new u.NI("",[u.kI.required,c.YO.fullNameValidator()]),this.country=new u.NI("",[u.kI.required]),this.userType="",this.feColumns=[{field:"select",header:"Select"},{field:"feId",header:"FE ID"},{field:"firstname",header:"FE First Name"},{field:"lastname",header:"FE Last Name"},{field:"country",header:"Country"},{field:"status",header:"Status"}],this.peColumns=[{field:"select",header:"Select"},{field:"peId",header:"PE ID"},{field:"firstname",header:"PE First Name"},{field:"lastname",header:"PE Last Name"},{field:"country",header:"Country"},{field:"status",header:"Status"}],this.raPayload={partnerTypeCode:"RA",partnerOrgName:"",countryCode:null,firstName:"",lastName:""}}ngOnInit(){let i=this.dialogConfig?.data?this.dialogConfig.data:{};i.hasOwnProperty("user")&&""!==i.user?(this.userType=i.user,("isEmployer"===this.userType||"isProjectExporter"===this.userType)&&(this.firstname.clearValidators(),this.firstname.setValidators([c.YO.fullNameValidator()]),this.firstname.updateValueAndValidity(),this.lastname.clearValidators(),this.lastname.setValidators([c.YO.fullNameValidator()]),this.lastname.updateValueAndValidity())):(this.userType="",this.firstname.clearValidators(),this.firstname.setValidators([u.kI.required,c.YO.fullNameValidator()]),this.firstname.updateValueAndValidity(),this.lastname.clearValidators(),this.lastname.setValidators([u.kI.required,c.YO.fullNameValidator()]),this.lastname.updateValueAndValidity()),[this.employer,this.projectExporter].indexOf(this.userType)>-1&&(this.countries=this.routerQuery.getData()[0][l.tc$.COUNTRY]),this.raColumns=[{field:"",header:"Select",filterMatchMode:"startsWith",style:{width:"130px"}},{field:"raId",header:"RA ID",filterMatchMode:"startsWith",style:{width:"130px"}},{field:"agentname",header:"Recruiting Agent Name",filterMatchMode:"contains",style:{}},{field:"firstname",header:"Managing Director Firstname",filterMatchMode:"contains",style:{}},{field:"lastname",header:"Managing Director Lastname",filterMatchMode:"contains",style:{}},{field:"status",header:"Status",filterMatchMode:"contains",style:{}}]}getSelectedValue(i){this.selectedValue=i}selectProduct(){this.ref.close({partnerId:this.selectedValue.partnerId,organizationName:this.selectedValue.organizationName,firstName:this.selectedValue?.partnerDirectorDTOList[0]?.firstName,lastName:this.selectedValue?.partnerDirectorDTOList[0]?.lastName,status:this.selectedValue?.partnerDirectorDTOList[0]?.status?this.selectedValue.partnerDirectorDTOList[0].status:""})}getCountry(i){this.country=i.value?i.value:""}checkInput(i){var t="charCode"in i?i.charCode:i.keyCode;32!=t&&!(t>64&&t<91)&&!(t>96&&t<123)&&i.preventDefault()}onPasteData(){return!1}search(){let i={};i={...this.raPayload,partnerTypeCode:this.userType===this.recuriting?"RA":this.userType===this.employer?"FE":"PE",partnerOrgName:this.userType===this.recuriting?this.insuranceagency.value:this.employerName.value,countryCode:this.country?this.country.value.toString():null,firstName:this.firstname.value||null,lastName:this.lastname.value||null},this.uiService.showSpinner(),this._submitGrievance.partnerSearch(i).subscribe(t=>{this.uiService.hideSpinner(),t.status.toLowerCase()===l.Xef.SUCCESS?(this.searchRaList=t?.data?t.data:[],0===this.searchRaList.length&&this.messageService.add({severity:"error",summary:"Search",detail:l.rmt.DEFAULT_NO_DATA_FOUND})):this.messageService.add({severity:"error",summary:"Submit Grievance",detail:l.rmt.TOAST_COMMON_ERROR})},t=>{this.uiService.hideSpinner(),this.messageService.add({severity:"error",summary:"Submit Grievance",detail:t?.error?.error?.errorMessage?t.error.error.errorMessage:t.message})})}getEventValue(i){return i.target.value}clearAll(){this.firstname.reset(),this.lastname.reset(),this.employerName.reset(),this.country.reset(),this.insuranceagency.reset()}}return(o=s).\u0275fac=function(i){return new(i||o)(e.Y36(O.E7),e.Y36(T.ez),e.Y36(O.S),e.Y36(N.dt),e.Y36(a.f),e.Y36(y.n))},o.\u0275cmp=e.Xpm({type:o,selectors:[["emigrate-employer-modal"]],inputs:{countries:"countries",userTypes:"userTypes"},decls:28,vars:13,consts:[[1,"middle_section"],[1,"container"],[1,"row"],[1,"content"],["class","form",4,"ngIf"],[1,"col-12"],[1,"buttons","mt-3"],[4,"ngIf","ngIfElse"],["other",""],["pButton","","type","button","label","Clear",1,"btn-format","mr-3","btn-blue",3,"click"],[1,"container","mt-5"],[1,"mb-0"],[1,"table-border"],["responsiveLayout","scroll","selectionMode","single","dataKey","partnerId",3,"value","paginator","rows","responsive","columns"],["myTab",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pButton","","type","button","label","Select",1,"btn-format","mr-3","btn-blue",3,"disabled","click"],[1,"form"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","1","inputId","insuranceagency","inputLabel","Name of Agency",1,"block",3,"inputFormControl"],["autocomplete","off","maxlength","50","id","insuranceagency","type","text","name","insuranceagency","pInputText","",3,"formControl"],["for","2","inputId","firstname","inputLabel","Proprietor/MD/Mg.Part First Name",1,"block",3,"inputFormControl"],["autocomplete","off","maxlength","50","id","firstname","name","firstname","type","text","pInputText","",3,"formControl"],["for","3","inputId","lastname","inputLabel","Proprietor/MD/Mg.Part Last Name",1,"block",3,"inputFormControl"],["autocomplete","off","maxlength","50","id","lastname","name","lastname","type","text","pInputText","",3,"formControl"],[1,"col-md-3","col-sm-6"],["for","1","class","block","inputId","employerName","inputLabel","FE Name/PE Name",3,"inputFormControl",4,"ngIf"],["for","1","class","block","inputLabel","PE Name","inputId","projectExporterName","inputLabel","FE Name/PE Name",3,"inputFormControl",4,"ngIf"],["for","7","inputId","country","inputLabel","Country",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","country","name","countrya","placeholder","Select an option","EmigrateShDropdown","",3,"formControl","options"],["for","3","inputId","authorizedSignatoryFirstName","inputLabel","Authorized Signatory First Name",1,"block",3,"inputFormControl"],["autocomplete","off","maxlength","50","id","authorizedSignatoryFirstName","name","authorizedSignatoryFirstName","type","text","pInputText","",3,"formControl"],["for","3","inputId","authorizedSignatoryLastName","inputLabel","Authorized Signatory Last Name",1,"block",3,"inputFormControl"],["autocomplete","off","maxlength","50","id","authorizedSignatoryLastName","name","authorizedSignatoryLastName","type","text","pInputText","",3,"formControl"],["for","1","inputId","employerName","inputLabel","FE Name/PE Name",1,"block",3,"inputFormControl"],["autocomplete","off","maxlength","50","id","employerName","type","text","name","employerName","pInputText","",3,"formControl"],["for","1","inputLabel","PE Name","inputId","projectExporterName","inputLabel","FE Name/PE Name",1,"block",3,"inputFormControl"],["autocomplete","off","maxlength","50","id","projectExporterName","type","text","name","employerName","pInputText","",3,"formControl"],["pButton","","type","button","label","Search",1,"btn-format","mr-3","btn-blue",3,"disabled","click"],[4,"ngFor","ngForOf"],[3,"pSelectableRow"],["type","radio","name","select",3,"click"],[4,"ngIf"],[1,"align-items-center"],["colspan","6"]],template:function(i,t){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form")(4,"div",3),e.YNc(5,W,14,6,"div",4),e.YNc(6,te,18,11,"div",4),e.TgZ(7,"div",2)(8,"div",5)(9,"div",6),e.YNc(10,ie,2,1,"ng-container",7),e.YNc(11,re,1,1,"ng-template",null,8,e.W1O),e.TgZ(13,"button",9),e.NdJ("click",function(){return t.clearAll()}),e.qZA()()()()()()(),e.TgZ(14,"div",10)(15,"div",3)(16,"h4",11),e._uU(17,"Search Result"),e.qZA(),e.TgZ(18,"div",12)(19,"p-table",13,14),e.YNc(21,oe,2,1,"ng-template",15),e.YNc(22,me,13,7,"ng-template",16),e.YNc(23,pe,3,0,"ng-template",17),e.qZA()(),e.TgZ(24,"div",2)(25,"div",5)(26,"div",6)(27,"button",18),e.NdJ("click",function(){return t.selectProduct()}),e.qZA()()()()()()()()),2&i){const n=e.MAs(12);e.xp6(5),e.Q6J("ngIf",t.userType===t.recuriting),e.xp6(1),e.Q6J("ngIf",e.WLB(10,ce,t.employer,t.projectExporter).indexOf(t.userType)>-1),e.xp6(4),e.Q6J("ngIf",t.userType===t.recuriting)("ngIfElse",n),e.xp6(9),e.Q6J("value",t.searchRaList)("paginator",!0)("rows",10)("responsive",!0)("columns",t.userType===t.recuriting?t.raColumns:t.userType===t.employer?t.feColumns:t.peColumns),e.xp6(8),e.Q6J("disabled",!t.currentSelectedID)}},dependencies:[p.sg,p.O5,u._Y,u.Fj,u.JJ,u.JL,u.nD,u.oH,c.KR,c.lC,T.jx,b.Hq,v.Lt,D.o,k.iA,k.Ei,u.F]}),s})();function ge(o,s){if(1&o&&(e.TgZ(0,"div")(1,"div",5)(2,"div",6)(3,"div",7)(4,"emigrate-sh-html-input",25),e._UZ(5,"input",26),e.qZA()()(),e.TgZ(6,"div",6)(7,"div",7)(8,"emigrate-sh-html-input",27),e._UZ(9,"input",28),e.qZA()()(),e.TgZ(10,"div",6)(11,"div",7)(12,"emigrate-sh-html-input",29),e._UZ(13,"input",30),e.qZA()()(),e.TgZ(14,"div",6)(15,"div",7)(16,"emigrate-sh-html-input",31),e._UZ(17,"input",32),e.qZA()()()()()),2&o){const r=e.oxw();e.xp6(4),e.Q6J("inputRequired",!1)("inputFormControl",r.subEntityFormGroup.controls.employerId),e.xp6(4),e.Q6J("inputRequired",!1)("inputFormControl",r.subEntityFormGroup.controls.employerName),e.xp6(4),e.Q6J("inputRequired",!1)("inputFormControl",r.subEntityFormGroup.controls.permitId),e.xp6(4),e.Q6J("inputRequired",!1)("inputFormControl",r.subEntityFormGroup.controls.jobId)}}function he(o,s){if(1&o&&(e.TgZ(0,"div")(1,"div",5)(2,"div",6)(3,"div",7)(4,"emigrate-sh-html-input",33),e._UZ(5,"input",34),e.qZA()()(),e.TgZ(6,"div",6)(7,"div",7)(8,"emigrate-sh-html-input",35),e._UZ(9,"input",36),e.qZA()()(),e.TgZ(10,"div",6)(11,"div",7)(12,"emigrate-sh-html-input",37),e._UZ(13,"input",38),e.qZA()()()(),e.TgZ(14,"div",5)(15,"div",6)(16,"div",7)(17,"emigrate-sh-html-input",39),e._UZ(18,"input",32),e.qZA()()()()()),2&o){const r=e.oxw();e.xp6(4),e.Q6J("inputRequired",!1)("inputFormControl",r.subEntityFormGroup.controls.recruitingAgentId),e.xp6(4),e.Q6J("inputRequired",!0)("inputFormControl",r.subEntityFormGroup.controls.recruitingAgentName),e.xp6(4),e.Q6J("inputRequired",!1)("inputFormControl",r.subEntityFormGroup.controls.demandId),e.xp6(5),e.Q6J("inputRequired",!1)("inputFormControl",r.subEntityFormGroup.controls.jobId)}}function be(o,s){if(1&o&&(e.TgZ(0,"div")(1,"div",5)(2,"div",6)(3,"div",7)(4,"emigrate-sh-html-input",40),e._UZ(5,"input",41),e.qZA()()(),e.TgZ(6,"div",6)(7,"div",7)(8,"emigrate-sh-html-input",42),e._UZ(9,"input",43),e.qZA()()(),e.TgZ(10,"div",6)(11,"div",7)(12,"emigrate-sh-html-input",44),e._UZ(13,"input",30),e.qZA()()()(),e.TgZ(14,"div",5)(15,"div",6)(16,"div",7)(17,"emigrate-sh-html-input",39),e._UZ(18,"input",32),e.qZA()()()()()),2&o){const r=e.oxw();e.xp6(4),e.Q6J("inputRequired",!1)("inputFormControl",r.subEntityFormGroup.controls.projectExporterId),e.xp6(4),e.Q6J("inputRequired",!1)("inputFormControl",r.subEntityFormGroup.controls.projectExporterName),e.xp6(4),e.Q6J("inputRequired",!1)("inputFormControl",r.subEntityFormGroup.controls.permitId),e.xp6(5),e.Q6J("inputRequired",!1)("inputFormControl",r.subEntityFormGroup.controls.jobId)}}function fe(o,s){if(1&o&&(e.TgZ(0,"div")(1,"div",5)(2,"div",6)(3,"div",7)(4,"emigrate-sh-html-input",45),e._UZ(5,"input",26),e.qZA()()(),e.TgZ(6,"div",6)(7,"div",7)(8,"emigrate-sh-html-input",46),e._UZ(9,"input",47),e.qZA()()(),e.TgZ(10,"div",6)(11,"div",7)(12,"emigrate-sh-html-input",33),e._UZ(13,"input",34),e.qZA()()()(),e.TgZ(14,"div",5)(15,"div",6)(16,"div",7)(17,"emigrate-sh-html-input",35),e._UZ(18,"input",48),e.qZA()()(),e.TgZ(19,"div",6)(20,"div",7)(21,"emigrate-sh-html-input",37),e._UZ(22,"input",38),e.qZA()()(),e.TgZ(23,"div",6)(24,"div",7)(25,"emigrate-sh-html-input",39),e._UZ(26,"input",32),e.qZA()()()()()),2&o){const r=e.oxw();e.xp6(4),e.Q6J("inputRequired",!1)("inputFormControl",r.subEntityFormGroup.controls.employerId),e.xp6(4),e.Q6J("inputRequired",!1)("inputFormControl",r.subEntityFormGroup.controls.employerName),e.xp6(4),e.Q6J("inputRequired",!1)("inputFormControl",r.subEntityFormGroup.controls.recruitingAgentId),e.xp6(5),e.Q6J("inputRequired",!0)("inputFormControl",r.subEntityFormGroup.controls.recruitingAgentName),e.xp6(4),e.Q6J("inputRequired",!1)("inputFormControl",r.subEntityFormGroup.controls.demandId),e.xp6(4),e.Q6J("inputRequired",!1)("inputFormControl",r.subEntityFormGroup.controls.jobId)}}function ve(o,s){if(1&o){const r=e.EpF();e.TgZ(0,"div",7)(1,"emigrate-sh-html-input",50)(2,"div",51)(3,"span",52)(4,"i",53),e.NdJ("click",function(){e.CHM(r);const t=e.MAs(6),n=e.oxw(2);return e.KtG(""!==t.value?n.search(t.value,n.recuriting):n.show(n.recuriting))}),e.qZA(),e.TgZ(5,"input",54,55),e.NdJ("input",function(){e.CHM(r);const t=e.oxw(2);return e.KtG(t.clearSearchValidator(t.recuriting))}),e.qZA()()()()()}if(2&o){const r=e.oxw(2);e.xp6(1),e.Q6J("inputRequired",!1)("inputFormControl",r.subEntityFormGroup.controls.searchRecruitingAgentId)}}function _e(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"div",6),e.YNc(2,ve,7,2,"div",49),e.qZA(),e.BQk()),2&o){const r=e.oxw();e.xp6(2),e.Q6J("ngIf","no"===r.subEntityFormGroup.controls.associationDetails.value)}}function ye(o,s){if(1&o){const r=e.EpF();e.TgZ(0,"div",6)(1,"div",7)(2,"emigrate-sh-html-input",57)(3,"div",51)(4,"span",52)(5,"i",53),e.NdJ("click",function(){e.CHM(r);const t=e.MAs(7),n=e.oxw(2);return e.KtG(""!==t.value?n.search(t.value,n.employer):n.show(n.employer))}),e.qZA(),e.TgZ(6,"input",58,59),e.NdJ("input",function(){e.CHM(r);const t=e.oxw(2);return e.KtG(t.clearSearchValidator(t.employer))}),e.qZA()()()()()()}if(2&o){const r=e.oxw(2);e.xp6(2),e.Q6J("inputRequired",!1)("inputFormControl",r.subEntityFormGroup.controls.searchEmployerId)}}function Fe(o,s){if(1&o&&(e.ynx(0),e.YNc(1,ye,8,2,"div",56),e.BQk()),2&o){const r=e.oxw();e.xp6(1),e.Q6J("ngIf","no"===r.subEntityFormGroup.controls.associationDetails.value)}}function Te(o,s){if(1&o){const r=e.EpF();e.TgZ(0,"div",7)(1,"emigrate-sh-html-input",60)(2,"div",51)(3,"span",52)(4,"i",53),e.NdJ("click",function(){e.CHM(r);const t=e.MAs(6),n=e.oxw(2);return e.KtG(""!==t.value?n.search(t.value,n.projectExporter):n.show(n.projectExporter))}),e.qZA(),e.TgZ(5,"input",61,62),e.NdJ("input",function(){e.CHM(r);const t=e.oxw(2);return e.KtG(t.clearSearchValidator(t.projectExporter))}),e.qZA()()()()()}if(2&o){const r=e.oxw(2);e.xp6(1),e.Q6J("inputFormControl",r.subEntityFormGroup.controls.searchProjectExporterId)}}function Ne(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"div",6),e.YNc(2,Te,7,1,"div",49),e.qZA(),e.BQk()),2&o){const r=e.oxw();e.xp6(2),e.Q6J("ngIf","no"===r.subEntityFormGroup.controls.associationDetails.value)}}function Ce(o,s){if(1&o){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",6)(2,"div",7)(3,"emigrate-sh-html-input",57)(4,"div",51)(5,"span",52)(6,"i",53),e.NdJ("click",function(){e.CHM(r);const t=e.MAs(8),n=e.oxw(2);return e.KtG(""!==t.value?n.search(t.value,n.employer):n.show(n.employer))}),e.qZA(),e.TgZ(7,"input",58,63),e.NdJ("input",function(){e.CHM(r);const t=e.oxw(2);return e.KtG(t.clearSearchValidator(t.employer))}),e.qZA()()()()()(),e.TgZ(9,"div",6)(10,"div",7)(11,"emigrate-sh-html-input",50)(12,"div",51)(13,"span",52)(14,"i",53),e.NdJ("click",function(){e.CHM(r);const t=e.MAs(16),n=e.oxw(2);return e.KtG(""!==t.value?n.search(t.value,n.recuriting):n.show(n.recuriting))}),e.qZA(),e.TgZ(15,"input",64,65),e.NdJ("input",function(){e.CHM(r);const t=e.oxw(2);return e.KtG(t.clearSearchValidator(t.recuriting))}),e.qZA()()()()()(),e.BQk()}if(2&o){const r=e.oxw(2);e.xp6(3),e.Q6J("inputRequired",!1)("inputFormControl",r.subEntityFormGroup.controls.searchEmployerId),e.xp6(8),e.Q6J("inputRequired",!1)("inputFormControl",r.subEntityFormGroup.controls.searchRecruitingAgentId)}}function Ee(o,s){if(1&o&&(e.ynx(0),e.YNc(1,Ce,17,4,"ng-container",4),e.BQk()),2&o){const r=e.oxw();e.xp6(1),e.Q6J("ngIf","no"===r.subEntityFormGroup.controls.associationDetails.value)}}function De(o,s){1&o&&e.GkF(0)}function xe(o,s){1&o&&e.GkF(0)}function Ie(o,s){1&o&&e.GkF(0)}function Ge(o,s){1&o&&e.GkF(0)}function Se(o,s){1&o&&e.GkF(0)}function Ae(o,s){if(1&o){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",17)(2,"button",66),e.NdJ("click",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.clear())}),e.qZA(),e.TgZ(3,"button",67),e.NdJ("click",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.addtolist())}),e.qZA()(),e.BQk()}}function Ze(o,s){if(1&o&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&o){const r=s.$implicit;e.xp6(1),e.Oqu(r.header)}}function Oe(o,s){if(1&o&&(e.TgZ(0,"tr"),e.YNc(1,Ze,2,1,"th",75),e.qZA()),2&o){const r=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",r.columnslistRaFe)}}function ke(o,s){if(1&o&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&o){const r=s.$implicit;e.xp6(1),e.Oqu(r.header)}}function Re(o,s){if(1&o&&e.YNc(0,ke,2,1,"th",75),2&o){const r=e.oxw(4);e.Q6J("ngForOf",r.columnslistPe)}}function qe(o,s){if(1&o&&(e.YNc(0,Oe,2,1,"tr",73),e.YNc(1,Re,1,1,"ng-template",null,74,e.W1O)),2&o){const r=e.MAs(2),i=e.oxw(3);e.Q6J("ngIf",!i.isProjectExporter)("ngIfElse",r)}}function we(o,s){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA()()),2&o){const r=s.$implicit,i=s.rowIndex;e.xp6(2),e.Oqu(i+1),e.xp6(2),e.AsE("",r.firstName," ",r.lastName,""),e.xp6(2),e.Oqu(r.address),e.xp6(2),e.Oqu(r.landlineNumber),e.xp6(2),e.Oqu(r.mobileNumber),e.xp6(2),e.Oqu(r.email)}}function Je(o,s){if(1&o&&(e.TgZ(0,"div",5)(1,"div",69),e._UZ(2,"emigrate-sh-page-sub-title",1),e.qZA(),e.TgZ(3,"div",69)(4,"div",2)(5,"p-table",70),e.YNc(6,qe,3,2,"ng-template",71),e.YNc(7,we,13,7,"ng-template",72),e.qZA()()()()),2&o){const r=e.oxw(2);e.xp6(2),e.Q6J("pageSubTitle","List"),e.xp6(3),e.Q6J("value",null==r.subEntityFormGroup||null==r.subEntityFormGroup.controls||null==r.subEntityFormGroup.controls.extraColumnsDataForNo?null:r.subEntityFormGroup.controls.extraColumnsDataForNo.value)}}function Ve(o,s){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,Je,8,2,"div",68),e.qZA()),2&o){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==r.subEntityFormGroup.controls.extraColumnsDataForNo||null==r.subEntityFormGroup.controls.extraColumnsDataForNo.value?null:r.subEntityFormGroup.controls.extraColumnsDataForNo.value.length)>0)}}function Qe(o,s){if(1&o&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&o){const r=s.$implicit;e.xp6(1),e.hij(" ","Firstname"===r.field?"Employer Name":r.header," ")}}function Ue(o,s){if(1&o&&(e.TgZ(0,"tr"),e.YNc(1,Qe,2,1,"th",75),e.qZA()),2&o){const r=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",r.columnslistRaFe)}}function Pe(o,s){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA()()),2&o){const r=s.$implicit,i=s.rowIndex;e.xp6(2),e.Oqu(i+1),e.xp6(2),e.AsE("",r.firstName," ",r.lastName,""),e.xp6(2),e.Oqu(r.address),e.xp6(2),e.Oqu(r.landlineNumber),e.xp6(2),e.Oqu(r.mobileNumber),e.xp6(2),e.Oqu(r.email)}}function Le(o,s){if(1&o&&(e.TgZ(0,"div",5)(1,"div",69),e._UZ(2,"emigrate-sh-page-sub-title",1),e.qZA(),e.TgZ(3,"div",69)(4,"div",2)(5,"p-table",70),e.YNc(6,Ue,2,1,"ng-template",71),e.YNc(7,Pe,13,7,"ng-template",72),e.qZA()()()()),2&o){const r=e.oxw(2);e.xp6(2),e.Q6J("pageSubTitle","List"),e.xp6(3),e.Q6J("value",r.employerList)}}function Me(o,s){if(1&o&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&o){const r=s.$implicit;e.xp6(1),e.hij(" ","Firstname"===r.field?"Recruiting Agent Name":r.header," ")}}function Ye(o,s){if(1&o&&(e.TgZ(0,"tr"),e.YNc(1,Me,2,1,"th",75),e.qZA()),2&o){const r=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",r.columnslistRaFe)}}function je(o,s){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA()()),2&o){const r=s.$implicit,i=s.rowIndex;e.xp6(2),e.Oqu(i+1),e.xp6(2),e.AsE("",r.firstName," ",r.lastName,""),e.xp6(2),e.Oqu(r.address),e.xp6(2),e.Oqu(r.landlineNumber),e.xp6(2),e.Oqu(r.mobileNumber),e.xp6(2),e.Oqu(r.email)}}function Be(o,s){if(1&o&&(e.TgZ(0,"div",5)(1,"div",69),e._UZ(2,"emigrate-sh-page-sub-title",1),e.qZA(),e.TgZ(3,"div",69)(4,"div",2)(5,"p-table",70),e.YNc(6,Ye,2,1,"ng-template",71),e.YNc(7,je,13,7,"ng-template",72),e.qZA()()()()),2&o){const r=e.oxw(2);e.xp6(2),e.Q6J("pageSubTitle","List"),e.xp6(3),e.Q6J("value",r.recruiterList)}}function Ke(o,s){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,Le,8,2,"div",68),e.YNc(2,Be,8,2,"div",68),e.qZA()),2&o){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==r.subEntityFormGroup||null==r.subEntityFormGroup.controls||null==r.subEntityFormGroup.controls.extraColumnsDataForNo||null==r.subEntityFormGroup.controls.extraColumnsDataForNo.value?null:r.subEntityFormGroup.controls.extraColumnsDataForNo.value.length)>0),e.xp6(1),e.Q6J("ngIf",(null==r.subEntityFormGroup||null==r.subEntityFormGroup.controls||null==r.subEntityFormGroup.controls.extraColumnsDataForNo||null==r.subEntityFormGroup.controls.extraColumnsDataForNo.value?null:r.subEntityFormGroup.controls.extraColumnsDataForNo.value.length)>0)}}function He(o,s){if(1&o&&(e.ynx(0,76),e.TgZ(1,"div",6)(2,"div",7)(3,"emigrate-sh-html-input",77),e._UZ(4,"input",78),e.qZA()()(),e.TgZ(5,"div",6)(6,"div",7)(7,"emigrate-sh-html-input",79),e._UZ(8,"input",80),e.qZA()()(),e.TgZ(9,"div",6)(10,"div",7)(11,"emigrate-sh-html-input",81),e._UZ(12,"input",82),e.qZA()()(),e.TgZ(13,"div",6)(14,"div",7)(15,"emigrate-sh-html-input",83),e._UZ(16,"input",84),e.qZA()()(),e.TgZ(17,"div",6)(18,"div",7)(19,"emigrate-sh-html-input",85),e._UZ(20,"input",86),e.qZA()()(),e.TgZ(21,"div",6)(22,"div",7)(23,"emigrate-sh-html-input",87),e._UZ(24,"input",88),e.qZA()()(),e.BQk()),2&o){const r=s.form,i=e.oxw();e.Q6J("formGroup",r),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",i.subEntityFormGroup.controls.searchRecruitingAgentName),e.xp6(4),e.Q6J("inputRequired",!1)("patternMsg","pattern message")("inputFormControl",i.subEntityFormGroup.controls.lastName),e.xp6(4),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",i.subEntityFormGroup.controls.address),e.xp6(4),e.Q6J("inputRequired",!1)("inputFormControl",i.subEntityFormGroup.controls.email),e.xp6(4),e.Q6J("inputRequired",!1)("inputFormControl",i.subEntityFormGroup.controls.landlineNumber),e.xp6(4),e.Q6J("inputRequired",!1)("inputFormControl",i.subEntityFormGroup.controls.mobileNumber)}}function ze(o,s){if(1&o&&(e.ynx(0,76),e.TgZ(1,"div",6)(2,"div",7)(3,"emigrate-sh-html-input",77),e._UZ(4,"input",78),e.qZA()()(),e.TgZ(5,"div",6)(6,"div",7)(7,"emigrate-sh-html-input",89),e._UZ(8,"input",90),e.qZA()()(),e.TgZ(9,"div",6)(10,"div",7)(11,"emigrate-sh-html-input",91),e._UZ(12,"input",92),e.qZA()()(),e.TgZ(13,"div",6)(14,"div",7)(15,"emigrate-sh-html-input",93),e._UZ(16,"input",94),e.qZA()()(),e.TgZ(17,"div",6)(18,"div",7)(19,"emigrate-sh-html-input",95),e._UZ(20,"input",96),e.qZA()()(),e.TgZ(21,"div",6)(22,"div",7)(23,"emigrate-sh-html-input",97),e._UZ(24,"input",98),e.qZA()()(),e.BQk()),2&o){const r=s.form,i=e.oxw();e.Q6J("formGroup",r),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",i.subEntityFormGroup.controls.searchRecruitingAgentName),e.xp6(4),e.Q6J("inputRequired",!1)("patternMsg","pattern message")("inputFormControl",i.subEntityFormGroup.controls.lastNameNew),e.xp6(4),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",i.subEntityFormGroup.controls.addressNew),e.xp6(4),e.Q6J("inputRequired",!1)("inputFormControl",i.subEntityFormGroup.controls.emailNew),e.xp6(4),e.Q6J("inputRequired",!1)("inputFormControl",i.subEntityFormGroup.controls.landlineNumberNew),e.xp6(4),e.Q6J("inputRequired",!1)("inputFormControl",i.subEntityFormGroup.controls.mobileNumberNew)}}function Xe(o,s){if(1&o&&(e.ynx(0,76),e.TgZ(1,"div",6)(2,"div",7)(3,"emigrate-sh-html-input",99),e._UZ(4,"input",100),e.qZA()()(),e.TgZ(5,"div",6)(6,"div",7)(7,"emigrate-sh-html-input",79),e._UZ(8,"input",80),e.qZA()()(),e.TgZ(9,"div",6)(10,"div",7)(11,"emigrate-sh-html-input",81),e._UZ(12,"input",82),e.qZA()()(),e.TgZ(13,"div",6)(14,"div",7)(15,"emigrate-sh-html-input",83),e._UZ(16,"input",84),e.qZA()()(),e.TgZ(17,"div",6)(18,"div",7)(19,"emigrate-sh-html-input",85),e._UZ(20,"input",86),e.qZA()()(),e.TgZ(21,"div",6)(22,"div",7)(23,"emigrate-sh-html-input",87),e._UZ(24,"input",88),e.qZA()()(),e.BQk()),2&o){const r=s.form,i=e.oxw();e.Q6J("formGroup",r),e.xp6(3),e.Q6J("inputRequired",!1)("patternMsg","pattern message")("inputFormControl",i.subEntityFormGroup.controls.searchEmployerName),e.xp6(4),e.Q6J("inputRequired",!1)("patternMsg","pattern message")("inputFormControl",i.subEntityFormGroup.controls.lastName),e.xp6(4),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",i.subEntityFormGroup.controls.address),e.xp6(4),e.Q6J("inputRequired",!1)("inputFormControl",i.subEntityFormGroup.controls.email),e.xp6(4),e.Q6J("inputRequired",!1)("inputFormControl",i.subEntityFormGroup.controls.landlineNumber),e.xp6(4),e.Q6J("inputRequired",!1)("inputFormControl",i.subEntityFormGroup.controls.mobileNumber)}}function We(o,s){if(1&o&&(e.ynx(0,76),e.TgZ(1,"div",6)(2,"div",7)(3,"emigrate-sh-html-input",101),e._UZ(4,"input",102),e.qZA()()(),e.TgZ(5,"div",6)(6,"div",7)(7,"emigrate-sh-html-input",79),e._UZ(8,"input",80),e.qZA()()(),e.TgZ(9,"div",6)(10,"div",7)(11,"emigrate-sh-html-input",81),e._UZ(12,"input",82),e.qZA()()(),e.TgZ(13,"div",6)(14,"div",7)(15,"emigrate-sh-html-input",83),e._UZ(16,"input",84),e.qZA()()(),e.TgZ(17,"div",6)(18,"div",7)(19,"emigrate-sh-html-input",85),e._UZ(20,"input",86),e.qZA()()(),e.TgZ(21,"div",6)(22,"div",7)(23,"emigrate-sh-html-input",87),e._UZ(24,"input",88),e.qZA()()(),e.BQk()),2&o){const r=s.form,i=e.oxw();e.Q6J("formGroup",r),e.xp6(3),e.Q6J("inputRequired",!1)("inputFormControl",i.subEntityFormGroup.controls.searchProjectExporterName),e.xp6(4),e.Q6J("inputRequired",!1)("patternMsg","pattern message")("inputFormControl",i.subEntityFormGroup.controls.lastName),e.xp6(4),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",i.subEntityFormGroup.controls.address),e.xp6(4),e.Q6J("inputRequired",!1)("inputFormControl",i.subEntityFormGroup.controls.email),e.xp6(4),e.Q6J("inputRequired",!1)("inputFormControl",i.subEntityFormGroup.controls.landlineNumber),e.xp6(4),e.Q6J("inputRequired",!1)("inputFormControl",i.subEntityFormGroup.controls.mobileNumber)}}const $e=function(){return["no"]},S=function(o){return{form:o}};let et=(()=>{var o;class s{set complaintsForm(i){this.complaintDetailsTab=i,this.mapData()}constructor(i,t,n,m,h,_){this.sessionQuery=i,this.dialogService=t,this.messageService=n,this.router=m,this.uiService=h,this._submitGrievance=_,this.activeIndex=new e.vpe,this.userTypes=new e.vpe,this.hideDetails=!0,this.recuriting=l.Xef.ISRECURTING,this.employer=l.Xef.ISEMPLOYER,this.projectExporter=l.Xef.ISPROJECTEXPORTER,this.userRa=l.Xef.USER_RA.toUpperCase(),this.userFe=l.Xef.USER_FE.toUpperCase(),this.userPe=l.Xef.USER_PE.toUpperCase(),this.userRaFe=l.Xef.USER_RAFE.toUpperCase(),this.addedList=[],this.employerList=[],this.recruiterList=[],this.buttonStatus=!1,this.listofSearchFields={searchRecruitingAgentName:null,searchEmployerName:null,searchProjectExporterName:null,searchRecruitingAgentId:null,searchEmployerId:null,searchProjectExporterId:null,lastName:null,address:null,email:null,landlineNumber:null,mobileNumber:null,lastNameNew:null,addressNew:null,emailNew:null,landlineNumberNew:null,mobileNumberNew:null},this.columnslistRaFe=[{field:"serialNumber",header:"S. No."},{field:"Firstname",header:"Name"},{field:"address",header:"Address"},{field:"landlineNumber",header:"Landline Number"},{field:"mobileNumber",header:"Mobile Number"},{field:"email",header:"Email ID"}],this.columnslistPe=[{field:"serialNumber",header:"S. No."},{field:"Firstname",header:"Project Exporter Name"},{field:"address",header:"Address"},{field:"landlineNumber",header:"Landline Number"},{field:"mobileNumber",header:"Mobile Number"},{field:"email",header:"Email ID"}],this.columnslist2=[{field:"serialNumber",header:"S. No."},{field:"Firstname",header:"Recruiting Agent Name"},{field:"address",header:"Address"},{field:"landlineNumber",header:"Landline Number"},{field:"mobileNumber",header:"Mobile Number"},{field:"email",header:"Email ID"}]}ngOnInit(){this.subEntityFormGroup.reset(),this.user=this.sessionQuery.user}clear(){this.clearFields(),this.clearValidatior("agent"),this.clearValidatior("employer")}patchOnAddToList(){!1===this.buttonStatus&&(this.buttonStatus=!0,this.subEntityFormGroup.get("extraColumnsDataForNo").reset());let i=[],t=this.subEntityFormGroup.getRawValue(),n=this.complaintDetailsTab?.complaintDetails?.grievanceAgainst;if(n!=="GA_"+this.userRaFe){let h=this.subEntityFormGroup.get("searchRecruitingAgentId").value?this.subEntityFormGroup.get("searchRecruitingAgentId").value:this.subEntityFormGroup.get("searchProjectExporterId").value?this.subEntityFormGroup.get("searchProjectExporterId").value:this.subEntityFormGroup.get("searchEmployerId").value?this.subEntityFormGroup.get("searchEmployerId").value:null,_={firstName:t?.firstName?t.firstName:null,lastName:t?.lastName?t.lastName:null,address:t?.address?t.address:null,email:t?.email?t.email:null,landlineNumber:t?.landlineNumber?t.landlineNumber:null,mobileNumber:t?.mobileNumber?t.mobileNumber:null,jobId:t?.jobId?t.jobId:null,demandId:t?.demandId?t.demandId:null,partnerId:h,partnerTypeCode:this.complaintDetailsTab?.complaintDetails?.grievanceAgainst?.replace("GA_","")};i.push(_)}else n==="GA_"+this.userRaFe&&[this.userFe,this.userRa].forEach(h=>{let _={firstName:h===this.userFe?t?.firstName:t.firstNameNew,lastName:h===this.userFe?t?.lastName:t.lastNameNew,address:h===this.userFe?t?.address:t.addressNew,email:h===this.userFe?t?.email:t.emailNew,landlineNumber:h===this.userFe?t?.landlineNumber:t.landlineNumberNew,mobileNumber:h===this.userFe?t?.mobileNumber:t.mobileNumberNew,jobId:h===t?.jobId?t.jobId:null,demandId:t?.demandId?t.demandId:null,partnerId:h===this.userFe?this.subEntityFormGroup.get("searchEmployerId").value:this.subEntityFormGroup.get("searchRecruitingAgentId").value,partnerTypeCode:h};i.push(_)});let m=this.subEntityFormGroup.get("extraColumnsDataForNo").value?this.subEntityFormGroup.get("extraColumnsDataForNo").value:[];n!=="GA_"+this.userRaFe?m.push(i[0]):m.push(...i),this.subEntityFormGroup.get("extraColumnsDataForNo").setValue(m),this.employerList=m.filter(h=>h.partnerTypeCode===this.userFe),this.recruiterList=m.filter(h=>h.partnerTypeCode===this.userRa)}getNextTab(){this.subEntityFormGroup.markAllAsTouched(),"no"!==this.subEntityFormGroup.get("associationDetails").value||!1!==this.checkFormValidCase()?this.subEntityFormGroup.get("associationDetails").valid?(this.clearFields(),this.activeIndex.emit(2)):this.messageService.add({severity:"error",summary:"Submit Grievance",detail:l.rmt.DEFAULT_IF_VALIDATION_PENDING}):this.messageService.add({severity:"error",summary:"Submit Grievance",detail:"Please enter all mandatory details and click on Add to List"})}validateAddList(i){return this.addedList.filter(t=>t.key===this.subEntityFormGroup.get(i).value).length}showAlert(){this.messageService.add({severity:"error",summary:"Submit Grievance",detail:"Id already exist"})}addtolist(){let i=null;!(this.subEntityFormGroup.get("searchRecruitingAgentId").value||this.subEntityFormGroup.get("searchEmployerId").value||this.subEntityFormGroup.get("searchProjectExporterId").value)||(i=this.isRecurting?this.subEntityFormGroup.get("searchRecruitingAgentId").disabled:this.isEmployer?this.subEntityFormGroup.get("searchEmployerId").disabled:this.isProjectExporter?this.subEntityFormGroup.get("searchProjectExporterId").disabled:this.isBoth?this.subEntityFormGroup.get("searchRecruitingAgentId").disabled||this.subEntityFormGroup.get("searchEmployerId").disabled:"",i)?(this.subEntityFormGroup.markAllAsTouched(),this.complaintDetailsTab?.complaintDetails?.grievanceAgainst==="GA_"+this.userRa?Object.values(["searchRecruitingAgentId","searchRecruitingAgentName","lastName","address","email","landlineNumber","mobileNumber"]).every(n=>this.subEntityFormGroup.get(n).valid||this.subEntityFormGroup.get(n).disabled)&&(this.subEntityFormGroup.get("firstName").setValue(this.subEntityFormGroup.get("searchRecruitingAgentName").value),this.patchOnAddToList(),this.clearFields()):this.complaintDetailsTab?.complaintDetails?.grievanceAgainst==="GA_"+this.userPe?Object.values(["searchProjectExporterName","searchProjectExporterId","lastName","address","email","landlineNumber","mobileNumber"]).every(n=>this.subEntityFormGroup.get(n).valid||this.subEntityFormGroup.get(n).disabled)&&(this.subEntityFormGroup.get("firstName").setValue(this.subEntityFormGroup.get("searchProjectExporterName").value),this.patchOnAddToList(),this.clearFields()):this.complaintDetailsTab?.complaintDetails?.grievanceAgainst==="GA_"+this.userFe?Object.values(["searchEmployerName","searchEmployerId","lastName","address","email","landlineNumber","mobileNumber"]).every(n=>this.subEntityFormGroup.get(n).valid||this.subEntityFormGroup.get(n).disabled)&&(this.subEntityFormGroup.get("firstName").setValue(this.subEntityFormGroup.get("searchEmployerName").value),this.patchOnAddToList(),this.clearFields()):this.complaintDetailsTab?.complaintDetails?.grievanceAgainst==="GA_"+this.userRaFe&&Object.values(["searchEmployerName","searchEmployerId","lastName","address","email","landlineNumber","mobileNumber","searchRecruitingAgentId","searchRecruitingAgentName","lastNameNew","addressNew","emailNew","landlineNumberNew","mobileNumberNew"]).every(n=>this.subEntityFormGroup.get(n).valid||this.subEntityFormGroup.get(n).disabled)&&(this.subEntityFormGroup.get("firstName").setValue(this.subEntityFormGroup.get("searchEmployerName").value),this.subEntityFormGroup.get("firstNameNew").setValue(this.subEntityFormGroup.get("searchRecruitingAgentName").value),this.patchOnAddToList(),this.clearFields())):this.messageService.add({severity:"error",summary:"Submit Grievance",detail:"Please click on search option of particular FE/RA ID"})}clearFields(i=!1){this.subEntityFormGroup.patchValue({...this.listofSearchFields}),Object.keys(this.subEntityFormGroup.controls).forEach(t=>{const n=this.subEntityFormGroup.get(t);n.markAsPristine(),n.markAsUntouched(),n.updateValueAndValidity()}),["searchRecruitingAgentName","searchEmployerName","searchProjectExporterName","searchRecruitingAgentId","searchEmployerId","searchProjectExporterId"].forEach(t=>{this.subEntityFormGroup.get(t).enable()})}checkFormValidCase(){let i=Object.keys(this.listofSearchFields),t=!0,n=this.subEntityFormGroup.get("extraColumnsDataForNo").value||[];return t=(!Array.isArray(n)||0!==n.length)&&i.every(m=>0===(this.subEntityFormGroup.get(m).value?.toString()?.trim()||"").length),t}previous(){this.activeIndex.emit(0),this.subEntityFormGroup.get("extraColumnsDataForNo").setValue([])}removeValidators(){["employerId","employerName","recruitingAgentId","recruitingAgentName","projectExporterId","projectExporterName"].forEach(i=>{this.subEntityFormGroup.get(i).clearValidators(),this.subEntityFormGroup.get(i).updateValueAndValidity()})}mapData(){this.subEntityFormGroup.controls.associationDetails.validator({}),this.complaintDetailsTab?.complaintDetails?.grievanceAgainst==="GA_"+this.userRa?(this.isRecurting=!0,this.isProjectExporter=!1,this.isEmployer=!1,this.isBoth=!1):this.complaintDetailsTab?.complaintDetails?.grievanceAgainst==="GA_"+this.userPe?(this.isRecurting=!1,this.isProjectExporter=!0,this.isEmployer=!1,this.isBoth=!1):this.complaintDetailsTab?.complaintDetails?.grievanceAgainst==="GA_"+this.userFe?(this.isEmployer=!0,this.isRecurting=!1,this.isProjectExporter=!1,this.isBoth=!1):this.complaintDetailsTab?.complaintDetails?.grievanceAgainst==="GA_"+this.userRaFe&&(this.isBoth=!0,this.isRecurting=!1,this.isProjectExporter=!1,this.isEmployer=!1),this.removeValidators(),this.clearFields(!0)}handleRadio(){let i=["searchRecruitingAgentName","searchEmployerName","searchProjectExporterName","lastName","email","landlineNumber","mobileNumber","address","lastNameNew","emailNew","landlineNumberNew","mobileNumberNew","addressNew"],t=["searchRecruitingAgentName","searchEmployerName","searchProjectExporterName"];(this.isRecurting||this.isBoth||this.isEmployer||this.isProjectExporter)&&("yes"==this.subEntityFormGroup.value.associationDetails?(this.hideDetails=!0,i.forEach((n,m)=>{this.subEntityFormGroup.get(n)&&this.subEntityFormGroup.get(n).disable()}),t.forEach((n,m)=>{0===m&&(this.subEntityFormGroup.get("mobileNumber").clearValidators(),this.subEntityFormGroup.get("mobileNumber").updateValueAndValidity(),this.subEntityFormGroup.get("mobileNumber").setValidators([c.YO.mobileNumberValidator()]),this.subEntityFormGroup.get("mobileNumber").updateValueAndValidity()),this.subEntityFormGroup.get(n)&&(this.subEntityFormGroup.get(n).clearValidators(),this.subEntityFormGroup.get(n).updateValueAndValidity())})):(this.hideDetails=!1,i.forEach(n=>{this.subEntityFormGroup.get(n)&&this.subEntityFormGroup.get(n).enable()}),t.forEach((n,m)=>{this.subEntityFormGroup.get(n)&&((this.isEmployer||this.isBoth)&&0===m?(this.subEntityFormGroup.get("mobileNumber").setValidators([c.YO.intMobileNumberValidator()]),this.subEntityFormGroup.get("mobileNumber").updateValueAndValidity()):0===m&&(this.subEntityFormGroup.get("mobileNumber").clearValidators(),this.subEntityFormGroup.get("mobileNumber").updateValueAndValidity(),this.subEntityFormGroup.get("mobileNumber").setValidators([c.YO.mobileNumberValidator()]),this.subEntityFormGroup.get("mobileNumber").updateValueAndValidity()),this.subEntityFormGroup.get(n).setValidators([u.kI.required,c.YO.fullNameValidator()]),this.subEntityFormGroup.get(n).updateValueAndValidity())})))}show(i){this.userTypes=i,this.ref=this.dialogService.open(de,{header:i==this.recuriting?"Search RA":i==this.employer?"Search FE":i==this.projectExporter?"Search PE":"",width:"80%",contentStyle:{overflow:"auto"},baseZIndex:1e4,maximizable:!0,data:{user:i}}),this.ref.onClose.subscribe(t=>{t&&Object.keys(t).length>0&&(this.mapSearchData(i,t),this.ref.onMaximize.subscribe(n=>{this.messageService.add({severity:"info",summary:"Maximized",detail:`maximized: ${n.maximized}`})}))})}mapSearchData(i,t){i==this.recuriting?(this.subEntityFormGroup.controls.searchRecruitingAgentId.patchValue(t?.partnerId),this.subEntityFormGroup.controls.searchRecruitingAgentId.disable(),this.subEntityFormGroup.controls.searchRecruitingAgentName.patchValue(t?.organizationName),this.subEntityFormGroup.controls.searchRecruitingAgentName.disable()):i==this.employer?(this.subEntityFormGroup.controls.searchEmployerId.patchValue(t?.partnerId),this.subEntityFormGroup.controls.searchEmployerId.disable(),this.subEntityFormGroup.controls.searchEmployerName.patchValue(t?.organizationName),this.subEntityFormGroup.controls.searchEmployerName.disable()):(this.subEntityFormGroup.controls.searchProjectExporterId.patchValue(t?.partnerId),this.subEntityFormGroup.controls.searchProjectExporterId.disable(),this.subEntityFormGroup.controls.searchProjectExporterName.patchValue(t?.organizationName),this.subEntityFormGroup.controls.searchProjectExporterName.disable())}clearSearchValidator(i){i==this.recuriting?this.clearValidatior("agent"):i==this.employer?this.clearValidatior("employer"):i==this.projectExporter&&this.clearValidatior("projectE")}clearValidatior(i){"agent"===i?(this.subEntityFormGroup.controls.searchRecruitingAgentId.clearValidators(),this.subEntityFormGroup.controls.searchRecruitingAgentId.setValidators([c.YO.alphaNumericValidator()]),this.subEntityFormGroup.controls.searchRecruitingAgentId.updateValueAndValidity()):"employer"===i?(this.subEntityFormGroup.controls.searchEmployerId.clearValidators(),this.subEntityFormGroup.controls.searchEmployerId.setValidators([c.YO.alphaNumericValidator()]),this.subEntityFormGroup.controls.searchEmployerId.updateValueAndValidity()):"projectE"===i&&(this.subEntityFormGroup.controls.searchProjectExporterId.clearValidators(),this.subEntityFormGroup.controls.searchProjectExporterId.setValidators([c.YO.alphaNumericValidator()]),this.subEntityFormGroup.controls.searchProjectExporterId.updateValueAndValidity())}redirectToHome(){this.router.navigate(this.user?.userId?["admin/dashboard"]:["emigrate"])}search(i,t){let n={},m=null;m=this.isRecurting?this.subEntityFormGroup.get("searchRecruitingAgentId").value.slice(0,2).toString()===this.userRa:this.isEmployer?this.subEntityFormGroup.get("searchEmployerId").value.slice(0,2).toString()===this.userFe:this.isProjectExporter?this.subEntityFormGroup.get("searchProjectExporterId").value.slice(0,2).toString()===this.userPe:this.isBoth?t===this.employer&&this.subEntityFormGroup.get("searchEmployerId").value?this.subEntityFormGroup.get("searchEmployerId").value.slice(0,2).toString()===this.userFe:t===this.recuriting&&this.subEntityFormGroup.get("searchRecruitingAgentId").value?this.subEntityFormGroup.get("searchRecruitingAgentId").value.slice(0,2).toString()===this.userRa:"":"",m&&!isNaN(i.slice(2))?(n={partnerId:i,partnerTypeCode:null,partnerOrgName:null,countryCode:null,firstName:null,lastName:null},this.uiService.showSpinner(),this._submitGrievance.partnerSearch(n).subscribe(h=>{this.uiService.hideSpinner(),h.status.toLowerCase()===l.Xef.SUCCESS?(this.searchRaList=h?.data?h.data:[],Array.isArray(this.searchRaList)&&0===this.searchRaList.length?(this.messageService.add({severity:"error",summary:"Search",detail:l.rmt.DEFAULT_NO_DATA_FOUND}),t==this.recuriting?this.addValidator("agent"):t==this.employer?this.addValidator("employer"):t==this.projectExporter&&this.addValidator("projectE")):this.mapSearchData(t,{partnerId:this.searchRaList[0].partnerId,organizationName:this.searchRaList[0].organizationName,firstName:this.searchRaList[0]?.partnerDirectorDTOList[0]?.firstName,lastName:this.searchRaList[0]?.partnerDirectorDTOList[0]?.lastName,status:this.searchRaList[0]?.partnerDirectorDTOList[0]?.status?this.searchRaList[0]?.partnerDirectorDTOList[0].status:""})):this.messageService.add({severity:"error",summary:"Submit Grievance",detail:l.rmt.TOAST_COMMON_ERROR})},h=>{this.uiService.hideSpinner(),this.messageService.add({severity:"error",summary:"Submit Grievance",detail:h?.error?.error?.errorMessage?h.error.error.errorMessage:h.message})})):this.messageService.add({severity:"error",summary:"Search",detail:t===this.recuriting?"Please enter valid Recruiting Agent ID":t===this.employer?"Please enter valid Foreign Employer ID":t===this.projectExporter?"Please enter valid Project Exporter ID":"Invalid ID"})}addValidator(i){"agent"==i?(this.subEntityFormGroup.controls.searchRecruitingAgentId.setValidators([c.YO.invalidData(!0,"Invalid Id")]),this.subEntityFormGroup.controls.searchRecruitingAgentId.updateValueAndValidity()):"employer"==i?(this.subEntityFormGroup.controls.searchEmployerId.setValidators([c.YO.invalidData(!0,"Invalid Id")]),this.subEntityFormGroup.controls.searchEmployerId.updateValueAndValidity()):"projectE"==i&&(this.subEntityFormGroup.controls.searchProjectExporterId.setValidators([c.YO.invalidData(!0,"Invalid Id")]),this.subEntityFormGroup.controls.searchProjectExporterId.updateValueAndValidity())}ngOnDestroy(){this.ref&&this.ref.close()}}return(o=s).\u0275fac=function(i){return new(i||o)(e.Y36(l.U_o),e.Y36(O.xA),e.Y36(T.ez),e.Y36(C.F0),e.Y36(y.n),e.Y36(a.f))},o.\u0275cmp=e.Xpm({type:o,selectors:[["emigrate-employement-details"]],inputs:{subEntityFormGroup:"subEntityFormGroup",typeofEventuality:"typeofEventuality",countries:"countries",complaintsForm:"complaintsForm"},outputs:{activeIndex:"activeIndex",userTypes:"userTypes"},decls:57,vars:40,consts:[[1,"container","form","content","info-table","p-0"],[3,"pageSubTitle"],[1,"table-border"],["autocomplete","off",3,"formGroup"],[4,"ngIf"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"field"],["inputLabel","Are the above association details same ?","inputId","associationDetails",1,"block",3,"inputFormControl"],[1,"d-flex","align-items-center"],["name","associationDetails","value","yes","inputId","no","formControlName","associationDetails",3,"click"],["for","yes",1,"ml-2","mr-2","mb-0"],["name","associationDetails","value","no","inputId","no","formControlName","associationDetails",3,"click"],["for","no",1,"ml-2","mb-0"],[3,"hidden"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"content","info-table","mt-3"],[1,"buttons","mt-3"],["pButton","","type","button","label","Previous",1,"btn-format","mr-2","btn-blue",3,"click"],["pButton","","type","button","label","Cancel",1,"btn-format","mr-2","btn-blue",3,"click"],["pButton","","type","button","label","Save & Next",1,"btn-format","btn-blue",3,"click"],["re",""],["reforinbothcase",""],["fe",""],["pe",""],["for","employerId","inputLabel","Foreign Employer ID","inputId","employerID",1,"block",3,"inputRequired","inputFormControl"],["id","employerId","type","text","pInputText","","formControlName","employerId"],["for","employerName","inputLabel","Foreign Employer Name","inputId","employerName",1,"block",3,"inputRequired","inputFormControl"],["id","employerName","type","text","pInputText","","formControlName","employerName"],["for","permitId","inputLabel","Demand Id","inputId","permitId",1,"block",3,"inputRequired","inputFormControl"],["id","permitId","type","text","pInputText","","formControlName","permitId"],["for","jobId","inputLabel","Job id","inputId","jobId",1,"block",3,"inputRequired","inputFormControl"],["id","jobId","type","text","pInputText","","formControlName","jobId"],["for","recruitingAgentId","inputLabel","Recruiting Agent ID ","inputId","recruitingAgentId",1,"block",3,"inputRequired","inputFormControl"],["id","recruitingAgentId","type","text","pInputText","","formControlName","recruitingAgentId"],["for","recruitingAgentName","inputLabel","Recruiting Agent Name","inputId","recruitingAgentName",1,"block",3,"inputRequired","inputFormControl"],["id","recruitingAgentName","maxlength","100","type","text","pInputText","","formControlName","recruitingAgentName"],["for","demandId","inputLabel","Demand ID","inputId","demandId",1,"block",3,"inputRequired","inputFormControl"],["id","demandId","type","text","pInputText","","formControlName","demandId"],["for","jobId","inputLabel","Job ID","inputId","jobId",1,"block",3,"inputRequired","inputFormControl"],["for","projectExporterId","inputLabel","Project Exporter ID ","inputId","projectExporterId",1,"block",3,"inputRequired","inputFormControl"],["id","projectExporterId","type","text","pInputText","","formControlName","projectExporterId"],["for","projectExporterName","inputLabel","Project Exporter Name","inputId","projectExporterName",1,"block",3,"inputRequired","inputFormControl"],["id","projectExporterName","type","text","pInputText","","formControlName","projectExporterName"],["for","permitId","inputLabel","Permit ID","inputId","permitId",1,"block",3,"inputRequired","inputFormControl"],["for","employerId","inputLabel","Employer ID","inputId","employerID",1,"block",3,"inputRequired","inputFormControl"],["for","employerName","inputLabel","Name of the Employer ","inputId","employerName",1,"block",3,"inputRequired","inputFormControl"],["id","employerName","maxlength","100","type","text","pInputText","","formControlName","employerName"],["id","recruitingAgentName","type","text","pInputText","","formControlName","recruitingAgentName"],["class","field",4,"ngIf"],["for","11","inputLabel","Recruiting Agent ID","inputId","searchRecruitingAgentId",1,"block",3,"inputRequired","inputFormControl"],[1,"card","flex","flex-wrap","justify-content-center","gap-3"],[1,"p-input-icon-right"],[1,"pi","pi-search",3,"click"],["type","text","maxlength","13","pInputText","","id","searchRecruitingAgentId","formControlName","searchRecruitingAgentId",3,"input"],["searchRecruitingAgentIdValue2",""],["class","col-md-4 col-sm-6",4,"ngIf"],["for","8","inputLabel","Foreign Employer ID","inputId","searchEmployerId",3,"inputRequired","inputFormControl"],["type","text","maxlength","13","pInputText","","id","searchEmployerId","formControlName","searchEmployerId",3,"input"],["searchEmployerIdValue2",""],["for","11","inputLabel","Project Exporter ID ","inputId","searchProjectExporterId",1,"block",3,"inputFormControl"],["type","text","maxlength","13","pInputText","","id","searchProjectExporterId","formControlName","searchProjectExporterId",3,"input"],["searchProjectExporterIdValue",""],["searchEmployerIdValue",""],["type","text","maxlength","13","pInputText","","formControlName","searchRecruitingAgentId","id","searchRecruitingAgentId",3,"input"],["searchRecruitingAgentIdValue",""],["pButton","","type","button","label","Clear",1,"btn-format","mr-2","btn-blue",3,"click"],["pButton","","type","button","label","Add to List",1,"btn-format","btn-blue",3,"click"],["class","row",4,"ngIf"],[1,"col-md-12","col-sm-6"],[3,"value"],["pTemplate","header"],["pTemplate","body"],[4,"ngIf","ngIfElse"],["projectExporter",""],[4,"ngFor","ngForOf"],[3,"formGroup"],["for","searchRecruitingAgentName","inputLabel","Recruiting Agent Name","inputId","searchRecruitingAgentName",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","searchRecruitingAgentName","maxlength","100","type","text","pInputText","","formControlName","searchRecruitingAgentName"],["for","lastName","inputLabel","Last Name","inputId","lastName",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","lastName","maxlength","50","type","text","pInputText","","formControlName","lastName"],["for","address","inputLabel"," Address","inputId","address",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","address","maxlength","200","formControlName","address",1,"p-inputtext"],["for","email","inputLabel"," Email","inputId","email",1,"block",3,"inputRequired","inputFormControl"],["id","email","maxlength","50","type","text","pInputText","","formControlName","email"],["for","landlineNumber","inputLabel","Landline Number","inputId","landlineNumber",1,"block",3,"inputRequired","inputFormControl"],["id","landlineNumber","maxlength","15","type","text","pInputText","","formControlName","landlineNumber"],["for","mobileNumber","inputLabel"," Mobile Number","inputId","mobileNumber",1,"block",3,"inputRequired","inputFormControl"],["id","mobileNumber","maxlength","15","type","text","pInputText","","formControlName","mobileNumber"],["for","lastNameNew","inputLabel","Last Name","inputId","lastNameNew",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","lastNameNew","maxlength","50","type","text","pInputText","","formControlName","lastNameNew"],["for","addressNew","inputLabel"," Address","inputId","addressNew",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","addressNew","maxlength","200","formControlName","addressNew",1,"p-inputtext"],["for","emailNew","inputLabel"," Email","inputId","emailNew",1,"block",3,"inputRequired","inputFormControl"],["id","emailNew","maxlength","50","type","text","pInputText","","formControlName","emailNew"],["for","landlineNumberNew","inputLabel","Landline Number","inputId","landlineNumberNew",1,"block",3,"inputRequired","inputFormControl"],["id","landlineNumberNew","maxlength","15","type","text","pInputText","","formControlName","landlineNumberNew"],["for","mobileNumberNew","inputLabel"," Mobile Number","inputId","mobileNumberNew",1,"block",3,"inputRequired","inputFormControl"],["id","mobileNumberNew","maxlength","15","type","text","pInputText","","formControlName","mobileNumberNew"],["for","searchEmployerName","inputLabel","Name of the Employer","inputId","searchEmployerName",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","searchEmployerName","maxlength","100","type","text","pInputText","","formControlName","searchEmployerName"],["for","searchProjectExporterName","inputLabel","Project Exporter Name","inputId","searchProjectExporterName",1,"block",3,"inputRequired","inputFormControl"],["id","searchProjectExporterName","maxlength","100","type","text","pInputText","","formControlName","searchProjectExporterName"]],template:function(i,t){if(1&i&&(e.TgZ(0,"div",0),e._UZ(1,"emigrate-sh-page-sub-title",1),e.TgZ(2,"div",2)(3,"form",3),e.YNc(4,ge,18,8,"div",4),e.YNc(5,he,19,8,"div",4),e.YNc(6,be,19,8,"div",4),e.YNc(7,fe,27,12,"div",4),e.TgZ(8,"div",5)(9,"div",6)(10,"div",7)(11,"emigrate-sh-html-input",8)(12,"div",9)(13,"span")(14,"p-radioButton",10),e.NdJ("click",function(){return t.handleRadio()}),e.qZA(),e.TgZ(15,"label",11),e._uU(16,"Yes"),e.qZA()(),e.TgZ(17,"span")(18,"p-radioButton",12),e.NdJ("click",function(){return t.handleRadio()}),e.qZA(),e.TgZ(19,"label",13),e._uU(20,"No"),e.qZA()()()()()(),e.YNc(21,_e,3,1,"ng-container",4),e.YNc(22,Fe,2,1,"ng-container",4),e.YNc(23,Ne,3,1,"ng-container",4),e.YNc(24,Ee,2,1,"ng-container",4),e.qZA(),e.TgZ(25,"div",14)(26,"div",14)(27,"div",5),e.YNc(28,De,1,0,"ng-container",15),e.qZA()(),e.TgZ(29,"div",14)(30,"div",5),e.YNc(31,xe,1,0,"ng-container",15),e.qZA()(),e.TgZ(32,"div",14)(33,"div",5),e.YNc(34,Ie,1,0,"ng-container",15),e.qZA()(),e.TgZ(35,"div",14)(36,"div",5),e.YNc(37,Ge,1,0,"ng-container",15),e.qZA(),e._UZ(38,"hr"),e.TgZ(39,"div",5),e.YNc(40,Se,1,0,"ng-container",15),e.qZA()()()()(),e.YNc(41,Ae,4,0,"ng-container",4),e.TgZ(42,"div",16),e.YNc(43,Ve,2,1,"div",4),e.YNc(44,Ke,3,2,"div",4),e.qZA(),e.TgZ(45,"div",17)(46,"button",18),e.NdJ("click",function(){return t.previous()}),e.qZA(),e.TgZ(47,"button",19),e.NdJ("click",function(){return t.redirectToHome()}),e.qZA(),e.TgZ(48,"button",20),e.NdJ("click",function(){return t.getNextTab()}),e.qZA()()(),e.YNc(49,He,25,16,"ng-template",null,21,e.W1O),e.YNc(51,ze,25,16,"ng-template",null,22,e.W1O),e.YNc(53,Xe,25,16,"ng-template",null,23,e.W1O),e.YNc(55,We,25,15,"ng-template",null,24,e.W1O)),2&i){const n=e.MAs(50),m=e.MAs(52),h=e.MAs(54),_=e.MAs(56);e.xp6(1),e.Q6J("pageSubTitle","Employment Details"),e.xp6(2),e.Q6J("formGroup",t.subEntityFormGroup),e.xp6(1),e.Q6J("ngIf",t.isEmployer),e.xp6(1),e.Q6J("ngIf",t.isRecurting),e.xp6(1),e.Q6J("ngIf",t.isProjectExporter),e.xp6(1),e.Q6J("ngIf",t.isBoth),e.xp6(4),e.Q6J("inputFormControl",t.subEntityFormGroup.controls.associationDetails),e.xp6(10),e.Q6J("ngIf",t.isRecurting),e.xp6(1),e.Q6J("ngIf",t.isEmployer),e.xp6(1),e.Q6J("ngIf",t.isProjectExporter),e.xp6(1),e.Q6J("ngIf",t.isBoth),e.xp6(1),e.Q6J("hidden",-1===e.DdM(29,$e).indexOf(t.subEntityFormGroup.controls.associationDetails.value)),e.xp6(1),e.Q6J("hidden",!t.isRecurting),e.xp6(2),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(30,S,t.subEntityFormGroup)),e.xp6(1),e.Q6J("hidden",!t.isEmployer),e.xp6(2),e.Q6J("ngTemplateOutlet",h)("ngTemplateOutletContext",e.VKq(32,S,t.subEntityFormGroup)),e.xp6(1),e.Q6J("hidden",!t.isProjectExporter),e.xp6(2),e.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",e.VKq(34,S,t.subEntityFormGroup)),e.xp6(1),e.Q6J("hidden",!t.isBoth),e.xp6(2),e.Q6J("ngTemplateOutlet",h)("ngTemplateOutletContext",e.VKq(36,S,t.subEntityFormGroup)),e.xp6(3),e.Q6J("ngTemplateOutlet",m)("ngTemplateOutletContext",e.VKq(38,S,t.subEntityFormGroup)),e.xp6(1),e.Q6J("ngIf","no"===t.subEntityFormGroup.controls.associationDetails.value),e.xp6(2),e.Q6J("ngIf",!t.isBoth&&"no"===t.subEntityFormGroup.controls.associationDetails.value),e.xp6(1),e.Q6J("ngIf",t.isBoth&&"no"===t.subEntityFormGroup.controls.associationDetails.value)}},dependencies:[p.sg,p.O5,p.tP,u._Y,u.Fj,u.JJ,u.JL,u.nD,u.sg,u.u,c.KR,c.jZ,T.jx,b.Hq,D.o,k.iA,G.EU]}),s})();function tt(o,s){if(1&o){const r=e.EpF();e.TgZ(0,"div",4)(1,"div",15)(2,"span",18)(3,"span"),e._uU(4),e.qZA()()(),e.TgZ(5,"div",16),e.NdJ("click",function(){const n=e.CHM(r).index,m=e.oxw(2);return e.KtG(m.currentChild=5+n)}),e.TgZ(6,"emigrate-sh-file-upload",17),e.NdJ("uploadedFile",function(t){e.CHM(r);const n=e.oxw(2);return e.KtG(n.documentData(t))}),e.qZA()()()}if(2&o){const r=s.index,i=e.oxw(2);e.xp6(4),e.hij("Optional attachment ",r+1,""),e.xp6(2),e.Q6J("documentId",5+r)("maxFileSize",i.maxFileSize)("documentTypeCode","MOR-OPT"+(r+1))}}function it(o,s){if(1&o&&(e.ynx(0),e.YNc(1,tt,7,4,"div",28),e.BQk()),2&o){const r=e.oxw();e.xp6(1),e.Q6J("ngForOf",r.numbers)}}let q=(()=>{var o;class s{constructor(i,t){this.fb=i,this.messageService=t,this.maxFileSize=l.Xef.MAX_FILE_SIZE_512KB,this.numbers=Array(9),this.currentChild=0,this.grievanceForm=!0}clearFilesArray(){this.child.forEach(i=>i.clearFile()),this.documents.reset()}documentData(i){if(i)switch(i.action){case l.Xef.ACTION.ADD:this.documents.push(this.fb.group({fkDocTypeCd:"Adhar",docVersionNumber:i.data.id,fileName:i.data.name,fileContent:i.data.file,type:i.data.type,size:i.data.size,extension:i.data.extension,documentTypeCode:i.data.documentTypeCode}));break;case l.Xef.ACTION.REMOVE:this.documents.removeAt(this.documents.value.findIndex(t=>t.id===i.data.id))}}get documents(){return this.subToSubEntityFormGroupTab.controls.listOfGrievanceDocument}get grievanceDetailsForm(){return this.subToSubEntityFormGroupTab.controls.grievanceDetails}clearMaxSizeFile(i){let t=!0;return i&&i?.data?.size>512&&(this.messageService.add({severity:"error",summary:"File size should not be more than 512KB"}),this.child.forEach((n,m)=>{n.documentId===this.currentChild&&(console.log(n,m),n.clearFile(),t=!1)})),t}}return(o=s).\u0275fac=function(i){return new(i||o)(e.Y36(u.qu),e.Y36(T.ez))},o.\u0275cmp=e.Xpm({type:o,selectors:[["emigrate-gr-grievance"]],viewQuery:function(i,t){if(1&i&&e.Gf(c.Yr,5),2&i){let n;e.iGM(n=e.CRH())&&(t.child=n)}},inputs:{grievancetype:"grievancetype",subToSubEntityFormGroupTab:"subToSubEntityFormGroupTab"},decls:69,vars:26,consts:[[1,"container","form","content","info-table","p-0"],[3,"pageSubTitle"],[1,"table-border"],[1,"form"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","1","inputLabel","Grievance Type","inputId","grievancetype",1,"block",3,"inputRequired","inputFormControl"],["id","grievancetype","placeholder","Select an option","EmigrateShDropdown","",3,"formControl","options"],["for","2","inputLabel","Number of Affected Users","inputId","attachedusers",1,"block",3,"inputRequired","inputFormControl"],["id","attachedusers","maxlength","3","type","text","pInputText","",3,"formControl"],["for","3","inputLabel","Grievance details","inputId","grievancedetails",1,"block",3,"inputFormControl"],["maxlength","1000","id","grievancedetails","type","text","rows","3","cols","20",1,"p-inputtext",3,"formControl"],[1,"col-md-12"],[1,"p-0","mb-4","file-upload-listing"],[1,"col-md-6"],[1,"col-md-6",3,"click"],[3,"documentId","maxFileSize","documentTypeCode","uploadedFile"],[1,"mr-3"],[1,"col-md-6","col-sm-6"],[1,"field","d-flex","align-items-center"],[1,"block"],[1,"d-flex","align-items-center"],["name","moreOptionalAttachments","value","Y",1,"mr-2",3,"formControl"],["for","1",1,"mr-5","mb-0"],["name","moreOptionalAttachments","value","N",1,"mr-2",3,"formControl"],["for","2",1,"mr-5","mb-0"],[4,"ngIf"],["class","row",4,"ngFor","ngForOf"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0),e._UZ(1,"emigrate-sh-page-sub-title",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"emigrate-sh-html-input",7),e._UZ(8,"p-dropdown",8),e.qZA()()(),e.TgZ(9,"div",5)(10,"div",6)(11,"emigrate-sh-html-input",9),e._UZ(12,"input",10),e.qZA()()()(),e.TgZ(13,"div",4)(14,"div",5)(15,"div",6)(16,"emigrate-sh-html-input",11),e._UZ(17,"textarea",12),e.qZA()()()()()()(),e.TgZ(18,"div",0)(19,"div"),e._UZ(20,"emigrate-sh-page-sub-title",1),e.qZA(),e.TgZ(21,"div",2)(22,"div",3)(23,"div",4)(24,"div",13)(25,"div",14)(26,"div",4)(27,"div",15)(28,"span"),e._uU(29,"1. Death Certificate"),e.qZA()(),e.TgZ(30,"div",16),e.NdJ("click",function(){return t.currentChild=1}),e.TgZ(31,"emigrate-sh-file-upload",17),e.NdJ("uploadedFile",function(m){return t.documentData(m)}),e.qZA()()(),e.TgZ(32,"div",4)(33,"div",15)(34,"span"),e._uU(35,"2. Medical Proof of Disability"),e.qZA()(),e.TgZ(36,"div",16),e.NdJ("click",function(){return t.currentChild=2}),e.TgZ(37,"emigrate-sh-file-upload",17),e.NdJ("uploadedFile",function(m){return t.documentData(m)}),e.qZA()()(),e.TgZ(38,"div",4)(39,"div",15)(40,"span",18)(41,"span"),e._uU(42,"3. Pay Slip "),e.qZA()()(),e.TgZ(43,"div",16),e.NdJ("click",function(){return t.currentChild=3}),e.TgZ(44,"emigrate-sh-file-upload",17),e.NdJ("uploadedFile",function(m){return t.documentData(m)}),e.qZA()()(),e.TgZ(45,"div",4)(46,"div",15)(47,"span",18)(48,"span"),e._uU(49,"4. Optional Attachment "),e.qZA()()(),e.TgZ(50,"div",16),e.NdJ("click",function(){return t.currentChild=4}),e.TgZ(51,"emigrate-sh-file-upload",17),e.NdJ("uploadedFile",function(m){return t.documentData(m)}),e.qZA()()(),e.TgZ(52,"div",4)(53,"div",19)(54,"div",20)(55,"label",21),e._uU(56,"5. More Optional Attachments? "),e.qZA()()(),e.TgZ(57,"div",19)(58,"div",20)(59,"div",22)(60,"span"),e._UZ(61,"p-radioButton",23),e.TgZ(62,"label",24),e._uU(63,"Yes"),e.qZA()(),e.TgZ(64,"span"),e._UZ(65,"p-radioButton",25),e.TgZ(66,"label",26),e._uU(67,"No"),e.qZA()()()()()(),e.YNc(68,it,2,1,"ng-container",27),e.qZA()()()()()()),2&i&&(e.xp6(1),e.Q6J("pageSubTitle","Grievance Details"),e.xp6(6),e.Q6J("inputRequired",!1)("inputFormControl",t.grievanceDetailsForm.controls.grievance),e.xp6(1),e.Q6J("formControl",t.grievanceDetailsForm.controls.grievance)("options",t.grievancetype),e.xp6(3),e.Q6J("inputRequired",!1)("inputFormControl",t.grievanceDetailsForm.controls.numberOfAffetecdUsers),e.xp6(1),e.Q6J("formControl",t.grievanceDetailsForm.controls.numberOfAffetecdUsers),e.xp6(4),e.Q6J("inputFormControl",t.grievanceDetailsForm.controls.grievanceDetails),e.xp6(1),e.Q6J("formControl",t.grievanceDetailsForm.controls.grievanceDetails),e.xp6(3),e.Q6J("pageSubTitle","List of Documents"),e.xp6(11),e.Q6J("documentId",1)("maxFileSize",t.maxFileSize)("documentTypeCode","CERT-DT"),e.xp6(6),e.Q6J("documentId",2)("maxFileSize",t.maxFileSize)("documentTypeCode","MED-DPRF"),e.xp6(7),e.Q6J("documentId",3)("maxFileSize",t.maxFileSize)("documentTypeCode","PAY-REC"),e.xp6(7),e.Q6J("documentId",4)("maxFileSize",t.maxFileSize)("documentTypeCode","OPT"),e.xp6(10),e.Q6J("formControl",t.grievanceDetailsForm.controls.moreOptionalAttachments),e.xp6(4),e.Q6J("formControl",t.grievanceDetailsForm.controls.moreOptionalAttachments),e.xp6(3),e.Q6J("ngIf","Y"===t.grievanceDetailsForm.get("moreOptionalAttachments").value))},dependencies:[p.sg,p.O5,u.Fj,u.JJ,u.nD,u.oH,c.KR,c.jZ,c.Yr,c.lC,v.Lt,D.o,G.EU],styles:[".border[_ngcontent-%COMP%]{border:2px solid #424141;margin:0 15px 10px;width:97%;padding:44px;font-size:15px;font-weight:600}"]}),s})();const rt=["grGrievance"];function nt(o,s){if(1&o&&(e.TgZ(0,"div",10)(1,"div",11),e._UZ(2,"emigrate-sh-page-title",12)(3,"emigrate-sh-page-instructions",13),e.qZA(),e.TgZ(4,"div",14),e._UZ(5,"emigrate-sh-page-sub-title",15),e.TgZ(6,"div",16)(7,"div",11)(8,"p",17),e._uU(9),e.qZA()()()()()),2&o){const r=e.oxw();e.xp6(2),e.Q6J("pageTitle","Grievance Submission"),e.xp6(1),e.Q6J("instructionsText","Fields marked with * (asterisk) are mandatory. To avoid mistakes,\n    please refer guidelines & instructions")("toolTipText","1. Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions."),e.xp6(2),e.Q6J("pageSubTitle"," Grievance Submitted Successfully"),e.xp6(4),e.hij(" Your Grievance Reference Number ",null==r.response?null:r.response.arn," Please quote this for any further communication regarding your grievance ")}}function ot(o,s){if(1&o&&(e.TgZ(0,"p",17),e._uU(1),e.qZA()),2&o){const r=e.oxw();e.xp6(1),e.hij(" Your Grievance Reference Number ",null==r.response?null:r.response.arn," Please quote this for any further communication regarding your grievance ")}}let at=(()=>{var o;class s{constructor(i,t,n,m,h){this.formHelper=i,this._submitGrievance=t,this.messageService=n,this.uiService=m,this.sessionQuery=h,this.grievancetype=[],this.activeIndex=new e.vpe,this.submitEvent=new e.vpe,this.isSubmitGrievanceValidated=!1,this.maxFileSize=l.Xef.MAX_FILE_SIZE_512KB,this.formSubmitted=!1,this.response={}}ngOnInit(){this.user=this.sessionQuery.user,this.getGriveanceType()}getGriveanceType(){this._submitGrievance.getGriveanceType().subscribe(i=>{this.grievancetype=i?.data?i.data.map(t=>({label:t.name,value:t.shortName})):[]})}get grievanceDetailsFormGroup(){return this.grievanceDetails.controls.grievanceDetails}getPreviousTab(){this.activeIndex.emit(1)}clear(){this.child.clearFilesArray(),this.grievanceDetails.reset()}isdocumentListValid(){const i=this.grGrievance.documents.getRawValue();let t=0;return i.forEach(n=>{t+=n.file.size}),i.length<3?(this.messageService.add({severity:"error",summary:"Please upload all required document"}),!1):!(t>this.maxFileSize&&(this.messageService.add({severity:"error",summary:"combined file size not more than 4MB"}),1))}submit(){if(this.grievanceDetails.markAllAsTouched(),this.grievanceDetails.valid){if(this.grievanceDetails.controls.grievanceDetails.markAllAsTouched(),this.grievanceDetails.controls.grievanceDetails.valid){if(this.uiService.showSpinner(),this.user?.userId){let t=this.user?.userId.toString();this.complaintDetails.get("complaintDetails").get("userId").setValue(t)}const i=Object.assign(new l.J3x,this.formHelper.grievanceRegistrationFormApiPayload(this.grievanceRegistrationFormGroup,this.complaintDetails));this._submitGrievance.validateSgRegistration(i).subscribe(t=>{this.uiService.hideSpinner(),t.status.toLowerCase()!==l.Xef.SUCCESS?(this.showErrorToast(t.message),this.submitEvent.emit(!1)):(this.formSubmitted=!0,this.response=t?.data?t.data:{},this.showSuccessToast(t.message),this.submitEvent.emit(t),window.scroll(0,0))},t=>{this.uiService.hideSpinner(),this.isSubmitGrievanceValidated=!1,this.submitEvent.emit(!1),this.showErrorToast(t)})}}else this.messageService.add({severity:"error",summary:"Submit Grievance",detail:l.rmt.DEFAULT_IF_VALIDATION_PENDING})}showErrorToast(i){this.messageService.add({severity:"error",detail:i})}showSuccessToast(i){this.messageService.add({severity:"success",summary:"Submit Grievance",detail:i})}previous(){let i=this.complaintDetails.getRawValue();i?.complaintDetails&&i.complaintDetails?.grievanceAgainst&&this.activeIndex.emit("GA_OTH"===i.complaintDetails.grievanceAgainst?0:1)}}return(o=s).\u0275fac=function(i){return new(i||o)(e.Y36(g.K),e.Y36(a.f),e.Y36(T.ez),e.Y36(y.n),e.Y36(l.U_o))},o.\u0275cmp=e.Xpm({type:o,selectors:[["emigrate-grievance-details"]],viewQuery:function(i,t){if(1&i&&(e.Gf(q,7),e.Gf(rt,5)),2&i){let n;e.iGM(n=e.CRH())&&(t.child=n.first),e.iGM(n=e.CRH())&&(t.grGrievance=n.first)}},inputs:{grievanceDetails:"grievanceDetails",complaintDetails:"complaintDetails",grievanceRegistrationFormGroup:"grievanceRegistrationFormGroup"},outputs:{activeIndex:"activeIndex",submitEvent:"submitEvent"},decls:12,vars:5,consts:[[3,"hidden"],[3,"formGroup"],[3,"subToSubEntityFormGroupTab","grievancetype"],[1,"buttons","mt-3"],["pButton","","type","button","label","Previous",1,"btn-format","mr-2","btn-blue",3,"click"],["pButton","","type","button","label","Cancel","routerLink","./../../../admin",1,"btn-format","mr-2","btn-blue"],["pButton","","type","button","label","Clear",1,"btn-format","mr-2","btn-blue",3,"click"],["pButton","","type","button","label","Submit",1,"btn-format","btn-blue",3,"click"],["class","container",4,"ngIf"],["grievanceSubmisson",""],[1,"container"],[1,"row"],[3,"pageTitle"],[3,"instructionsText","toolTipText"],[1,"content"],[3,"pageSubTitle"],[1,"form"],[1,"update"]],template:function(i,t){1&i&&(e._UZ(0,"p-toast"),e.TgZ(1,"div",0)(2,"form",1),e._UZ(3,"emigrate-gr-grievance",2),e.TgZ(4,"div",3)(5,"button",4),e.NdJ("click",function(){return t.previous()}),e.qZA(),e._UZ(6,"button",5),e.TgZ(7,"button",6),e.NdJ("click",function(){return t.clear()}),e.qZA(),e.TgZ(8,"button",7),e.NdJ("click",function(){return t.submit()}),e.qZA()()()(),e.YNc(9,nt,10,5,"div",8),e.YNc(10,ot,2,1,"ng-template",null,9,e.W1O)),2&i&&(e.xp6(1),e.Q6J("hidden",t.formSubmitted),e.xp6(1),e.Q6J("formGroup",t.grievanceDetails),e.xp6(1),e.Q6J("subToSubEntityFormGroupTab",t.grievanceDetails)("grievancetype",t.grievancetype),e.xp6(6),e.Q6J("ngIf",t.formSubmitted))},dependencies:[p.O5,u._Y,u.JL,u.sg,c.TM,c.jZ,c.dB,C.rH,b.Hq,F.FN,q]}),s})();function st(o,s){if(1&o){const r=e.EpF();e.TgZ(0,"div")(1,"div",2)(2,"div",3),e._UZ(3,"emigrate-sh-page-title",4),e.qZA(),e.TgZ(4,"div",5),e._UZ(5,"emigrate-sh-page-instructions",6),e.qZA(),e.TgZ(6,"form",7)(7,"p-tabView",8),e.NdJ("activeIndexChange",function(t){e.CHM(r);const n=e.oxw();return e.KtG(n.activeIndex=t)}),e.TgZ(8,"p-tabPanel",9)(9,"emigrate-complaint-details",10),e.NdJ("activeIndex",function(t){e.CHM(r);const n=e.oxw();return e.KtG(n.setActiveIndex(t))}),e.qZA()(),e.TgZ(10,"p-tabPanel",11)(11,"emigrate-employement-details",12),e.NdJ("activeIndex",function(t){e.CHM(r);const n=e.oxw();return e.KtG(n.setActiveIndex(t))}),e.qZA()(),e.TgZ(12,"p-tabPanel",13)(13,"emigrate-grievance-details",14),e.NdJ("activeIndex",function(t){e.CHM(r);const n=e.oxw();return e.KtG(n.setActiveIndex(t))})("submitEvent",function(t){e.CHM(r);const n=e.oxw();return e.KtG(n.submit(t))}),e.qZA()()()()()()}if(2&o){const r=e.oxw();e.xp6(3),e.Q6J("pageTitle","Grievance Registration Form"),e.xp6(2),e.Q6J("instructionsText","Fields marked with * (asterisk) are mandatory. To avoid mistakes,\n    please refer guidelines & instructions")("toolTipText","1. Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions."),e.xp6(1),e.Q6J("formGroup",r.grievanceRegistrationFormGroup),e.xp6(1),e.Q6J("activeIndex",r.activeIndex),e.xp6(1),e.Q6J("disabled",r.complaintDetailsDisabled),e.xp6(1),e.Q6J("complaintDetails",r.grievanceRegistrationComplaintDetails)("subEntityFormGroup",r.grievanceRegistrationEmploymentDetails),e.xp6(1),e.Q6J("disabled",r.employeeDetailsDisabled),e.xp6(1),e.Q6J("subEntityFormGroup",r.grievanceRegistrationEmploymentDetails)("complaintsForm",r.complaintsDetails),e.xp6(1),e.Q6J("disabled",r.grievanceDetailsDisabled),e.xp6(1),e.Q6J("grievanceDetails",r.grievanceDetails)("complaintDetails",r.grievanceRegistrationComplaintDetails)("grievanceRegistrationFormGroup",r.grievanceRegistrationFormGroup)}}function lt(o,s){if(1&o){const r=e.EpF();e.TgZ(0,"div",15)(1,"div",16)(2,"div",5),e._UZ(3,"emigrate-sh-page-title",4),e.qZA(),e._UZ(4,"emigrate-sh-page-sub-title",17),e.TgZ(5,"div",18)(6,"p",19),e._uU(7),e._UZ(8,"br"),e._uU(9," Please quote this for any further communication regarding your grievance "),e.qZA(),e.TgZ(10,"div",20)(11,"button",21),e.NdJ("click",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.redirectToLink())}),e.qZA()()()()()}if(2&o){const r=e.oxw();e.xp6(3),e.Q6J("pageTitle","Grievance Submission"),e.xp6(1),e.Q6J("pageSubTitle"," Grievance Submitted Successfully"),e.xp6(3),e.hij(" Your Grievance Reference Number ",null==r.arnData||null==r.arnData.data?null:r.arnData.data.arn,"")}}let ut=(()=>{var o;class s{constructor(i,t){this.router=i,this.routerQuery=t,this.activeIndex=0,this.complaintDetailsDisabled=!0,this.employeeDetailsDisabled=!0,this.grievanceDetailsDisabled=!0,this.complaintsDetails={},this.backEvent=new e.vpe,this.formSubmitted=!1,this.arnData={}}get grievanceRegistrationComplaintDetails(){return this.grievanceRegistrationFormGroup.controls.complaintDetailsTab}get grievanceRegistrationEmploymentDetails(){return this.grievanceRegistrationFormGroup.controls.employmentDetails}get grievanceDetails(){return this.grievanceRegistrationFormGroup.controls.grievanceDetailsTab}ngOnInit(){this.isInternalUser=this.routerQuery.getData("userType")===l.Xef.USER_TYPE}setActiveIndex(i){this.activeIndex=i,1==this.activeIndex?(this.complaintDetailsDisabled=!0,this.grievanceDetailsDisabled=!0,this.employeeDetailsDisabled=!1):2==this.activeIndex?(this.complaintDetailsDisabled=!0,this.employeeDetailsDisabled=!0,this.grievanceDetailsDisabled=!1):0==this.activeIndex?(this.employeeDetailsDisabled=!0,this.grievanceDetailsDisabled=!0,this.complaintDetailsDisabled=!1):4==this.activeIndex&&this.backEvent.emit(),1==this.activeIndex&&(this.complaintsDetails={...this.complaintsDetails,...this.grievanceRegistrationComplaintDetails.getRawValue()})}submit(i){!1!==i&&(this.formSubmitted=!0,this.arnData=i),this.formSubmitted=i,this.formSubmitted=i;let t=this.grievanceRegistrationFormGroup.value;t=Object.assign(t,t.complaintDetailsTab),delete t.complaintDetailsTab,t=Object.assign(t,t.grievanceDetailsTab),delete t.grievanceDetailsTab,delete t.passportDetails}redirectToLink(){this.router.navigate(this.isInternalUser?["admin/dashboard"]:["emigrate"])}}return(o=s).\u0275fac=function(i){return new(i||o)(e.Y36(C.F0),e.Y36(N.dt))},o.\u0275cmp=e.Xpm({type:o,selectors:[["emigrate-grievance-registration-form"]],inputs:{grievanceRegistrationFormGroup:"grievanceRegistrationFormGroup"},outputs:{backEvent:"backEvent"},decls:2,vars:2,consts:[[4,"ngIf"],["class","container",4,"ngIf"],[1,"p-3"],[1,"row","header-background"],[3,"pageTitle"],[1,"row"],[3,"instructionsText","toolTipText"],[3,"formGroup"],[1,"custom_tabs",3,"activeIndex","activeIndexChange"],["header","Complainant Details",3,"disabled"],[3,"complaintDetails","subEntityFormGroup","activeIndex"],["header","Employment Details",3,"disabled"],[3,"subEntityFormGroup","complaintsForm","activeIndex"],["header","Grievance Details",3,"disabled"],[3,"grievanceDetails","complaintDetails","grievanceRegistrationFormGroup","activeIndex","submitEvent"],[1,"container"],[1,"content","info-table"],[3,"pageSubTitle"],[1,"form"],[1,"update"],[1,"buttons"],["pButton","","type","button","label","Close",1,"p-button-secondary","btn-blue","btn-format",3,"click"]],template:function(i,t){1&i&&(e.YNc(0,st,14,15,"div",0),e.YNc(1,lt,12,3,"div",1)),2&i&&(e.Q6J("ngIf",!t.formSubmitted),e.xp6(1),e.Q6J("ngIf",t.formSubmitted))},dependencies:[p.O5,u._Y,u.JL,u.sg,c.TM,c.jZ,c.dB,b.Hq,R.xf,R.x4,X,et,at],styles:[".update[_ngcontent-%COMP%]{border:1px solid #cdcdcd;height:100%;padding:60px;font-size:13px;font-weight:600;text-align:center}.button[_ngcontent-%COMP%]{text-align:center}"]}),s})();function mt(o,s){if(1&o){const r=e.EpF();e.TgZ(0,"div",20)(1,"div",4)(2,"div",5),e._UZ(3,"emigrate-sh-page-title",6),e.qZA(),e._UZ(4,"emigrate-sh-page-instructions",8)(5,"emigrate-sh-page-sub-title",9),e.TgZ(6,"div",11)(7,"div",7),e._UZ(8,"emigrate-sg-user-details",21),e.qZA()(),e.TgZ(9,"div",7)(10,"div",13)(11,"div",14)(12,"button",22),e.NdJ("click",function(){e.CHM(r);const t=e.oxw(2);return e.KtG(t.saveUser())}),e.qZA()()()()()()}if(2&o){const r=e.oxw(2);e.xp6(3),e.Q6J("pageTitle","Submit Grievance"),e.xp6(1),e.Q6J("instructionsText",r.pageInstructionText)("toolTipText",r.pageInstructionHelpText),e.xp6(1),e.Q6J("pageSubTitle","Emigrant Details"),e.xp6(3),e.Q6J("entityFormGroup",r.userSgDetailsFormGroup)}}function pt(o,s){if(1&o){const r=e.EpF();e.TgZ(0,"div",20)(1,"div",4)(2,"div",5),e._UZ(3,"emigrate-sh-page-title",6),e.qZA(),e.TgZ(4,"div",7),e._UZ(5,"emigrate-sh-page-instructions",8),e.qZA(),e.TgZ(6,"emigrate-sh-page-sub-title",9)(7,"span"),e._uU(8,"*"),e.qZA()(),e.TgZ(9,"div",11)(10,"div",7)(11,"emigrate-sg-otp-details",23),e.NdJ("reSend",function(t){e.CHM(r);const n=e.oxw(2);return e.KtG(n.resend(t))})("validate",function(t){e.CHM(r);const n=e.oxw(2);return e.KtG(n.validate(t))})("redirectToHome",function(t){e.CHM(r);const n=e.oxw(2);return e.KtG(n.redirectToHome(t))}),e.qZA()()()()()}if(2&o){const r=e.oxw(2);e.xp6(3),e.Q6J("pageTitle","Submit Grievance"),e.xp6(2),e.Q6J("instructionsText","Fields marked with * (asterisk) are mandatory. To avoid mistakes,\n        please refer guidelines & instructions")("toolTipText","1. Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions."),e.xp6(1),e.Q6J("pageSubTitle","OTP Verification"),e.xp6(5),e.Q6J("entityFormGroup",r.otpSgDetailsFormGroup)("entityFormGroupTwo",r.userSgDetailsFormGroup)}}function ct(o,s){if(1&o&&(e.TgZ(0,"div")(1,"form",2),e.YNc(2,mt,13,5,"div",18),e.qZA(),e.TgZ(3,"form",2),e.YNc(4,pt,12,6,"div",18),e.qZA()()),2&o){const r=e.oxw();e.xp6(1),e.Q6J("formGroup",r.submitGrievanceUserForm),e.xp6(1),e.Q6J("ngIf",r.user),e.xp6(1),e.Q6J("formGroup",r.submitGrievanceOtpForm),e.xp6(1),e.Q6J("ngIf",r.otp)}}function dt(o,s){if(1&o){const r=e.EpF();e.TgZ(0,"div",20)(1,"div",4)(2,"div",5),e._UZ(3,"emigrate-sh-page-title",6),e.qZA(),e._UZ(4,"emigrate-sh-page-sub-title",9),e.TgZ(5,"div",24)(6,"div",7),e.GkF(7,25),e.qZA()(),e.TgZ(8,"div",7)(9,"div",13)(10,"div",26)(11,"button",27),e.NdJ("click",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.backToPrev())}),e.qZA(),e.TgZ(12,"button",28),e.NdJ("click",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.proceedToRegistration())}),e.qZA()()()()()()}if(2&o){e.oxw();const r=e.MAs(24);e.xp6(3),e.Q6J("pageTitle","Submit Grievance"),e.xp6(1),e.Q6J("pageSubTitle","Submit Grievance"),e.xp6(3),e.Q6J("ngTemplateOutlet",r)}}function gt(o,s){if(1&o){const r=e.EpF();e.TgZ(0,"div",20)(1,"emigrate-grievance-registration-form",29),e.NdJ("backEvent",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.back())}),e.qZA()()}if(2&o){const r=e.oxw();e.xp6(1),e.Q6J("grievanceRegistrationFormGroup",r.submitGrievanceRegistrationForm)}}function ht(o,s){1&o&&(e.TgZ(0,"p"),e._uU(1," Emigration clearance details are not available for this passport number."),e._UZ(2,"br"),e._uU(3," Please click on proceed to submit the grievance or back to check the passport number once again. "),e.qZA())}function bt(o,s){1&o&&(e.TgZ(0,"p"),e._uU(1," Are you sure you don't have passport number. Entering passport number will expedite grievance resolution. "),e.qZA())}function ft(o,s){if(1&o&&(e.TgZ(0,"div",13)(1,"div",30),e.YNc(2,ht,4,0,"p",1),e.YNc(3,bt,2,0,"p",1),e.qZA()()),2&o){const r=e.oxw();e.xp6(2),e.Q6J("ngIf",null==r.emigrantResp?null:r.emigrantResp.emigrantPassportNumber),e.xp6(1),e.Q6J("ngIf",null===(null==r.emigrantResp?null:r.emigrantResp.emigrantPassportNumber))}}let vt=(()=>{var o;class s extends c.H6{constructor(i,t,n,m,h,_,E,_t){super(h),this.sessionQuery=i,this.router=t,this.uiService=n,this.routerQuery=m,this._submitGrievanceService=_,this.helperService=E,this.raiseaDemandHelper=_t,this.pageInstructionText=l.Xef.PAGE_INSTRUCTION_TEXT,this.pageInstructionHelpText=l.Xef.PAGE_INSTRUCTION_HELP_TEXT,this.user=!0,this.otp=!1,this.eDetails=!1,this.documents=!1,this.submit=!1,this.grievanceRegistrationForm=!1,this.emigrantResp={},this.isInternalUser=!1,this.userInfo=this.sessionQuery.user,this.Resend=new e.vpe}ngOnInit(){this.initForm()}initForm(){this.countries=this.routerQuery.getData()[0][l.eUh.COUNTRY],this.state=this.routerQuery.getData()[0][l.eUh.STATE],this.isInternalUser=this.routerQuery.getData("userType")===l.Xef.USER_TYPE,this.submitGrievanceUserForm=this.helperService.createGrievanceUserForm(!1,this.isInternalUser),this.submitGrievanceOtpForm=this.helperService.createGrievanceOtpForm(!1,this.isInternalUser),this.submitGrievanceEmigrantForm=this.helperService.createGrievanceEmigrantForm(!1,this.isInternalUser),this.submitGrievanceRegistrationForm=this.helperService.createGrievanceRegistrationForm(!1)}resetForm(){this.router.navigate(this.isInternalUser?["admin/dashboard"]:["emigrate"])}clearForm(){Object.keys(this.emigrantDetailsFormGroup.controls).forEach(i=>{const t=this.emigrantDetailsFormGroup.get(i);"captcha"!==i&&(t.reset(),t.updateValueAndValidity())})}backToPrev(){this.submit=!1,this.eDetails=!0,window.scroll(0,150)}savePassport(){this.user=!0}saveUser(){if(this.submitGrievanceUserForm.markAllAsTouched(),this.submitGrievanceUserForm.valid){const i=Object.assign(new l.fVg,this.helperService.sgUserFormToSg(this.submitGrievanceUserForm));this.otpPayload={email:i.email},this.uiService.showSpinner(),this._submitGrievanceService.getOtp(this.otpPayload).subscribe(t=>{t.status.toLowerCase()!==l.Xef.SUCCESS||(this.showSuccessToast("OTP is generated and sent to your email successfully","Submit Grievance"),this.user=!1,this.otp=!0),this.uiService.hideSpinner()},t=>{this.uiService.hideSpinner(),this.showErrorToast(t?.error?.error?.errorMessage?t.error.error.errorMessage:t.message,"Submit Grievance")})}}validate(i){if(this.submitGrievanceOtpForm.markAllAsTouched(),this.submitGrievanceOtpForm.valid){const n={otp:this.submitGrievanceOtpForm.getRawValue().otpDetails.otp,email:this.submitGrievanceUserForm.getRawValue().userDetails.email};this.uiService.showSpinner(),this._submitGrievanceService.validateOtp(n).subscribe(m=>{m.status.toLowerCase()!==l.Xef.SUCCESS?this.showErrorToast(m.message,"Submit Grievance"):(this.showSuccessToast("Validated OTP","Submit Grievance"),this.user=!1,this.otp=!1,this.eDetails=!0),this.uiService.hideSpinner()},m=>{this.uiService.hideSpinner();let h=m?.error?.error?.errorMessage?m.error.error.errorMessage:m.message;this.showErrorToast(h,"Submit Grievance"),this.user=!1,this.otp=!1,this.eDetails=!0,this.showErrorToast(h,"Submit Grievance")})}}redirectToHome(i){this.router.navigate(["/"])}resend(i){this.uiService.showSpinner(),this._submitGrievanceService.resendOtp(this.otpPayload).subscribe(t=>{this.uiService.hideSpinner(),t.status.toLowerCase()===l.Xef.SUCCESS?this.showSuccessToast(t.message,"Submit Grievance"):this.showErrorToast(l.rmt.TOAST_COMMON_ERROR,"Submit Grievance")},t=>{this.uiService.hideSpinner(),this.showErrorToast(t?.error?.error?.errorMessage?t.error.error.errorMessage:t.message,"Submit Grievance")})}resetValidators(){["firstName","lastName","fkDestinationCountry"].forEach(i=>{this.submitGrievanceEmigrantForm.get("emigrantDetails").get(i).clearValidators(),this.submitGrievanceEmigrantForm.get("emigrantDetails").get(i).updateValueAndValidity()}),["firstName","lastName"].forEach(i=>{this.submitGrievanceEmigrantForm.get("emigrantDetails").get(i).setValidators([u.kI.required,c.YO.fullNameValidator()]),this.submitGrievanceEmigrantForm.get("emigrantDetails").get(i).updateValueAndValidity()})}saveEmigrant(){if(this.submitGrievanceEmigrantForm.markAllAsTouched(),this.resetValidators(),!this.submitGrievanceEmigrantForm.valid)return void this.showErrorToast(l.rmt.DEFAULT_IF_VALIDATION_PENDING,"Submit Grievance");let i=this.submitGrievanceUserForm.getRawValue();1==this.isInternalUser?(this.submitGrievanceEmigrantForm.get("emigrantDetails").get("email").setValue(this.userInfo.emailAddress.toString()),this.submitGrievanceEmigrantForm.get("emigrantDetails").get("mobileNumber").setValue(this.userInfo.mobileNumber.toString())):(this.submitGrievanceEmigrantForm.get("emigrantDetails").get("email").setValue(i.userDetails.email.toString()),this.submitGrievanceEmigrantForm.get("emigrantDetails").get("mobileNumber").setValue(i.userDetails.mobileNumber.toString()));const t=Object.assign(new l.HdO,this.helperService.sgEmigrantFormToSg(this.submitGrievanceEmigrantForm));this.uiService.showSpinner(),this._submitGrievanceService.validateSgEmigrant(t).subscribe(n=>{if(this.uiService.hideSpinner(),n.status.toLowerCase()!==l.Xef.SUCCESS){if(n.hasOwnProperty("data")&&n.data){let m=n?.data||[],h=Object.keys(m);if(this.showErrorToast(n.message,"Submit Grievance"),h){let _=h.filter(E=>""!==m[E]?E:"");_.length>0&&_.forEach(E=>{"firstName"===E&&(this.submitGrievanceEmigrantForm.get("emigrantDetails").get("firstName").setValidators([c.YO.invalidData(!0,m[E])]),this.submitGrievanceEmigrantForm.get("emigrantDetails").get("firstName").updateValueAndValidity()),"lastName"===E&&(this.submitGrievanceEmigrantForm.get("emigrantDetails").get("lastName").setValidators([c.YO.invalidData(!0,m[E])]),this.submitGrievanceEmigrantForm.get("emigrantDetails").get("lastName").updateValueAndValidity()),"destinationCountry"===E&&(this.submitGrievanceEmigrantForm.get("emigrantDetails").get("fkDestinationCountry").setValidators([c.YO.invalidData(!0,m[E])]),this.submitGrievanceEmigrantForm.get("emigrantDetails").get("fkDestinationCountry").updateValueAndValidity())})}}}else this.emigrantResp=n.data,this.raiseaDemandHelper.raiseDemadRAForm.emigrantDetails=this.emigrantResp,this.setDefaultEmigrantValues(),this.eDetails=!1,this.emigrantResp?.passportNumberExists?"true"===this.emigrantResp?.passportNumberExists?(this.grievanceRegistrationForm=!0,this.submit=!1):"false"===this.emigrantResp?.passportNumberExists?(this.submit=!0,this.grievanceRegistrationForm=!1):(this.submit=!1,this.grievanceRegistrationForm=!1):(this.submit=!0,this.grievanceRegistrationForm=!1),"true"===this.emigrantResp?.passportNumberExists&&this.showSuccessToast(n.message,"Submit Grievance"),this.submitGrievanceRegistrationForm.get("complaintDetailsTab").get("passportDetails").patchValue({...this.submitGrievanceRegistrationForm.get("complaintDetailsTab").get("passportDetails").getRawValue(),passportNumber:this.submitGrievanceEmigrantForm.get("emigrantDetails").get("passportNumber").value,name:this.submitGrievanceEmigrantForm.get("emigrantDetails").get("firstName").value,surName:this.submitGrievanceEmigrantForm.get("emigrantDetails").get("lastName").value,state:this.submitGrievanceEmigrantForm.get("emigrantDetails").get("fkStateCode").value,gender:this.submitGrievanceEmigrantForm.get("emigrantDetails").get("gender").value,destinationCountry:this.submitGrievanceEmigrantForm.get("emigrantDetails").get("fkDestinationCountry").value,email:this.submitGrievanceEmigrantForm.get("emigrantDetails").get("email").value,mobileNumber:this.submitGrievanceEmigrantForm.get("emigrantDetails").get("mobileNumber").value,receivingDate:this.submitGrievanceEmigrantForm.get("emigrantDetails").get("grievanceReceivedDate").value}),window.scroll(0,100)},n=>{this.uiService.hideSpinner(),this.showErrorToast(n?.error?.error?.errorMessage?n.error.error.errorMessage:n.message,"Submit Grievance")})}setDefaultEmigrantValues(){if(!this.emigrantResp.passportNumber){const i=Object.assign(new l.HdO,this.helperService.sgEmigrantFormToSg(this.submitGrievanceEmigrantForm));Object.assign(this.emigrantResp,i)}if(this.emigrantResp&&this.emigrantResp.passportNumber){const i=this.submitGrievanceRegistrationForm.get("complaintDetailsTab.passportDetails");i.controls.passportNumber.setValue(this.emigrantResp.passportNumber),i.controls.passportNumber.disable(),i.controls.name.setValue(this.emigrantResp.firstName),i.controls.name.disable(),i.controls.gender.setValue(this.emigrantResp.gender),i.controls.gender.disable(),i.controls.state.setValue(this.emigrantResp.fkStateCode),i.controls.state.disable(),i.controls.destinationCountry.setValue(this.emigrantResp.fkDestinationCountry),i.controls.destinationCountry.disable(),i.controls.surName.setValue(this.emigrantResp.lastName),i.controls.surName.disable();const t=this.submitGrievanceRegistrationForm.get("complaintDetailsTab.complaintDetails");t.controls.lastName.setValue(this.emigrantResp.lastName),t.controls.firstName.setValue(this.emigrantResp.firstName)}}back(){this.grievanceRegistrationForm=!1,this.eDetails=!0,window.scroll(0,150)}proceedToRegistration(){this.submit=!1,this.grievanceRegistrationForm=!0}get userSgDetailsFormGroup(){return this.submitGrievanceUserForm.controls.userDetails}get otpSgDetailsFormGroup(){return this.submitGrievanceOtpForm.controls.otpDetails}get emigrantDetailsFormGroup(){return this.submitGrievanceEmigrantForm.controls.emigrantDetails}}return(o=s).\u0275fac=function(i){return new(i||o)(e.Y36(l.U_o),e.Y36(C.F0),e.Y36(y.n),e.Y36(N.dt),e.Y36(T.ez),e.Y36(a.f),e.Y36(g.K),e.Y36(d.M))},o.\u0275cmp=e.Xpm({type:o,selectors:[["emigrate-submit-grievance"]],outputs:{Resend:"Resend"},features:[e.qOj],decls:25,vars:13,consts:[[1,"middle_section"],[4,"ngIf"],[3,"formGroup"],[1,"container",3,"hidden"],[1,"content","info-table"],[1,"row","header-background"],[3,"pageTitle"],[1,"row"],[3,"instructionsText","toolTipText"],[3,"pageSubTitle"],[1,"table-border"],[1,"form"],[3,"entityFormGroup","state","countries","isInternal"],[1,"col-12"],[1,"buttons"],["pButton","","type","button","label","Cancel",1,"btn-format","mr-2","btn-blue",3,"mousedown","click"],["pButton","","type","button","label","Clear",1,"btn-format","mr-2","btn-blue",3,"mousedown","click"],["pButton","","type","submit","label","Validate",1,"btn-format","btn-blue",3,"click"],["class","container",4,"ngIf"],["submitGrievance",""],[1,"container"],[3,"entityFormGroup"],["pButton","","type","submit","label","Submit",1,"btn-format","btn-blue",3,"click"],[3,"entityFormGroup","entityFormGroupTwo","reSend","validate","redirectToHome"],[1,"update"],[3,"ngTemplateOutlet"],[1,"buttons","mt-3"],["pButton","","type","button","label","Back",1,"btn-format","mr-2","btn-blue",3,"click"],["pButton","","type","submit","label","Proceed",1,"btn-format","btn-blue",3,"click"],[3,"grievanceRegistrationFormGroup","backEvent"],[1,"border","p-3","text-center"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0),e._UZ(1,"p-toast"),e.YNc(2,ct,5,4,"div",1),e.TgZ(3,"form",2)(4,"div",3)(5,"div",4)(6,"div",5),e._UZ(7,"emigrate-sh-page-title",6),e.qZA(),e.TgZ(8,"div",7),e._UZ(9,"emigrate-sh-page-instructions",8),e.qZA(),e._UZ(10,"emigrate-sh-page-sub-title",9),e.TgZ(11,"div",10)(12,"div",11)(13,"div",7),e._UZ(14,"emigrate-grievance-emigrant-details",12),e.qZA()()(),e.TgZ(15,"div",7)(16,"div",13)(17,"div",14)(18,"button",15),e.NdJ("mousedown",function(){return t.resetForm()})("click",function(){return t.resetForm()}),e.qZA(),e.TgZ(19,"button",16),e.NdJ("mousedown",function(){return t.clearForm()})("click",function(){return t.clearForm()}),e.qZA(),e.TgZ(20,"button",17),e.NdJ("click",function(){return t.saveEmigrant()}),e.qZA()()()()()()(),e.YNc(21,dt,13,3,"div",18),e.YNc(22,gt,2,1,"div",18),e.qZA(),e.YNc(23,ft,4,2,"ng-template",null,19,e.W1O)),2&i&&(e.xp6(2),e.Q6J("ngIf",!t.isInternalUser),e.xp6(1),e.Q6J("formGroup",t.submitGrievanceEmigrantForm),e.xp6(1),e.Q6J("hidden",!(!t.submit&&!t.grievanceRegistrationForm&&(t.eDetails||t.isInternalUser))),e.xp6(3),e.Q6J("pageTitle","Submit Grievance"),e.xp6(2),e.Q6J("instructionsText","Fields marked with * (asterisk) are mandatory. To avoid mistakes,\n      please refer guidelines & instructions")("toolTipText","1. Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions."),e.xp6(1),e.Q6J("pageSubTitle","Emigrant Details"),e.xp6(4),e.Q6J("entityFormGroup",t.emigrantDetailsFormGroup)("state",t.state)("countries",t.countries)("isInternal",!t.isInternalUser),e.xp6(7),e.Q6J("ngIf",t.submit),e.xp6(1),e.Q6J("ngIf",t.grievanceRegistrationForm))},dependencies:[p.O5,p.tP,u._Y,u.JL,u.sg,c.TM,c.jZ,c.dB,b.Hq,F.FN,Q,U,P,ut]}),s})()},4950:(A,x,f)=>{f.d(x,{g:()=>g});var a,e=f(5861),u=f(655),l=f(8505),c=f(262),C=f(3900),y=f(8513),N=f(1571),T=f(2976);class g{constructor(p,b,F){this.empService=p,this.otpService=b,this.locationService=F}saveEmployer(p){return this.empService.saveEmployer(p).pipe((0,l.b)(b=>{}),(0,c.K)(b=>{throw b}))}saveCompany(p){return this.empService.saveCompany(p).pipe((0,l.b)(b=>{}),(0,c.K)(b=>{throw b}))}validateOtp(p){return this.otpService.validateOtp(p).pipe((0,l.b)(b=>{}),(0,c.K)(b=>{throw b}))}validateEmployer(p){return this.empService.validateEmployer(p).pipe((0,l.b)(b=>{}),(0,c.K)(b=>{throw b}))}validateCompany(p){return this.empService.validateCompany(p).pipe((0,l.b)(b=>{}),(0,c.K)(b=>{throw b}))}resendOtp(p){return this.otpService.resendOtp(p).pipe((0,l.b)(b=>{}),(0,c.K)(b=>{throw b}))}downloadFileFEIndividual(p){return this.empService.downloadFileFEIndividual(p).pipe((0,l.b)(b=>{}),(0,c.K)(b=>{throw b}))}downloadFileFECompany(p){return this.empService.downloadFileFECompany(p).pipe((0,l.b)(b=>{}),(0,c.K)(b=>{throw b}))}fetchState(p){return this.locationService.fetchState(p).pipe((0,C.w)(function(){var b=(0,e.Z)(function*(F){return F});return function(F){return b.apply(this,arguments)}}()),(0,c.K)(b=>{throw b}))}fetchCityByCountry(p){return this.locationService.getCityByCountry(p).pipe((0,c.K)(b=>{throw b}))}fetchJurisdiction(p){return this.locationService.fetchJurisdiction(p).pipe((0,C.w)(function(){var b=(0,e.Z)(function*(F){return F});return function(F){return b.apply(this,arguments)}}()),(0,c.K)(b=>{throw b}))}fetchCity(p){return this.locationService.fetchFECity(p).pipe((0,C.w)(function(){var b=(0,e.Z)(function*(F){return F});return function(F){return b.apply(this,arguments)}}()),(0,c.K)(b=>{throw b}))}fetchCityByDistrict(p){return this.locationService.fetchCity(p).pipe((0,C.w)(function(){var b=(0,e.Z)(function*(F){return F});return function(F){return b.apply(this,arguments)}}()),(0,c.K)(b=>{throw b}))}fetchDistrict(p){return this.locationService.fetchDistrict(p).pipe((0,C.w)(function(){var b=(0,e.Z)(function*(F){return F});return function(F){return b.apply(this,arguments)}}()),(0,c.K)(b=>{throw b}))}}(a=g).\u0275fac=function(p){return new(p||a)(N.LFG(T.pLz),N.LFG(T.noZ),N.LFG(T.aUv))},a.\u0275prov=N.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),(0,u.gn)([(0,y.PS)()],g.prototype,"saveEmployer",null),(0,u.gn)([(0,y.PS)()],g.prototype,"saveCompany",null),(0,u.gn)([(0,y.PS)()],g.prototype,"validateOtp",null),(0,u.gn)([(0,y.PS)()],g.prototype,"validateEmployer",null),(0,u.gn)([(0,y.PS)()],g.prototype,"validateCompany",null),(0,u.gn)([(0,y.PS)()],g.prototype,"resendOtp",null),(0,u.gn)([(0,y.PS)()],g.prototype,"downloadFileFEIndividual",null),(0,u.gn)([(0,y.PS)()],g.prototype,"downloadFileFECompany",null),(0,u.gn)([(0,y.PS)()],g.prototype,"fetchState",null),(0,u.gn)([(0,y.PS)()],g.prototype,"fetchCityByCountry",null),(0,u.gn)([(0,y.PS)()],g.prototype,"fetchJurisdiction",null),(0,u.gn)([(0,y.PS)()],g.prototype,"fetchCity",null),(0,u.gn)([(0,y.PS)()],g.prototype,"fetchCityByDistrict",null),(0,u.gn)([(0,y.PS)()],g.prototype,"fetchDistrict",null)},4148:(A,x,f)=>{f.d(x,{M:()=>C});var e=f(4006),u=f(1135),l=f(1358),c=f(1571);let C=(()=>{var y;class N{searchDetailsForm(a){throw new Error("Method not implemented.")}constructor(a){this.fb=a,this.raiseDemadRAForm={},this.clearFacilitiesForm=new u.X(null)}createRaiseDemandRAForm(a){return this.fb.group({raiseDemandForm:this.fb.group({employeId:this.fb.control({value:null,disabled:a},e.kI.required),employeName:this.fb.control({value:null,disabled:a},e.kI.required),country:this.fb.control({value:null,disabled:a},e.kI.required),recruitment:this.fb.control({value:null,disabled:a},e.kI.required),demandForNurse:this.fb.control({value:null,disabled:a},e.kI.required)}),raDetailsForm:this.fb.group({raId:this.fb.control({value:null,disabled:!1},e.kI.required),raName:this.fb.control({value:null,disabled:a},e.kI.required),rcNumber:this.fb.control({value:null,disabled:a},e.kI.required)})})}createJobDetailsRAFormGroup(a){return this.fb.group({jobDetailsFormGroupDto:this.fb.group({category:this.fb.control({value:null,disabled:a},e.kI.required),experienceLevel:this.fb.control({value:null,disabled:a},e.kI.required),jobRole:this.fb.control({value:null,disabled:a},e.kI.required),periodOfCntract:this.fb.control(null,e.kI.compose([e.kI.required,l.YO.nonZeroValidator()])),description:this.fb.control("",e.kI.compose([l.YO.characterValidator()])),vacancies:this.fb.control(null,e.kI.compose([e.kI.required,l.YO.nonZeroValidator()])),agelimit:this.fb.control({value:null,disabled:a},e.kI.required),workTimingsFrom:this.fb.control("",e.kI.required),workTimingsTo:this.fb.control("",e.kI.required),totalWorkingHours:this.fb.control("",e.kI.required),domesticServiceWorker:this.fb.control({value:null,disabled:a},e.kI.required),settlementDisputes:this.fb.control(null,[e.kI.required,e.kI.compose([l.YO.characterValidator()])]),feId:this.fb.control(null,e.kI.compose([e.kI.required,l.YO.alphaNumericValidator()])),gender:this.fb.control({value:null,disabled:a},e.kI.required)},{validators:[l.YO.workTimingsValidator]}),facilitiesFormGroup:this.facilitiesFormFields(a),monthlySalaryOfferdDirectDto:this.fb.group({currency:this.fb.control("",e.kI.required),minimumSalary:this.fb.control(null,[e.kI.required,e.kI.compose([l.YO.nonZeroValidator()])])})})}facilitiesFormFields(a){return this.fb.group({transportation:this.fb.control({value:null,disabled:a}),leaveBenfits:this.fb.control({value:null,disabled:a}),freeFood:this.fb.control({value:null,disabled:a}),freeAccomodation:this.fb.control({value:null,disabled:a}),overTimeAllowance:this.fb.control({value:null,disabled:a}),visaFee:this.fb.control({value:null,disabled:a}),weeklyoff:this.fb.control({value:null,disabled:a}),toAndFroAirfare:this.fb.control({value:null,disabled:a}),insuranceFacility:this.fb.control({value:null,disabled:a}),medicalFacility:this.fb.control({value:null,disabled:a}),leaveDetails:this.fb.control({value:null,disabled:a}),otherFacility:this.fb.control({value:null,disabled:a}),disposal:this.fb.control({value:null,disabled:a},e.kI.required)})}createOtherDetailsFormGroup(a){return this.fb.group({demandExpiryDate:this.fb.control({value:null,disabled:a},[e.kI.required]),basisOfVisa:this.fb.control({value:null,disabled:a},[e.kI.required]),isEmploymentVisaProvided:this.fb.control({value:null,disabled:a},[e.kI.required]),labourQuotaApprovedRegNo:this.fb.control(null,[e.kI.required,e.kI.compose([l.YO.nonZeroValidator()])]),noOfIndiansRecruited:this.fb.control({value:null,disabled:a},e.kI.compose([l.YO.nonZeroValidator()])),modeOfPayment:this.fb.control({value:null,disabled:a}),amount:this.fb.control({value:null,disabled:a},e.kI.compose([l.YO.nonZeroValidator()])),duringRecruitment:this.fb.control({value:null,disabled:a}),recruitmentExaminationCostBoreBy:this.fb.control({value:null,disabled:a}),anyCost:this.fb.control({value:null,disabled:a}),costOfAttendRecruitment:this.fb.control({value:null,disabled:a}),termsAndConditions:this.fb.control({value:null,disabled:a},[e.kI.required])})}createDocumentList(){return this.fb.group({documents:this.fb.array([]),optionalDocuments:this.fb.array([]),moreAttachments:this.fb.control({})})}searchRAID(a){return this.fb.group({searchRAID:this.fb.group({insuranceAgency:this.fb.control({value:null,disabled:a}),firstName:this.fb.control({value:null,disabled:a},e.kI.required),lastName:this.fb.control({value:null,disabled:a},e.kI.required),searchDetails:void 0})})}frameFacilitiesObj(a){const g=["transportation","leaveBenfits","freeFood","freeAccomodation","overTimeAllowance","visaFee","weeklyoff","toAndFroAirfare","insuranceFacility","medicalFacility","leaveDetails","otherFacility"],d=[];return a&&a.forEach(p=>{const b=Object.keys(p)[0];let F=p[b];F.facilityCd=`FAC_${g.indexOf(b)+1}`,d.push(F)}),d}validateMinimumSalary(a,g){return null!==g&&g>=a}minWageValidator(a){return g=>{if(null===a)return null;const d=g.value;return null!=d&&!isNaN(d)&&d<=a?{invalidSalary:!0}:null}}}return(y=N).\u0275fac=function(a){return new(a||y)(c.LFG(e.qu))},y.\u0275prov=c.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),N})()}}]);