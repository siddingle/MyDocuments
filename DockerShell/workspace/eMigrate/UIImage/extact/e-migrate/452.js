"use strict";(self.webpackChunke_migrate=self.webpackChunke_migrate||[]).push([[452],{452:(A,d,r)=>{r.r(d),r.d(d,{MyProfileModule:()=>I});var a,h=r(6895),u=r(1358),f=r(4826),p=r(5593),c=r(3599),n=r(2976),e=r(1571),y=r(655),S=r(8513),P=r(262);class m{constructor(i){this.viewProfileService=i}getFeInformation(i){return this.viewProfileService.getFeData(i).pipe((0,P.K)(s=>{throw s}))}}(a=m).\u0275fac=function(i){return new(i||a)(e.LFG(n.FE5))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),(0,y.gn)([(0,S.PS)()],m.prototype,"getFeInformation",null);var v=r(805),w=r(2453);function b(o,i){if(1&o&&(e.TgZ(0,"tr",13)(1,"td",14),e._uU(2),e.qZA(),e.TgZ(3,"td",14),e._uU(4),e.qZA()()),2&o){const s=i.$implicit;e.xp6(2),e.Oqu(s.code),e.xp6(2),e.Oqu(s.name)}}const M=function(){return{"min-width":"50rem"}},T=[{path:"view-profile",pathMatch:"full",component:(()=>{var o;class i{constructor(t,l,g,Z,D){this.router=t,this.viewProfileDataService=l,this.emigrateSecurityService=g,this.sessionQuery=Z,this.messageService=D,this.products=[]}ngOnInit(){this.getFeId(),this.getFeInformation()}getFeId(){this.sessionQuery.selectUser$.subscribe(t=>{this.feId=t.employeeDTO.employerId})}getFeInformation(){this.viewProfileDataService.getFeInformation(this.feId).subscribe(t=>{t.status.toLowerCase()===n.Xef.SUCCESS.toLowerCase()?(this.showSuccessToast(t.message),this.feStatusRes=t.data,this.populateProductsArray()):this.showErrorToast(t.message)},t=>{this.showErrorToast(t?.error?.error?.errorMessage)})}populateProductsArray(){const t=this.feStatusRes[0];this.products=[{code:"Partner ID",name:t.partnerId},{code:"Organisation Name",name:t.organisationName},{code:"Director Name",name:t.directorName},{code:"Date of Expiry",name:t.dateOfExpiry},{code:"Address",name:t.address},{code:"Landline",name:t.landline},{code:"Mobile Number",name:t.mobileNumber},{code:"Email ID",name:t.emailId}]}close(){this.router.navigate(["/admin/dashboard"])}showErrorToast(t){this.messageService.add({severity:"error",summary:"view-profile-status",detail:t})}showSuccessToast(t){this.messageService.add({severity:"success",summary:"view-profile-status",detail:t})}}return(o=i).\u0275fac=function(t){return new(t||o)(e.Y36(c.F0),e.Y36(m),e.Y36(n.h5H),e.Y36(n.U_o),e.Y36(v.ez))},o.\u0275cmp=e.Xpm({type:o,selectors:[["emigrate-view-profile"]],decls:18,vars:4,consts:[[1,"container"],[1,"content"],[1,"row","mb-4"],[1,"col-12","prime-900","p-2","text-white"],[1,"row"],[1,"col-12"],[3,"pageSubTitle"],[1,"col-10"],[1,"mb-3"],["styleClass","p-datatable-gridlines custom-table",3,"value","tableStyle"],["pTemplate","body"],[1,"col-10","mb-3"],["pButton","","type","submit","label","CLOSE",1,"btn-format","btn-blue",3,"click"],[1,"custom-row"],[1,"custom-cell"]],template:function(t,l){1&t&&(e._UZ(0,"p-toast"),e.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h6"),e._uU(6,"View Profile"),e.qZA()()(),e.TgZ(7,"div",4)(8,"div",5),e._UZ(9,"emigrate-sh-page-sub-title",6),e.qZA()(),e.TgZ(10,"div",4)(11,"div",7)(12,"div",8)(13,"p-table",9),e.YNc(14,b,5,2,"ng-template",10),e.qZA()()()(),e.TgZ(15,"div",4)(16,"div",11)(17,"button",12),e.NdJ("click",function(){return l.close()}),e.qZA()()()()()),2&t&&(e.xp6(9),e.Q6J("pageSubTitle","User Details"),e.xp6(4),e.Q6J("value",l.products)("tableStyle",e.DdM(3,M)))},dependencies:[f.iA,v.jx,p.Hq,u.jZ,w.FN]}),i})(),resolve:[]}];let C=(()=>{var o;class i{}return(o=i).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.Bz.forChild(T),c.Bz]}),i})();var F=r(6270);let I=(()=>{var o;class i{}return(o=i).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[h.ez,C,f.U$,p.hJ,u.uR,F.g]}),i})()}}]);