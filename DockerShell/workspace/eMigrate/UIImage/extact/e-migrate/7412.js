"use strict";(self.webpackChunke_migrate=self.webpackChunke_migrate||[]).push([[7412],{699:(Y,q,h)=>{h.d(q,{O:()=>D});var u=h(1571),v=h(4325),m=h(6895),p=h(2498);function e(d,Z){if(1&d&&(u.TgZ(0,"div",2),u._UZ(1,"pdf-viewer",3),u.qZA()),2&d){const f=u.oxw();u.xp6(1),u.Q6J("src",f.documentData)("rotation",0)("original-size",!1)("show-all",!0)("fit-to-page",!1)("zoom",1)("zoom-scale","page-width")("stick-to-page",!1)("render-text",!0)("external-link-target","blank")("autoresize",!0)("show-borders",!1)}}function _(d,Z){if(1&d&&(u.TgZ(0,"div",2),u._UZ(1,"pdf-viewer",3),u.qZA()),2&d){const f=u.oxw();u.xp6(1),u.Q6J("src",f.documentData)("rotation",0)("original-size",!1)("show-all",!0)("fit-to-page",!1)("zoom",1)("zoom-scale","page-width")("stick-to-page",!1)("render-text",!0)("external-link-target","blank")("autoresize",!0)("show-borders",!1)}}function g(d,Z){if(1&d&&(u.TgZ(0,"div",2),u._UZ(1,"img",4),u.qZA()),2&d){const f=u.oxw();u.xp6(1),u.s9C("src",f.documentData,u.LSH)}}function n(d,Z){if(1&d&&(u.TgZ(0,"div",2),u._UZ(1,"img",4),u.qZA()),2&d){const f=u.oxw();u.xp6(1),u.s9C("src",f.documentData,u.LSH)}}function T(d,Z){if(1&d&&(u.TgZ(0,"div",2),u._UZ(1,"img",4),u.qZA()),2&d){const f=u.oxw();u.xp6(1),u.s9C("src",f.documentData,u.LSH)}}function S(d,Z){if(1&d&&(u.TgZ(0,"div",2),u._UZ(1,"img",4),u.qZA()),2&d){const f=u.oxw();u.xp6(1),u.s9C("src",f.documentData,u.LSH)}}function b(d,Z){if(1&d&&(u.TgZ(0,"div",2),u._UZ(1,"img",4),u.qZA()),2&d){const f=u.oxw();u.xp6(1),u.s9C("src",f.documentData,u.LSH)}}function C(d,Z){if(1&d&&(u.TgZ(0,"div",2),u._UZ(1,"img",4),u.qZA()),2&d){const f=u.oxw();u.xp6(1),u.s9C("src",f.documentData,u.LSH)}}let D=(()=>{var d;class Z{constructor(E){this.config=E}ngOnInit(){this.documentData=this.config.data.feDocuments?.changingThisBreaksApplicationSecurity,this.type=this.config.data.type}}return(d=Z).\u0275fac=function(E){return new(E||d)(u.Y36(v.S))},d.\u0275cmp=u.Xpm({type:d,selectors:[["emigrate-view-docs"]],decls:9,vars:9,consts:[[1,"container",3,"ngSwitch"],["class","content",4,"ngSwitchCase"],[1,"content"],[1,"viewDoc",3,"src","rotation","original-size","show-all","fit-to-page","zoom","zoom-scale","stick-to-page","render-text","external-link-target","autoresize","show-borders"],[3,"src"]],template:function(E,F){1&E&&(u.TgZ(0,"div",0),u.YNc(1,e,2,12,"div",1),u.YNc(2,_,2,12,"div",1),u.YNc(3,g,2,1,"div",1),u.YNc(4,n,2,1,"div",1),u.YNc(5,T,2,1,"div",1),u.YNc(6,S,2,1,"div",1),u.YNc(7,b,2,1,"div",1),u.YNc(8,C,2,1,"div",1),u.qZA()),2&E&&(u.Q6J("ngSwitch",F.type),u.xp6(1),u.Q6J("ngSwitchCase","pdf"),u.xp6(1),u.Q6J("ngSwitchCase","application/pdf"),u.xp6(1),u.Q6J("ngSwitchCase","png"),u.xp6(1),u.Q6J("ngSwitchCase","jpg"),u.xp6(1),u.Q6J("ngSwitchCase","jpeg"),u.xp6(1),u.Q6J("ngSwitchCase","image/png"),u.xp6(1),u.Q6J("ngSwitchCase","image/jpg"),u.xp6(1),u.Q6J("ngSwitchCase","image/jpeg"))},dependencies:[m.RF,m.n9,p.rQ],styles:[".viewDoc[_ngcontent-%COMP%]{min-height:600px}"]}),Z})()},7412:(Y,q,h)=>{h.r(q),h.d(q,{MonthlyReturnModule:()=>uo});var u=h(6895),v=h(3599),m=h(1358),p=h(2976),e=h(1571),_=h(6945),g=h(805),n=h(4006),T=h(6900);let S=(()=>{var i;class s{constructor(o,t,a){this.fb=o,this.datePipe=t,this.monthlyReturnService=a}createEmigrantAllDetailsForm(o=!1,t){return this.fb.group({firstName:this.fb.control({value:t?.firstName,disabled:o},n.kI.compose([n.kI.required,n.kI.maxLength(200),m.YO.fullNameValidator()])),lastName:this.fb.control({value:t?.lastName,disabled:o},n.kI.compose([n.kI.required,n.kI.maxLength(200),m.YO.fullNameValidator()])),gender:this.fb.control({value:t?.gender?Number(t?.gender):null,disabled:o},n.kI.required),dob:this.fb.control({value:t?.dob?new Date(t?.dob):null,disabled:o},n.kI.compose([n.kI.required])),passportNo:this.fb.control({value:t?.passportNo,disabled:o},n.kI.compose([n.kI.required,m.YO.passportNumberValidator()])),passportType:this.fb.control({value:t?.passportType?t?.passportType:null,disabled:!0},n.kI.required),passportExpDate:this.fb.control({value:t?.passportExpDate?new Date(t?.passportExpDate):null,disabled:o},n.kI.compose([n.kI.required,m.YO.passportExpiryDateValidator()])),passportIssueDate:this.fb.control({value:t?.passportIssueDate?new Date(t?.passportIssueDate):null,disabled:o},n.kI.required),passportIssuePlace:this.fb.control({value:t?.passportIssuePlace?t?.passportIssuePlace:null,disabled:o},n.kI.required),fatherName:this.fb.control({value:t?.fatherName,disabled:o},n.kI.compose([n.kI.required,n.kI.maxLength(200),m.YO.fullNameValidator()])),address1:this.fb.control({value:t?.address1,disabled:o},n.kI.compose([n.kI.required,n.kI.maxLength(200),m.YO.addressValidator()])),address2:this.fb.control({value:t?.address2,disabled:o},n.kI.compose([n.kI.maxLength(200),m.YO.addressValidator()])),country:this.fb.control({value:t?.country?Number(t?.country):null,disabled:o}),state:this.fb.control({value:t?.state?Number(t?.state):null,disabled:o},n.kI.required),district:this.fb.control({value:t?.district?Number(t?.district):null,disabled:o},n.kI.required),city:this.fb.control({value:t?.city?t?.city:null,disabled:o},n.kI.compose([n.kI.required,m.YO.alphaNumericValidatorOnlyWithSpace()])),pincode:this.fb.control({value:t?.pincode?Number(t?.pincode):null,disabled:o},n.kI.compose([n.kI.required,m.YO.pincodeValidator()])),employmentCountry:this.fb.control({value:t?.employmentCountry?Number(t?.employmentCountry):null,disabled:!0},n.kI.required),employerName:this.fb.control({value:t?.employerName,disabled:!0},n.kI.required),acknowledgeNo:this.fb.control({value:t?.acknowledgeNo,disabled:!0},n.kI.required),trade:this.fb.control({value:t?.trade?Number(t?.trade):null,disabled:!0},n.kI.required),jobId:this.fb.control({value:t?.jobId,disabled:!0},n.kI.compose([n.kI.required,n.kI.maxLength(12),m.YO.jobIDValidator()])),monthlyWages:this.fb.control({value:t?.monthlyWages?Number(t?.monthlyWages):null,disabled:!0},n.kI.compose([n.kI.required,m.YO.numericValidator()])),otherContractual:this.fb.control({value:t?.otherContractual?Number(t?.otherContractual):null,disabled:o},n.kI.compose([n.kI.required,n.kI.maxLength(10),m.YO.numericValidator()])),serviceCharge:this.fb.control({value:t?.serviceCharge?Number(t?.serviceCharge):null,disabled:o},n.kI.compose([n.kI.maxLength(10),m.YO.numericValidator()])),totalExpense:this.fb.control({value:t?.totalExpense?Number(t?.totalExpense):null,disabled:o},n.kI.compose([n.kI.maxLength(10),m.YO.numericValidator()])),contractPeriod:this.fb.control({value:t?.contractPeriod?Number(t?.contractPeriod):null,disabled:!0},n.kI.compose([n.kI.required,m.YO.numericValidator()])),selectionMode:this.fb.control({value:t?.selectionMode?Number(t?.selectionMode):null,disabled:o}),source:this.fb.control({value:t?.source?Number(t?.source):null,disabled:o}),recruitmentCenter:this.fb.control({value:t?.recruitmentCenter?t?.recruitmentCenter:null,disabled:o},n.kI.compose([m.YO.alphaNumericValidator()])),insuranceAgency:this.fb.control({value:t?.insuranceAgency?Number(t?.insuranceAgency):null,disabled:o}),recruitmentDate:this.fb.control({value:t?.recruitmentDate?new Date(t?.recruitmentDate):null,disabled:o}),emigrantMobile:this.fb.control({value:t?.emigrantMobile,disabled:o},{validators:n.kI.compose([n.kI.required,m.YO.mobileNumberValidator()]),updateOn:"blur"}),emigrantEmail:this.fb.control({value:t?.emigrantEmail,disabled:o},{validators:n.kI.compose([m.YO.emailValidator()]),updateOn:"blur"}),serviceChargeReceiptNo:this.fb.control({value:t?.serviceChargeReceiptNo,disabled:o},n.kI.compose([n.kI.maxLength(15),m.YO.alphaNumericValidator()])),currencyCode:this.fb.control({value:t?.currencyCode?t?.currencyCode:null,disabled:!0}),emigrantType:this.fb.control({value:t?.emigrantType,disabled:!0}),countryType:this.fb.control({value:t?.countryType?t?.countryType:null,disabled:!0}),year:this.fb.control({value:t?.year,disabled:!0}),month:this.fb.control({value:t?.month,disabled:!0}),isSubmitted:this.fb.control({value:t?.isSubmitted,disabled:!0}),userId:this.fb.control({value:t?.userId,disabled:!0}),jobRole:this.fb.control({value:t?.jobRole,disabled:!0},n.kI.required)},{validators:[m.YO.monthlyReturnCustomValidator]})}createEmigrantSearchForm(o,t){return this.fb.group({yearMonth:this.fb.control({value:t?.yearMonth?new Date(t?.yearMonth):null,disabled:o},n.kI.required),jobId:this.fb.control({value:t?.jobId,disabled:o},n.kI.compose([n.kI.required,n.kI.maxLength(12),m.YO.jobIDValidator()])),passportNo:this.fb.control({value:t?.passportNo,disabled:o},m.YO.passportNumberValidator()),userId:this.fb.control({value:null,disabled:o}),passportType:this.fb.control({value:null,disabled:o}),countryType:this.fb.control({value:null,disabled:o})})}createYearMonthForm(o,t){return this.fb.group({yearMonth:this.fb.control({value:t?.yearMonth?new Date(t?.yearMonth):null,disabled:o},n.kI.required)})}createEmigrantDeploymentSearchForm(o,t){return this.fb.group({country:this.fb.control({value:t?.country?Number(t?.country):null,disabled:o},n.kI.required),feId:this.fb.control({value:t?.feId,disabled:o},n.kI.required),trade:this.fb.control({value:t?.trade?Number(t?.trade):null,disabled:o},n.kI.required)})}createDeploymentForm(o,t){return this.fb.group({otherContractual:this.fb.control({value:t?.otherContractual?t?.otherContractual:null,disabled:o},n.kI.compose([n.kI.maxLength(10),m.YO.alphaNumericValidator()])),serviceCharge:this.fb.control({value:t?.serviceCharge?Number(t?.serviceCharge):null,disabled:o},n.kI.compose([n.kI.maxLength(5),m.YO.numericValidator()])),totalExpense:this.fb.control({value:t?.totalExpense?Number(t?.totalExpense):null,disabled:o},n.kI.compose([n.kI.maxLength(5),m.YO.numericValidator()]))})}createDemandSearchForm(o,t){return this.fb.group({demandId:this.fb.control({value:null,disabled:o},m.YO.demandIdValidator()),country:this.fb.control({value:null,disabled:o}),registrationFromDate:this.fb.control({value:null,disabled:o}),registrationToDate:this.fb.control({value:null,disabled:o}),userId:this.fb.control({value:null,disabled:o})})}createWorkerListForm(o,t){return this.fb.group({emigrantId:this.fb.control({value:t?.emigrantId,disabled:!0},n.kI.required),passportNo:this.fb.control({value:t?.passportNo,disabled:o},n.kI.compose([m.YO.passportNumberValidator()]))})}createformIvItemsForm(o,t){return this.fb.group({yearMonthForm:this.fb.group({yearMonth:this.fb.control({value:null,disabled:!1},n.kI.required)}),websiteUpdatedCount:this.fb.control({value:t?.websideUpdatedCount,disabled:o},n.kI.required),websiteUpdatedDates:this.fb.control({value:t?.websideUpdatedDates,disabled:o},n.kI.required),isEmployerBlacklisted:this.fb.control({value:t?.isEmployerBlacklisted,disabled:o},n.kI.required),isActionInitiated:this.fb.control({value:t?.isActionInitiated,disabled:o},n.kI.required),status:this.fb.control({value:t?.status,disabled:o}),isStatutoryDuesPaid:this.fb.control({value:t?.isStatutoryDuesPaid,disabled:o}),serviceTaxAmount:this.fb.control({value:t?.serviceTaxAmount,disabled:o}),incomeTaxAmount:this.fb.control({value:t?.incomeTaxAmount,disabled:o}),otherTaxAmount:this.fb.control({value:t?.otherTaxAmount,disabled:o}),foreignExchange:this.fb.control({value:t?.foreignExchange,disabled:o}),currencyType:this.fb.control({value:t?.currencyType,disabled:o}),blacklistedEmployer:this.fb.array([]),year:this.fb.control({value:t?.year,disabled:!0}),month:this.fb.control({value:t?.month,disabled:!0}),userId:this.fb.control({value:t?.userId,disabled:!0})})}createBlacklistedEmployerForm(o,t){return this.fb.group({employerName:this.fb.control({value:null,disabled:!1},n.kI.required),employerId:this.fb.control({value:null,disabled:!1},n.kI.required)})}emigrantDetails(o){const t=o.getRawValue();return(new p.SMH).deserialize({firstName:t.firstName,lastName:t.lastName,dob:t.dob?this.datePipe.transform(t.dob,"yyyy-MM-dd"):null,gender:t.gender,passportNo:t.passportNo,passportType:t.passportType,passportExpDate:t.passportExpDate?this.datePipe.transform(t.passportExpDate,"yyyy-MM-dd"):null,passportIssueDate:t.passportIssueDate?this.datePipe.transform(t.passportIssueDate,"yyyy-MM-dd"):null,passportIssuePlace:t.passportIssuePlace,fatherName:t.fatherName,address1:t.address1,address2:t.address2?t.address2:null,country:t.country,state:t.state,district:t.district,city:t.city,pincode:t.pincode,employmentCountry:t.employmentCountry,employerName:t.employerName,acknowledgeNo:t.acknowledgeNo,trade:t.trade,jobId:t.jobId,monthlyWages:t.monthlyWages,otherContractual:t.otherContractual,serviceCharge:t.serviceCharge,totalExpense:t.totalExpense,contractPeriod:t.contractPeriod,selectionMode:t.selectionMode,source:t.source,recruitmentCenter:t.recruitmentCenter,insuranceAgency:t.insuranceAgency,recruitmentDate:t.recruitmentDate?this.datePipe.transform(t.recruitmentDate,"yyyy-MM-dd"):null,emigrantMobile:t.emigrantMobile,emigrantEmail:t.emigrantEmail?t.emigrantEmail:null,serviceChargeReceiptNo:t.serviceChargeReceiptNo,emigrantType:t.emigrantType,year:t.year,month:t.month,countryType:t.countryType,isSubmitted:t.isSubmitted,currencyCode:t.currencyCode,userId:t.userId,jobRole:t.jobRole})}demandSearchDetails(o){const t=o.getRawValue();return{demandId:t.demandId,country:t.country,registrationFromDate:t.registrationFromDate?this.datePipe.transform(t.registrationFromDate,"yyyy-MM-dd"):null,registrationToDate:t.registrationToDate?this.datePipe.transform(t.registrationToDate,"yyyy-MM-dd"):null,userId:t.userId}}formIvDetails(o){const t=o.getRawValue();return(new p.kHh).deserialize({websideUpdatedCount:t.websiteUpdatedCount,websiteUpdatedDates:t.websiteUpdatedDates?t.websiteUpdatedDates.map(a=>this.datePipe.transform(a,"yyyy-MM-dd")):null,isEmployerBlacklisted:t.isEmployerBlacklisted,isActionInitiated:t.isActionInitiated,status:t.status?t.status:null,isStatutoryDuesPaid:t.isStatutoryDuesPaid?t.isStatutoryDuesPaid:null,serviceTaxAmount:t.serviceTaxAmount?t.serviceTaxAmount:null,incomeTaxAmount:t.incomeTaxAmount?t.incomeTaxAmount:null,otherTaxAmount:t.otherTaxAmount?t.otherTaxAmount:null,foreignExchange:t.foreignExchange?t.foreignExchange:null,currencyType:t.currencyType?t.currencyType:null,blacklistedEmployer:o.value.blacklistedEmployer?o.value.blacklistedEmployer:null,year:t.year,month:t.month,userId:t.userId})}createMonthlyReturnFiledForm(o,t){return this.fb.group({year:this.fb.control({value:t?.year,disabled:o},n.kI.required),jurisdiction:this.fb.control({value:t?.jurisdiction,disabled:!1},n.kI.required)})}EmployerRecruitmentForm(o){return this.fb.group({noOfEmployer:this.fb.control({value:"",disabled:!1},n.kI.required),country:this.fb.control({value:"",disabled:!1},n.kI.required),registrationNo:this.fb.control({value:"",disabled:!1},n.kI.required)})}createOrganisationDetailForm(o){return this.fb.group({employer:this.fb.control({value:"",disabled:!1},n.kI.required),country:this.fb.control({value:"",disabled:!1},n.kI.required),registartionno:this.fb.control({value:"",disabled:!1},n.kI.required),registrationdate:this.fb.control({value:"",disabled:!1},n.kI.required),bussiness:this.fb.control({value:"",disabled:!1},n.kI.required),organisation:this.fb.control({value:"",disabled:!1},n.kI.required),websiteUrl:this.fb.control({value:"",disabled:!1},[n.kI.required,n.kI.pattern("(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/?")]),address1:this.fb.control({value:"",disabled:!1},n.kI.required),address2:this.fb.control({value:"",disabled:!1},n.kI.required),city:this.fb.control({value:"",disabled:!1},n.kI.required),countryoffice:this.fb.control({value:"",disabled:!1},n.kI.required),pin:this.fb.control({value:"",disabled:!1},n.kI.required),email:this.fb.control({value:"",disabled:!1},[n.kI.required,n.kI.email]),phonenumber:this.fb.control({value:"",disabled:!1},n.kI.required),faxnumber:this.fb.control({value:"",disabled:!1},n.kI.required),firstname:this.fb.control({value:"",disabled:!1},n.kI.required),surname:this.fb.control({value:"",disabled:!1},n.kI.required),designation:this.fb.control({value:"",disabled:!1},n.kI.required),workpermit:this.fb.control({value:"",disabled:!1},n.kI.required),approvalletter:this.fb.control({value:"",disabled:!1},n.kI.required),dateapproval:this.fb.control({value:"",disabled:!1},n.kI.required),regnoapprovalindianworkers:this.fb.control({value:"",disabled:!1},n.kI.required)})}createRecruitmentDetailsForm(o){return this.fb.group({jobdetails:this.fb.control({value:"",disabled:!1},n.kI.required),jobdescription:this.fb.control({value:"",disabled:!1},n.kI.required),age:this.fb.control({value:"",disabled:!1},n.kI.required),gender:this.fb.control({value:"",disabled:!1},n.kI.required),currency:this.fb.control({value:"",disabled:!1},n.kI.required),salary:this.fb.control({value:"",disabled:!1}),contract:this.fb.control({value:"",disabled:!1},n.kI.required),probation:this.fb.control({value:"",disabled:!1},n.kI.required),daliy:this.fb.control({value:"",disabled:!1},n.kI.required),settlementdisputes:this.fb.control({value:"",disabled:!1},n.kI.required),recruitment:this.fb.control({value:"",disabled:!1},n.kI.required),allowancepayable:this.fb.control({value:"",disabled:!1},n.kI.required),accomodation:this.fb.control({value:"",disabled:!1},n.kI.required),foodprovided:this.fb.control({value:"",disabled:!1},n.kI.required),medicalfacility:this.fb.control({value:"",disabled:!1},n.kI.required),insurancefacility:this.fb.control({value:"",disabled:!1},n.kI.required),paidleave:this.fb.control({value:"",disabled:!1},n.kI.required),leavebenefit:this.fb.control({value:"",disabled:!1},n.kI.required),airfare:this.fb.control({value:"",disabled:!1},n.kI.required),visafee:this.fb.control({value:"",disabled:!1},n.kI.required),weeklyoff:this.fb.control({value:"",disabled:!1},n.kI.required),transportationfacility:this.fb.control({value:"",disabled:!1},n.kI.required),otherfacility:this.fb.control({value:"",disabled:!1},n.kI.required)})}createDocumentDetailForm(o){return this.fb.group({documents:this.fb.array([])})}createViewSubmittedReturnForm(){return this.fb.group({yearMonth:this.fb.control({value:null,disabled:!1},n.kI.required),raId:this.fb.control({value:null,disabled:!1},n.kI.required)})}}return(i=s).\u0275fac=function(o){return new(o||i)(e.LFG(n.qu),e.LFG(u.uU),e.LFG(T.H))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();var b=h(5593),C=h(1740),D=h(2453),d=h(8645);let Z=(()=>{var i;class s extends m.H6{constructor(o,t,a,l,c,y,I){super(t),this.uiService=o,this.router=a,this.monthlyReturnformHelper=l,this.monthlyReturnService=c,this.route=y,this.sessionQuery=I,this.today=new Date,this.selectedDate=new Date,this.pageInstructionText=p.Xef.PAGE_INSTRUCTION_TEXT,this.pageInstructionHelpText=p.Xef.PAGE_INSTRUCTION_HELP_TEXT,y.params.subscribe(x=>{localStorage.getItem("passportType")&&x.passType!=JSON.parse(localStorage.getItem("passportType")).type&&this.monthlyReturnService.setJobValue(null),c.setPassportType(x.passType),this.monthlyReturnService.selectedPassportType$.subscribe(N=>{this.title=N.label,this.passportType=N})})}ngOnInit(){this.initForm(),this.uiService.hideSpinner()}initForm(){this.breadcrumb=[{label:"Recruitment Agent",routerLink:["/admin"]},{label:"Monthly Return"},{label:"Details of Indian Recruited for Overseas Employment"}],this.uiService.initPageSetup(this.breadcrumb,"Details of Indian Recruited for Overseas Employment"),this.emigrantSearchFormGroup=this.monthlyReturnformHelper.createEmigrantSearchForm(!1,{});const o=JSON.parse(localStorage.getItem("yearMonthData"));o&&(this.selectedDate=new Date(o))}ngAfterViewInit(){this.monthlyReturnService.jobId$.subscribe(o=>{o?this.emigrantSearchFormGroup.controls.jobId.patchValue(o):this.emigrantSearchFormGroup.reset()})}changeMonthYear(o){this.monthlyReturnService.setMonthYearData(o)}clearFormData(){this.emigrantSearchFormGroup.reset()}saveEmigrantSearchForm(){let o=!1;this.emigrantSearchFormGroup.markAllAsTouched(),o=this.emigrantSearchFormGroup.valid,o&&(this.emigrantSearchFormGroup.patchValue({userId:this.sessionQuery.user.id,passportType:this.passportType?.passType,countryType:this.passportType?.countryType}),this.uiService.showSpinner(),this.monthlyReturnService.validate(this.emigrantSearchFormGroup.value).subscribe({next:a=>{"failed"==a.status&&null==a.data?(this.uiService.hideSpinner(),this.showErrorToast(a.message)):(this.monthlyReturnService.setJobResponseData(a),this.router.navigate(["admin/monthly-return/emigrant-detail/details-form"]))},error:a=>{this.uiService.hideSpinner(),this.showErrorToast(a?.error?.message)},complete:()=>{this.uiService.hideSpinner()}}))}findJobId(){this.uiService.showSpinner(),this.router.navigate(["admin/monthly-return/emigrant-detail/find-job-id"])}}return(i=s).\u0275fac=function(o){return new(o||i)(e.Y36(_.n),e.Y36(g.ez),e.Y36(v.F0),e.Y36(S),e.Y36(T.H),e.Y36(v.gz),e.Y36(p.U_o))},i.\u0275cmp=e.Xpm({type:i,selectors:[["emigrate-emigrant-search"]],features:[e.qOj],decls:32,vars:17,consts:[[1,"container"],[1,"content","p-3","border","mt-2","mb-2"],[1,"row"],[3,"instructionsText","toolTipText"],[1,"clearfix"],[1,"row_box"],[1,"content"],[1,"form"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","yearMonth","inputLabel","1. Month & Year","inputId","year",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","yearMonth","view","month","dateFormat","MM-yy","placeholder","Month-Year","appendTo","body",1,"w-100",3,"maxDate","ngModel","formControl","ngModelChange","onSelect"],["for","jobId","inputLabel","2. Job ID","inputId","jobId",1,"block",3,"inputRequired","patternMsg","inputFormControl"],[1,"card","flex","flex-wrap","justify-content-center","gap-3"],[1,"p-input-icon-right"],[1,"pi","pi-search","pt-1",3,"click"],["id","jobId","type","text","placeholder","e.g. JB123456789","pInputText","","maxlength","12",3,"formControl"],["for","passportNo","inputLabel","3. Passport Number","inputId","passportNo",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","passportNo","type","text","pInputText","","placeholder","Passport Number",3,"formControl"],[1,"col-md-12"],[1,"buttons"],["pButton","","type","submit","label","Next",1,"btn-format","btn-blue","mr-2",3,"click"],["pButton","","type","button","label","Clear",1,"btn-blue","btn-format","mr-2",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"p-toast"),e.TgZ(3,"div",2),e._UZ(4,"emigrate-sh-page-instructions",3),e.qZA(),e._UZ(5,"div",4),e.TgZ(6,"div",5)(7,"div",6)(8,"h4"),e._uU(9),e.qZA(),e.TgZ(10,"div",7)(11,"form")(12,"div",2)(13,"div",8)(14,"div",9)(15,"emigrate-sh-html-input",10)(16,"p-calendar",11),e.NdJ("ngModelChange",function(l){return t.selectedDate=l})("onSelect",function(l){return t.changeMonthYear(l)}),e.qZA()()()(),e.TgZ(17,"div",8)(18,"div",9)(19,"emigrate-sh-html-input",12)(20,"div",13)(21,"span",14)(22,"i",15),e.NdJ("click",function(){return t.findJobId()}),e.qZA(),e._UZ(23,"input",16),e.qZA()()()()(),e.TgZ(24,"div",8)(25,"div",9)(26,"emigrate-sh-html-input",17),e._UZ(27,"input",18),e.qZA()()(),e.TgZ(28,"div",19)(29,"div",20)(30,"button",21),e.NdJ("click",function(){return t.saveEmigrantSearchForm()}),e.qZA(),e.TgZ(31,"button",22),e.NdJ("click",function(){return t.clearFormData()}),e.qZA()()()()()()()()()()),2&o&&(e.xp6(4),e.Q6J("instructionsText",t.pageInstructionText)("toolTipText",t.pageInstructionHelpText),e.xp6(5),e.Oqu(t.title),e.xp6(6),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantSearchFormGroup.controls.yearMonth),e.xp6(1),e.Q6J("maxDate",t.today)("ngModel",t.selectedDate)("formControl",t.emigrantSearchFormGroup.controls.yearMonth),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantSearchFormGroup.controls.jobId),e.xp6(4),e.Q6J("formControl",t.emigrantSearchFormGroup.controls.jobId),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantSearchFormGroup.controls.passportNo),e.xp6(1),e.Q6J("formControl",t.emigrantSearchFormGroup.controls.passportNo))},dependencies:[n._Y,n.Fj,n.JJ,n.JL,n.nD,n.oH,b.Hq,C.o,D.FN,d.f,n.F,m.KR,m.dB]}),s})();var f=h(1754),E=h(2137),F=h(4826);function P(i,s){1&i&&(e.TgZ(0,"tr")(1,"th")(2,"span"),e._uU(3,"Job ID"),e.qZA()(),e.TgZ(4,"th")(5,"span"),e._uU(6,"Passport Number"),e.qZA()(),e.TgZ(7,"th")(8,"span"),e._uU(9,"Name"),e.qZA()(),e.TgZ(10,"th")(11,"span"),e._uU(12,"Job Role"),e.qZA()(),e.TgZ(13,"th")(14,"span"),e._uU(15,"Country of Employment"),e.qZA()(),e.TgZ(16,"th")(17,"span"),e._uU(18,"Employer"),e.qZA()(),e.TgZ(19,"th")(20,"span"),e._uU(21,"Acknowledge No."),e.qZA()(),e.TgZ(22,"th")(23,"span"),e._uU(24,"Action"),e.qZA()()())}function V(i,s){if(1&i){const r=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"span"),e._uU(6),e.qZA()(),e.TgZ(7,"td")(8,"span"),e._uU(9),e.qZA()(),e.TgZ(10,"td")(11,"span"),e._uU(12),e.qZA()(),e.TgZ(13,"td")(14,"span"),e._uU(15),e.qZA()(),e.TgZ(16,"td")(17,"span"),e._uU(18),e.qZA()(),e.TgZ(19,"td")(20,"span"),e._uU(21),e.qZA()(),e.TgZ(22,"td")(23,"div",11)(24,"button",12),e.NdJ("click",function(){const a=e.CHM(r).$implicit,l=e.oxw();return e.KtG(l.editEmigrantDetails(a.jobId))}),e._UZ(25,"i",13),e.qZA(),e.TgZ(26,"button",14),e.NdJ("click",function(){const a=e.CHM(r).$implicit,l=e.oxw();return e.KtG(l.removeEmigrantDetails(a.jobId))}),e._UZ(27,"i",15),e.qZA()()()()}if(2&i){const r=s.$implicit;e.xp6(3),e.Oqu(r.jobId?r.jobId:"NA"),e.xp6(3),e.Oqu(r.passportNo?r.passportNo:"NA"),e.xp6(3),e.AsE("",r.firstName," ",r.lastName,""),e.xp6(3),e.Oqu(r.jobRole?r.jobRole:"NA"),e.xp6(3),e.Oqu(r.employmentCountryLabel?r.employmentCountryLabel:"NA"),e.xp6(3),e.Oqu(r.employerName?r.employerName:"NA"),e.xp6(3),e.Oqu(r.acknowledgeNo?r.acknowledgeNo:"NA")}}function G(i,s){1&i&&(e.TgZ(0,"tr")(1,"td",16),e._uU(2,"No Data"),e.qZA()())}const z=function(){return{"min-width":"50rem"}};let H=(()=>{var i;class s{constructor(){this.add=new e.vpe,this.update=new e.vpe,this.delete=new e.vpe,this.backToSearchJob=new e.vpe}backToSearch(){this.backToSearchJob.emit()}saveEmigrantsList(){this.add.emit()}editEmigrantDetails(o){this.update.emit(o)}removeEmigrantDetails(o){this.delete.emit(o)}}return(i=s).\u0275fac=function(o){return new(o||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["emigrate-emigrant-list"]],inputs:{emigrantsList:"emigrantsList",loading:"loading"},outputs:{add:"add",update:"update",delete:"delete",backToSearchJob:"backToSearchJob"},decls:11,vars:4,consts:[[1,"content"],[1,"card"],[1,"table-responsive"],["dataKey","jobId",3,"value","loading","tableStyle"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"buttons","mt-3"],["pButton","","type","button","label","Add New",1,"btn-blue","btn-format","mr-2",3,"click"],["pButton","","type","button","label","Save & Close",1,"btn-format","btn-blue",3,"click"],[1,"user_action"],["pButton","","type","button","label","",1,"text-success",3,"click"],[1,"pi","pi-pencil",2,"font-size","0.8rem"],["pButton","","type","button","label","",1,"text-danger",3,"click"],[1,"pi","pi-trash",2,"font-size","0.8rem"],["colspan","7"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"p-table",3,4),e.YNc(5,P,25,0,"ng-template",5),e.YNc(6,V,28,8,"ng-template",6),e.YNc(7,G,3,0,"ng-template",7),e.qZA()()(),e.TgZ(8,"div",8)(9,"button",9),e.NdJ("click",function(){return t.backToSearch()}),e.qZA(),e.TgZ(10,"button",10),e.NdJ("click",function(){return t.saveEmigrantsList()}),e.qZA()()()),2&o&&(e.xp6(3),e.Q6J("value",t.emigrantsList)("loading",t.loading)("tableStyle",e.DdM(3,z)))},dependencies:[g.jx,b.Hq,F.iA],styles:[".user_action[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{background:none;border:1px solid #e1e0e0;padding:6px 7px;margin:0 4px}"]}),s})();var A=h(2210),k=h(613);function j(i,s){if(1&i){const r=e.EpF();e.TgZ(0,"span",81)(1,"p-radioButton",82),e.NdJ("onFocus",function(){const a=e.CHM(r).$implicit,l=e.oxw();return e.KtG(l.onGenderChange(a.value))}),e.qZA()()}if(2&i){const r=s.$implicit,o=e.oxw();e.xp6(1),e.Q6J("formControl",o.emigrantDetailsFormGroup.controls.gender)("label",r.label)("value",r.value)("inputId",r.value)}}let B=(()=>{var i;class s extends m.H6{constructor(o,t){super(o),this.monthlyReturnService=t,this.submitEvent=new e.vpe,this.genderChangeEvent=new e.vpe,this.fetchDistrictData=new e.vpe,this.fetchCityData=new e.vpe,this.today=new Date,this.locationDisabled=!1,this.gender=[],this.roles=[],this.states=[],this.selectionModes=[],this.sources=[],this.agencies=[],this.country=[],this.passportIssuePlace=[],this.passportType=[{label:"ECR",value:"ECR"},{label:"ECNR",value:"ECNR"}]}ngOnInit(){this.roles=this.masterData[0][p.PMs.JOB_ROLE],this.states=this.masterData[0][p.PMs.STATE],this.passportIssuePlace=this.masterData[0][p.PMs.PASSPORT_ISSUE_PLACE],this.gender=this.masterData[0][p.PMs.GENDER],this.sources=this.masterData[0][p.PMs.CANDIDATE_SOURCE],this.selectionModes=this.masterData[0][p.PMs.SELECTION_METHOD],this.agencies=this.masterData[0][p.PMs.INSURANCE_AGENCY],this.country=this.masterData[0][p.PMs.COUNTRY]}addEmigrantToList(){this.districts=this.masterData[0][p.PMs.DISTRICT],this.submitEvent.emit()}fetchDistrict(o){this.fetchDistrictData.emit(o)}fetchCity(o){this.fetchCityData.emit(o)}onDobChange(o){null==this.emigrantDetailsFormGroup.controls.gender.value?(this.emigrantDetailsFormGroup.controls.dob.setValue(null),this.showErrorToast(p.rmt.TOAST_GENDER_ERROR)):this.minPassportIssueDate=new Date(o)}onGenderChange(o){this.genderChangeEvent.emit(Number(o))}}return(i=s).\u0275fac=function(o){return new(o||i)(e.Y36(g.ez),e.Y36(T.H))},i.\u0275cmp=e.Xpm({type:i,selectors:[["emigrate-add-form"]],inputs:{title:"title",emigrantDetailsFormGroup:"emigrantDetailsFormGroup",masterData:"masterData",isSubmitted:"isSubmitted",isUpdated:"isUpdated",currencyCode:"currencyCode",minDob:"minDob",maxDob:"maxDob",minPassportIssueDate:"minPassportIssueDate",city:"city",districts:"districts"},outputs:{submitEvent:"submitEvent",genderChangeEvent:"genderChangeEvent",fetchDistrictData:"fetchDistrictData",fetchCityData:"fetchCityData"},features:[e.qOj],decls:150,vars:157,consts:[[1,"row_box"],[1,"content"],[1,"form"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","fisrtname","inputLabel","1. First Name (As on Passport)","inputId","fisrtname",1,"block",3,"patternMsg","inputFormControl"],["id","fisrtname","type","text","pInputText","","placeholder","First Name (As on Passport)","maxlength","200",3,"formControl"],["for","lastName","inputLabel","2. Last Name (As on Passport)","inputId","lastName",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","lastName","type","text","pInputText","","placeholder","Last Name (As on Passport)","maxlength","200",3,"formControl"],[1,"col-md-4"],["for","gender","inputLabel","3. Gender","inputId","gender",1,"block",3,"inputRequired","patternMsg","inputFormControl"],[1,"d-flex","flex-wrap","align-items-left","label-mb-0"],["class","mr-4",4,"ngFor","ngForOf"],["for","dob","inputLabel","4. Date of Birth","inputId","dob",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["appendTo","body","inputId","dob","placeholder","Date of Birth",1,"w-100",3,"dateFormat","maxDate","formControl","onSelect"],["for","passportNo","inputLabel","5. Passport Number","inputId","passportNo",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","passportNo","type","text","pInputText","","placeholder","Passport Number",3,"formControl"],["for","passportType","inputLabel","6. Passport Type","inputId","passportType",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","passportType","placeholder","Select Passport Type","EmigrateShDropdown","",1,"w-100",3,"options","formControl"],["for","passportExpDate","inputLabel","7. Passport Expiry Date","inputId","passportExpDate",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["appendTo","body","inputId","passportExpDate","placeholder","Passport Expiry Date",1,"w-100",3,"dateFormat","formControl","minDate"],["for","passportIssuePlace","inputLabel","8. Place of Passport Issue","inputId","passportIssuePlace",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","passportIssuePlace","placeholder","Select Passport Issue Place","EmigrateShDropdown","",1,"w-100",3,"options","formControl"],["for","passportIssueDate","inputLabel","9. Passport Issue Date","inputId","passportIssueDate",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["appendTo","body","inputId","passportIssueDate","placeholder","Passport Issue Date",1,"w-100",3,"dateFormat","formControl","maxDate"],["for","fatherName","inputLabel","10. Father's Name","inputId","fatherName",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","fatherName","type","text","pInputText","","placeholder","Father's Name","maxlength","200",3,"formControl"],["for","address1","inputLabel","11. Address Line 1","inputId","address1",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","address1","type","text","placeholder","Address Line 1","pInputText","","maxlength","200",3,"formControl"],["for","address2","inputLabel","12. Address Line 2","inputId","address2",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","address2","type","text","placeholder","Address Line 2","pInputText","","maxlength","200",3,"formControl"],["for","state","inputLabel","13. State","inputId","state",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","state","placeholder","Select State","EmigrateShDropdown","",1,"w-100",3,"options","formControl","readonly","onChange"],["for","district","inputLabel","14. District","inputId","district",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","district","placeholder","Select District","EmigrateShDropdown","",1,"w-100",3,"options","formControl","readonly"],["for","city","inputLabel","15. City/Village/Town","inputId","city",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","city","type","text","pInputText","","placeholder","City","maxlength","25",3,"formControl"],["for","pincode","inputLabel","16. Postal/Pincode","inputId","pincode",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","pincode","type","text","pInputText","","placeholder","Postal/Pincode","maxlength","6",3,"formControl"],["for","employmentCountry","inputLabel","17. Country of Employment","inputId","employmentCountry",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","employmentCountry","placeholder","Select Country of Employment",1,"w-100",3,"options","formControl"],["for","employerName","inputLabel","18. Employer Name","inputId","employerName",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","employerName","type","text","pInputText","","placeholder","Employer Name",3,"formControl","readonly"],["for","acknowledgeNo","inputLabel","19. Acknowledge No./ Demand ID","inputId","acknowledgeNo",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","acknowledgeNo","type","text","pInputText","","placeholder","Acknowledge No./ Demand ID",3,"formControl"],["for","jobId","inputLabel","20. Job ID","inputId","jobId",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","jobId","type","text","pInputText","","placeholder","Job ID",3,"formControl"],["for","jobRole","inputLabel","21. Trade (Job Role)","inputId","jobRole",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","jobRole","type","text","pInputText","","placeholder","Job Role",3,"formControl"],["for","monthlyWages","inputLabel","22. Monthly Wages","inputId","monthlyWages",1,"block",3,"inputRequired","patternMsg","inputFormControl"],[1,"field","p-inputgroup"],["id","monthlyWages","type","text","pInputText","","placeholder","Monthly Wages",3,"formControl"],[1,"p-inputgroup-addon"],["for","otherContractual","inputLabel","23. Other Contractual Entitlements (Actual Amount Incurred)","inputId","otherContractual",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","otherContractual","type","text","pInputText","","placeholder","Amount","maxlength","10",3,"formControl"],["for","serviceCharge","inputLabel","24. Amount Collected as Service Charges Including Service Tax (INR)","inputId","serviceCharge",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","serviceCharge","type","text","pInputText","","placeholder","Amount (INR)","maxlength","10",3,"formControl"],["for","totalExpense","inputLabel","25. Total Expenses Incurred by the Worker (INR)","inputId","totalExpense",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","totalExpense","type","text","pInputText","","placeholder","Total Expenses (INR)","maxlength","10",3,"formControl"],["for","contractPeriod","inputLabel","26. Period of the Contract (Months)","inputId","contractPeriod",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","contractPeriod","type","number","pInputText","","placeholder","Period (Months)",3,"formControl"],["for","selectionMode","inputLabel","27. Method of Selection","inputId","selectionMode",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","selectionMode","placeholder","Select Method of Selection","EmigrateShDropdown","",1,"w-100",3,"options","formControl"],["for","source","inputLabel","28. Sourcing of the Candidate","inputId","source",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","source","placeholder","Select Source of the Candidate","EmigrateShDropdown","",1,"w-100",3,"options","formControl"],["for","recruitmentCenter","inputLabel","29. Recruitment Center","inputId","recruitmentCenter",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","recruitmentCenter","type","text","pInputText","","placeholder","Recruitment Center",3,"formControl"],["for","recruitmentDate","inputLabel","30. Date of Recruitment (Date of Offer Letter/ Appointment Letter)","inputId","recruitmentDate",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["appendTo","body","inputId","dob","placeholder","Date of Recruitment",1,"w-100",3,"dateFormat","formControl"],["for","insuranceAgency","inputLabel","31. Insurance Agency","inputId","insuranceAgency",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","insuranceAgency","placeholder","Select Insurance Agency","EmigrateShDropdown","",1,"w-100",3,"options","formControl"],["for","emigrantEmail","inputLabel","32. Email ID of the Emigrant","inputId","emigrantEmail",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","emigrantEmail","type","text","pInputText","","placeholder","Email ID of the Emigrant",3,"formControl"],["for","emigrantMobile","inputLabel","33. Mobile No. of the Emigrant","inputId","emigrantMobile",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","emigrantMobile","type","text","pInputText","","placeholder","Mobile No. of the Emigrant",3,"formControl"],["for","serviceChargeReceiptNo","inputLabel","34. Service Charge Payment Receipt No.","inputId","serviceChargeReceiptNo",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","serviceChargeReceiptNo","type","text","pInputText","","placeholder","Receipt No","maxlength","15",3,"formControl"],[1,"col-md-12","mb-3"],[1,"buttons"],["pButton","","type","button",1,"btn-format","btn-blue",3,"label","disabled","click"],[1,"mr-4"],["name","gender",3,"formControl","label","value","inputId","onFocus"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3),e.qZA(),e.TgZ(4,"div",2)(5,"form")(6,"div",3)(7,"div",4)(8,"div",5)(9,"emigrate-sh-html-input",6),e._UZ(10,"input",7),e.qZA()()(),e.TgZ(11,"div",4)(12,"div",5)(13,"emigrate-sh-html-input",8),e._UZ(14,"input",9),e.qZA()()(),e.TgZ(15,"div",10)(16,"div",5)(17,"emigrate-sh-html-input",11)(18,"div",12),e.YNc(19,j,2,4,"span",13),e.qZA()()()(),e.TgZ(20,"div",4)(21,"div",5)(22,"emigrate-sh-html-input",14)(23,"p-calendar",15),e.NdJ("onSelect",function(l){return t.onDobChange(l)}),e.qZA()()()(),e.TgZ(24,"div",4)(25,"div",5)(26,"emigrate-sh-html-input",16),e._UZ(27,"input",17),e.qZA()()(),e.TgZ(28,"div",4)(29,"div",5)(30,"emigrate-sh-html-input",18),e._UZ(31,"p-dropdown",19),e.qZA()()(),e.TgZ(32,"div",4)(33,"div",5)(34,"emigrate-sh-html-input",20),e._UZ(35,"p-calendar",21),e.qZA()()(),e.TgZ(36,"div",10)(37,"div",5)(38,"emigrate-sh-html-input",22),e._UZ(39,"p-dropdown",23),e.qZA()()(),e.TgZ(40,"div",4)(41,"div",5)(42,"emigrate-sh-html-input",24),e._UZ(43,"p-calendar",25),e.qZA()()(),e.TgZ(44,"div",4)(45,"div",5)(46,"emigrate-sh-html-input",26),e._UZ(47,"input",27),e.qZA()()(),e.TgZ(48,"div",4)(49,"div",5)(50,"emigrate-sh-html-input",28),e._UZ(51,"textarea",29),e.qZA()()(),e.TgZ(52,"div",4)(53,"div",5)(54,"emigrate-sh-html-input",30),e._UZ(55,"textarea",31),e.qZA()()(),e.TgZ(56,"div",4)(57,"div",5)(58,"emigrate-sh-html-input",32)(59,"p-dropdown",33),e.NdJ("onChange",function(l){return t.fetchDistrict(l)}),e.qZA()()()(),e.TgZ(60,"div",4)(61,"div",5)(62,"emigrate-sh-html-input",34),e._UZ(63,"p-dropdown",35),e.qZA()()(),e.TgZ(64,"div",4)(65,"div",5)(66,"emigrate-sh-html-input",36),e._UZ(67,"input",37),e.qZA()()(),e.TgZ(68,"div",4)(69,"div",5)(70,"emigrate-sh-html-input",38),e._UZ(71,"input",39),e.qZA()()(),e.TgZ(72,"div",4)(73,"div",5)(74,"emigrate-sh-html-input",40),e._UZ(75,"p-dropdown",41),e.qZA()()(),e.TgZ(76,"div",4)(77,"div",5)(78,"emigrate-sh-html-input",42),e._UZ(79,"input",43),e.qZA()()(),e.TgZ(80,"div",4)(81,"div",5)(82,"emigrate-sh-html-input",44),e._UZ(83,"input",45),e.qZA()()(),e.TgZ(84,"div",4)(85,"div",5)(86,"emigrate-sh-html-input",46),e._UZ(87,"input",47),e.qZA()()(),e.TgZ(88,"div",4)(89,"div",5)(90,"emigrate-sh-html-input",48),e._UZ(91,"input",49),e.qZA()()(),e.TgZ(92,"div",4)(93,"div",5)(94,"emigrate-sh-html-input",50)(95,"div",51),e._UZ(96,"input",52),e.TgZ(97,"span",53),e._uU(98),e.qZA()()()()(),e.TgZ(99,"div",4)(100,"div",5)(101,"emigrate-sh-html-input",54),e._UZ(102,"input",55),e.qZA()()(),e.TgZ(103,"div",4)(104,"div",5)(105,"emigrate-sh-html-input",56),e._UZ(106,"input",57),e.qZA()()(),e.TgZ(107,"div",4)(108,"div",5)(109,"emigrate-sh-html-input",58),e._UZ(110,"input",59),e.qZA()()(),e.TgZ(111,"div",4)(112,"div",5)(113,"emigrate-sh-html-input",60),e._UZ(114,"input",61),e.qZA()()(),e.TgZ(115,"div",4)(116,"div",5)(117,"emigrate-sh-html-input",62),e._UZ(118,"p-dropdown",63),e.qZA()()(),e.TgZ(119,"div",4)(120,"div",5)(121,"emigrate-sh-html-input",64),e._UZ(122,"p-dropdown",65),e.qZA()()(),e.TgZ(123,"div",4)(124,"div",5)(125,"emigrate-sh-html-input",66),e._UZ(126,"input",67),e.qZA()()(),e.TgZ(127,"div",4)(128,"div",5)(129,"emigrate-sh-html-input",68),e._UZ(130,"p-calendar",69),e.qZA()()(),e.TgZ(131,"div",4)(132,"div",5)(133,"emigrate-sh-html-input",70),e._UZ(134,"p-dropdown",71),e.qZA()()(),e.TgZ(135,"div",4)(136,"div",5)(137,"emigrate-sh-html-input",72),e._UZ(138,"input",73),e.qZA()()(),e.TgZ(139,"div",4)(140,"div",5)(141,"emigrate-sh-html-input",74),e._UZ(142,"input",75),e.qZA()()(),e.TgZ(143,"div",4)(144,"div",5)(145,"emigrate-sh-html-input",76),e._UZ(146,"input",77),e.qZA()()(),e.TgZ(147,"div",78)(148,"div",79)(149,"button",80),e.NdJ("click",function(){return t.addEmigrantToList()}),e.qZA()()()()()()()()),2&o&&(e.xp6(3),e.hij("Details of Indian ",t.title,""),e.xp6(6),e.Q6J("patternMsg","pattern message")("inputFormControl",t.emigrantDetailsFormGroup.controls.firstName),e.xp6(1),e.Q6J("formControl",t.emigrantDetailsFormGroup.controls.firstName),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantDetailsFormGroup.controls.lastName),e.xp6(1),e.Q6J("formControl",t.emigrantDetailsFormGroup.controls.lastName),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantDetailsFormGroup.controls.gender),e.xp6(2),e.Q6J("ngForOf",t.gender),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantDetailsFormGroup.controls.dob),e.xp6(1),e.Q6J("dateFormat",t.defaultDateFormat)("maxDate",t.today)("formControl",t.emigrantDetailsFormGroup.controls.dob),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantDetailsFormGroup.controls.passportNo),e.xp6(1),e.Q6J("formControl",t.emigrantDetailsFormGroup.controls.passportNo),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantDetailsFormGroup.controls.passportType),e.xp6(1),e.Q6J("options",t.passportType)("formControl",t.emigrantDetailsFormGroup.controls.passportType),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantDetailsFormGroup.controls.passportExpDate),e.xp6(1),e.Q6J("dateFormat",t.defaultDateFormat)("formControl",t.emigrantDetailsFormGroup.controls.passportExpDate)("minDate",t.today),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantDetailsFormGroup.controls.passportIssuePlace),e.xp6(1),e.Q6J("options",t.passportIssuePlace)("formControl",t.emigrantDetailsFormGroup.controls.passportIssuePlace),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantDetailsFormGroup.controls.passportIssueDate),e.xp6(1),e.Q6J("dateFormat",t.defaultDateFormat)("formControl",t.emigrantDetailsFormGroup.controls.passportIssueDate)("maxDate",t.today),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantDetailsFormGroup.controls.fatherName),e.xp6(1),e.Q6J("formControl",t.emigrantDetailsFormGroup.controls.fatherName),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantDetailsFormGroup.controls.address1),e.xp6(1),e.Q6J("formControl",t.emigrantDetailsFormGroup.controls.address1),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantDetailsFormGroup.controls.address2),e.xp6(1),e.Q6J("formControl",t.emigrantDetailsFormGroup.controls.address2),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantDetailsFormGroup.controls.state),e.xp6(1),e.Q6J("options",t.states)("formControl",t.emigrantDetailsFormGroup.controls.state)("readonly",t.locationDisabled),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantDetailsFormGroup.controls.district),e.xp6(1),e.Q6J("options",t.districts)("formControl",t.emigrantDetailsFormGroup.controls.district)("readonly",t.locationDisabled),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantDetailsFormGroup.controls.city),e.xp6(1),e.Q6J("formControl",t.emigrantDetailsFormGroup.controls.city),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantDetailsFormGroup.controls.pincode),e.xp6(1),e.Q6J("formControl",t.emigrantDetailsFormGroup.controls.pincode),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantDetailsFormGroup.controls.employmentCountry),e.xp6(1),e.Q6J("options",t.country)("formControl",t.emigrantDetailsFormGroup.controls.employmentCountry),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantDetailsFormGroup.controls.employerName),e.xp6(1),e.Q6J("formControl",t.emigrantDetailsFormGroup.controls.employerName)("readonly",!0),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantDetailsFormGroup.controls.acknowledgeNo),e.xp6(1),e.Q6J("formControl",t.emigrantDetailsFormGroup.controls.acknowledgeNo),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantDetailsFormGroup.controls.jobId),e.xp6(1),e.Q6J("formControl",t.emigrantDetailsFormGroup.controls.jobId),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantDetailsFormGroup.controls.jobRole),e.xp6(1),e.Q6J("formControl",t.emigrantDetailsFormGroup.controls.jobRole),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantDetailsFormGroup.controls.monthlyWages),e.xp6(2),e.Q6J("formControl",t.emigrantDetailsFormGroup.controls.monthlyWages),e.xp6(2),e.Oqu(t.currencyCode),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantDetailsFormGroup.controls.otherContractual),e.xp6(1),e.Q6J("formControl",t.emigrantDetailsFormGroup.controls.otherContractual),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantDetailsFormGroup.controls.serviceCharge),e.xp6(1),e.Q6J("formControl",t.emigrantDetailsFormGroup.controls.serviceCharge),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantDetailsFormGroup.controls.totalExpense),e.xp6(1),e.Q6J("formControl",t.emigrantDetailsFormGroup.controls.totalExpense),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantDetailsFormGroup.controls.contractPeriod),e.xp6(1),e.Q6J("formControl",t.emigrantDetailsFormGroup.controls.contractPeriod),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantDetailsFormGroup.controls.selectionMode),e.xp6(1),e.Q6J("options",t.selectionModes)("formControl",t.emigrantDetailsFormGroup.controls.selectionMode),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantDetailsFormGroup.controls.source),e.xp6(1),e.Q6J("options",t.sources)("formControl",t.emigrantDetailsFormGroup.controls.source),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantDetailsFormGroup.controls.recruitmentCenter),e.xp6(1),e.Q6J("formControl",t.emigrantDetailsFormGroup.controls.recruitmentCenter),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantDetailsFormGroup.controls.recruitmentDate),e.xp6(1),e.Q6J("dateFormat",t.defaultDateFormat)("formControl",t.emigrantDetailsFormGroup.controls.recruitmentDate),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantDetailsFormGroup.controls.insuranceAgency),e.xp6(1),e.Q6J("options",t.agencies)("formControl",t.emigrantDetailsFormGroup.controls.insuranceAgency),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantDetailsFormGroup.controls.emigrantEmail),e.xp6(1),e.Q6J("formControl",t.emigrantDetailsFormGroup.controls.emigrantEmail),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantDetailsFormGroup.controls.emigrantMobile),e.xp6(1),e.Q6J("formControl",t.emigrantDetailsFormGroup.controls.emigrantMobile),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantDetailsFormGroup.controls.serviceChargeReceiptNo),e.xp6(1),e.Q6J("formControl",t.emigrantDetailsFormGroup.controls.serviceChargeReceiptNo),e.xp6(3),e.Q6J("label",t.isUpdated?"Update":"Add to List")("disabled",t.isSubmitted))},dependencies:[u.sg,n._Y,n.Fj,n.wV,n.JJ,n.JL,n.nD,n.oH,b.Hq,A.Lt,C.o,k.EU,d.f,n.F,m.KR,m.lC],styles:[".p-inputgroup-addon[_ngcontent-%COMP%]{padding:0rem!important}"]}),s})();function X(i,s){if(1&i&&(e.TgZ(0,"div",8),e._uU(1),e.qZA()),2&i){const r=e.oxw();e.xp6(1),e.Oqu(null==r.data?null:r.data.reEcrToEcr)}}function W(i,s){if(1&i&&(e.TgZ(0,"div",8),e._uU(1),e.qZA()),2&i){const r=e.oxw();e.xp6(1),e.Oqu(null==r.data?null:r.data.reEcnrToEcr)}}function K(i,s){if(1&i&&(e.TgZ(0,"div",8),e._uU(1),e.qZA()),2&i){const r=e.oxw();e.xp6(1),e.Oqu(null==r.data?null:r.data.reEcrToEcnr)}}function $(i,s){if(1&i&&(e.TgZ(0,"div",8),e._uU(1),e.qZA()),2&i){const r=e.oxw();e.xp6(1),e.Oqu(null==r.data?null:r.data.reEcnrToEcnr)}}function ee(i,s){if(1&i&&(e.TgZ(0,"div",8),e._uU(1),e.qZA()),2&i){const r=e.oxw();e.xp6(1),e.Oqu(null==r.data?null:r.data.deEcrToEcr)}}function te(i,s){if(1&i&&(e.TgZ(0,"div",8),e._uU(1),e.qZA()),2&i){const r=e.oxw();e.xp6(1),e.Oqu(null==r.data?null:r.data.deEcnrToEcr)}}function oe(i,s){if(1&i&&(e.TgZ(0,"div",8),e._uU(1),e.qZA()),2&i){const r=e.oxw();e.xp6(1),e.Oqu(null==r.data?null:r.data.deEcrToEcnr)}}function re(i,s){if(1&i&&(e.TgZ(0,"div",8),e._uU(1),e.qZA()),2&i){const r=e.oxw();e.xp6(1),e.Oqu(null==r.data?null:r.data.deEcnrToEcnr)}}function ie(i,s){if(1&i&&(e.TgZ(0,"div",8),e._uU(1),e.qZA()),2&i){const r=e.oxw();e.xp6(1),e.Oqu(null==r.data?null:r.data.listOfComplaint)}}function ne(i,s){if(1&i&&(e.TgZ(0,"div",8),e._uU(1),e.qZA()),2&i){const r=e.oxw();e.xp6(1),e.Oqu(null==r.data?null:r.data.formIV)}}function ae(i,s){if(1&i){const r=e.EpF();e.TgZ(0,"div")(1,"h4"),e._uU(2,"Generate Consolidated Report"),e.qZA(),e.TgZ(3,"ul",9)(4,"li")(5,"a",5),e.NdJ("click",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.redirectToLink("/admin/monthly-return/consolidated-report"))}),e._uU(6,"Consolidated Report"),e.qZA()()()()}}let w=(()=>{var i;class s{constructor(o){this.router=o}redirectToLink(o){this.router.navigateByUrl("/admin/dashboard",{skipLocationChange:!0}).then(()=>{this.router.navigate([o])})}}return(i=s).\u0275fac=function(o){return new(o||i)(e.Y36(v.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["emigrate-monthly-return-summary"]],inputs:{title:"title",type:"type",data:"data"},decls:77,vars:12,consts:[[1,"row_box"],[1,"content"],[1,"pl-2","mb-3"],[1,"row"],[1,"col-md-8"],[3,"routerLink","click"],["class","col-md-4",4,"ngIf"],[4,"ngIf"],[1,"col-md-4"],[1,"pl-2"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3),e.qZA(),e.TgZ(4,"h4"),e._uU(5,"Details of Indian Recruited for Overseas Employment"),e.qZA(),e.TgZ(6,"ul",2)(7,"li")(8,"div",3)(9,"div",4)(10,"a",5),e.NdJ("click",function(){return t.redirectToLink("/admin/monthly-return/emigrant-details/recruited/ecr-ecr")}),e._uU(11,"1. Emigrant with ECR Passport to ECR Countries"),e.qZA()(),e.YNc(12,X,2,1,"div",6),e.qZA()(),e.TgZ(13,"li")(14,"div",3)(15,"div",4)(16,"a",5),e.NdJ("click",function(){return t.redirectToLink("/admin/monthly-return/emigrant-details/recruited/ecnr-ecr")}),e._uU(17,"2. Emigrant with ECNR Passport to ECR Countries"),e.qZA()(),e.YNc(18,W,2,1,"div",6),e.qZA()(),e.TgZ(19,"li")(20,"div",3)(21,"div",4)(22,"a",5),e.NdJ("click",function(){return t.redirectToLink("/admin/monthly-return/emigrant-details/recruited/ecr-ecnr")}),e._uU(23,"3. Emigrant with ECR Passport to ECNR Countries"),e.qZA()(),e.YNc(24,K,2,1,"div",6),e.qZA()(),e.TgZ(25,"li")(26,"div",3)(27,"div",4)(28,"a",5),e.NdJ("click",function(){return t.redirectToLink("/admin/monthly-return/emigrant-details/recruited/ecnr-ecnr")}),e._uU(29,"4. Emigrant with ECNR Passport to ECNR Countries"),e.qZA()(),e.YNc(30,$,2,1,"div",6),e.qZA()()(),e.TgZ(31,"h4"),e._uU(32,"Details of Indian Deployed/Travelled for Overseas Employment"),e.qZA(),e.TgZ(33,"ul",2)(34,"li")(35,"div",3)(36,"div",4)(37,"a",5),e.NdJ("click",function(){return t.redirectToLink("/admin/monthly-return/emigrant-details/deployed/ecr-ecr")}),e._uU(38,"1. Emigrant with ECR Passport to ECR Countries"),e.qZA()(),e.YNc(39,ee,2,1,"div",6),e.qZA()(),e.TgZ(40,"li")(41,"div",3)(42,"div",4)(43,"a",5),e.NdJ("click",function(){return t.redirectToLink("/admin/monthly-return/emigrant-details/deployed/ecnr-ecr")}),e._uU(44,"2. Emigrant with ECNR Passport to ECR Countries"),e.qZA()(),e.YNc(45,te,2,1,"div",6),e.qZA()(),e.TgZ(46,"li")(47,"div",3)(48,"div",4)(49,"a",5),e.NdJ("click",function(){return t.redirectToLink("/admin/monthly-return/emigrant-details/deployed/ecr-ecnr")}),e._uU(50,"3. Emigrant with ECR Passport to ECNR Countries"),e.qZA()(),e.YNc(51,oe,2,1,"div",6),e.qZA()(),e.TgZ(52,"li")(53,"div",3)(54,"div",4)(55,"a",5),e.NdJ("click",function(){return t.redirectToLink("/admin/monthly-return/emigrant-details/deployed/ecnr-ecnr")}),e._uU(56,"4. Emigrant with ECNR Passport to ECNR Countries"),e.qZA()(),e.YNc(57,re,2,1,"div",6),e.qZA()()(),e.TgZ(58,"h4"),e._uU(59,"List of Complaint Details"),e.qZA(),e.TgZ(60,"ul",2)(61,"li")(62,"div",3)(63,"div",4)(64,"a",5),e.NdJ("click",function(){return t.redirectToLink("/admin/monthly-return/grievance-details")}),e._uU(65,"List of Complaint Details"),e.qZA()(),e.YNc(66,ie,2,1,"div",6),e.qZA()()(),e.TgZ(67,"h4"),e._uU(68,"Form IV items (5-8)"),e.qZA(),e.TgZ(69,"ul",2)(70,"li")(71,"div",3)(72,"div",4)(73,"a",5),e.NdJ("click",function(){return t.redirectToLink("/admin/monthly-return/form-iv")}),e._uU(74,"Form IV (items) Sr. No. 5-8"),e.qZA()(),e.YNc(75,ne,2,1,"div",6),e.qZA()()(),e.YNc(76,ae,7,0,"div",7),e.qZA()()),2&o&&(e.xp6(3),e.Oqu(t.title),e.xp6(9),e.Q6J("ngIf","consolidatedReport"===t.type),e.xp6(6),e.Q6J("ngIf","consolidatedReport"===t.type),e.xp6(6),e.Q6J("ngIf","consolidatedReport"===t.type),e.xp6(6),e.Q6J("ngIf","consolidatedReport"===t.type),e.xp6(9),e.Q6J("ngIf","consolidatedReport"===t.type),e.xp6(6),e.Q6J("ngIf","consolidatedReport"===t.type),e.xp6(6),e.Q6J("ngIf","consolidatedReport"===t.type),e.xp6(6),e.Q6J("ngIf","consolidatedReport"===t.type),e.xp6(9),e.Q6J("ngIf","consolidatedReport"===t.type),e.xp6(9),e.Q6J("ngIf","consolidatedReport"===t.type),e.xp6(1),e.Q6J("ngIf","consolidatedReport"!==t.type))},dependencies:[u.O5,v.rH],styles:["a[_ngcontent-%COMP%]{cursor:pointer}"]}),s})();function se(i,s){if(1&i){const r=e.EpF();e.TgZ(0,"emigrate-add-form",8),e.NdJ("genderChangeEvent",function(t){e.CHM(r);const a=e.oxw();return e.KtG(a.genderChangeEvent(t))})("submitEvent",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.addEmigrantToList())})("fetchDistrictData",function(t){e.CHM(r);const a=e.oxw();return e.KtG(a.fetchDistrict(t))})("fetchCityData",function(t){e.CHM(r);const a=e.oxw();return e.KtG(a.fetchCity(t))}),e.qZA()}if(2&i){const r=e.oxw();e.Q6J("title",r.title)("emigrantDetailsFormGroup",r.emigrantDetailsFormGroup)("masterData",r.masterData)("isSubmitted",r.isSubmitted)("isUpdated",r.isUpdated)("currencyCode",r.currencyCode)("minDob",r.minDob)("maxDob",r.maxDob)("city",r.city)("districts",r.districts)("minPassportIssueDate",r.minPassportIssueDate)}}function le(i,s){if(1&i){const r=e.EpF();e.TgZ(0,"emigrate-emigrant-list",9),e.NdJ("add",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.saveEmigrantsList())})("update",function(t){e.CHM(r);const a=e.oxw();return e.KtG(a.editEmigrantDetails(t))})("delete",function(t){e.CHM(r);const a=e.oxw();return e.KtG(a.removeEmigrantDetails(t))})("backToSearchJob",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.backToSearch())}),e.qZA()}if(2&i){const r=e.oxw();e.Q6J("emigrantsList",r.emigrantsList)("loading",r.loading)}}function me(i,s){if(1&i&&e._UZ(0,"emigrate-monthly-return-summary",10),2&i){const r=e.oxw();e.Q6J("title",r.monthlyReturnSummaryTitle)("type","recruitment")}}const ue=function(){return{width:"50vw"}};let pe=(()=>{var i;class s extends m.H6{constructor(o,t,a,l,c,y,I,x){super(t),this.uiService=o,this.router=a,this.monthlyReturnformHelper=l,this.monthlyReturnService=c,this.routerQuery=y,this.sessionQuery=I,this.confirmationService=x,this.today=new Date,this.isSubmitted=!1,this.isUpdated=!1,this.loading=!1,this.currencyCode=null,this.pageInstructionText=p.Xef.PAGE_INSTRUCTION_TEXT,this.pageInstructionHelpText=p.Xef.PAGE_INSTRUCTION_HELP_TEXT,this.ageLimitError18=p.rmt.TOAST_18_AGE_LIMIT_ERROR,this.ageLimitError30=p.rmt.TOAST_30_AGE_LIMIT_ERROR,this.passportIssueDateError=p.rmt.TOAST_PASSPORT_ISSUE_DATE_ERROR,this.currency=[],this.country=[],this.city=[],this.districts=[],this.monthlyReturnSummaryTitle="Monthly Return",this.isMonthlyReturnSummaryVisible=!1}ngOnInit(){this.monthlyReturnService.selectedPassportType$.subscribe(o=>{o?(this.passportType=o,this.title=this.passportType.label):(this.passportType=JSON.parse(localStorage.getItem("passportType")),this.title=this.passportType.label)}),this.emDetailsFormSubscription=this.monthlyReturnService.yearMonthFormData$.subscribe(o=>{this.yearMonthData=o||JSON.parse(localStorage.getItem("yearMonthData"))}),this.masterData=this.routerQuery.getData(),this.currency=this.masterData[0][p.PMs.CURRENCY_WITH_SHORT_NAME],this.country=this.masterData[0][p.PMs.COUNTRY],this.districts=this.masterData[0][p.PMs.DISTRICT],this.city=this.masterData[0][p.PMs.CITY],this.initForm(),this.uiService.hideSpinner()}initForm(){this.breadcrumb=[{label:"Recruitment Agent",routerLink:["/admin"]},{label:"Monthly Return"},{label:"Details of Indian Recruited for Overseas Employment"}],this.uiService.initPageSetup(this.breadcrumb,"Details of Indian Recruited for Overseas Employment"),this.emigrantDetailsFormGroup=this.monthlyReturnformHelper.createEmigrantAllDetailsForm(!1,{}),this.filterData={passportType:this.passportType?.passType,countryType:this.passportType?.countryType,emigrantType:"R",year:new Date(this.yearMonthData).getFullYear().toString(),month:new Date(this.yearMonthData).getMonth()+1,isSubmitted:"N",userId:this.sessionQuery.user.id},this.isSubmitted=!0}ngAfterViewInit(){this.searchFormSubscription=this.monthlyReturnService.jobDetailsResponseData$.subscribe(o=>{if(o){this.isSubmitted=!1,this.isUpdated=!1,o.status.toLowerCase()==p.Xef.SUCCESS.toLowerCase()?(this.showSuccessToast(o.message),this.emigrantDetailsFormGroup=this.monthlyReturnformHelper.createEmigrantAllDetailsForm(!1,o.data),this.emigrantDetailsFormGroup.patchValue(this.filterData)):(this.showErrorToast(o.message),"N"==o.data.isSubmitted?(this.isUpdated=!0,this.emigrantDetailsFormGroup=this.monthlyReturnformHelper.createEmigrantAllDetailsForm(!1,o.data)):(this.isSubmitted=!0,this.emigrantDetailsFormGroup=this.monthlyReturnformHelper.createEmigrantAllDetailsForm(!0,o.data)));const t=this.country.find(a=>"india"==a.label.toLowerCase()).value;this.emigrantDetailsFormGroup.controls.country.patchValue(t?Number(t):null)}}),this.genderChangeEvent(this.emigrantDetailsFormGroup.controls.gender.value),this.fetchEmigrantList(),this.fetchCurrencyCode()}fetchCurrencyCode(){const o=this.emigrantDetailsFormGroup.controls.currencyCode.value;if(o){const t=this.currency.find(a=>a.value==o);this.currencyCode=t?t.label:null}else this.currencyCode=null}addEmigrantToList(){let o=!1;if(this.emigrantDetailsFormGroup.markAllAsTouched(),o=this.emigrantDetailsFormGroup.valid,o){this.uiService.showSpinner(),this.isSubmitted=!0;const t=Object.assign(new p.SMH,this.monthlyReturnformHelper.emigrantDetails(this.emigrantDetailsFormGroup));this.isUpdated?this.monthlyReturnService.updateEmigrant(t).subscribe({next:a=>{a.status.toLowerCase()===p.Xef.SUCCESS.toLowerCase()?(this.emigrantDetailsFormGroup.reset(),this.fetchEmigrantList(),this.showSuccessToast(a.message),this.isUpdated=!1):(this.isSubmitted=!1,this.showErrorToast(a.message)),this.uiService.hideSpinner()},error:a=>{this.uiService.hideSpinner(),this.showErrorToast(a?.message)},complete:()=>{this.uiService.hideSpinner()}}):this.monthlyReturnService.add(t).subscribe({next:a=>{a.status.toLowerCase()===p.Xef.SUCCESS.toLowerCase()?(this.emigrantDetailsFormGroup.reset(),this.fetchEmigrantList(),this.showSuccessToast(a.message)):(this.isSubmitted=!1,this.showErrorToast(a.message)),this.uiService.hideSpinner()},error:a=>{this.uiService.hideSpinner(),this.showErrorToast(a?.error?.message)},complete:()=>{this.uiService.hideSpinner()}})}else this.showErrorToast("Please fill all required fields.")}checkCustomValidation(){const l=this.emigrantDetailsFormGroup.controls.dob.value,c=this.emigrantDetailsFormGroup.controls.passportIssueDate.value;if(2==this.emigrantDetailsFormGroup.controls.gender.value&&"ECR"==this.emigrantDetailsFormGroup.controls.passportType.value&&"ECR"==this.emigrantDetailsFormGroup.controls.countryType.value){if(l<this.minDob||l>this.maxDob)return this.showErrorToast(this.ageLimitError30),!1}else if(l<this.minDob||l>this.maxDob)return this.showErrorToast(this.ageLimitError18),!1;return!(c<l&&(this.showErrorToast(this.passportIssueDateError),1))}editEmigrantDetails(o){const t=this.emigrantsList.find(a=>a.jobId===o);this.districts=this.masterData[0][p.PMs.DISTRICT],this.city=this.masterData[0][p.PMs.CITY],this.emigrantDetailsFormGroup=this.monthlyReturnformHelper.createEmigrantAllDetailsForm(!1,t),this.genderChangeEvent(this.emigrantDetailsFormGroup.controls.gender.value),this.minPassportIssueDate=new Date(this.emigrantDetailsFormGroup.controls.dob.value),this.fetchCurrencyCode(),this.isUpdated=!0,this.isSubmitted=!1,this.gotoTop(280,0)}removeEmigrantDetails(o){this.isUpdated=!1,this.loading=!0,this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>{this.monthlyReturnService.deleteEmigrants(o).subscribe({next:t=>{this.loading=!1,this.fetchEmigrantList(),this.showSuccessToast(t.message)},error:t=>{this.loading=!1,this.showErrorToast(t?.error?.message)},complete:()=>{this.loading=!1}})},reject:()=>{this.loading=!1}})}saveEmigrantsList(){this.emigrantsList?(this.uiService.showSpinner(),this.monthlyReturnService.submitEmigrants(this.filterData).subscribe({next:o=>{o.status.toLowerCase()==p.Xef.SUCCESS.toLowerCase()?(this.emigrantsList=[],this.showSuccessToast(o.message),this.emigrantDetailsFormGroup.reset(),this.emDetailsFormSubscription.unsubscribe(),localStorage.removeItem("yearMonthData"),JSON.parse(localStorage.getItem("passportType")),this.isMonthlyReturnSummaryVisible=!0,this.breadcrumb=[{label:"Recruitment Agent",routerLink:["/admin"]},{label:"Monthly Return"}],this.uiService.initPageSetup(this.breadcrumb,"Monthly Return"),this.gotoTop(150,0)):(this.uiService.hideSpinner(),this.showErrorToast(o.message))},error:o=>{this.uiService.hideSpinner(),this.showErrorToast(o?.error?.message)},complete:()=>{this.uiService.hideSpinner()}})):this.showErrorToast("Please add emigrant to the list")}fetchEmigrantList(){this.loading=!0,this.monthlyReturnService.fetchEmigrantsList(this.filterData).subscribe({next:o=>{this.emigrantsList=o.data,this.emigrantsList&&this.emigrantsList.forEach(t=>t.employmentCountryLabel=this.monthlyReturnService.fetchValueFromMaster(t.employmentCountry,this.masterData[0][p.PMs.COUNTRY])),this.loading=!1},error:o=>{this.loading=!1,this.showErrorToast(o?.error?.message)},complete:()=>{this.loading=!1}})}genderChangeEvent(o){const t=o;if(null!=t){const a=this.emigrantDetailsFormGroup.controls.passportType.value,l=this.emigrantDetailsFormGroup.controls.countryType.value,c=new Date((new Date).setDate(this.today.getDate()-21915)),y=new Date((new Date).setDate(this.today.getDate()-10957)),I=new Date((new Date).setDate(this.today.getDate()-6574));2==t&&"ECR"==a&&"ECR"==l?(this.minDob=c,this.maxDob=y):(this.minDob=c,this.maxDob=I)}}fetchDistrict(o){const t=o.value;this.districts=[],this.city=[],t&&this.monthlyReturnService.fetchDistrict(t).subscribe({next:a=>{a.length>0&&(this.districts=a)},error:()=>{this.showErrorToast(p.rmt.TOAST_COMMON_ERROR)}})}fetchCity(o){const t=o.value;this.city=[],t&&this.monthlyReturnService.fetchCity(t).subscribe({next:a=>{a.length>0&&(this.city=a)},error:()=>{this.showErrorToast(p.rmt.TOAST_COMMON_ERROR)}})}backToSearch(){this.monthlyReturnService.setJobValue(null),this.monthlyReturnService.setJobResponseData(null),this.emigrantDetailsFormGroup.reset(),this.router.navigate(["admin/monthly-return/emigrant-details/recruited/"+this.passportType.type])}ngOnDestroy(){this.searchFormSubscription.unsubscribe()}}return(i=s).TOAST_18_AGE_LIMIT_ERROR="Emigrant is required for having age between 18 to 60 years.",i.TOAST_30_AGE_LIMIT_ERROR="Emigrant is required for having age between 30 to 60 years.",i.TOAST_PASSPORT_ISSUE_DATE_ERROR="Passport Issue Date can not be before the Date of Birth.",i.\u0275fac=function(o){return new(o||i)(e.Y36(_.n),e.Y36(g.ez),e.Y36(v.F0),e.Y36(S),e.Y36(T.H),e.Y36(f.dt),e.Y36(p.U_o),e.Y36(g.YP))},i.\u0275cmp=e.Xpm({type:i,selectors:[["emigrate-emigrant-detail-form"]],features:[e.qOj],decls:10,vars:8,consts:[[1,"container"],[1,"content","p-3","border","mt-2","mb-2"],[1,"row"],[3,"instructionsText","toolTipText"],[1,"clearfix"],[3,"title","emigrantDetailsFormGroup","masterData","isSubmitted","isUpdated","currencyCode","minDob","maxDob","city","districts","minPassportIssueDate","genderChangeEvent","submitEvent","fetchDistrictData","fetchCityData",4,"ngIf"],[3,"emigrantsList","loading","add","update","delete","backToSearchJob",4,"ngIf"],[3,"title","type","data",4,"ngIf"],[3,"title","emigrantDetailsFormGroup","masterData","isSubmitted","isUpdated","currencyCode","minDob","maxDob","city","districts","minPassportIssueDate","genderChangeEvent","submitEvent","fetchDistrictData","fetchCityData"],[3,"emigrantsList","loading","add","update","delete","backToSearchJob"],[3,"title","type","data"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"p-toast")(3,"p-confirmDialog"),e.TgZ(4,"div",2),e._UZ(5,"emigrate-sh-page-instructions",3),e.qZA(),e._UZ(6,"div",4),e.YNc(7,se,1,11,"emigrate-add-form",5),e.YNc(8,le,1,2,"emigrate-emigrant-list",6),e.YNc(9,me,1,2,"emigrate-monthly-return-summary",7),e.qZA()()),2&o&&(e.xp6(3),e.Akn(e.DdM(7,ue)),e.xp6(2),e.Q6J("instructionsText",t.pageInstructionText)("toolTipText",t.pageInstructionHelpText),e.xp6(2),e.Q6J("ngIf",!t.isMonthlyReturnSummaryVisible),e.xp6(1),e.Q6J("ngIf",!t.isMonthlyReturnSummaryVisible),e.xp6(1),e.Q6J("ngIf",t.isMonthlyReturnSummaryVisible))},dependencies:[u.O5,D.FN,E.Q,m.dB,H,B,w],styles:[".p-inputgroup-addon[_ngcontent-%COMP%]{padding:0rem!important}.user_action[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{background:none;border:1px solid #e1e0e0;padding:6px 7px;margin:0 4px}"]}),s})();const ce=["dt"];function de(i,s){if(1&i){const r=e.EpF();e.TgZ(0,"div",2)(1,"div",31)(2,"button",32),e.NdJ("click",function(){e.CHM(r);const t=e.oxw(),a=e.MAs(38);return e.KtG(t.clearTable(a))}),e.qZA()(),e.TgZ(3,"div",33)(4,"span",34),e._UZ(5,"i",35),e.TgZ(6,"input",36),e.NdJ("ngModelChange",function(t){e.CHM(r);const a=e.oxw();return e.KtG(a.searchInput=t)})("input",function(t){e.CHM(r);const a=e.oxw();return e.KtG(a.applyFilterGlobal(t,"contains"))}),e.qZA()()()()}if(2&i){const r=e.oxw();e.xp6(6),e.Q6J("ngModel",r.searchInput)}}function he(i,s){1&i&&(e.TgZ(0,"tr"),e._UZ(1,"th",37),e.TgZ(2,"th",38)(3,"div",39),e._uU(4," Demand ID "),e._UZ(5,"p-sortIcon",40),e.qZA()(),e.TgZ(6,"th",41)(7,"div",39),e._uU(8," Job ID "),e._UZ(9,"p-sortIcon",42),e.qZA()(),e.TgZ(10,"th",43)(11,"div",39),e._uU(12," Job Category "),e._UZ(13,"p-sortIcon",44),e.qZA()(),e.TgZ(14,"th",45)(15,"div",39),e._uU(16," Country "),e._UZ(17,"p-sortIcon",46),e.qZA()(),e.TgZ(18,"th",47)(19,"div",39),e._uU(20," Expiry Date "),e._UZ(21,"p-sortIcon",48),e.qZA()()())}const R=function(i){return{addedToList:i}};function ge(i,s){if(1&i&&(e.TgZ(0,"tr")(1,"td",49),e._UZ(2,"p-tableRadioButton",50),e.qZA(),e.TgZ(3,"td",49)(4,"span",51),e._uU(5),e.qZA()(),e.TgZ(6,"td",49)(7,"span",52),e._uU(8),e.qZA()(),e.TgZ(9,"td",49)(10,"span",51),e._uU(11),e.qZA()(),e.TgZ(12,"td",49)(13,"span",52),e._uU(14),e.qZA()(),e.TgZ(15,"td",49)(16,"span",52),e._uU(17),e.ALo(18,"date"),e.qZA()()()),2&i){const r=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.VKq(15,R,"N"===r.isSubmitted)),e.xp6(1),e.Q6J("value",r),e.xp6(1),e.Q6J("ngClass",e.VKq(17,R,"N"===r.isSubmitted)),e.xp6(2),e.Oqu(r.demandId?r.demandId:"NA"),e.xp6(1),e.Q6J("ngClass",e.VKq(19,R,"N"===r.isSubmitted)),e.xp6(2),e.Oqu(r.jobId?r.jobId:"NA"),e.xp6(1),e.Q6J("ngClass",e.VKq(21,R,"N"===r.isSubmitted)),e.xp6(2),e.Oqu(r.jobCategory?r.jobCategory:"NA"),e.xp6(1),e.Q6J("ngClass",e.VKq(23,R,"N"===r.isSubmitted)),e.xp6(2),e.Oqu(r.country?r.country:"NA"),e.xp6(1),e.Q6J("ngClass",e.VKq(25,R,"N"===r.isSubmitted)),e.xp6(2),e.Oqu(r.expiryDate?e.xi3(18,12,r.expiryDate,"MM-dd-yyyy"):"NA")}}function fe(i,s){1&i&&(e.TgZ(0,"tr")(1,"td",53),e._uU(2,"No Demand Found."),e.qZA()())}const ye=function(){return[10,25,50]},be=function(){return["demandId","jobId"]},_e=function(){return{"min-width":"50rem"}};let ve=(()=>{var i;class s extends m.H6{constructor(o,t,a,l,c,y,I){super(t),this.uiService=o,this.router=a,this.monthlyReturnService=l,this.monthlyReturnformHelper=c,this.routerQuery=y,this.sessionQuery=I,this.loading=!1,this.isSubmitted=!1,this.countries=[],this.jobCategories=[],this.searchInput=null,this.pageInstructionText=p.Xef.PAGE_INSTRUCTION_TEXT,this.pageInstructionHelpText=p.Xef.PAGE_INSTRUCTION_HELP_TEXT}ngOnInit(){this.breadcrumb=[{label:"Recruitment Agent",routerLink:["/admin"]},{label:"Monthly Return"},{label:"Details of Indian Recruited for Overseas Employment"}],this.uiService.initPageSetup(this.breadcrumb,"Finding Job ID"),this.demandSearchForm=this.monthlyReturnformHelper.createDemandSearchForm(!1,{}),this.masterData=this.routerQuery.getData(),this.countries=this.masterData[0][p.yfU.COUNTRY],this.jobCategories=this.masterData[0][p.yfU.PROFICIENT_CATEGORY],this.uiService.hideSpinner(),this.demandSearchForm.controls.registrationFromDate.valueChanges.subscribe(o=>{o&&(this.minDateTo=new Date(o),this.demandSearchForm.patchValue({registrationToDate:null}))})}processDemand(){this.selectedDemand?(this.monthlyReturnService.setJobValue(this.selectedDemand.jobId),this.previousePage()):this.showErrorToast("Please select atleast one demand to proceed")}previousePage(){const o=JSON.parse(localStorage.getItem("passportType"));this.router.navigate(["admin/monthly-return/emigrant-details/recruited/"+o.type])}clearFormData(){this.demandSearchForm.reset()}fetchDemands(){if(null!==this.demandSearchForm.controls.registrationFromDate.value&&null==this.demandSearchForm.controls.registrationToDate.value||null==this.demandSearchForm.controls.registrationFromDate.value&&null!==this.demandSearchForm.controls.registrationToDate.value)this.loading=!1,this.showErrorToast("Please enter from and to date to search demands.");else if(null!==this.demandSearchForm.controls.country.value||null!==this.demandSearchForm.controls.demandId.value||null!==this.demandSearchForm.controls.registrationFromDate.value&&null!==this.demandSearchForm.controls.registrationToDate.value){this.loading=!0,this.isSubmitted=!0,this.demandSearchForm.patchValue({userId:this.sessionQuery.user.id});const t=Object.assign(this.monthlyReturnformHelper.demandSearchDetails(this.demandSearchForm));this.monthlyReturnService.fetchJobs(t).subscribe({next:a=>{if(a.status.toLowerCase()===p.Xef.SUCCESS.toLowerCase()&&a.data.length){const l=a.data;l&&(this.demands=l.filter(c=>"Y"!=c.isSubmitted),this.demands&&(this.demands.forEach(c=>c.expiryDate=new Date(c.expiryDate)),this.demands.forEach(c=>c.jobCategory=this.monthlyReturnService.fetchValueFromMaster(c.jobCategory,this.jobCategories)),this.demands.forEach(c=>c.country=this.monthlyReturnService.fetchValueFromMaster(c.country,this.countries))))}else this.showErrorToast(a.message);this.loading=!1,this.isSubmitted=!1},error:a=>{this.loading=!1,this.isSubmitted=!1,this.showErrorToast(a?.error?.message)},complete:()=>{this.loading=!1,this.isSubmitted=!1}})}else this.loading=!1,this.showErrorToast("Please enter any value to search demands.")}applyFilterGlobal(o,t){this.dt.filterGlobal(o.target.value,t)}clearTable(o){o.clear(),this.searchInput=null}}return(i=s).\u0275fac=function(o){return new(o||i)(e.Y36(_.n),e.Y36(g.ez),e.Y36(v.F0),e.Y36(T.H),e.Y36(S),e.Y36(f.dt),e.Y36(p.U_o))},i.\u0275cmp=e.Xpm({type:i,selectors:[["emigrate-find-job-id"]],viewQuery:function(o,t){if(1&o&&e.Gf(ce,5),2&o){let a;e.iGM(a=e.CRH())&&(t.dt=a.first)}},features:[e.qOj],decls:45,vars:27,consts:[[1,"container"],[1,"content","p-3","border","mt-2","mb-2"],[1,"row"],[3,"instructionsText","toolTipText"],[1,"clearfix"],[1,"row_box"],[1,"content"],[1,"form"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","demandId","inputLabel","1. Demand Id / Permit Id","inputId","demandId",1,"block",3,"inputFormControl"],["id","demandId","type","text","pInputText","","placeholder","e.g. DM12345",3,"formControl"],["for","registrationFrom","inputLabel","2. Registration Date From","inputId","registrationFrom",1,"block",3,"inputFormControl"],["appendTo","body","inputId","registrationFrom","placeholder","Registration Date From",1,"w-100",3,"dateFormat","formControl"],["for","registrationTo","inputLabel","3. Registration Date To","inputId","registrationTo",1,"block",3,"inputFormControl"],["appendTo","body","inputId","registrationTo","placeholder","Registration Date To",1,"w-100",3,"dateFormat","formControl","minDate"],["for","country","inputLabel","4. Country","inputId","country",1,"block",3,"inputFormControl"],["id","country","placeholder","Select Country","EmigrateShDropdown","",3,"formControl","options"],[1,"buttons","mb-4"],["pButton","","type","submit","label","Search",1,"btn-format","btn-blue","mr-2",3,"disabled","click"],["pButton","","type","button","label","Clear",1,"btn-format","btn-blue","mr-2",3,"click"],["pButton","","type","button","label","Back",1,"btn-blue","btn-format","mr-2",3,"click"],[1,"card"],["dataKey","jobId","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","showCurrentPageReport","rowsPerPageOptions","loading","paginator","globalFilterFields","tableStyle","selection","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"buttons","mt-3"],["pButton","","type","button","label","Proceed",1,"btn-format","btn-blue",3,"click"],[1,"col-md-4"],["pButton","","label","Clear","icon","pi pi-filter-slash",1,"p-button-outlined","btn-format",3,"click"],[1,"col-md-4","offset-md-4","filter-field"],[1,"p-input-icon-right","w-100"],[1,"pi","pi-search","pt-1","float-right"],["pInputText","","type","text","placeholder","Search Demand ID / Job ID",3,"ngModel","ngModelChange","input"],[2,"width","4rem"],["pSortableColumn","demandId",2,"min-width","13rem"],[1,"flex","align-items-center"],["field","demandId"],["pSortableColumn","jobId",2,"min-width","13rem"],["field","jobId"],["pSortableColumn","jobCategory",2,"min-width","13rem"],["field","jobCategory"],["pSortableColumn","country",2,"min-width","13rem"],["field","country"],["pSortableColumn","expiryDate",2,"min-width","13rem"],["field","expiryDate"],[3,"ngClass"],[3,"value"],[1,"align-items-center","vertical-align-middle"],[1,"text-center","vertical-align-middle"],["colspan","7"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"p-toast"),e.TgZ(3,"div",2),e._UZ(4,"emigrate-sh-page-instructions",3),e.qZA(),e._UZ(5,"div",4),e.TgZ(6,"div",5)(7,"div",6)(8,"h4"),e._uU(9,"Search Criteria"),e.qZA(),e.TgZ(10,"div",7)(11,"div",2)(12,"div",8)(13,"div",9)(14,"emigrate-sh-html-input",10),e._UZ(15,"input",11),e.qZA()()(),e.TgZ(16,"div",8)(17,"div",9)(18,"emigrate-sh-html-input",12),e._UZ(19,"p-calendar",13),e.qZA()()(),e.TgZ(20,"div",8)(21,"div",9)(22,"emigrate-sh-html-input",14),e._UZ(23,"p-calendar",15),e.qZA()()(),e.TgZ(24,"div",8)(25,"div",9)(26,"emigrate-sh-html-input",16),e._UZ(27,"p-dropdown",17),e.qZA()()()(),e.TgZ(28,"div",18)(29,"button",19),e.NdJ("click",function(){return t.fetchDemands()}),e.qZA(),e.TgZ(30,"button",20),e.NdJ("click",function(){return t.clearFormData()}),e.qZA(),e.TgZ(31,"button",21),e.NdJ("click",function(){return t.previousePage()}),e.qZA()()()()(),e.TgZ(32,"div",5)(33,"div",6)(34,"h4"),e._uU(35,"Search Results"),e.qZA(),e.TgZ(36,"div",22)(37,"p-table",23,24),e.NdJ("selectionChange",function(l){return t.selectedDemand=l}),e.YNc(39,de,7,1,"ng-template",25),e.YNc(40,he,22,0,"ng-template",26),e.YNc(41,ge,19,27,"ng-template",27),e.YNc(42,fe,3,0,"ng-template",28),e.qZA()(),e.TgZ(43,"div",29)(44,"button",30),e.NdJ("click",function(){return t.processDemand()}),e.qZA()()()()()()),2&o&&(e.xp6(4),e.Q6J("instructionsText",t.pageInstructionText)("toolTipText",t.pageInstructionHelpText),e.xp6(10),e.Q6J("inputFormControl",t.demandSearchForm.controls.demandId),e.xp6(1),e.Q6J("formControl",t.demandSearchForm.controls.demandId),e.xp6(3),e.Q6J("inputFormControl",t.demandSearchForm.controls.registrationFromDate),e.xp6(1),e.Q6J("dateFormat",t.defaultDateFormat)("formControl",t.demandSearchForm.controls.registrationFromDate),e.xp6(3),e.Q6J("inputFormControl",t.demandSearchForm.controls.registrationToDate),e.xp6(1),e.Q6J("dateFormat",t.defaultDateFormat)("formControl",t.demandSearchForm.controls.registrationToDate)("minDate",t.minDateTo),e.xp6(3),e.Q6J("inputFormControl",t.demandSearchForm.controls.country),e.xp6(1),e.Q6J("formControl",t.demandSearchForm.controls.country)("options",t.countries),e.xp6(2),e.Q6J("disabled",t.isSubmitted),e.xp6(8),e.Q6J("value",t.demands)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(24,ye))("loading",t.loading)("paginator",!0)("globalFilterFields",e.DdM(25,be))("tableStyle",e.DdM(26,_e))("selection",t.selectedDemand))},dependencies:[u.mk,n.Fj,n.JJ,n.oH,g.jx,b.Hq,A.Lt,C.o,D.FN,F.iA,F.lQ,F.fz,F.GE,d.f,n.On,m.KR,m.dB,m.lC,u.uU],styles:[".filter-field[_ngcontent-%COMP%]   .p-inputtext[_ngcontent-%COMP%]{padding:.5rem .75rem;max-width:100%;width:100%;border:#e1e1e1 solid 1px;font-size:14px}.addedToList[_ngcontent-%COMP%]{background-color:#faefe2}"]}),s})(),Te=(()=>{var i;class s extends m.H6{constructor(o,t,a,l,c){super(t),this.uiService=o,this.monthlyReturnformHelper=a,this.route=l,this.monthlyReturnService=c,this.breadcrumb=[],this.yearList=[{label:"2023",value:"2023"},{label:"2024",value:"2024"},{label:"2025",value:"2025"}],this.jurisdictionList=[{label:"Mumbai",value:"mumbai"},{label:"Delhi",value:"delhi"}]}ngOnInit(){this.initForm()}initForm(){this.monthlyReturnFiledForm=this.monthlyReturnformHelper.createMonthlyReturnFiledForm(!1,{})}ngAfterViewInit(){this.breadcrumb=[{label:"Recruitment Agent",routerLink:["/admin"]},{label:"Monthly Return"},{label:"Monthly Return Filed Report"}],this.uiService.initPageSetup(this.breadcrumb,"Monthly Return Filed Report")}submit(){}}return(i=s).\u0275fac=function(o){return new(o||i)(e.Y36(_.n),e.Y36(g.ez),e.Y36(S),e.Y36(v.gz),e.Y36(T.H))},i.\u0275cmp=e.Xpm({type:i,selectors:[["emigrate-monthly-return-filed-view"]],features:[e.qOj],decls:21,vars:9,consts:[[1,"middle_section"],[1,"row"],[3,"instructionsText","toolTipText"],[1,"clearfix"],[1,"row_box"],[1,"content"],[3,"pageTitle"],[1,"form"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","year","inputLabel","1. Year","inputId","year",1,"block",3,"inputFormControl"],["id","year","placeholder","Select an option","EmigrateShDropdown","",3,"formControl","options"],["for","jurisdiction","inputLabel","2. Jurisdiction","inputId","jurisdiction",1,"block",3,"inputFormControl"],["id","jurisdiction","placeholder","Select an option","EmigrateShDropdown","",3,"formControl","options"],[1,"col-md-12"],[1,"buttons"],["pButton","","type","submit","label","SUBMIT",1,"btn-format","btn-blue",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"p-toast"),e.TgZ(2,"div",1),e._UZ(3,"emigrate-sh-page-instructions",2),e.qZA(),e._UZ(4,"div",3),e.TgZ(5,"div",4)(6,"div",5),e._UZ(7,"emigrate-sh-page-title",6),e.TgZ(8,"div",7)(9,"div",1)(10,"div",8)(11,"div",9)(12,"emigrate-sh-html-input",10),e._UZ(13,"p-dropdown",11),e.qZA()()(),e.TgZ(14,"div",8)(15,"div",9)(16,"emigrate-sh-html-input",12),e._UZ(17,"p-dropdown",13),e.qZA()()()(),e.TgZ(18,"div",14)(19,"div",15)(20,"button",16),e.NdJ("click",function(){return t.submit()}),e.qZA()()()()()()()),2&o&&(e.xp6(3),e.Q6J("instructionsText","Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions.")("toolTipText","1. Fields marked with * (asterisk) are mandatory. To avoid mistakes, please refer guidelines & instructions."),e.xp6(4),e.Q6J("pageTitle","Monthly Return Filed Report"),e.xp6(5),e.Q6J("inputFormControl",t.monthlyReturnFiledForm.controls.year),e.xp6(1),e.Q6J("formControl",t.monthlyReturnFiledForm.controls.year)("options",t.yearList),e.xp6(3),e.Q6J("inputFormControl",t.monthlyReturnFiledForm.controls.jurisdiction),e.xp6(1),e.Q6J("formControl",t.monthlyReturnFiledForm.controls.jurisdiction)("options",t.jurisdictionList))},dependencies:[n.JJ,n.oH,b.Hq,A.Lt,D.FN,m.KR,m.TM,m.dB,m.lC]}),s})();var Ce=h(1302);function De(i,s){if(1&i&&(e.TgZ(0,"div",8)(1,"div",9)(2,"emigrate-sh-html-input",16),e._UZ(3,"p-dropdown",17),e.qZA()()()),2&i){const r=e.oxw();e.xp6(2),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",r.viewSubmittedReturnForm.controls.raId),e.xp6(1),e.Q6J("options",r.raList)("formControl",r.viewSubmittedReturnForm.controls.raId)}}let Fe=(()=>{var i;class s extends m.H6{constructor(o,t,a,l,c){super(t),this.uiService=o,this.monthlyReturnformHelper=a,this.monthlyReturnService=l,this.sessionQuery=c,this.today=new Date,this.selectedDate=new Date,this.isRaLogin=!1,this.pageInstructionText=p.Xef.PAGE_INSTRUCTION_TEXT,this.pageInstructionHelpText=p.Xef.PAGE_INSTRUCTION_HELP_TEXT,this.raList=[],this.roleRa=p.Xef.ROLE.RA.toUpperCase(),this.userRa=p.Xef.USER_RA.toUpperCase()}ngOnInit(){this.title="View Submitted Monthly Return",this.initForm(),this.uiService.hideSpinner()}initForm(){this.breadcrumb=[{label:"Recruitment Agent",routerLink:["/admin"]},{label:"Monthly Return"},{label:"View Submitted Monthly Return"}],this.uiService.initPageSetup(this.breadcrumb,"View Submitted Monthly Return"),this.viewSubmittedReturnForm=this.monthlyReturnformHelper.createViewSubmittedReturnForm(),this.fetchRaList()}ngAfterViewInit(){if(this.sessionData=this.sessionQuery.user,this.sessionData.role.toUpperCase()==this.roleRa){const o=this.sessionData?.employeeDTO?.employerId;this.viewSubmittedReturnForm.patchValue({raId:o}),this.isRaLogin=!0}}fetchRaList(){this.uiService.showSpinner(),this.monthlyReturnService.fetchRaList().subscribe({next:o=>{this.raList=o.map(a=>({label:this.userRa+a,value:a})),this.uiService.hideSpinner()},error:o=>{this.uiService.hideSpinner(),this.showErrorToast(o?.error?.message)},complete:()=>{this.uiService.hideSpinner()}})}getMonthlyReturnReportFile(){let o=!1;if(this.viewSubmittedReturnForm.markAllAsTouched(),o=this.viewSubmittedReturnForm.valid,o){this.uiService.showSpinner();const t={year:new Date(this.viewSubmittedReturnForm.controls.yearMonth.value).getFullYear().toString(),month:new Date(this.viewSubmittedReturnForm.controls.yearMonth.value).getMonth()+1,raId:this.viewSubmittedReturnForm.controls.raId.value};this.monthlyReturnService.getMonthlyReturnReportFile(t).subscribe({next:a=>{if(a?.data?.base64File){const l=new Date(this.viewSubmittedReturnForm.controls.yearMonth.value),c=(new Date(l).getMonth()+1).toString()+"_"+new Date(l).getFullYear().toString()+"_"+this.userRa+this.viewSubmittedReturnForm.controls.raId.value;let y=this.base64ToArrayBuffer(a.data.base64File);const I=new Blob([y],{type:"application/pdf"});(0,Ce.p)(I,c+"_submitted_monthly_report"),this.showSuccessToast("Report downloaded successfully"),this.viewSubmittedReturnForm.reset()}else this.uiService.hideSpinner(),this.showErrorToast(a.message);if(this.sessionData.role==this.roleRa){const l=this.sessionData?.employeeDTO?.employerId;this.viewSubmittedReturnForm.patchValue({raId:l})}},error:a=>{this.uiService.hideSpinner(),this.showErrorToast(a?.error?.message)},complete:()=>{this.uiService.hideSpinner()}})}}base64ToArrayBuffer(o){for(var t=window.atob(o),a=t.length,l=new Uint8Array(a),c=0;c<a;c++)l[c]=t.charCodeAt(c);return l.buffer}}return(i=s).\u0275fac=function(o){return new(o||i)(e.Y36(_.n),e.Y36(g.ez),e.Y36(S),e.Y36(T.H),e.Y36(p.U_o))},i.\u0275cmp=e.Xpm({type:i,selectors:[["emigrate-monthly-return-submitted-view"]],features:[e.qOj],decls:21,vars:9,consts:[[1,"container"],[1,"content","p-3","border","mt-2","mb-2"],[1,"row"],[3,"instructionsText","toolTipText"],[1,"clearfix"],[1,"row_box"],[1,"content"],[1,"form"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","yearMonth","inputLabel","1. Month & Year","inputId","year",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","yearMonth","view","month","dateFormat","MM-yy","placeholder","Month-Year","appendTo","body",1,"w-100",3,"maxDate","formControl"],["class","col-md-4 col-sm-6",4,"ngIf"],[1,"col-md-12"],[1,"buttons"],["pButton","","type","submit","label","Submit",1,"btn-format","btn-blue",3,"click"],["for","raId","inputLabel","2. RA ID","inputId","raId",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","raId","placeholder","Select RA ID","EmigrateShDropdown","",1,"w-100",3,"options","formControl"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"p-toast"),e.TgZ(3,"div",2),e._UZ(4,"emigrate-sh-page-instructions",3),e.qZA(),e._UZ(5,"div",4),e.TgZ(6,"div",5)(7,"div",6)(8,"h4"),e._uU(9),e.qZA(),e.TgZ(10,"div",7)(11,"form")(12,"div",2)(13,"div",8)(14,"div",9)(15,"emigrate-sh-html-input",10),e._UZ(16,"p-calendar",11),e.qZA()()(),e.YNc(17,De,4,5,"div",12),e.TgZ(18,"div",13)(19,"div",14)(20,"button",15),e.NdJ("click",function(){return t.getMonthlyReturnReportFile()}),e.qZA()()()()()()()()()()),2&o&&(e.xp6(4),e.Q6J("instructionsText",t.pageInstructionText)("toolTipText",t.pageInstructionHelpText),e.xp6(5),e.Oqu(t.title),e.xp6(6),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.viewSubmittedReturnForm.controls.yearMonth),e.xp6(1),e.Q6J("maxDate",t.today)("formControl",t.viewSubmittedReturnForm.controls.yearMonth),e.xp6(1),e.Q6J("ngIf",!t.isRaLogin))},dependencies:[u.O5,n._Y,n.JJ,n.JL,n.oH,b.Hq,A.Lt,D.FN,d.f,n.F,m.KR,m.dB,m.lC]}),s})(),Ie=(()=>{var i;class s{constructor(o){this.uiService=o,this.searchEmployer=new e.vpe,this.searchJobRole=new e.vpe,this.searchEmigrant=new e.vpe,this.today=new Date}ngOnInit(){this.emigrantDeploymentSearchForm.reset()}clearFormData(){this.emigrantDeploymentSearchForm.reset()}fetchEmployerList(o){this.searchEmployer.emit(o)}fetchJobRole(o){this.searchJobRole.emit(o)}searchEmigrantData(){this.searchEmigrant.emit()}}return(i=s).\u0275fac=function(o){return new(o||i)(e.Y36(_.n))},i.\u0275cmp=e.Xpm({type:i,selectors:[["emigrate-emigrant-search-deployment"]],inputs:{title:"title",emigrantDeploymentSearchForm:"emigrantDeploymentSearchForm",roles:"roles",employers:"employers",countries:"countries"},outputs:{searchEmployer:"searchEmployer",searchJobRole:"searchJobRole",searchEmigrant:"searchEmigrant"},decls:23,vars:12,consts:[[1,"row_box"],[1,"content"],[1,"form"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","country","inputLabel","1. Country","inputId","country",1,"block",3,"inputFormControl"],["id","country","placeholder","Select Country","EmigrateShDropdown","",1,"w-100",3,"formControl","options","onChange"],["for","employer","inputLabel","2. Employer","inputId","country",1,"block",3,"inputFormControl"],["id","employer","placeholder","Select Employer","EmigrateShDropdown","",1,"w-100",3,"formControl","options","onChange"],["for","trade","inputLabel","3. Job Role","inputId","trade",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","trade","placeholder","Select Job Role","EmigrateShDropdown","",1,"w-100",3,"options","formControl"],[1,"col-md-12"],[1,"buttons"],["pButton","","type","button","label","Clear",1,"btn-blue","btn-format","mr-2",3,"click"],["pButton","","type","submit","label","Save & Next",1,"btn-format","btn-blue",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3),e.qZA(),e.TgZ(4,"div",2)(5,"form")(6,"div",3)(7,"div",4)(8,"div",5)(9,"emigrate-sh-html-input",6)(10,"p-dropdown",7),e.NdJ("onChange",function(l){return t.fetchEmployerList(l)}),e.qZA()()()(),e.TgZ(11,"div",4)(12,"div",5)(13,"emigrate-sh-html-input",8)(14,"p-dropdown",9),e.NdJ("onChange",function(l){return t.fetchJobRole(l)}),e.qZA()()()(),e.TgZ(15,"div",4)(16,"div",5)(17,"emigrate-sh-html-input",10),e._UZ(18,"p-dropdown",11),e.qZA()()(),e.TgZ(19,"div",12)(20,"div",13)(21,"button",14),e.NdJ("click",function(){return t.clearFormData()}),e.qZA(),e.TgZ(22,"button",15),e.NdJ("click",function(){return t.searchEmigrantData()}),e.qZA()()()()()()()()),2&o&&(e.xp6(3),e.Oqu(t.title),e.xp6(6),e.Q6J("inputFormControl",t.emigrantDeploymentSearchForm.controls.country),e.xp6(1),e.Q6J("formControl",t.emigrantDeploymentSearchForm.controls.country)("options",t.countries),e.xp6(3),e.Q6J("inputFormControl",t.emigrantDeploymentSearchForm.controls.feId),e.xp6(1),e.Q6J("formControl",t.emigrantDeploymentSearchForm.controls.feId)("options",t.employers),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.emigrantDeploymentSearchForm.controls.trade),e.xp6(1),e.Q6J("options",t.roles)("formControl",t.emigrantDeploymentSearchForm.controls.trade))},dependencies:[n._Y,n.JJ,n.JL,n.oH,b.Hq,A.Lt,n.F,m.KR,m.lC]}),s})();function Ze(i,s){1&i&&(e.TgZ(0,"tr")(1,"th")(2,"span"),e._uU(3,"Name"),e.qZA()(),e.TgZ(4,"th")(5,"span"),e._uU(6,"Age"),e.qZA()(),e.TgZ(7,"th")(8,"span"),e._uU(9,"Gender"),e.qZA()(),e.TgZ(10,"th")(11,"span"),e._uU(12,"Job Role"),e.qZA()(),e.TgZ(13,"th")(14,"span"),e._uU(15,"Destination Country"),e.qZA()(),e.TgZ(16,"th")(17,"span"),e._uU(18,"Employer Name"),e.qZA()(),e.TgZ(19,"th")(20,"span"),e._uU(21,"Emigrant Address"),e.qZA()(),e.TgZ(22,"th")(23,"span"),e._uU(24,"Period of Contract"),e.qZA()(),e.TgZ(25,"th")(26,"span"),e._uU(27,"Monthly Wages"),e.qZA()(),e.TgZ(28,"th")(29,"span"),e._uU(30,"Other Contractual Entitlement"),e.qZA()(),e.TgZ(31,"th")(32,"span"),e._uU(33,"Service Changes"),e.qZA()(),e.TgZ(34,"th")(35,"span"),e._uU(36,"Total Expenses"),e.qZA()()())}function Se(i,s){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"span"),e._uU(6),e.qZA()(),e.TgZ(7,"td")(8,"span"),e._uU(9),e.qZA()(),e.TgZ(10,"td")(11,"span"),e._uU(12),e.qZA()(),e.TgZ(13,"td")(14,"span"),e._uU(15),e.qZA()(),e.TgZ(16,"td")(17,"span"),e._uU(18),e.qZA()(),e.TgZ(19,"td")(20,"span"),e._uU(21),e.qZA()(),e.TgZ(22,"td")(23,"span"),e._uU(24),e.qZA()(),e.TgZ(25,"td")(26,"span"),e._uU(27),e.qZA()(),e.TgZ(28,"td")(29,"span"),e._uU(30),e.qZA()(),e.TgZ(31,"td")(32,"span"),e._uU(33),e.qZA()(),e.TgZ(34,"td")(35,"span"),e._uU(36),e.qZA()()()),2&i){const r=s.$implicit;e.xp6(3),e.AsE("",r.firstName," ",r.lastName,""),e.xp6(3),e.Oqu(r.age?r.age:"NA"),e.xp6(3),e.Oqu(r.gender?r.gender:"NA"),e.xp6(3),e.Oqu(r.jobRole?r.jobRole:"NA"),e.xp6(3),e.Oqu(r.employmentCountryLabel?r.employmentCountryLabel:"NA"),e.xp6(3),e.Oqu(r.employerName?r.employerName:"NA"),e.xp6(3),e.Oqu(r.address1?r.address1:"NA"),e.xp6(3),e.Oqu(r.contractPeriod?r.contractPeriod:"NA"),e.xp6(3),e.Oqu(r.monthlyWages?r.monthlyWages:"NA"),e.xp6(3),e.Oqu(r.otherContractual?r.otherContractual:"NA"),e.xp6(3),e.Oqu(r.serviceCharge?r.serviceCharge:"NA"),e.xp6(3),e.Oqu(r.totalExpense?r.totalExpense:"NA")}}function Ae(i,s){1&i&&(e.TgZ(0,"tr")(1,"td",12),e._uU(2,"No Data"),e.qZA()())}const xe=function(){return{"min-width":"50rem"}};let Ee=(()=>{var i;class s{constructor(){this.saveEmigrantList=new e.vpe,this.redirectToSearch=new e.vpe,this.redirectToSummary=new e.vpe}saveAndCloseEmigrantList(){this.saveEmigrantList.emit()}backToSearch(){this.redirectToSearch.emit()}close(){this.redirectToSummary.emit()}}return(i=s).\u0275fac=function(o){return new(o||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["emigrate-workers-list"]],inputs:{title:"title",emigrantsList:"emigrantsList",loading:"loading"},outputs:{saveEmigrantList:"saveEmigrantList",redirectToSearch:"redirectToSearch",redirectToSummary:"redirectToSummary"},decls:14,vars:5,consts:[[1,"content","mt-3"],[1,"card"],[1,"table-responsive"],["dataKey","jobId",3,"value","loading","tableStyle"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"buttons","mt-3"],["pButton","","type","button","label","Back",1,"btn-blue","btn-format","mr-2",3,"click"],["pButton","","type","button","label","Save",1,"btn-format","btn-blue","mr-2",3,"click"],["pButton","","type","button","label","Close",1,"btn-format","btn-blue",3,"click"],["colspan","7"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"h4"),e._uU(2),e.qZA(),e.TgZ(3,"div",1)(4,"div",2)(5,"p-table",3,4),e.YNc(7,Ze,37,0,"ng-template",5),e.YNc(8,Se,37,13,"ng-template",6),e.YNc(9,Ae,3,0,"ng-template",7),e.qZA()()(),e.TgZ(10,"div",8)(11,"button",9),e.NdJ("click",function(){return t.backToSearch()}),e.qZA(),e.TgZ(12,"button",10),e.NdJ("click",function(){return t.saveAndCloseEmigrantList()}),e.qZA(),e.TgZ(13,"button",11),e.NdJ("click",function(){return t.close()}),e.qZA()()()),2&o&&(e.xp6(2),e.Oqu(t.title),e.xp6(3),e.Q6J("value",t.emigrantsList)("loading",t.loading)("tableStyle",e.DdM(4,xe)))},dependencies:[g.jx,b.Hq,F.iA]}),s})();function we(i,s){1&i&&(e.TgZ(0,"tr")(1,"th")(2,"span"),e._uU(3,"Name"),e.qZA()(),e.TgZ(4,"th")(5,"span"),e._uU(6,"Age"),e.qZA()(),e.TgZ(7,"th")(8,"span"),e._uU(9,"Gender"),e.qZA()(),e.TgZ(10,"th")(11,"span"),e._uU(12,"Job Role"),e.qZA()(),e.TgZ(13,"th")(14,"span"),e._uU(15,"Destination Country"),e.qZA()(),e.TgZ(16,"th")(17,"span"),e._uU(18,"Employer Name"),e.qZA()(),e.TgZ(19,"th")(20,"span"),e._uU(21,"Emigrant Address"),e.qZA()(),e.TgZ(22,"th")(23,"span"),e._uU(24,"Period of Contract"),e.qZA()(),e.TgZ(25,"th")(26,"span"),e._uU(27,"Monthly Wages"),e.qZA()(),e.TgZ(28,"th")(29,"span"),e._uU(30,"Other Contractual Entitlement"),e.qZA()(),e.TgZ(31,"th")(32,"span"),e._uU(33,"Service Charges"),e.qZA()(),e.TgZ(34,"th")(35,"span"),e._uU(36,"Total Expenses"),e.qZA()()())}function Re(i,s){if(1&i){const r=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"span"),e._uU(6),e.qZA()(),e.TgZ(7,"td")(8,"span"),e._uU(9),e.qZA()(),e.TgZ(10,"td")(11,"span"),e._uU(12),e.qZA()(),e.TgZ(13,"td")(14,"span"),e._uU(15),e.qZA()(),e.TgZ(16,"td")(17,"span"),e._uU(18),e.qZA()(),e.TgZ(19,"td")(20,"span"),e._uU(21),e.qZA()(),e.TgZ(22,"td")(23,"span"),e._uU(24),e.qZA()(),e.TgZ(25,"td")(26,"span"),e._uU(27),e.qZA()(),e.TgZ(28,"td")(29,"input",10),e.NdJ("ngModelChange",function(t){const l=e.CHM(r).$implicit;return e.KtG(l.otherContractual=t)}),e.qZA()(),e.TgZ(30,"td")(31,"input",11),e.NdJ("ngModelChange",function(t){const l=e.CHM(r).$implicit;return e.KtG(l.serviceCharge=t)}),e.qZA()(),e.TgZ(32,"td")(33,"input",12),e.NdJ("ngModelChange",function(t){const l=e.CHM(r).$implicit;return e.KtG(l.totalExpense=t)}),e.qZA()()()}if(2&i){const r=s.$implicit,o=e.oxw();e.xp6(3),e.AsE("",r.firstName," ",r.lastName,""),e.xp6(3),e.Oqu(r.age?r.age:"NA"),e.xp6(3),e.Oqu(r.gender?r.gender:"NA"),e.xp6(3),e.Oqu(r.jobRole?r.jobRole:"NA"),e.xp6(3),e.Oqu(r.employmentCountryLabel?r.employmentCountryLabel:"NA"),e.xp6(3),e.Oqu(r.employerName?r.employerName:"NA"),e.xp6(3),e.Oqu(r.address1?r.address1:"NA"),e.xp6(3),e.Oqu(r.contractPeriod?r.contractPeriod:"NA"),e.xp6(3),e.Oqu(r.monthlyWages?r.monthlyWages:"NA"),e.xp6(2),e.Q6J("ngModel",r.otherContractual)("formControl",o.deploymentForm.controls.otherContractual),e.xp6(2),e.Q6J("ngModel",r.serviceCharge)("formControl",o.deploymentForm.controls.serviceCharge),e.xp6(2),e.Q6J("ngModel",r.totalExpense)("formControl",o.deploymentForm.controls.totalExpense)}}function qe(i,s){1&i&&(e.TgZ(0,"tr")(1,"td",13),e._uU(2,"No Data"),e.qZA()())}const ke=function(){return{"min-width":"50rem"}};let Me=(()=>{var i;class s extends m.H6{constructor(o){super(o),this.addToListEmigrant=new e.vpe}addToList(){let o=!1;o=this.deploymentForm.valid,o?this.addToListEmigrant.emit(this.emigrantsList):"INVALID"==this.deploymentForm.controls.otherContractual.status?this.showErrorToast("Only alpha numeric values are allowed in Other Contractual Entitlement"):"INVALID"==this.deploymentForm.controls.serviceCharge.status?this.showErrorToast("Only numeric values are allowed in Service Changes."):"INVALID"==this.deploymentForm.controls.totalExpense.status&&this.showErrorToast("Only numeric values are allowed in Total Expenses.")}}return(i=s).\u0275fac=function(o){return new(o||i)(e.Y36(g.ez))},i.\u0275cmp=e.Xpm({type:i,selectors:[["emigrate-worker-details"]],inputs:{title:"title",emigrantsList:"emigrantsList",loading:"loading",deploymentForm:"deploymentForm"},outputs:{addToListEmigrant:"addToListEmigrant"},features:[e.qOj],decls:12,vars:5,consts:[[1,"content","mt-3"],[1,"card"],[1,"table-responsive"],["dataKey","jobId",3,"value","loading","tableStyle"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"buttons","mt-3"],["pButton","","type","button","label","Add to List",1,"btn-blue","btn-format","mr-2",3,"click"],["id","otherContractual","type","text","pInputText","","maxlength","10",3,"ngModel","formControl","ngModelChange"],["id","serviceCharge","type","text","pInputText","","maxlength","5",3,"ngModel","formControl","ngModelChange"],["id","totalExpense","type","text","pInputText","","maxlength","5",3,"ngModel","formControl","ngModelChange"],["colspan","7"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"h4"),e._uU(2),e.qZA(),e.TgZ(3,"div",1)(4,"div",2)(5,"p-table",3,4),e.YNc(7,we,37,0,"ng-template",5),e.YNc(8,Re,34,16,"ng-template",6),e.YNc(9,qe,3,0,"ng-template",7),e.qZA()()(),e.TgZ(10,"div",8)(11,"button",9),e.NdJ("click",function(){return t.addToList()}),e.qZA()()()),2&o&&(e.xp6(2),e.Oqu(t.title),e.xp6(3),e.Q6J("value",t.emigrantsList)("loading",t.loading)("tableStyle",e.DdM(4,ke)))},dependencies:[n.Fj,n.JJ,n.nD,n.oH,g.jx,b.Hq,C.o,F.iA]}),s})();function Ne(i,s){if(1&i){const r=e.EpF();e.TgZ(0,"emigrate-worker-details",12),e.NdJ("addToListEmigrant",function(t){e.CHM(r);const a=e.oxw();return e.KtG(a.addToList(t))}),e.qZA()}if(2&i){const r=e.oxw();e.Q6J("title",r.workerListTitle1)("emigrantsList",r.emigrantDetails)("loading",r.loading)("deploymentForm",r.deploymentForm)}}function Je(i,s){if(1&i){const r=e.EpF();e.TgZ(0,"emigrate-workers-list",13),e.NdJ("saveEmigrantList",function(t){e.CHM(r);const a=e.oxw();return e.KtG(a.saveAndCloseEmigrantList(t))})("redirectToSearch",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.backToSearch())})("redirectToSummary",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.close())}),e.qZA()}if(2&i){const r=e.oxw();e.Q6J("title",r.workerListTitle2)("emigrantsList",r.emigrantsList)("loading",r.loading)}}let Ue=(()=>{var i;class s extends m.H6{constructor(o,t,a,l){super(a),this.uiService=o,this.monthlyReturnService=t,this.sessionQuery=l,this.saveEmigrantList=new e.vpe,this.redirectToSearch=new e.vpe,this.redirectToSummary=new e.vpe,this.workerListTitle1="Search Result",this.workerListTitle2="Selected Emigrants List",this.loading=!1,this.emigrantDetails=[],this.emigrantsList=[],this.searchResultVisible=!1,this.selectedListVisible=!1}ngOnInit(){this.workerListForm.reset(),this.userId=this.sessionQuery.user.id,this.workerListForm.controls.passportNo.valueChanges.subscribe(o=>{if(o){const t=this.workers.find(l=>l.value==o).title;this.workerListForm.controls.emigrantId.patchValue(t);const a={year:new Date(this.yearMonthForm.value.yearMonth).getFullYear().toString(),month:new Date(this.yearMonthForm.value.yearMonth).getMonth()+1,userId:this.userId,passportType:this.passportType?.passType,countryType:this.passportType?.countryType,passportNum:o};this.monthlyReturnService.fetchDeployedEmigrantDetails(a).subscribe({next:l=>{l.data?(this.emigrantDetails[0]=l.data,this.emigrantDetails.forEach(c=>c.gender=this.monthlyReturnService.fetchValueFromMaster(c.gender,this.masterData[0][p.UrG.GENDER])),this.emigrantDetails.forEach(c=>c.employmentCountryLabel=this.monthlyReturnService.fetchValueFromMaster(c.employmentCountry,this.masterData[0][p.UrG.COUNTRY])),this.emigrantDetails[0].year=a.year,this.emigrantDetails[0].month=a.month.toString(),this.emigrantDetails[0].userId=a.userId,this.emigrantDetails[0].passportType=a.passportType,this.emigrantDetails[0].countryType=a.countryType,this.emigrantDetails[0].passportNo=a.passportNum,this.searchResultVisible=!0,this.showSuccessToast(l.message)):(this.showErrorToast(l.message),this.searchResultVisible=!1)},error:l=>{this.showErrorToast(l?.error?.message),this.searchResultVisible=!1}})}}),this.fetchEmigrantsList()}fetchEmigrantsList(){this.emigrantsList=[],this.loading=!0;const o={year:new Date(this.yearMonthForm.value.yearMonth).getFullYear().toString(),month:new Date(this.yearMonthForm.value.yearMonth).getMonth()+1,countryCd:this.emigrantDeploymentSearchForm.controls.country.value,employerId:this.emigrantDeploymentSearchForm.controls.feId.value,jobroleId:this.emigrantDeploymentSearchForm.controls.trade.value,userId:this.userId,passportType:this.passportType?.passType,countryType:this.passportType?.countryType};this.monthlyReturnService.fetchDeployedEmigrantsList(o).subscribe({next:t=>{this.emigrantsList=t.data,this.emigrantsList&&(this.selectedListVisible=!0,this.emigrantsList.forEach(a=>a.gender=this.monthlyReturnService.fetchValueFromMaster(a.gender,this.masterData[0][p.UrG.GENDER])),this.emigrantsList.forEach(a=>a.employmentCountryLabel=this.monthlyReturnService.fetchValueFromMaster(a.employmentCountry,this.masterData[0][p.UrG.COUNTRY]))),this.loading=!1},error:t=>{this.loading=!1},complete:()=>{this.loading=!1}})}addToList(o){if(this.loading=!0,this.emigrantsList.length>0&&this.emigrantsList.find(a=>a.passportNo==o[0].passportNo))return this.showErrorToast("This Emigrant is already added in the list."),void(this.loading=!1);this.monthlyReturnService.draftDeployedEmigrantDetails(this.emigrantDetails[0]).subscribe({next:t=>{t.status.toLowerCase()===p.Xef.SUCCESS.toLowerCase()?(this.emigrantDetails=[],this.selectedListVisible=!0,this.loading=!1,this.showSuccessToast(t.message),this.fetchEmigrantsList()):(this.showErrorToast(t.message),this.loading=!1)},error:t=>{this.showErrorToast(t?.error?.message),this.loading=!1}})}saveAndCloseEmigrantList(o){const t={year:new Date(this.yearMonthForm.value.yearMonth).getFullYear().toString(),month:new Date(this.yearMonthForm.value.yearMonth).getMonth()+1,passportType:this.passportType?.passType,countryType:this.passportType?.countryType,userId:this.userId};this.monthlyReturnService.saveDeployedEmigrants(t).subscribe({next:a=>{a.status.toLowerCase()==p.Xef.SUCCESS.toLowerCase()?(this.uiService.hideSpinner(),this.showSuccessToast(a.message),this.saveEmigrantList.emit()):(this.uiService.hideSpinner(),this.showErrorToast(a.message))},error:a=>{this.uiService.hideSpinner(),this.showErrorToast(a?.error?.errorMessage)},complete:()=>{this.uiService.hideSpinner()}})}backToSearch(){this.redirectToSearch.emit()}close(){this.redirectToSummary.emit()}}return(i=s).\u0275fac=function(o){return new(o||i)(e.Y36(_.n),e.Y36(T.H),e.Y36(g.ez),e.Y36(p.U_o))},i.\u0275cmp=e.Xpm({type:i,selectors:[["emigrate-monthly-report-deployment"]],inputs:{title:"title",workerListForm:"workerListForm",yearMonthForm:"yearMonthForm",deploymentForm:"deploymentForm",emigrantDeploymentSearchForm:"emigrantDeploymentSearchForm",passportType:"passportType",workers:"workers",masterData:"masterData"},outputs:{saveEmigrantList:"saveEmigrantList",redirectToSearch:"redirectToSearch",redirectToSummary:"redirectToSummary"},features:[e.qOj],decls:17,vars:10,consts:[[1,"row_box"],[1,"content"],[1,"form"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","passportNo","inputLabel","1. Passport Number","inputId","passportNo",1,"block",3,"patternMsg","inputFormControl"],["id","emigrantId","placeholder","Select Passport Number","EmigrateShDropdown","",1,"w-100",3,"formControl","options"],["for","emigrantId","inputLabel","2. Emigrant Name","inputId","emigrantId",1,"block",3,"patternMsg","inputFormControl"],["id","emigrantId","type","text","pInputText","","placeholder","Emigrant Name",3,"formControl"],[3,"title","emigrantsList","loading","deploymentForm","addToListEmigrant",4,"ngIf"],[3,"title","emigrantsList","loading","saveEmigrantList","redirectToSearch","redirectToSummary",4,"ngIf"],[3,"title","emigrantsList","loading","deploymentForm","addToListEmigrant"],[3,"title","emigrantsList","loading","saveEmigrantList","redirectToSearch","redirectToSummary"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3),e.qZA(),e.TgZ(4,"div",2)(5,"form")(6,"div",3)(7,"div",4)(8,"div",5)(9,"emigrate-sh-html-input",6),e._UZ(10,"p-dropdown",7),e.qZA()()(),e.TgZ(11,"div",4)(12,"div",5)(13,"emigrate-sh-html-input",8),e._UZ(14,"input",9),e.qZA()()()()()()()(),e.YNc(15,Ne,1,4,"emigrate-worker-details",10),e.YNc(16,Je,1,3,"emigrate-workers-list",11)),2&o&&(e.xp6(3),e.Oqu(t.title),e.xp6(6),e.Q6J("patternMsg","pattern message")("inputFormControl",t.workerListForm.controls.passportNo),e.xp6(1),e.Q6J("formControl",t.workerListForm.controls.passportNo)("options",t.workers),e.xp6(3),e.Q6J("patternMsg","pattern message")("inputFormControl",t.workerListForm.controls.emigrantId),e.xp6(1),e.Q6J("formControl",t.workerListForm.controls.emigrantId),e.xp6(1),e.Q6J("ngIf",t.searchResultVisible),e.xp6(1),e.Q6J("ngIf",t.selectedListVisible))},dependencies:[u.O5,n._Y,n.Fj,n.JJ,n.JL,n.oH,A.Lt,C.o,n.F,m.KR,m.lC,Ee,Me]}),s})(),J=(()=>{var i;class s{constructor(){this.searchMonthlyReturn=new e.vpe,this.redirectToSummary=new e.vpe,this.resetAllData=new e.vpe,this.today=new Date}ngOnInit(){this.entityFormGroup.reset()}clearFormData(){this.entityFormGroup.reset(),this.resetAllData.emit()}close(){this.redirectToSummary.emit()}searchMonthlyReturnData(){this.searchMonthlyReturn.emit()}}return(i=s).\u0275fac=function(o){return new(o||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["emigrate-month-year-form"]],inputs:{title:"title",entityFormGroup:"entityFormGroup"},outputs:{searchMonthlyReturn:"searchMonthlyReturn",redirectToSummary:"redirectToSummary",resetAllData:"resetAllData"},decls:17,vars:6,consts:[[1,"row_box"],[1,"content"],[1,"form"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","yearMonth","inputLabel","1. Month & Year","inputId","year",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","yearMonth","view","month","dateFormat","MM-yy","placeholder","Month-Year","appendTo","body",1,"w-100",3,"maxDate","formControl"],[1,"col-md-12"],[1,"buttons","mb-3"],["pButton","","type","submit","label","Submit",1,"btn-format","btn-blue","mr-2",3,"click"],["pButton","","type","button","label","Clear",1,"btn-format","btn-blue","mr-2",3,"click"],["pButton","","type","button","label","Cancel",1,"btn-format","btn-blue",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3),e.qZA(),e.TgZ(4,"div",2)(5,"form")(6,"div",3)(7,"div",4)(8,"div",5)(9,"emigrate-sh-html-input",6),e._UZ(10,"p-calendar",7),e.qZA()()()(),e.TgZ(11,"div",3)(12,"div",8)(13,"div",9)(14,"button",10),e.NdJ("click",function(){return t.searchMonthlyReturnData()}),e.qZA(),e.TgZ(15,"button",11),e.NdJ("click",function(){return t.clearFormData()}),e.qZA(),e.TgZ(16,"button",12),e.NdJ("click",function(){return t.close()}),e.qZA()()()()()()()()),2&o&&(e.xp6(3),e.Oqu(t.title),e.xp6(6),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",t.entityFormGroup.controls.yearMonth),e.xp6(1),e.Q6J("maxDate",t.today)("formControl",t.entityFormGroup.controls.yearMonth))},dependencies:[n._Y,n.JJ,n.JL,n.oH,b.Hq,d.f,n.F,m.KR]}),s})();function Le(i,s){if(1&i){const r=e.EpF();e.TgZ(0,"emigrate-month-year-form",9),e.NdJ("searchMonthlyReturn",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.searchMonthlyReturnData())})("redirectToSummary",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.close())})("resetAllData",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.clearAll())}),e.qZA()}if(2&i){const r=e.oxw();e.Q6J("title",r.title)("entityFormGroup",r.yearMonthForm)}}function Qe(i,s){if(1&i){const r=e.EpF();e.TgZ(0,"emigrate-emigrant-search-deployment",10),e.NdJ("searchEmployer",function(t){e.CHM(r);const a=e.oxw();return e.KtG(a.fetchEmployerList(t))})("searchJobRole",function(t){e.CHM(r);const a=e.oxw();return e.KtG(a.fetchJobRole(t))})("searchEmigrant",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.searchEmigrantData())}),e.qZA()}if(2&i){const r=e.oxw();e.Q6J("title",r.reportTitle)("emigrantDeploymentSearchForm",r.emigrantDeploymentSearchForm)("countries",r.countries)("employers",r.employers)("roles",r.roles)}}function Oe(i,s){if(1&i){const r=e.EpF();e.TgZ(0,"emigrate-monthly-report-deployment",11),e.NdJ("saveEmigrantList",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.saveEmigrantList())})("redirectToSearch",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.redirectToSearch())})("redirectToSummary",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.close())}),e.qZA()}if(2&i){const r=e.oxw();e.Q6J("title",r.monthlyReportTitle)("workerListForm",r.workerListForm)("yearMonthForm",r.yearMonthForm)("emigrantDeploymentSearchForm",r.emigrantDeploymentSearchForm)("passportType",r.passportType)("workers",r.workers)("masterData",r.masterData)("deploymentForm",r.deploymentForm)}}function Ye(i,s){if(1&i&&e._UZ(0,"emigrate-monthly-return-summary",12),2&i){const r=e.oxw();e.Q6J("title",r.monthlyReturnSummaryTitle)("type","deployment")}}let Pe=(()=>{var i;class s extends m.H6{constructor(o,t,a,l,c,y,I,x,N){super(t),this.uiService=o,this.router=a,this.route=l,this.monthlyReturnformHelper=c,this.monthlyReturnService=y,this.routerQuery=I,this.sessionQuery=x,this.mastersDataService=N,this.loading=!1,this.pageInstructionText=p.Xef.PAGE_INSTRUCTION_TEXT,this.pageInstructionHelpText=p.Xef.PAGE_INSTRUCTION_HELP_TEXT,this.workers=[],this.reportTitle="Monthly Report",this.monthlyReportTitle="Workers Travelled/Deployed for Overseas Employment",this.monthlyReturnSummaryTitle="Monthly Return",this.isReportVisible=!1,this.isMonthlyReturnSummaryVisible=!1,this.isEmigrantSearchVisible=!1,this.roles=[],this.employers=[],this.countries=[],l.params.subscribe(po=>{y.setPassportType(po.passType),this.monthlyReturnService.selectedPassportType$.subscribe(O=>{this.title=O.label,this.passportType=O,this.initForm()})})}ngOnInit(){this.userId=this.sessionQuery.user.id,this.masterData=this.routerQuery.getData(),this.initForm(),this.uiService.hideSpinner()}initForm(){this.breadcrumb=[{label:"Recruitment Agent",routerLink:["/admin"]},{label:"Monthly Return"},{label:"Details of Indian Travelled/Deployed for Overseas Employment"}],this.uiService.initPageSetup(this.breadcrumb,"Details of Indian Travelled/Deployed for Overseas Employment"),this.yearMonthForm=this.monthlyReturnformHelper.createYearMonthForm(!1,{}),this.emigrantDeploymentSearchForm=this.monthlyReturnformHelper.createEmigrantDeploymentSearchForm(!1,{}),this.workerListForm=this.monthlyReturnformHelper.createWorkerListForm(!1,{}),this.deploymentForm=this.monthlyReturnformHelper.createDeploymentForm(!1,{}),this.workers=[],this.isReportVisible=!1,this.isMonthlyReturnSummaryVisible=!1,this.isEmigrantSearchVisible=!1,this.yearMonthSubsctiption=this.yearMonthForm.controls.yearMonth.valueChanges.subscribe(o=>{o&&(this.emigrantDeploymentSearchForm=this.monthlyReturnformHelper.createEmigrantDeploymentSearchForm(!1,{}),this.workerListForm=this.monthlyReturnformHelper.createWorkerListForm(!1,{}),this.workers=[],this.isReportVisible=!1,this.isMonthlyReturnSummaryVisible=!1,this.isEmigrantSearchVisible=!1)})}searchMonthlyReturnData(){let o=!1;if(this.yearMonthForm.markAllAsTouched(),o=this.yearMonthForm.valid,this.roles=[],this.employers=[],this.countries=[],o){this.uiService.showSpinner();const t={year:new Date(this.yearMonthForm.value.yearMonth).getFullYear().toString(),month:new Date(this.yearMonthForm.value.yearMonth).getMonth()+1,userId:this.userId,passportType:this.passportType?.passType,countryType:this.passportType?.countryType};this.isEmigrantSearchVisible=!0,this.monthlyReturnService.searchCountry(t).subscribe({next:a=>{a.status.toLowerCase()===p.Xef.SUCCESS.toLowerCase()&&a.data.length>0?(this.countries=this.mastersDataService.createSelectItems(a.data),this.showSuccessToast(a.message)):this.showErrorToast(a.message),this.uiService.hideSpinner()},error:a=>{this.uiService.hideSpinner(),this.showErrorToast(a?.error?.message)},complete:()=>{this.uiService.hideSpinner()}})}}fetchEmployerList(o){const t=o.value;if(this.employers=[],this.roles=[],t){const a={year:new Date(this.yearMonthForm.value.yearMonth).getFullYear().toString(),month:new Date(this.yearMonthForm.value.yearMonth).getMonth()+1,countryCd:t,userId:this.userId,passportType:this.passportType?.passType,countryType:this.passportType?.countryType};this.monthlyReturnService.fetchEmployerList(a).subscribe({next:l=>{l.data.length>0?(this.employers=this.mastersDataService.createSelectItems(l.data),this.showSuccessToast(l.message)):this.showErrorToast(l.message)},error:l=>{this.uiService.hideSpinner(),this.showErrorToast(l?.error?.message)}})}}fetchJobRole(o){const t=o.value;if(this.roles=[],t){const a={year:new Date(this.yearMonthForm.value.yearMonth).getFullYear().toString(),month:new Date(this.yearMonthForm.value.yearMonth).getMonth()+1,countryCd:this.emigrantDeploymentSearchForm.controls.country.value,employerId:t,userId:this.userId,passportType:this.passportType?.passType,countryType:this.passportType?.countryType};this.monthlyReturnService.fetchJobRole(a).subscribe({next:l=>{l.data.length>0?(this.roles=this.mastersDataService.createSelectItems(l.data),this.showSuccessToast(l.message)):this.showErrorToast(l.message)},error:l=>{this.uiService.hideSpinner(),this.showErrorToast(l?.error?.message)}})}}searchEmigrantData(){let o=!1;if(this.emigrantDeploymentSearchForm.markAllAsTouched(),o=this.emigrantDeploymentSearchForm.valid&&this.yearMonthForm.valid,o){const t={year:new Date(this.yearMonthForm.value.yearMonth).getFullYear().toString(),month:new Date(this.yearMonthForm.value.yearMonth).getMonth()+1,countryCd:this.emigrantDeploymentSearchForm.controls.country.value,employerId:this.emigrantDeploymentSearchForm.controls.feId.value,jobroleId:this.emigrantDeploymentSearchForm.controls.trade.value,userId:this.userId,passportType:this.passportType?.passType,countryType:this.passportType?.countryType};this.uiService.showSpinner(),this.monthlyReturnService.searchEmigrants(t).subscribe({next:a=>{a.status.toLowerCase()===p.Xef.SUCCESS.toLowerCase()?(a.data.length>0?(this.workers=this.createWorkerSelectItems(a.data),this.isReportVisible=!0,this.isEmigrantSearchVisible=!1,this.isMonthlyReturnSummaryVisible=!1,this.gotoTop(150,0),this.showSuccessToast(a.message)):(this.workers=[],this.isReportVisible=!1,this.isEmigrantSearchVisible=!1,this.isMonthlyReturnSummaryVisible=!1,this.showErrorToast(a.message)),this.uiService.hideSpinner()):this.showErrorToast(a.message)},error:a=>{this.uiService.hideSpinner(),this.showErrorToast(a?.message)},complete:()=>{this.uiService.hideSpinner()}})}}saveEmigrantList(){this.isReportVisible=!1,this.isMonthlyReturnSummaryVisible=!0,this.breadcrumb=[{label:"Recruitment Agent",routerLink:["/admin"]},{label:"Monthly Return"}],this.uiService.initPageSetup(this.breadcrumb,"Monthly Return"),this.gotoTop(150,0)}createWorkerSelectItems(o){return o&&o.length?o.map(t=>({value:t.passportNum,label:t.passportNum,title:t.firstName+" "+t.lastName})):o}redirectToSearch(){this.workers=[],this.isReportVisible=!1,this.isMonthlyReturnSummaryVisible=!1,this.breadcrumb=[{label:"Recruitment Agent",routerLink:["/admin"]},{label:"Monthly Return"},{label:"Details of Indian Travelled/Deployed for Overseas Employment"}],this.uiService.initPageSetup(this.breadcrumb,"Details of Indian Travelled/Deployed for Overseas Employment"),this.gotoTop(150,0)}clearAll(){this.workers=[],this.yearMonthForm.reset(),this.emigrantDeploymentSearchForm.reset(),this.workerListForm.reset(),this.isReportVisible=!1,this.isMonthlyReturnSummaryVisible=!1,this.isEmigrantSearchVisible=!1}close(){this.workers=[],this.yearMonthForm.reset(),this.emigrantDeploymentSearchForm.reset(),this.workerListForm.reset(),this.isReportVisible=!1,this.isMonthlyReturnSummaryVisible=!0,this.isEmigrantSearchVisible=!1,this.breadcrumb=[{label:"Recruitment Agent",routerLink:["/admin"]},{label:"Monthly Return"}],this.uiService.initPageSetup(this.breadcrumb,"Monthly Return"),this.gotoTop(150,0)}ngOnDestroy(){this.yearMonthSubsctiption.unsubscribe()}}return(i=s).\u0275fac=function(o){return new(o||i)(e.Y36(_.n),e.Y36(g.ez),e.Y36(v.F0),e.Y36(v.gz),e.Y36(S),e.Y36(T.H),e.Y36(f.dt),e.Y36(p.U_o),e.Y36(p.$M0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["emigrate-monthly-return-deployment"]],features:[e.qOj],decls:10,vars:6,consts:[[1,"container"],[1,"content","p-3","border","mt-2","mb-2"],[1,"row"],[3,"instructionsText","toolTipText"],[1,"clearfix"],[3,"title","entityFormGroup","searchMonthlyReturn","redirectToSummary","resetAllData",4,"ngIf"],[3,"title","emigrantDeploymentSearchForm","countries","employers","roles","searchEmployer","searchJobRole","searchEmigrant",4,"ngIf"],[3,"title","workerListForm","yearMonthForm","emigrantDeploymentSearchForm","passportType","workers","masterData","deploymentForm","saveEmigrantList","redirectToSearch","redirectToSummary",4,"ngIf"],[3,"title","type","data",4,"ngIf"],[3,"title","entityFormGroup","searchMonthlyReturn","redirectToSummary","resetAllData"],[3,"title","emigrantDeploymentSearchForm","countries","employers","roles","searchEmployer","searchJobRole","searchEmigrant"],[3,"title","workerListForm","yearMonthForm","emigrantDeploymentSearchForm","passportType","workers","masterData","deploymentForm","saveEmigrantList","redirectToSearch","redirectToSummary"],[3,"title","type","data"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"p-toast"),e.TgZ(3,"div",2),e._UZ(4,"emigrate-sh-page-instructions",3),e.qZA(),e._UZ(5,"div",4),e.YNc(6,Le,1,2,"emigrate-month-year-form",5),e.YNc(7,Qe,1,5,"emigrate-emigrant-search-deployment",6),e.YNc(8,Oe,1,8,"emigrate-monthly-report-deployment",7),e.YNc(9,Ye,1,2,"emigrate-monthly-return-summary",8),e.qZA()()),2&o&&(e.xp6(4),e.Q6J("instructionsText",t.pageInstructionText)("toolTipText",t.pageInstructionHelpText),e.xp6(2),e.Q6J("ngIf",!t.isReportVisible&&!t.isMonthlyReturnSummaryVisible),e.xp6(1),e.Q6J("ngIf",t.isEmigrantSearchVisible),e.xp6(1),e.Q6J("ngIf",t.isReportVisible),e.xp6(1),e.Q6J("ngIf",t.isMonthlyReturnSummaryVisible))},dependencies:[u.O5,D.FN,m.dB,Ie,Ue,J,w]}),s})();var M=h(1989);let U=(()=>{var i;class s{constructor(){this.submitDeclaration=new e.vpe,this.title="Declaration",this.disableSubmit=!0}onConfirmChange(o){this.disableSubmit=!o.checked}onSubmitDeclaration(){this.submitDeclaration.emit()}}return(i=s).\u0275fac=function(o){return new(o||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["emigrate-declaration"]],inputs:{declarationText:"declarationText",confirmationText:"confirmationText"},outputs:{submitDeclaration:"submitDeclaration"},decls:15,vars:5,consts:[[1,"row_box"],[1,"content"],[1,"row"],[1,"col-12","ml-2"],[1,"mb-3"],[1,"d-flex","align-items-start","mb-3"],["inputId","ny",1,"",3,"binary","onChange"],[1,"ml-2"],[1,"col-md-12"],[1,"buttons"],["pButton","","type","button","label","Submit",1,"btn-format","btn-blue",3,"disabled","click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"label",4),e._uU(7),e.qZA(),e.TgZ(8,"div",5)(9,"p-checkbox",6),e.NdJ("onChange",function(l){return t.onConfirmChange(l)}),e.qZA(),e.TgZ(10,"label",7),e._uU(11),e.qZA()()(),e.TgZ(12,"div",8)(13,"div",9)(14,"button",10),e.NdJ("click",function(){return t.onSubmitDeclaration()}),e.qZA()()()()()()),2&o&&(e.xp6(3),e.Oqu(t.title),e.xp6(4),e.hij(" ",t.declarationText," "),e.xp6(2),e.Q6J("binary",!0),e.xp6(2),e.hij(" ",t.confirmationText," "),e.xp6(3),e.Q6J("disabled",t.disableSubmit))},dependencies:[b.Hq,M.XZ]}),s})();const Ve=["dt"];function Ge(i,s){if(1&i){const r=e.EpF();e.TgZ(0,"emigrate-month-year-form",9),e.NdJ("searchMonthlyReturn",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.fetchGrievanceList())})("redirectToSummary",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.close())})("resetAllData",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.clearAll())}),e.qZA()}if(2&i){const r=e.oxw();e.Q6J("title",r.searchTitle)("entityFormGroup",r.yearMonthForm)}}function ze(i,s){if(1&i){const r=e.EpF();e.TgZ(0,"div",2)(1,"div",22)(2,"button",23),e.NdJ("click",function(){e.CHM(r),e.oxw();const t=e.MAs(2),a=e.oxw(2);return e.KtG(a.clearTable(t))}),e.qZA()(),e.TgZ(3,"div",24)(4,"span",25),e._UZ(5,"i",26),e.TgZ(6,"input",27),e.NdJ("ngModelChange",function(t){e.CHM(r);const a=e.oxw(3);return e.KtG(a.searchInput=t)})("input",function(t){e.CHM(r);const a=e.oxw(3);return e.KtG(a.applyFilterGlobal(t,"contains"))}),e.qZA()()()()}if(2&i){const r=e.oxw(3);e.xp6(6),e.Q6J("ngModel",r.searchInput)}}function He(i,s){1&i&&(e.TgZ(0,"tr")(1,"th",28),e._uU(2,"S. No."),e.qZA(),e.TgZ(3,"th",29)(4,"span"),e._uU(5,"Grievance Number"),e.qZA(),e._UZ(6,"p-sortIcon",30),e.qZA(),e.TgZ(7,"th",31)(8,"span"),e._uU(9,"Complainant Name"),e.qZA(),e._UZ(10,"p-sortIcon",32),e.qZA(),e.TgZ(11,"th",33)(12,"span"),e._uU(13,"Type of Grievance"),e.qZA(),e._UZ(14,"p-sortIcon",34),e.qZA(),e.TgZ(15,"th")(16,"span"),e._uU(17,"Grievance Description"),e.qZA()(),e.TgZ(18,"th",35)(19,"span"),e._uU(20,"Current Status"),e.qZA(),e._UZ(21,"p-sortIcon",36),e.qZA()())}function je(i,s){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"span"),e._uU(5),e.qZA()(),e.TgZ(6,"td")(7,"span"),e._uU(8),e.qZA()(),e.TgZ(9,"td")(10,"span"),e._uU(11),e.qZA()(),e.TgZ(12,"td")(13,"span"),e._uU(14),e.qZA()(),e.TgZ(15,"td")(16,"span"),e._uU(17),e.qZA()()()),2&i){const r=s.$implicit,o=s.rowIndex;e.xp6(2),e.Oqu(o+1),e.xp6(3),e.Oqu(r.grievanceArn?r.grievanceArn:"NA"),e.xp6(3),e.AsE("",r.emigrantFirstName," ",r.emigrantLastName,""),e.xp6(3),e.Oqu(r.grievanceType?r.grievanceType:"NA"),e.xp6(3),e.Oqu(r.grievanceDescription?r.grievanceDescription:"NA"),e.xp6(3),e.Oqu(r.status?r.status:"NA")}}function Be(i,s){1&i&&(e.TgZ(0,"tr")(1,"td",37)(2,"span",38)(3,"label"),e._uU(4," Errors: No Record Found "),e.qZA()()()())}const Xe=function(){return[10,25,50]},We=function(){return["grievanceArn","emigrantFirstName","emigrantLastName","grievanceType","status"]},Ke=function(){return{"min-width":"50rem"}};function $e(i,s){if(1&i&&(e.TgZ(0,"div",15)(1,"p-table",16,17),e.YNc(3,ze,7,1,"ng-template",18),e.YNc(4,He,22,0,"ng-template",19),e.YNc(5,je,18,7,"ng-template",20),e.YNc(6,Be,5,0,"ng-template",21),e.qZA()()),2&i){const r=e.oxw(2);e.xp6(1),e.Q6J("value",r.grievanceList)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(8,Xe))("paginator",!0)("loading",r.loading)("globalFilterFields",e.DdM(9,We))("tableStyle",e.DdM(10,Ke))}}function et(i,s){1&i&&(e.TgZ(0,"span",39)(1,"label"),e._uU(2," No Complaint Found "),e.qZA()())}function tt(i,s){if(1&i&&(e.TgZ(0,"div",10)(1,"div",11)(2,"h4"),e._uU(3),e.qZA(),e.TgZ(4,"div",12),e.YNc(5,$e,7,11,"div",13),e.YNc(6,et,3,0,"ng-template",null,14,e.W1O),e.qZA()()()),2&i){const r=e.MAs(7),o=e.oxw();e.xp6(3),e.Oqu(o.title),e.xp6(2),e.Q6J("ngIf",o.grievanceList.length)("ngIfElse",r)}}function ot(i,s){if(1&i){const r=e.EpF();e.TgZ(0,"emigrate-declaration",40),e.NdJ("submitDeclaration",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.onSubmitDeclaration())}),e.qZA()}if(2&i){const r=e.oxw();e.Q6J("declarationText",r.declarationText)("confirmationText",r.confirmationText)}}function rt(i,s){if(1&i&&e._UZ(0,"emigrate-monthly-return-summary",41),2&i){const r=e.oxw();e.Q6J("title",r.monthlyReturnSummaryTitle)("type","complaint")}}let it=(()=>{var i;class s extends m.H6{constructor(o,t,a,l,c,y){super(t),this.uiService=o,this.monthlyReturnformHelper=a,this.monthlyReturnService=l,this.sessionQuery=c,this.datePipe=y,this.grievanceList=[],this.loading=!1,this.pageInstructionText=p.Xef.PAGE_INSTRUCTION_TEXT,this.pageInstructionHelpText=p.Xef.PAGE_INSTRUCTION_HELP_TEXT,this.searchTitle="Search Complaints Received From Emigrants",this.title="List of Complaints Received From Emigrants",this.monthlyReturnSummaryTitle="Monthly Return",this.isMonthlyReturnSummaryVisible=!1,this.isComplaintVisible=!1,this.searchInput=null,this.userRa=p.Xef.USER_RA.toUpperCase()}ngOnInit(){this.initForm(),this.declarationText="All complaints reported to me directly by emigrate or there representatives have been logged online on emigrate.",this.confirmationText="I accept this declaration.",this.userId=this.sessionQuery.user.id}initForm(){this.breadcrumb=[{label:"Recruitment Agent",routerLink:["/admin"]},{label:"Monthly Return"},{label:"List of Complaint Details"}],this.uiService.initPageSetup(this.breadcrumb,"List of Complaint Details"),this.yearMonthForm=this.monthlyReturnformHelper.createYearMonthForm(!1,{}),this.yearMonthSubsctiption=this.yearMonthForm.controls.yearMonth.valueChanges.subscribe(o=>{o&&(this.isMonthlyReturnSummaryVisible=!1,this.isComplaintVisible=!1,this.grievanceList=[])})}fetchGrievanceList(){this.grievanceList=[];let o=!1;if(this.yearMonthForm.markAllAsTouched(),o=this.yearMonthForm.valid,o){this.uiService.showSpinner();const t=new Date(this.yearMonthForm.value.yearMonth).getFullYear(),a=new Date(this.yearMonthForm.value.yearMonth).getMonth(),l=new Date,c={dateFrom:this.datePipe.transform(new Date(this.yearMonthForm.value.yearMonth),"yyyy-MM-dd"),dateTo:this.datePipe.transform(new Date(t,a+1,0)>l?l:new Date(t,a+1,0),"yyyy-MM-dd"),partnerId:this.userRa+this.userId};this.monthlyReturnService.fetchGrievanceDetails(c).subscribe({next:y=>{y.status.toLowerCase()===p.Xef.SUCCESS.toLowerCase()?y.data.length>0?(this.grievanceList=y.data,this.showSuccessToast(y.message)):this.showErrorToast("No Complaint Found"):this.showErrorToast(y.message),this.uiService.hideSpinner()},error:y=>{this.uiService.hideSpinner(),this.showErrorToast(y?.error?.message)},complete:()=>{this.uiService.hideSpinner()}}),this.isComplaintVisible=!0}}onSubmitDeclaration(){this.uiService.showSpinner();const o={year:new Date(this.yearMonthForm.value.yearMonth).getFullYear().toString(),month:new Date(this.yearMonthForm.value.yearMonth).getMonth()+1,partnerId:this.userRa+this.userId,grievanceArnList:this.grievanceList.map(t=>t.grievanceArn),declaration:"Yes"};this.monthlyReturnService.submitGrievanceDetails(o).subscribe({next:t=>{t.status.toLowerCase()===p.Xef.SUCCESS.toLowerCase()?(this.showSuccessToast(t.message),this.isMonthlyReturnSummaryVisible=!0,this.isComplaintVisible=!1,this.breadcrumb=[{label:"Recruitment Agent",routerLink:["/admin"]},{label:"Monthly Return"}],this.uiService.initPageSetup(this.breadcrumb,"Monthly Return"),this.gotoTop(150,0)):this.showErrorToast(t.message),this.uiService.hideSpinner()},error:t=>{this.uiService.hideSpinner(),this.showErrorToast(t?.error?.message)},complete:()=>{this.uiService.hideSpinner()}})}applyFilterGlobal(o,t){this.dt.filterGlobal(o.target.value,t)}clearTable(o){o.clear(),this.searchInput=null}clearAll(){this.yearMonthForm.reset(),this.isMonthlyReturnSummaryVisible=!1,this.isComplaintVisible=!1}close(){this.yearMonthForm.reset(),this.isMonthlyReturnSummaryVisible=!0,this.isComplaintVisible=!1,this.breadcrumb=[{label:"Recruitment Agent",routerLink:["/admin"]},{label:"Monthly Return"}],this.uiService.initPageSetup(this.breadcrumb,"Monthly Return"),this.gotoTop(150,0)}ngOnDestroy(){this.yearMonthSubsctiption.unsubscribe()}}return(i=s).\u0275fac=function(o){return new(o||i)(e.Y36(_.n),e.Y36(g.ez),e.Y36(S),e.Y36(T.H),e.Y36(p.U_o),e.Y36(u.uU))},i.\u0275cmp=e.Xpm({type:i,selectors:[["emigrate-complaint-details-list"]],viewQuery:function(o,t){if(1&o&&e.Gf(Ve,5),2&o){let a;e.iGM(a=e.CRH())&&(t.dt=a.first)}},features:[e.qOj],decls:10,vars:6,consts:[[1,"container"],[1,"content","p-3","border","mt-2","mb-2"],[1,"row"],[3,"instructionsText","toolTipText"],[1,"clearfix"],[3,"title","entityFormGroup","searchMonthlyReturn","redirectToSummary","resetAllData",4,"ngIf"],["class","row_box mb-3",4,"ngIf"],[3,"declarationText","confirmationText","submitDeclaration",4,"ngIf"],[3,"title","type","data",4,"ngIf"],[3,"title","entityFormGroup","searchMonthlyReturn","redirectToSummary","resetAllData"],[1,"row_box","mb-3"],[1,"content"],[1,"card"],["class","table-responsive",4,"ngIf","ngIfElse"],["noRecord",""],[1,"table-responsive"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","showCurrentPageReport","rowsPerPageOptions","paginator","loading","globalFilterFields","tableStyle"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"col-md-4"],["pButton","","label","Clear","icon","pi pi-filter-slash",1,"p-button-outlined","btn-format",3,"click"],[1,"col-md-4","offset-md-4","filter-field"],[1,"p-input-icon-right","w-100"],[1,"pi","pi-search","pt-1","float-right"],["pInputText","","type","text","placeholder","Search Grievance",3,"ngModel","ngModelChange","input"],[2,"min-width","5rem"],["pSortableColumn","grievanceArn",2,"min-width","12rem"],["field","grievanceArn"],["pSortableColumn","emigrantFirstName",2,"min-width","12rem"],["field","emigrantFirstName"],["pSortableColumn","grievanceType",2,"min-width","12rem"],["field","grievanceType"],["pSortableColumn","status",2,"min-width","12rem"],["field","status"],["colspan","6"],[1,"error"],[1,"error","p-3"],[3,"declarationText","confirmationText","submitDeclaration"],[3,"title","type","data"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"p-toast"),e.TgZ(3,"div",2),e._UZ(4,"emigrate-sh-page-instructions",3),e.qZA(),e._UZ(5,"div",4),e.YNc(6,Ge,1,2,"emigrate-month-year-form",5),e.YNc(7,tt,8,3,"div",6),e.YNc(8,ot,1,2,"emigrate-declaration",7),e.YNc(9,rt,1,2,"emigrate-monthly-return-summary",8),e.qZA()()),2&o&&(e.xp6(4),e.Q6J("instructionsText",t.pageInstructionText)("toolTipText",t.pageInstructionHelpText),e.xp6(2),e.Q6J("ngIf",!t.isMonthlyReturnSummaryVisible),e.xp6(1),e.Q6J("ngIf",t.isComplaintVisible),e.xp6(1),e.Q6J("ngIf",t.isComplaintVisible),e.xp6(1),e.Q6J("ngIf",t.isMonthlyReturnSummaryVisible))},dependencies:[u.O5,n.Fj,n.JJ,g.jx,b.Hq,C.o,D.FN,F.iA,F.lQ,F.fz,n.On,m.dB,J,w,U],styles:[".error[_ngcontent-%COMP%]{text-align:center;color:red}.filter-field[_ngcontent-%COMP%]   .p-inputtext[_ngcontent-%COMP%]{padding:.5rem .75rem;max-width:100%;width:100%;border:#e1e1e1 solid 1px;font-size:14px}"]}),s})();function nt(i,s){1&i&&(e.TgZ(0,"div",34)(1,"div",35)(2,"span",36),e._uU(3," Please select updated date "),e.qZA()()())}function at(i,s){if(1&i&&(e.TgZ(0,"div",37)(1,"b"),e._uU(2,"Updated Dates:"),e.qZA(),e._uU(3),e.qZA()),2&i){const r=e.oxw(2);e.xp6(3),e.hij(" ",r.updatedDates,"")}}function st(i,s){if(1&i&&(e.TgZ(0,"span",38),e._UZ(1,"p-radioButton",39),e.qZA()),2&i){const r=s.$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("formControl",o.formIvItemsForm.controls.isEmployerBlacklisted)("label",r.label)("value",r.value)("inputId",r.value)}}function lt(i,s){if(1&i){const r=e.EpF();e.TgZ(0,"div",2)(1,"div",10)(2,"div",11)(3,"emigrate-sh-html-input",40),e._UZ(4,"input",41),e.qZA()()(),e.TgZ(5,"div",10)(6,"div",11)(7,"emigrate-sh-html-input",42),e._UZ(8,"input",43),e.qZA()()(),e.TgZ(9,"div",44)(10,"div",45)(11,"button",46),e.NdJ("click",function(){e.CHM(r);const t=e.oxw(2);return e.KtG(t.addEmployerToList())}),e.qZA()()()()}if(2&i){const r=e.oxw(2);e.xp6(3),e.Q6J("patternMsg","pattern message")("inputFormControl",r.blacklistedEmployerForm.controls.employerName),e.xp6(1),e.Q6J("formControl",r.blacklistedEmployerForm.controls.employerName),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",r.blacklistedEmployerForm.controls.employerId),e.xp6(1),e.Q6J("formControl",r.blacklistedEmployerForm.controls.employerId)}}function mt(i,s){1&i&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"S. No."),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Employer Name"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Employer ID"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Action"),e.qZA()())}function ut(i,s){if(1&i){const r=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"div",53)(9,"button",54),e.NdJ("click",function(){const a=e.CHM(r).rowIndex,l=e.oxw(4);return e.KtG(l.removeEmployer(a))}),e._UZ(10,"i",55),e.qZA()()()()}if(2&i){const r=s.$implicit,o=s.rowIndex;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.hij(" ",r.employerName?r.employerName:"NA"," "),e.xp6(2),e.hij(" ",r.employerId?r.employerId:"NA"," ")}}const pt=function(){return{"min-width":"50rem"}};function ct(i,s){if(1&i&&(e.TgZ(0,"div",8)(1,"div",48)(2,"p-table",49,50),e.YNc(4,mt,9,0,"ng-template",51),e.YNc(5,ut,11,3,"ng-template",52),e.qZA()()()),2&i){const r=e.oxw(3);e.xp6(2),e.Q6J("value",r.blacklistedEmployerList)("loading",r.loading)("tableStyle",e.DdM(3,pt))}}function dt(i,s){if(1&i&&(e.TgZ(0,"div",7),e.YNc(1,ct,6,4,"div",47),e.qZA()),2&i){const r=e.oxw(2);e.xp6(1),e.Q6J("ngIf",r.blacklistedEmployerList.length)}}function ht(i,s){if(1&i&&(e.TgZ(0,"span",38),e._UZ(1,"p-radioButton",56),e.qZA()),2&i){const r=s.$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("formControl",o.formIvItemsForm.controls.isActionInitiated)("label",r.label)("value",r.value)("inputId",r.value)}}function gt(i,s){if(1&i&&(e.TgZ(0,"div",2)(1,"div",10)(2,"div",11)(3,"emigrate-sh-html-input",57),e._UZ(4,"input",58),e.qZA()()()()),2&i){const r=e.oxw(2);e.xp6(3),e.Q6J("patternMsg","pattern message")("inputFormControl",r.formIvItemsForm.controls.status),e.xp6(1),e.Q6J("formControl",r.formIvItemsForm.controls.status)}}function ft(i,s){if(1&i&&(e.TgZ(0,"div",2)(1,"div",10)(2,"div",11)(3,"emigrate-sh-html-input",59),e._UZ(4,"input",60),e.qZA()()(),e.TgZ(5,"div",10)(6,"div",11)(7,"emigrate-sh-html-input",61),e._UZ(8,"input",62),e.qZA()()(),e.TgZ(9,"div",10)(10,"div",11)(11,"emigrate-sh-html-input",63),e._UZ(12,"input",64),e.qZA()()(),e.TgZ(13,"div",14)(14,"div",11)(15,"emigrate-sh-html-input",65)(16,"div",16)(17,"div",10),e._UZ(18,"input",66),e.qZA(),e.TgZ(19,"div",10),e._UZ(20,"p-dropdown",67),e.qZA()()()()()()),2&i){const r=e.oxw(2);e.xp6(3),e.Q6J("patternMsg","pattern message")("inputFormControl",r.formIvItemsForm.controls.serviceTaxAmount),e.xp6(1),e.Q6J("formControl",r.formIvItemsForm.controls.serviceTaxAmount),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",r.formIvItemsForm.controls.incomeTaxAmount),e.xp6(1),e.Q6J("formControl",r.formIvItemsForm.controls.incomeTaxAmount),e.xp6(3),e.Q6J("patternMsg","pattern message")("inputFormControl",r.formIvItemsForm.controls.otherTaxAmount),e.xp6(1),e.Q6J("formControl",r.formIvItemsForm.controls.otherTaxAmount),e.xp6(3),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",r.formIvItemsForm.controls.foreignExchange),e.xp6(3),e.Q6J("formControl",r.formIvItemsForm.controls.foreignExchange),e.xp6(2),e.Q6J("formControl",r.formIvItemsForm.controls.currencyType)("options",r.currencyList)}}function yt(i,s){if(1&i){const r=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"h4"),e._uU(3),e.qZA(),e.TgZ(4,"div",9)(5,"form")(6,"div",2)(7,"div",10)(8,"div",11)(9,"emigrate-sh-html-input",12),e._UZ(10,"p-calendar",13),e.qZA()()()(),e.TgZ(11,"div",2)(12,"div",14)(13,"div",11)(14,"emigrate-sh-html-input",15)(15,"div",16)(16,"div",17),e._UZ(17,"input",18),e.qZA(),e.TgZ(18,"div",19),e._uU(19,"on"),e.qZA(),e.TgZ(20,"div",20),e._UZ(21,"p-calendar",21),e.YNc(22,nt,4,0,"div",22),e.qZA(),e.YNc(23,at,4,1,"div",23),e.qZA()()()()(),e.TgZ(24,"div",2)(25,"div",14)(26,"div",11)(27,"emigrate-sh-html-input",24)(28,"div",25),e.YNc(29,st,2,4,"span",26),e.qZA()()()()(),e.YNc(30,lt,12,7,"div",27),e.YNc(31,dt,2,1,"div",5),e.TgZ(32,"div",2)(33,"div",14)(34,"div",11)(35,"emigrate-sh-html-input",28)(36,"div",25),e.YNc(37,ht,2,4,"span",26),e.qZA()()()()(),e.YNc(38,gt,5,3,"div",27),e.TgZ(39,"div",2)(40,"div",14)(41,"div",11)(42,"div",25)(43,"label"),e._uU(44,"5. Statutory dues including income-tax and service-tax has been paid in time? "),e.qZA(),e._UZ(45,"p-checkbox",29),e.qZA()()()(),e.YNc(46,ft,21,16,"div",27),e.TgZ(47,"div",2)(48,"div",14)(49,"div",30)(50,"button",31),e.NdJ("click",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.saveFormIv())}),e.qZA(),e.TgZ(51,"button",32),e.NdJ("click",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.clearFormIv())}),e.qZA(),e.TgZ(52,"button",33),e.NdJ("click",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.close())}),e.qZA()()()()()()()()}if(2&i){const r=e.oxw();e.xp6(3),e.Oqu(r.title),e.xp6(6),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",r.yearMonthForm.controls.yearMonth),e.xp6(1),e.Q6J("maxDate",r.today)("formControl",r.yearMonthForm.controls.yearMonth),e.xp6(4),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",r.formIvItemsForm.controls.websiteUpdatedCount),e.xp6(3),e.Q6J("formControl",r.formIvItemsForm.controls.websiteUpdatedCount),e.xp6(4),e.Q6J("dateFormat",r.defaultDateFormat)("formControl",r.formIvItemsForm.controls.websiteUpdatedDates)("maxDate",r.today),e.xp6(1),e.Q6J("ngIf",r.submitted&&r.updatedDates.length<1),e.xp6(1),e.Q6J("ngIf",r.updatedDates.length),e.xp6(4),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",r.formIvItemsForm.controls.isEmployerBlacklisted),e.xp6(2),e.Q6J("ngForOf",r.radioList),e.xp6(1),e.Q6J("ngIf",r.showEmployerForm),e.xp6(1),e.Q6J("ngIf",r.showEmployerForm),e.xp6(4),e.Q6J("inputRequired",!0)("patternMsg","pattern message")("inputFormControl",r.formIvItemsForm.controls.isActionInitiated),e.xp6(2),e.Q6J("ngForOf",r.radioList),e.xp6(1),e.Q6J("ngIf",r.showStatus),e.xp6(7),e.Q6J("binary",!0)("formControl",r.formIvItemsForm.controls.isStatutoryDuesPaid),e.xp6(1),e.Q6J("ngIf",r.showtaxFields)}}function bt(i,s){if(1&i&&e._UZ(0,"emigrate-monthly-return-summary",68),2&i){const r=e.oxw();e.Q6J("title",r.monthlyReturnSummaryTitle)("type","formIv")}}const _t=function(){return{width:"50vw"}};let vt=(()=>{var i;class s extends m.H6{constructor(o,t,a,l,c,y,I,x){super(t),this.uiService=o,this.monthlyReturnformHelper=a,this.monthlyReturnService=l,this.routerQuery=c,this.sessionQuery=y,this.confirmationService=I,this.datePipe=x,this.loading=!1,this.pageInstructionText=p.Xef.PAGE_INSTRUCTION_TEXT,this.pageInstructionHelpText=p.Xef.PAGE_INSTRUCTION_HELP_TEXT,this.title="Form IV (Items) Sr.No. 5-8",this.monthlyReturnSummaryTitle="Monthly Return",this.isMonthlyReturnSummaryVisible=!1,this.isFormVisible=!0,this.today=new Date,this.radioList=[{label:"Yes",value:"yes"},{label:"No",value:"no"}],this.currencyList=[],this.showStatus=!1,this.showEmployerForm=!1,this.showtaxFields=!1,this.blacklistedEmployerList=[],this.updatedDates=[],this.submitted=!1}ngOnInit(){this.initForm()}initForm(){this.breadcrumb=[{label:"Recruitment Agent",routerLink:["/admin"]},{label:"Monthly Return"},{label:"Form IV (Items) Sr.No. 5-8"}],this.uiService.initPageSetup(this.breadcrumb,"Form IV (Items) Sr.No. 5-8"),this.formIvItemsForm=this.monthlyReturnformHelper.createformIvItemsForm(!1,{}),this.blacklistedEmployerForm=this.monthlyReturnformHelper.createBlacklistedEmployerForm(!1,{}),this.actionInitiatedSubsctiption=this.formIvItemsForm.controls.isActionInitiated.valueChanges.subscribe(o=>{"yes"===o?(this.showStatus=!0,this.formIvItemsForm.controls.status.setValidators([n.kI.required]),this.formIvItemsForm.controls.status.updateValueAndValidity()):(this.showStatus=!1,this.formIvItemsForm.controls.status.clearValidators(),this.formIvItemsForm.controls.status.updateValueAndValidity())}),this.employerBlacklistedSubsctiption=this.formIvItemsForm.controls.isEmployerBlacklisted.valueChanges.subscribe(o=>{this.showEmployerForm="yes"==o}),this.statutoryDuesPaidSubsctiption=this.formIvItemsForm.controls.isStatutoryDuesPaid.valueChanges.subscribe(o=>{this.showtaxFields=!!o}),this.updatedDatesSubsctiption=this.formIvItemsForm.controls.websiteUpdatedDates.valueChanges.subscribe(o=>{this.updatedDates=o?o?o.map(t=>this.datePipe.transform(t,"dd-MM-yyyy")):null:[]}),this.masterData=this.routerQuery.getData(),this.currencyList=this.masterData[0][p.FH8.CURRENCY]}addEmployerToList(){let o=!1;if(this.blacklistedEmployerForm.markAllAsTouched(),o=this.blacklistedEmployerForm.valid,o){if(this.blacklistedEmployerList.find(a=>a.employerId===this.blacklistedEmployerForm.controls.employerId.value))return void this.showErrorToast("This Employer Id is already in the list");this.blacklistedEmployerList.push(this.blacklistedEmployerForm.value),this.blacklistedEmployerForm.reset()}}removeEmployer(o){const t=o;-1!==t&&this.confirmationService.confirm({message:"Do you want to delete this record?",header:"Delete Confirmation",icon:"pi pi-info-circle",accept:()=>this.blacklistedEmployerList.splice(t,1),reject:()=>{this.loading=!1}})}saveFormIv(){let o=!1;if(this.formIvItemsForm.markAllAsTouched(),o=this.formIvItemsForm.valid,this.submitted=!0,o){if(this.uiService.showSpinner(),"yes"===this.formIvItemsForm.value.isEmployerBlacklisted){if(!(this.blacklistedEmployerList.length>0))return this.uiService.hideSpinner(),void this.showErrorToast("Please add Black-listed Employer");for(let a of this.blacklistedEmployerList)this.formIvItemsForm.controls.blacklistedEmployer.value.push(a)}this.filterData={year:new Date(this.formIvItemsForm.value.yearMonthForm.yearMonth).getFullYear().toString(),month:new Date(this.formIvItemsForm.value.yearMonthForm.yearMonth).getMonth()+1,userId:this.sessionQuery.user.id},this.formIvItemsForm.patchValue(this.filterData);const t=Object.assign(new p.kHh,this.monthlyReturnformHelper.formIvDetails(this.formIvItemsForm));this.monthlyReturnService.addFormIvData(t).subscribe({next:a=>{a.status.toLowerCase()===p.Xef.SUCCESS.toLowerCase()?(this.showSuccessToast(a.message),this.close()):this.showErrorToast(a.message),this.uiService.hideSpinner(),this.submitted=!1},error:a=>{this.uiService.hideSpinner(),this.showErrorToast(a?.message),this.submitted=!1},complete:()=>{this.uiService.hideSpinner()}})}}clearFormIv(){this.formIvItemsForm.reset(),this.submitted=!1,this.blacklistedEmployerList=[],this.updatedDates=[]}close(){this.formIvItemsForm.reset(),this.blacklistedEmployerList=[],this.updatedDates=[],this.isMonthlyReturnSummaryVisible=!0,this.isFormVisible=!1,this.breadcrumb=[{label:"Recruitment Agent",routerLink:["/admin"]},{label:"Monthly Return"}],this.uiService.initPageSetup(this.breadcrumb,"Monthly Return"),this.gotoTop(150,0)}get yearMonthForm(){return this.formIvItemsForm.controls.yearMonthForm}}return(i=s).\u0275fac=function(o){return new(o||i)(e.Y36(_.n),e.Y36(g.ez),e.Y36(S),e.Y36(T.H),e.Y36(f.dt),e.Y36(p.U_o),e.Y36(g.YP),e.Y36(u.uU))},i.\u0275cmp=e.Xpm({type:i,selectors:[["emigrate-form-iv"]],features:[e.qOj],decls:9,vars:7,consts:[[1,"container"],[1,"content","p-3","border","mt-2","mb-2"],[1,"row"],[3,"instructionsText","toolTipText"],[1,"clearfix"],["class","row_box mb-3",4,"ngIf"],[3,"title","type","data",4,"ngIf"],[1,"row_box","mb-3"],[1,"content"],[1,"form"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","yearMonth","inputLabel","1. Month & Year","inputId","year",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","yearMonth","view","month","dateFormat","MM-yy","placeholder","Month-Year","appendTo","body",1,"w-100",3,"maxDate","formControl"],[1,"col-md-12"],["for","websideUpdatedCount","inputLabel","2. Number of times website was updated during the month","inputId","websideUpdatedCount",1,"block",3,"inputRequired","patternMsg","inputFormControl"],[1,"row","flex","flex-wrap"],[1,"col-md-2"],["id","websideUpdatedCount","type","number","pInputText","","placeholder","Updated Count",3,"formControl"],[1,"noNewLine","mt-1"],[1,"col-md-4"],["appendTo","body","inputId","websiteUpdatedDates","placeholder","Website Updated Dates","selectionMode","multiple",1,"w-100",3,"dateFormat","formControl","maxDate"],["class","emigrate-input-messages ng-star-inserted",4,"ngIf"],["class","col-md-5",4,"ngIf"],["for","isEmployerBlacklisted","inputLabel","3. Whether any employers on whole behalf recruitment is done has been blacklisted?","inputId","isEmployerBlacklisted",1,"block",3,"inputRequired","patternMsg","inputFormControl"],[1,"d-flex","flex-wrap","align-items-left","label-mb-0"],["class","mr-4",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],["for","isActionInitiated","inputLabel","4. Whether any action has been initiated under section 14 or section 24 of emigration Act 1983?","inputId","isActionInitiated",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["inputId","isStatutoryDuesPaid",1,"pl-5",3,"binary","formControl"],[1,"buttons"],["pButton","","type","submit","label","Save",1,"btn-format","btn-blue","mr-2",3,"click"],["pButton","","type","button","label","Clear",1,"btn-blue","btn-format","mr-2",3,"click"],["pButton","","type","button","label","Cancel",1,"btn-format","btn-blue",3,"click"],[1,"emigrate-input-messages","ng-star-inserted"],[1,"global-message-msgs"],[1,"emigrate-message","ng-star-inserted"],[1,"col-md-5"],[1,"mr-4"],["name","isEmployerBlacklisted",3,"formControl","label","value","inputId"],["for","employerName","inputLabel","Employer Name","inputId","employerName",1,"block",3,"patternMsg","inputFormControl"],["id","employerName","type","text","pInputText","","placeholder","Employer Name","maxlength","200",3,"formControl"],["for","employerId","inputLabel","Employer ID","inputId","employerId",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","employerId","type","text","pInputText","","placeholder","Employer ID",3,"formControl"],[1,"col-md-2","col-sm-2"],[1,"buttons","mt-4"],["pButton","","type","submit","label","Add",1,"btn-format","btn-blue",3,"click"],["class","content",4,"ngIf"],[1,"card"],[3,"value","loading","tableStyle"],["dt",""],["pTemplate","header"],["pTemplate","body"],[1,"user_action"],["pButton","","type","button","label","",1,"text-danger",3,"click"],[1,"pi","pi-trash",2,"font-size","0.8rem"],["name","isActionInitiated",3,"formControl","label","value","inputId"],["for","status","inputLabel","Status","inputId","status",1,"block",3,"patternMsg","inputFormControl"],["id","status","type","text","pInputText","","placeholder","Status",3,"formControl"],["for","serviceTaxAmount","inputLabel","6. Amount of Service Tax Deposited","inputId","serviceTaxAmount",1,"block",3,"patternMsg","inputFormControl"],["id","serviceTaxAmount","type","number","pInputText","","placeholder","Service Tax",3,"formControl"],["for","incomeTaxAmount","inputLabel","7. Amount of Income Tax Deposited","inputId","incomeTaxAmount",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","incomeTaxAmount","type","number","pInputText","","placeholder","Income Tax",3,"formControl"],["for","otherTaxAmount","inputLabel","8. Amount of Other Tax Deposited","inputId","otherTaxAmount",1,"block",3,"patternMsg","inputFormControl"],["id","otherTaxAmount","type","number","pInputText","","placeholder","Other Tax",3,"formControl"],["for","foreignExchange","inputLabel","9. Foreign Exchange Earned in the Month","inputId","foreignExchange",1,"block",3,"inputRequired","patternMsg","inputFormControl"],["id","foreignExchange","type","number","pInputText","","placeholder","Foreign Exchange Earned",3,"formControl"],["id","currencyType","placeholder","Select Currency","EmigrateShDropdown","",3,"formControl","options"],[3,"title","type","data"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"p-toast")(3,"p-confirmDialog"),e.TgZ(4,"div",2),e._UZ(5,"emigrate-sh-page-instructions",3),e.qZA(),e._UZ(6,"div",4),e.YNc(7,yt,53,29,"div",5),e.YNc(8,bt,1,2,"emigrate-monthly-return-summary",6),e.qZA()()),2&o&&(e.xp6(3),e.Akn(e.DdM(6,_t)),e.xp6(2),e.Q6J("instructionsText",t.pageInstructionText)("toolTipText",t.pageInstructionHelpText),e.xp6(2),e.Q6J("ngIf",t.isFormVisible),e.xp6(1),e.Q6J("ngIf",t.isMonthlyReturnSummaryVisible))},dependencies:[u.sg,u.O5,n._Y,n.Fj,n.wV,n.JJ,n.JL,n.nD,n.oH,g.jx,b.Hq,A.Lt,C.o,D.FN,M.XZ,F.iA,k.EU,d.f,n.F,E.Q,m.KR,m.dB,m.lC,w],styles:[".noNewLine[_ngcontent-%COMP%]{flex:0 0 auto;width:4%}"]}),s})();function Tt(i,s){if(1&i){const r=e.EpF();e.TgZ(0,"emigrate-month-year-form",9),e.NdJ("searchMonthlyReturn",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.searchConsolidatedReportData())})("redirectToSummary",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.close())})("resetAllData",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.clearAll())}),e.qZA()}if(2&i){const r=e.oxw();e.Q6J("title",r.searchTitle)("entityFormGroup",r.yearMonthForm)}}function Ct(i,s){if(1&i&&e._UZ(0,"emigrate-monthly-return-summary",10),2&i){const r=e.oxw();e.Q6J("title",r.title)("type",r.summaryType)("data",r.reportData)}}function Dt(i,s){if(1&i){const r=e.EpF();e.TgZ(0,"emigrate-declaration",11),e.NdJ("submitDeclaration",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.onSubmitDeclaration())}),e.qZA()}if(2&i){const r=e.oxw();e.Q6J("declarationText",r.declarationText)("confirmationText",r.confirmationText)}}function Ft(i,s){if(1&i){const r=e.EpF();e.TgZ(0,"div")(1,"div",12)(2,"div",13)(3,"h4"),e._uU(4,"Success"),e.qZA(),e.TgZ(5,"p",14)(6,"b"),e._uU(7," Monthly Report Generated Successfully."),e._UZ(8,"br"),e._uU(9," You will receive your consolidated report within 24 hours in your mail box."),e.qZA()()()(),e.TgZ(10,"div",15)(11,"div",16)(12,"button",17),e.NdJ("click",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.redirectToDashboard())}),e.qZA()()()()}}let It=(()=>{var i;class s extends m.H6{constructor(o,t,a,l,c,y){super(t),this.uiService=o,this.monthlyReturnformHelper=a,this.monthlyReturnService=l,this.sessionQuery=c,this.router=y,this.loading=!1,this.pageInstructionText=p.Xef.PAGE_INSTRUCTION_TEXT,this.pageInstructionHelpText=p.Xef.PAGE_INSTRUCTION_HELP_TEXT,this.searchTitle="Search Consolidated Report",this.title="Consolidated Report",this.summaryType="consolidatedReport",this.isReportVisible=!1,this.isSuccessVisible=!1,this.sumaaryVisible=!1}ngOnInit(){this.initForm(),this.declarationText="I hereby declare that the details furnished above are true and correct to the best of my knowledge and belief. In case of any of the information submitted in the return is found to be false or untrue or misleading or misrepresenting, I am aware that I shall be held liable for it.",this.confirmationText="I confirm that the information provided above is fully corrected. I am aware that in case any discrepancy is found I shall be liable for that."}initForm(){this.breadcrumb=[{label:"Recruitment Agent",routerLink:["/admin"]},{label:"Monthly Return"},{label:"RA Monthly Consolidated Report"}],this.uiService.initPageSetup(this.breadcrumb,"RA Monthly Consolidated Report"),this.yearMonthForm=this.monthlyReturnformHelper.createYearMonthForm(!1,{}),this.userId=this.sessionQuery.user.id,this.yearMonthSubsctiption=this.yearMonthForm.controls.yearMonth.valueChanges.subscribe(o=>{o&&(this.isReportVisible=!1,this.isSuccessVisible=!1)})}searchConsolidatedReportData(){let o=!1;if(this.yearMonthForm.markAllAsTouched(),o=this.yearMonthForm.valid,this.isReportVisible=!1,o){this.uiService.showSpinner();const t={year:new Date(this.yearMonthForm.value.yearMonth).getFullYear().toString(),month:new Date(this.yearMonthForm.value.yearMonth).getMonth()+1,raId:this.userId};this.monthlyReturnService.fetchConsolidatedReportData(t).subscribe({next:a=>{a.status.toLowerCase()===p.Xef.SUCCESS.toLowerCase()?(this.reportData=a.data,this.isReportVisible=!0,this.showSuccessToast(a.message)):this.showErrorToast(a.message),this.uiService.hideSpinner()},error:a=>{this.uiService.hideSpinner(),this.showErrorToast(a?.error?.message)},complete:()=>{this.uiService.hideSpinner()}})}}onSubmitDeclaration(){this.uiService.showSpinner();const o={year:new Date(this.yearMonthForm.value.yearMonth).getFullYear().toString(),month:new Date(this.yearMonthForm.value.yearMonth).getMonth()+1,raId:this.userId,reEcnrToEcnr:this.reportData.reEcnrToEcnr,reEcnrToEcr:this.reportData.reEcnrToEcr,reEcrToEcnr:this.reportData.reEcrToEcnr,reEcrToEcr:this.reportData.reEcrToEcr,deEcnrToEcnr:this.reportData.deEcnrToEcnr,deEcnrToEcr:this.reportData.deEcnrToEcr,deEcrToEcnr:this.reportData.deEcrToEcnr,deEcrToEcr:this.reportData.deEcrToEcr,formIV:this.reportData.formIV,listOfComplaint:this.reportData.listOfComplaint,declaration:"Yes"};this.monthlyReturnService.submitConsolidatedReport(o).subscribe({next:t=>{t.status.toLowerCase()===p.Xef.SUCCESS.toLowerCase()?(this.showSuccessToast(t.message),this.isReportVisible=!1,this.isSuccessVisible=!0,this.gotoTop(150,0),this.sendReportMail()):this.showErrorToast(t.message),this.uiService.hideSpinner()},error:t=>{this.uiService.hideSpinner(),this.showErrorToast(t?.error?.message)},complete:()=>{this.uiService.hideSpinner()}})}sendReportMail(){const o={year:new Date(this.yearMonthForm.value.yearMonth).getFullYear().toString(),month:new Date(this.yearMonthForm.value.yearMonth).getMonth()+1,raId:this.userId,userEmail:this.sessionQuery.user.emailAddress};this.monthlyReturnService.sendReportMail(o).subscribe({next:t=>{t.toLowerCase()===p.Xef.SUCCESS.toLowerCase()?console.log("Mail sent successfully"):console.log("Something went wrong")},error:()=>{this.uiService.hideSpinner(),console.log("Something went wrong")},complete:()=>{this.uiService.hideSpinner()}})}redirectToDashboard(){this.router.navigate(["/admin/dashboard"])}clearAll(){this.isReportVisible=!1,this.sumaaryVisible=!1,this.yearMonthForm.reset()}close(){this.yearMonthForm.reset(),this.isReportVisible=!0,this.sumaaryVisible=!0,this.summaryType="summary",this.breadcrumb=[{label:"Recruitment Agent",routerLink:["/admin"]},{label:"Monthly Return"}],this.uiService.initPageSetup(this.breadcrumb,"Monthly Return"),this.gotoTop(150,0)}ngOnDestroy(){this.yearMonthSubsctiption.unsubscribe()}}return(i=s).\u0275fac=function(o){return new(o||i)(e.Y36(_.n),e.Y36(g.ez),e.Y36(S),e.Y36(T.H),e.Y36(p.U_o),e.Y36(v.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["emigrate-consolidate-report"]],features:[e.qOj],decls:10,vars:6,consts:[[1,"container"],[1,"content","p-3","border","mt-2","mb-2"],[1,"row"],[3,"instructionsText","toolTipText"],[1,"clearfix"],[3,"title","entityFormGroup","searchMonthlyReturn","redirectToSummary","resetAllData",4,"ngIf"],[3,"title","type","data",4,"ngIf"],[3,"declarationText","confirmationText","submitDeclaration",4,"ngIf"],[4,"ngIf"],[3,"title","entityFormGroup","searchMonthlyReturn","redirectToSummary","resetAllData"],[3,"title","type","data"],[3,"declarationText","confirmationText","submitDeclaration"],[1,"row_box"],[1,"content"],[1,"h5","text-center","text-success"],[1,"row","mt-3"],[1,"buttons"],["pButton","","type","button","label","Close",1,"btn-blue","btn-format","mr-2",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"p-toast"),e.TgZ(3,"div",2),e._UZ(4,"emigrate-sh-page-instructions",3),e.qZA(),e._UZ(5,"div",4),e.YNc(6,Tt,1,2,"emigrate-month-year-form",5),e.YNc(7,Ct,1,3,"emigrate-monthly-return-summary",6),e.YNc(8,Dt,1,2,"emigrate-declaration",7),e.YNc(9,Ft,13,0,"div",8),e.qZA()()),2&o&&(e.xp6(4),e.Q6J("instructionsText",t.pageInstructionText)("toolTipText",t.pageInstructionHelpText),e.xp6(2),e.Q6J("ngIf",!t.isSuccessVisible&&!t.sumaaryVisible),e.xp6(1),e.Q6J("ngIf",t.isReportVisible),e.xp6(1),e.Q6J("ngIf",t.isReportVisible&&!t.sumaaryVisible),e.xp6(1),e.Q6J("ngIf",t.isSuccessVisible))},dependencies:[u.O5,b.Hq,D.FN,m.dB,J,w,U]}),s})();function Zt(i,s){if(1&i){const r=e.EpF();e.TgZ(0,"div",5)(1,"div",6)(2,"h4"),e._uU(3),e.qZA(),e.TgZ(4,"div",7)(5,"p",8)(6,"b"),e._uU(7,"1."),e.qZA(),e._uU(8," RA should use this provision only to register the demands which are not assigned to them online by the registered Foreign Employers (FEs). RA requires to have following documents ready with him to complete this form- "),e.qZA(),e.TgZ(9,"ol")(10,"li",9)(11,"p",8)(12,"b"),e._uU(13,"(i)"),e.qZA(),e._uU(14," Copy of Specimen Employment Contract"),e.qZA()(),e.TgZ(15,"li",9)(16,"p",8)(17,"b"),e._uU(18,"(ii)"),e.qZA(),e._uU(19," Demand Letter issued by FE to RA"),e.qZA()(),e.TgZ(20,"li",9)(21,"p",8)(22,"b"),e._uU(23,"(iii)"),e.qZA(),e._uU(24," Power of Attorney (PoA) given by the FE to RA"),e.qZA()(),e.TgZ(25,"li",9)(26,"p",8)(27,"b"),e._uU(28,"(iv)"),e.qZA(),e._uU(29),e.qZA()(),e.TgZ(30,"li",9)(31,"p")(32,"b"),e._uU(33,"(v)"),e.qZA(),e._uU(34," Copy of Company Registration (C.R.) / Trade License Certificate of Employer in case of non-Individual Employers or Photo Id Card/ Sponsor Id in case of Individual Employers. "),e.qZA()()(),e.TgZ(35,"p")(36,"b"),e._uU(37,"2."),e.qZA(),e._uU(38," The demands which are assigned to them online by the registered Foreign Employers (FEs), should not be registered again in eMigrate using this form. "),e.qZA(),e.TgZ(39,"p")(40,"b"),e._uU(41,"3."),e.qZA(),e._uU(42," For demands received online through eMigrate system, RA should directly proceed to complete the Monthly Return procedure by selecting the relevant option of Details of Indian Recruited. "),e.qZA(),e.TgZ(43,"p")(44,"b"),e._uU(45,"4."),e.qZA(),e._uU(46," Name and Company Registration No. /Trade License No. /Sponsor Id of the FE must be provided correctly as mentioned on the Registration Certificate issued to the FE by his Government. "),e.qZA(),e.TgZ(47,"p")(48,"b"),e._uU(49,"5."),e.qZA(),e._uU(50," When FE Name and Registration No. is provided correctly, system fetches the record of FE from the database if FE already exists in the system on the basis of FE Name and Registration No. RA should only proceed with the record shown by the system and must not try to alter the spelling of FEs Name or Registration No. or Trade License No. or Sponsor ID to bypass the system validation. "),e.qZA(),e.TgZ(51,"p")(52,"b"),e._uU(53,"6."),e.qZA(),e._uU(54," It is preferable that before filling up the details of any FE, through this provision, RA should check the FEs name using Find Employer option available on www.emigrate.gov.in . If FE is found there, then the FEs details would be fetched by the system as per the procedure mentioned in para 4 above. If the system does not fetch the record of a registered FE for some reason, RA should report the issue to helpdesk@emigrate.gov.in along with FEs Name and Company Registration No. rather than completing the form. Helpdesk shall provide the Exact Name and C.R. No. of the FE which should be used by the RA for completing the form. The form should be filled only after receiving the response from Helpdesk in such cases. "),e.qZA(),e.TgZ(55,"p")(56,"b"),e._uU(57,"7."),e.qZA(),e._uU(58," For Company Registration Number or Copy of Local Government Approval issued to FE for hiring Indian worker, RA should not provide No. such as DMXXXXX/FEXXXXX/PTXXXXX which was generated by eMigrate system at any stage. "),e.qZA(),e.TgZ(59,"p")(60,"b"),e._uU(61,"8."),e.qZA(),e._uU(62," RAs should not provide C.R. No. (Registration No.) in place of Copy of local Government Approval issued to FE for hiring Indian worker. "),e.qZA(),e.TgZ(63,"p")(64,"b"),e._uU(65,"9."),e.qZA(),e._uU(66," After completing the Enter Employer and Recruitment Details and uploading the requisite documents, an Acknowledgement No. is generated by the System. "),e.qZA(),e.TgZ(67,"p")(68,"b"),e._uU(69,"10."),e.qZA(),e._uU(70," The Acknowledgement No. generated by the RAs shall be screened to cross check the FEs Name Company Registration Number/ Trade License No./ Sponsor Id from the system. This Acknowledgment No. shall be activated if the details provided by RA satisfy the criteria mentioned in para 1 to 8 above and no anomaly is detected in the details otherwise Acknowledgement No. shall be rejected/ not activated. For rejected Acknowledgement No., RAs can re- submit the Employer and Recruitment Details again by providing the information correctly. "),e.qZA(),e.TgZ(71,"p",8)(72,"b"),e._uU(73,"11."),e.qZA(),e._uU(74," After activation of Acknowledgement No.-"),e.qZA(),e.TgZ(75,"ol")(76,"li",9)(77,"p",8)(78,"b"),e._uU(79,"(i)"),e.qZA(),e._uU(80," Job ids equal to the number of vacancies entered by RA shall be created in the system. RA shall identify the emigrants recruited, against each of these job ids. "),e.qZA()(),e.TgZ(81,"li",9)(82,"p",8)(83,"b"),e._uU(84,"(ii)"),e.qZA(),e._uU(85," FEs record, whose details are provided, is created in the system. The FE thus created may be deactivated/ put in PAC by the Ministry if any complaint of wrongdoing is received against the FE or the RA. "),e.qZA()(),e.TgZ(86,"li",9)(87,"p",8)(88,"b"),e._uU(89,"(iii)"),e.qZA(),e._uU(90," FEs record shall be updated/ appended in the system after each successful entry. Data added with FEs record as a consequence of wrongful information provided by any RA, may attract penal action. "),e.qZA()(),e.TgZ(91,"li",9)(92,"p")(93,"b"),e._uU(94,"(iv)"),e.qZA(),e._uU(95," The Acknowledgement No. activated once, may be deactivated at any stage if any anomaly/ incorrect entry detected in the details/documents provided by the RA. "),e.qZA()()(),e.TgZ(96,"p")(97,"b"),e._uU(98,"12."),e.qZA(),e._uU(99," RAs have to complete the details of emigrants recruited against the job ids created for an activated Acknowledgement No. within six months. Failure to do so may result in penal action. "),e.qZA(),e.TgZ(100,"div",10)(101,"p-checkbox",11),e.NdJ("onChange",function(t){e.CHM(r);const a=e.oxw();return e.KtG(a.onConfirmChange(t))}),e.qZA(),e.TgZ(102,"label",12),e._uU(103,"Agree with all the terms and conditions stated in this process."),e.qZA()(),e.TgZ(104,"div",13)(105,"div",14)(106,"button",15),e.NdJ("click",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.proceed())}),e.qZA(),e.TgZ(107,"button",16),e.NdJ("click",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.cancel())}),e.qZA()()()()()()}if(2&i){const r=e.oxw();e.xp6(3),e.Oqu(r.title),e.xp6(26),e.AsE(" Copy of local Government Approval issued to FE for hiring Indian worker (Along with English translation if not in English) ","{","mandatory of ECR countries","}"," "),e.xp6(72),e.Q6J("binary",!0),e.xp6(5),e.Q6J("disabled",r.disableProceed)}}function St(i,s){if(1&i&&e._UZ(0,"emigrate-monthly-return-summary",17),2&i){const r=e.oxw();e.Q6J("title",r.monthlyReturnSummaryTitle)("type","instructions")}}let At=(()=>{var i;class s extends m.H6{constructor(o,t,a){super(t),this.uiService=o,this.router=a,this.disableProceed=!0,this.monthlyReturnSummaryTitle="Monthly Return",this.isMonthlyReturnSummaryVisible=!1}ngOnInit(){this.initForm(),this.title="Important Instructions"}initForm(){this.breadcrumb=[{label:"Recruitment Agent",routerLink:["/admin"]},{label:"Monthly Return"},{label:"Instructions for entering FE and Recruitment Details"}],this.uiService.initPageSetup(this.breadcrumb,"Instructions for entering FE and Recruitment Details")}onConfirmChange(o){this.disableProceed=!o.checked}proceed(){this.isMonthlyReturnSummaryVisible=!0,this.breadcrumb=[{label:"Recruitment Agent",routerLink:["/admin"]},{label:"Monthly Return"}],this.uiService.initPageSetup(this.breadcrumb,"Monthly Return"),this.gotoTop(150,0)}cancel(){this.router.navigate(["/admin/dashboard"])}}return(i=s).\u0275fac=function(o){return new(o||i)(e.Y36(_.n),e.Y36(g.ez),e.Y36(v.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["emigrate-monthly-return-instructions"]],features:[e.qOj],decls:5,vars:2,consts:[[1,"container"],[1,"content","p-3","border","mt-2","mb-2"],[1,"clearfix"],["class","row_box",4,"ngIf"],[3,"title","type","data",4,"ngIf"],[1,"row_box"],[1,"content"],[1,"row"],[1,"mb-0"],[1,"ml-3"],[1,"d-flex","align-items-start","mb-3"],["inputId","ny",3,"binary","onChange"],[1,"ml-2"],[1,"col-md-12"],[1,"buttons"],["pButton","","type","submit","label","Proceed",1,"btn-format","btn-blue","mr-2",3,"disabled","click"],["pButton","","type","button","label","Cancel",1,"btn-blue","btn-format","mr-2",3,"click"],[3,"title","type","data"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.YNc(3,Zt,108,5,"div",3),e.YNc(4,St,1,2,"emigrate-monthly-return-summary",4),e.qZA()()),2&o&&(e.xp6(3),e.Q6J("ngIf",!t.isMonthlyReturnSummaryVisible),e.xp6(1),e.Q6J("ngIf",t.isMonthlyReturnSummaryVisible))},dependencies:[u.O5,b.Hq,M.XZ,w]}),s})(),L=(()=>{var i;class s{constructor(o,t){this.fb=o,this.datePipe=t}employerRecruitmentForm(o){return this.fb.group({employerDetails:this.fb.group({nameOfEmployer:this.fb.control({value:"",disabled:!1},n.kI.compose([m.YO.characterValidator(),n.kI.required])),country:this.fb.control({value:"",disabled:!1},n.kI.required),registrationNo:this.fb.control({value:"",disabled:!1},n.kI.compose([m.YO.alphaNumericValidator(),n.kI.required]))})})}employerRecruitmentDetailsTab(){return this.fb.group({organizationDetails:this.fb.group({employerName:this.fb.control({value:"",disabled:!1},n.kI.required),country:this.fb.control({value:"",disabled:!1},n.kI.required),registrationNo:this.fb.control({value:"",disabled:!1},n.kI.required),registrationDate:this.fb.control({value:"",disabled:!1},n.kI.required),typeOfBusiness:this.fb.control({value:"",disabled:!1},n.kI.required),typeOfOrganisation:this.fb.control({value:"",disabled:!1},n.kI.required),websiteUrl:this.fb.control({value:"",disabled:!1},n.kI.compose([n.kI.required,m.YO.websiteUrlValidator()])),addressLine1:this.fb.control({value:"",disabled:!1},n.kI.compose([m.YO.addressValidator(),n.kI.required])),addressLine2:this.fb.control({value:"",disabled:!1},n.kI.compose([m.YO.addressValidator()])),city:this.fb.control({value:"",disabled:!1},n.kI.compose([m.YO.characterValidator(),n.kI.required])),countryOffice:this.fb.control({value:"",disabled:!1}),pin:this.fb.control({value:"",disabled:!1},n.kI.compose([m.YO.numericValidator()])),email:this.fb.control({value:"",disabled:!1},n.kI.compose([m.YO.emailValidator(),n.kI.required])),phonenumber:this.fb.control({value:"",disabled:!1},n.kI.compose([n.kI.required,m.YO.intMobileNumberValidator()])),faxnumber:this.fb.control({value:"",disabled:!1},n.kI.compose([m.YO.phoneNumberValidator(1)])),firstname:this.fb.control({value:"",disabled:!1},n.kI.compose([n.kI.required,m.YO.fullNameValidator()])),lastname:this.fb.control({value:"",disabled:!1},n.kI.compose([m.YO.fullNameValidator()])),designation:this.fb.control({value:"",disabled:!1},n.kI.required),registrationNoLocalGov:this.fb.control({value:"",disabled:!1},n.kI.compose([m.YO.alphaNumericValidator()])),dateApprovalLetter:this.fb.control({value:"",disabled:!1}),dateApprovalValid:this.fb.control({value:"",disabled:!1}),totalNoofWorkPermit:this.fb.control({value:"",disabled:!1},n.kI.compose([m.YO.numericValidator()]))}),recruitmentDetails:this.fb.group({jobDetails:this.fb.group({jobVacancies:this.fb.control({value:"",disabled:!1},n.kI.compose([n.kI.required,m.YO.nonZeroValidator()])),jobDescription:this.fb.control({value:"",disabled:!1},n.kI.compose([n.kI.required,m.YO.alphaNumericValidatorWithSpace()])),age:this.fb.control({value:"",disabled:!1}),gender:this.fb.control({value:"",disabled:!1}),currency:this.fb.control({value:"",disabled:!1},n.kI.required),miniSalary:this.fb.control({value:"",disabled:!1},n.kI.compose([n.kI.required,m.YO.nonZeroValidator()])),maxSalary:this.fb.control({value:"",disabled:!1},n.kI.compose([n.kI.required,m.YO.nonZeroValidator()])),contractPeriod:this.fb.control({value:"",disabled:!1},n.kI.compose([n.kI.required,m.YO.nonZeroValidator()])),probationPeriod:this.fb.control({value:"",disabled:!1},n.kI.compose([m.YO.nonZeroValidator()])),daliyWorkingHours:this.fb.control({value:"",disabled:!1},n.kI.compose([n.kI.required,m.YO.nonZeroValidator()])),settlementdisputes:this.fb.control({value:"",disabled:!1},n.kI.compose([n.kI.required,m.YO.characterValidator()])),releaseofAdvertisement:this.fb.control({value:"",disabled:!1},n.kI.required)}),facilities:this.fb.group({overTimeAllowance:this.fb.control({value:"",disabled:!1},n.kI.required),overTimeAllowanceDesc:this.fb.control({value:"",disabled:!1},n.kI.compose([m.YO.alphaNumericValidator()])),freeAccomodation:this.fb.control({value:"",disabled:!1},n.kI.required),freeAccomodationDesc:this.fb.control({value:"",disabled:!1},n.kI.compose([m.YO.alphaNumericValidator()])),freeFood:this.fb.control({value:"",disabled:!1},n.kI.required),freeFoodDesc:this.fb.control({value:"",disabled:!1},n.kI.compose([m.YO.alphaNumericValidator()])),medicalFacility:this.fb.control({value:"",disabled:!1},n.kI.required),medicalFacilityDesc:this.fb.control({value:"",disabled:!1},n.kI.compose([m.YO.alphaNumericValidator()])),insuranceFacility:this.fb.control({value:"",disabled:!1},n.kI.required),insuranceFacilityDesc:this.fb.control({value:"",disabled:!1},n.kI.compose([m.YO.alphaNumericValidator()])),leaveBenifits:this.fb.control({value:"",disabled:!1},n.kI.required),leaveDetails:this.fb.control({value:"",disabled:!1},n.kI.required),leaveDetailsDesc:this.fb.control({value:"",disabled:!1},n.kI.compose([m.YO.alphaNumericValidator()])),toAndFroAirfare:this.fb.control({value:"",disabled:!1},n.kI.required),visaFee:this.fb.control({value:"",disabled:!1},n.kI.required),weeklyoff:this.fb.control({value:"",disabled:!1},n.kI.required),otherFacility:this.fb.control({value:"",disabled:!1},n.kI.required),otherFacilityDesc:this.fb.control({value:"",disabled:!1},n.kI.compose([m.YO.alphaNumericValidator()])),transportation:this.fb.control({value:"",disabled:!1},n.kI.required),disposal:this.fb.control({value:null,disabled:!1},n.kI.required)})}),listOfDocuments:this.fb.array([])})}submitTabEmployeeDetails(o){const t=o.getRawValue();return(new p.rxh).deserialize({organisation:{employer:t.organizationDetails.employerName,country:t.organizationDetails.country,registrationNo:t.organizationDetails.registrationNo,registrationDate:this.datePipe.transform(t.organizationDetails.registrationDate,"yyyy-MM-dd"),businessType:t.organizationDetails.typeOfBusiness,organisationType:t.organizationDetails.typeOfOrganisation,websiteUrl:t.organizationDetails.websiteUrl},operationalOffice:{addressLine1:t.organizationDetails.addressLine1,addressLine2:t.organizationDetails.addressLine2,city:t.organizationDetails.city,country:t.organizationDetails.countryOffice,pincode:t.organizationDetails.pin,email:t.organizationDetails.email,phoneNumber:t.organizationDetails.phonenumber,faxNumber:t.organizationDetails.faxnumber},authorizedSignatory:{firstName:t.organizationDetails.firstname,lastName:t.organizationDetails.lastname,designation:t.organizationDetails.designation},governmentApproval:{registrationNo:t.organizationDetails.registrationNoLocalGov,approvalLetterDate:this.datePipe.transform(t.organizationDetails.dateApprovalLetter,"yyyy-MM-dd"),approvalValidDate:this.datePipe.transform(t.organizationDetails.dateApprovalValid,"yyyy-MM-dd"),permittedWorkers:t.organizationDetails.totalNoofWorkPermit},recruitment:{jobDetail:{vacancies:t.recruitmentDetails.jobDetails.jobVacancies,description:t.recruitmentDetails.jobDetails.jobDescription,ageLimit:t.recruitmentDetails.jobDetails.age,gender:t.recruitmentDetails.jobDetails.gender,currency:t.recruitmentDetails.jobDetails.currency,minSalary:t.recruitmentDetails.jobDetails.maxSalary,maxSalary:t.recruitmentDetails.jobDetails.maxSalary,contractPeriod:t.recruitmentDetails.jobDetails.contractPeriod,probationPeriod:t.recruitmentDetails.jobDetails.probationPeriod,dailyWorkingHours:t.recruitmentDetails.jobDetails.daliyWorkingHours,modeOfSettlement:t.recruitmentDetails.jobDetails.settlementdisputes,isAdvertisementRequired:t.recruitmentDetails.jobDetails.releaseofAdvertisement},facilities:[{flag:t.recruitmentDetails.facilities.transportation,facilityCd:"FC_TNCP"},{flag:t.recruitmentDetails.facilities.leaveBenifits,facilityCd:"FC_LBLL"},{flag:t.recruitmentDetails.facilities.freeAccomodation,descripton:t.recruitmentDetails.facilities.freeAccomodationDesc,facilityCd:"FC_ACCOM"},{flag:t.recruitmentDetails.facilities.overTimeAllowance,descripton:t.recruitmentDetails.facilities.overTimeAllowanceDesc,facilityCd:"FC_OALOW"},{flag:t.recruitmentDetails.facilities.weeklyoff,facilityCd:"FC_WKOFF"},{flag:t.recruitmentDetails.facilities.toAndFroAirfare,facilityCd:"FC_AFARE"},{flag:t.recruitmentDetails.facilities.medicalFacility,descripton:t.recruitmentDetails.facilities.medicalFacilityDesc,facilityCd:"FC_MINSU"},{flag:t.recruitmentDetails.facilities.visaFee,facilityCd:"FC_VFEE"},{flag:t.recruitmentDetails.facilities.freeFood,descripton:t.recruitmentDetails.facilities.freeFoodDesc,facilityCd:"FC_FOOD"},{flag:t.recruitmentDetails.facilities.insuranceFacility,descripton:t.recruitmentDetails.facilities.insuranceFacilityDesc,facilityCd:"FC_INSU"},{flag:t.recruitmentDetails.facilities.leaveDetails,descripton:t.recruitmentDetails.facilities.leaveDetailsDesc,facilityCd:"FC_PLEAV"},{flag:t.recruitmentDetails.facilities.otherFacility,descripton:t.recruitmentDetails.facilities.otherFacilityDesc,facilityCd:"FC_OTHR"}],isDeadBodyDisposalProvision:t.recruitmentDetails.facilities.disposal},documentList:t.listOfDocuments.map(a=>this.documenToList(a))})}documenToList(o){return{docTypeCd:o.docTypeCd,docName:o.docName,fileContent:o.fileContent,docExtension:o.docExtension}}}return(i=s).\u0275fac=function(o){return new(o||i)(e.LFG(n.qu),e.LFG(u.uU))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),s})(),xt=(()=>{var i;class s extends m.H6{constructor(o,t,a,l,c){super(l),this.routerQuery=o,this.uiService=t,this._helperService=a,this.addEmployerRecruitmentService=c,this.activeTab=new e.vpe}ngOnInit(){this.employerDetaislForm=this._helperService.employerRecruitmentForm(!1),this.country=this.routerQuery.getData()[0][p.Ps6.COUNTRY]}get employerDetails(){return this.employerDetaislForm.controls.employerDetails}clear(){this.employerDetaislForm.reset()}Validate(){this.employerDetaislForm.markAllAsTouched(),this.employerDetaislForm.valid&&(this.uiService.showSpinner(),this.addEmployerRecruitmentService.validateEmployer(this.employerDetails.controls.nameOfEmployer.value,this.employerDetails.controls.country.value,this.employerDetails.controls.registrationNo.value).subscribe({next:o=>{o.status==p.Xef.SUCCESS?(this.uiService.hideSpinner(),this.showSuccessToast(o.message,"Employer Details Validation"),this.activeTab.emit({employerName:this.employerDetails.controls.nameOfEmployer.value,country:this.employerDetails.controls.country.value,registrationNumber:this.employerDetails.controls.registrationNo.value}),this.clear()):this.showErrorToast(o.message,"Employer Details Validation")},error:o=>{this.showErrorToast(o.message),this.uiService.hideSpinner()},complete:()=>{this.uiService.hideSpinner()}}))}}return(i=s).\u0275fac=function(o){return new(o||i)(e.Y36(f.dt),e.Y36(_.n),e.Y36(L),e.Y36(g.ez),e.Y36(p.Yn1))},i.\u0275cmp=e.Xpm({type:i,selectors:[["emigrate-employer-details"]],outputs:{activeTab:"activeTab"},features:[e.qOj],decls:26,vars:14,consts:[[1,"container"],[1,"row"],[3,"instructionsText","toolTipText"],[1,"border","p-3","mb-3"],[1,"content"],[3,"pageSubTitle"],[1,"form"],[3,"formGroup"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","noOfEmployer","inputLabel","Name of Employer","inputId","noOfEmployer",1,"block",3,"inputFormControl","patternMsg"],["id","noOfEmployer","type","text","pInputText","",3,"formControl"],["for","country","inputLabel","Country","inputId","country",1,"block",3,"inputFormControl","patternMsg"],["id","country","placeholder","Select Country","EmigrateShDropdown","",3,"formControl","options"],["for","1","inputLabel","Registration Number","inputId","regnumber",1,"block",3,"inputFormControl","patternMsg"],["id","regnumber","type","text","pInputText","","maxlength","21",3,"formControl"],[1,"col-12"],[1,"buttons","mt-3","mb-3"],["pButton","","type","button","label","Clear",1,"btn-format","test","btn-blue","mr-2","border-0",3,"click"],["pButton","","type","button","label","Validate",1,"btn-format","btn-blue","mr-2","border-0",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"emigrate-sh-page-instructions",2),e.qZA(),e.TgZ(3,"div",3)(4,"div",4),e._UZ(5,"emigrate-sh-page-sub-title",5),e.TgZ(6,"div",6)(7,"form",7)(8,"div",1)(9,"div",8)(10,"div",9)(11,"emigrate-sh-html-input",10),e._UZ(12,"input",11),e.qZA()()(),e.TgZ(13,"div",8)(14,"div",9)(15,"emigrate-sh-html-input",12),e._UZ(16,"p-dropdown",13),e.qZA()()(),e.TgZ(17,"div",8)(18,"div",9)(19,"emigrate-sh-html-input",14),e._UZ(20,"input",15),e.qZA()()()()()()(),e.TgZ(21,"div",1)(22,"div",16)(23,"div",17)(24,"button",18),e.NdJ("click",function(){return t.clear()}),e.qZA(),e.TgZ(25,"button",19),e.NdJ("click",function(){return t.Validate()}),e.qZA()()()()()()),2&o&&(e.xp6(2),e.Q6J("instructionsText","Fields marked with * (asterisk) are mandatory. To avoid mistakes,Please refer guidelines & instructions")("toolTipText","1. Please do not press F5 or Back Button"),e.xp6(3),e.Q6J("pageSubTitle","Employer Details"),e.xp6(2),e.Q6J("formGroup",t.employerDetails),e.xp6(4),e.Q6J("inputFormControl",null==t.employerDetails.controls?null:t.employerDetails.controls.nameOfEmployer)("patternMsg","pattern message"),e.xp6(1),e.Q6J("formControl",null==t.employerDetails.controls?null:t.employerDetails.controls.nameOfEmployer),e.xp6(3),e.Q6J("inputFormControl",null==t.employerDetails.controls?null:t.employerDetails.controls.country)("patternMsg","pattern message"),e.xp6(1),e.Q6J("formControl",null==t.employerDetails.controls?null:t.employerDetails.controls.country)("options",t.country),e.xp6(3),e.Q6J("inputFormControl",null==t.employerDetails.controls?null:t.employerDetails.controls.registrationNo)("patternMsg","pattern message"),e.xp6(1),e.Q6J("formControl",null==t.employerDetails.controls?null:t.employerDetails.controls.registrationNo))},dependencies:[n._Y,n.Fj,n.JJ,n.JL,n.nD,n.oH,n.sg,b.Hq,A.Lt,C.o,m.KR,m.jZ,m.dB,m.lC]}),s})();var Et=h(262);let wt=(()=>{var i;class s{constructor(o){this.addEmployerRecruitmentService=o}submitEmployerRecruitmentDetails(o){return this.addEmployerRecruitmentService.employerRecuritmentSubmit(o).pipe((0,Et.K)(t=>{throw t}))}}return(i=s).\u0275fac=function(o){return new(o||i)(e.LFG(p.Yn1))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();var Q=h(8783);let Rt=(()=>{var i;class s extends m.H6{constructor(o,t){super(t),this.routerQuery=o,this.activeIndex=new e.vpe,this.todayDate=new Date}ngOnInit(){this.business=this.routerQuery.getData()[0][p.Ps6.BUSINESS],this.organization=this.routerQuery.getData()[0][p.Ps6.ORGANIZATION],this.designation=this.routerQuery.getData()[0][p.Ps6.DESIGNATION],this.patchValue()}patchValue(){this.organizationalDetails.patchValue({employerName:this.employerDetails.employerName,country:this.country.filter(o=>o.value==this.employerDetails.country)[0].label,registrationNo:this.employerDetails.registrationNumber,countryOffice:this.country.filter(o=>o.value==this.employerDetails.country)[0].label}),this.organizationalDetails.controls.employerName.disable(),this.organizationalDetails.controls.country.disable(),this.organizationalDetails.controls.registrationNo.disable(),this.organizationalDetails.controls.countryOffice.disable()}clear(){this.organizationalDetails.reset(),this.patchValue()}savenext(){this.organizationalDetails.markAllAsTouched(),this.organizationalDetails.valid&&this.activeIndex.emit(1)}}return(i=s).\u0275fac=function(o){return new(o||i)(e.Y36(f.dt),e.Y36(g.ez))},i.\u0275cmp=e.Xpm({type:i,selectors:[["emigrate-add-emp-rec-organizational-details"]],inputs:{organizationalDetails:"organizationalDetails",employerDetails:"employerDetails",country:"country"},outputs:{activeIndex:"activeIndex"},features:[e.qOj],decls:112,vars:55,consts:[[1,"content"],[3,"formGroup"],[1,"form"],[3,"pageSubTitle"],[1,"container"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"field"],["inputLabel","Name of Employer","inputId","nameOfEmployer",1,"block",3,"inputFormControl"],["id","nameOfEmployer","type","text","pInputText","",3,"formControl"],["inputLabel","Country","inputId","country",1,"block",3,"inputFormControl"],["id","country","type","text","pInputText","",3,"formControl"],["inputLabel","Registration Number","inputId","regNo",1,"block",3,"inputFormControl"],["id","regNo","type","text","pInputText","",3,"formControl"],["inputLabel","Date of Registration","inputId","dateOfRegistration",1,"block",3,"inputFormControl"],["appendTo","body","inputId","dateOfRegistration",3,"dateFormat","formControl"],["inputLabel","Type of Business","inputId","typeofBusiness",1,"block",3,"inputFormControl"],["id","typeofBusiness","placeholder","Select an option","EmigrateShDropdown","",3,"options","formControl"],["inputLabel","Type of Organization","inputId","typeOfOrganization",1,"block",3,"inputFormControl"],["id","typeOfOrganization","placeholder","Select an option","EmigrateShDropdown","",3,"options","formControl"],["inputLabel","Webiste URL","inputId","url",1,"block",3,"inputFormControl"],["id","url","type","text","pInputText","",3,"formControl"],["inputLabel","Address Line 1","inputId","addressLine1",1,"block",3,"inputFormControl"],["id","addressLine1","maxlength","200","type","text","pInputText","",3,"formControl"],["inputLabel","Address Line 2","inputId","addressLine2",1,"block",3,"inputFormControl"],["id","addressLine2","maxlength","200","type","text","pInputText","",3,"formControl"],["inputLabel","City","inputId","city",1,"block",3,"inputFormControl"],["id","city","maxlength","50","type","text","pInputText","",3,"formControl"],["inputLabel","Country","inputId","dateOfRegistration",1,"block",3,"inputFormControl"],["inputLabel","Postal Pin/PO Box No","inputId","pin",1,"block",3,"inputFormControl"],["id","pin","type","text","maxlength","6","pInputText","",3,"formControl"],["inputLabel","Email","inputId","email",1,"block",3,"inputFormControl"],["id","email","maxlength","50","type","text","pInputText","",3,"formControl"],["inputLabel","Phone Number","inputId","phoneNo",1,"block",3,"inputFormControl"],["id","phoneNo","type","text","pInputText","",3,"formControl"],["inputLabel","Fax Number","inputId","faxNo",1,"block",3,"inputFormControl"],["id","faxNo","type","text","pInputText","",3,"formControl"],["inputLabel","First Name","inputId","firstName",1,"block",3,"inputFormControl"],["id","firstName","type","text","pInputText","",3,"formControl"],["inputLabel","Last Name","inputId","lastName",1,"block",3,"inputFormControl"],["id","lastName","type","text","pInputText","",3,"formControl"],["inputLabel","Designation","inputId","designation",1,"block",3,"inputFormControl"],["id","designation","placeholder","Select an option","EmigrateShDropdown","",3,"options","formControl"],["inputLabel","Registration no.given on the local Government approval letter issued in favour of employer for hiring Indian workers","inputId","regNolocalGov",1,"block",3,"inputFormControl"],["id","regNolocalGov","maxlength","15","type","text","pInputText","",3,"formControl"],["inputLabel","Date of Local Government approval letter","inputId","dateGovapproval",1,"block",3,"inputFormControl"],["appendTo","body","inputId","dateGovapproval",3,"dateFormat","formControl"],["inputLabel","Date till local Government approval is valid","inputId","dateGovApprovalValid",1,"block",3,"inputFormControl"],["appendTo","body","inputId","dateGovApprovalValid",3,"dateFormat","formControl"],["inputLabel","Total number of workers permitted","inputId","totalNoworkPermit",1,"block",3,"inputFormControl"],["id","totalNoworkPermit","maxlength","5","type","text","pInputText","",3,"formControl"],[1,"col-12"],[1,"buttons","mt-3"],["pButton","","type","button","label","Reset",1,"btn-format","mr-3","btn-blue",3,"click"],["pButton","","type","button","label","Save & Next",1,"btn-format","mr-3","btn-blue",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2),e._UZ(3,"emigrate-sh-page-sub-title",3),e.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"emigrate-sh-html-input",8),e._UZ(9,"input",9),e.qZA()()(),e.TgZ(10,"div",6)(11,"div",7)(12,"emigrate-sh-html-input",10),e._UZ(13,"input",11),e.qZA()()(),e.TgZ(14,"div",6)(15,"div",7)(16,"emigrate-sh-html-input",12),e._UZ(17,"input",13),e.qZA()()(),e.TgZ(18,"div",6)(19,"div",7)(20,"emigrate-sh-html-input",14),e._UZ(21,"p-calendar",15),e.qZA()()(),e.TgZ(22,"div",6)(23,"div",7)(24,"emigrate-sh-html-input",16),e._UZ(25,"p-dropdown",17),e.qZA()()(),e.TgZ(26,"div",6)(27,"div",7)(28,"emigrate-sh-html-input",18),e._UZ(29,"p-dropdown",19),e.qZA()()(),e.TgZ(30,"div",6)(31,"div",7)(32,"emigrate-sh-html-input",20),e._UZ(33,"input",21),e.qZA()()()()()(),e.TgZ(34,"div",2),e._UZ(35,"emigrate-sh-page-sub-title",3),e.TgZ(36,"div",4)(37,"div",5)(38,"div",6)(39,"div",7)(40,"emigrate-sh-html-input",22),e._UZ(41,"input",23),e.qZA()()(),e.TgZ(42,"div",6)(43,"div",7)(44,"emigrate-sh-html-input",24),e._UZ(45,"input",25),e.qZA()()(),e.TgZ(46,"div",6)(47,"div",7)(48,"emigrate-sh-html-input",26),e._UZ(49,"input",27),e.qZA()()(),e.TgZ(50,"div",6)(51,"div",7)(52,"emigrate-sh-html-input",28),e._UZ(53,"input",11),e.qZA()()(),e.TgZ(54,"div",6)(55,"div",7)(56,"emigrate-sh-html-input",29),e._UZ(57,"input",30),e.qZA()()(),e.TgZ(58,"div",6)(59,"div",7)(60,"emigrate-sh-html-input",31),e._UZ(61,"input",32),e.qZA()()(),e.TgZ(62,"div",6)(63,"div",7)(64,"emigrate-sh-html-input",33),e._UZ(65,"input",34),e.qZA()()(),e.TgZ(66,"div",6)(67,"div",7)(68,"emigrate-sh-html-input",35),e._UZ(69,"input",36),e.qZA()()()()()(),e.TgZ(70,"div",2),e._UZ(71,"emigrate-sh-page-sub-title",3),e.TgZ(72,"div",4)(73,"div",5)(74,"div",6)(75,"div",7)(76,"emigrate-sh-html-input",37),e._UZ(77,"input",38),e.qZA()()(),e.TgZ(78,"div",6)(79,"div",7)(80,"emigrate-sh-html-input",39),e._UZ(81,"input",40),e.qZA()()(),e.TgZ(82,"div",6)(83,"div",7)(84,"emigrate-sh-html-input",41),e._UZ(85,"p-dropdown",42),e.qZA()()()()()(),e.TgZ(86,"div",2),e._UZ(87,"emigrate-sh-page-sub-title",3),e.TgZ(88,"div",4)(89,"div",5)(90,"div",6)(91,"div",7)(92,"emigrate-sh-html-input",43),e._UZ(93,"input",44),e.qZA()()(),e.TgZ(94,"div",6)(95,"div",7)(96,"emigrate-sh-html-input",45),e._UZ(97,"p-calendar",46),e.qZA()()(),e.TgZ(98,"div",6)(99,"div",7)(100,"emigrate-sh-html-input",47),e._UZ(101,"p-calendar",48),e.qZA()()(),e.TgZ(102,"div",6)(103,"div",7)(104,"emigrate-sh-html-input",49),e._UZ(105,"input",50),e.qZA()()()()()(),e.TgZ(106,"div",5)(107,"div",6)(108,"div",51)(109,"div",52)(110,"button",53),e.NdJ("click",function(){return t.clear()}),e.qZA(),e.TgZ(111,"button",54),e.NdJ("click",function(){return t.savenext()}),e.qZA()()()()()()()),2&o&&(e.xp6(1),e.Q6J("formGroup",t.organizationalDetails),e.xp6(2),e.Q6J("pageSubTitle","Organization Details"),e.xp6(5),e.Q6J("inputFormControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.employerName),e.xp6(1),e.Q6J("formControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.employerName),e.xp6(3),e.Q6J("inputFormControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.country),e.xp6(1),e.Q6J("formControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.country),e.xp6(3),e.Q6J("inputFormControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.registrationNo),e.xp6(1),e.Q6J("formControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.registrationNo),e.xp6(3),e.Q6J("inputFormControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.registrationDate),e.xp6(1),e.Q6J("dateFormat",t.defaultDateFormat)("formControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.registrationDate),e.xp6(3),e.Q6J("inputFormControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.typeOfBusiness),e.xp6(1),e.Q6J("options",t.business)("formControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.typeOfBusiness),e.xp6(3),e.Q6J("inputFormControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.typeOfOrganisation),e.xp6(1),e.Q6J("options",t.organization)("formControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.typeOfOrganisation),e.xp6(3),e.Q6J("inputFormControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.websiteUrl),e.xp6(1),e.Q6J("formControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.websiteUrl),e.xp6(2),e.Q6J("pageSubTitle","Operational Office Details"),e.xp6(5),e.Q6J("inputFormControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.addressLine1),e.xp6(1),e.Q6J("formControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.addressLine1),e.xp6(3),e.Q6J("inputFormControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.addressLine2),e.xp6(1),e.Q6J("formControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.addressLine2),e.xp6(3),e.Q6J("inputFormControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.city),e.xp6(1),e.Q6J("formControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.city),e.xp6(3),e.Q6J("inputFormControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.countryOffice),e.xp6(1),e.Q6J("formControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.countryOffice),e.xp6(3),e.Q6J("inputFormControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.pin),e.xp6(1),e.Q6J("formControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.pin),e.xp6(3),e.Q6J("inputFormControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.email),e.xp6(1),e.Q6J("formControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.email),e.xp6(3),e.Q6J("inputFormControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.phonenumber),e.xp6(1),e.Q6J("formControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.phonenumber),e.xp6(3),e.Q6J("inputFormControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.faxnumber),e.xp6(1),e.Q6J("formControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.faxnumber),e.xp6(2),e.Q6J("pageSubTitle","Authorized Signatory Details"),e.xp6(5),e.Q6J("inputFormControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.firstname),e.xp6(1),e.Q6J("formControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.firstname),e.xp6(3),e.Q6J("inputFormControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.lastname),e.xp6(1),e.Q6J("formControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.lastname),e.xp6(3),e.Q6J("inputFormControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.designation),e.xp6(1),e.Q6J("options",t.designation)("formControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.designation),e.xp6(2),e.Q6J("pageSubTitle","Details of Local government Approved issues to FE to hire indian workers"),e.xp6(5),e.Q6J("inputFormControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.registrationNoLocalGov),e.xp6(1),e.Q6J("formControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.registrationNoLocalGov),e.xp6(3),e.Q6J("inputFormControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.dateApprovalLetter),e.xp6(1),e.Q6J("dateFormat",t.defaultDateFormat)("formControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.dateApprovalLetter),e.xp6(3),e.Q6J("inputFormControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.dateApprovalValid),e.xp6(1),e.Q6J("dateFormat",t.defaultDateFormat)("formControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.dateApprovalValid),e.xp6(3),e.Q6J("inputFormControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.totalNoofWorkPermit),e.xp6(1),e.Q6J("formControl",null==t.organizationalDetails.controls?null:t.organizationalDetails.controls.totalNoofWorkPermit))},dependencies:[n._Y,n.Fj,n.JJ,n.JL,n.nD,n.oH,n.sg,b.Hq,A.Lt,C.o,d.f,m.KR,m.jZ,m.lC]}),s})();function qt(i,s){if(1&i&&e._UZ(0,"p-radioButton",43),2&i){const r=s.$implicit,o=e.oxw();e.Q6J("formControl",null==o.facilities.controls?null:o.facilities.controls.overTimeAllowance)("label",r.label)("value",r.value)}}function kt(i,s){if(1&i&&e._UZ(0,"p-radioButton",44),2&i){const r=s.$implicit,o=e.oxw();e.Q6J("formControl",null==o.facilities.controls?null:o.facilities.controls.freeAccomodation)("label",r.label)("value",r.value)}}function Mt(i,s){if(1&i&&e._UZ(0,"p-radioButton",45),2&i){const r=s.$implicit,o=e.oxw();e.Q6J("formControl",null==o.facilities.controls?null:o.facilities.controls.freeFood)("label",r.label)("value",r.value)}}function Nt(i,s){if(1&i&&e._UZ(0,"p-radioButton",46),2&i){const r=s.$implicit,o=e.oxw();e.Q6J("formControl",null==o.facilities.controls?null:o.facilities.controls.medicalFacility)("label",r.label)("value",r.value)}}function Jt(i,s){if(1&i&&e._UZ(0,"p-radioButton",47),2&i){const r=s.$implicit,o=e.oxw();e.Q6J("formControl",null==o.facilities.controls?null:o.facilities.controls.insuranceFacility)("label",r.label)("value",r.value)}}function Ut(i,s){if(1&i&&e._UZ(0,"p-radioButton",48),2&i){const r=s.$implicit,o=e.oxw();e.Q6J("formControl",null==o.facilities.controls?null:o.facilities.controls.leaveDetails)("label",r.label)("value",r.value)}}function Lt(i,s){if(1&i&&e._UZ(0,"p-radioButton",49),2&i){const r=s.$implicit,o=e.oxw();e.Q6J("formControl",null==o.facilities.controls?null:o.facilities.controls.leaveBenifits)("label",r.label)("value",r.value)}}function Qt(i,s){if(1&i&&e._UZ(0,"p-radioButton",50),2&i){const r=s.$implicit,o=e.oxw();e.Q6J("formControl",null==o.facilities.controls?null:o.facilities.controls.toAndFroAirfare)("label",r.label)("value",r.value)}}function Ot(i,s){if(1&i&&e._UZ(0,"p-radioButton",51),2&i){const r=s.$implicit,o=e.oxw();e.Q6J("formControl",null==o.facilities.controls?null:o.facilities.controls.visaFee)("label",r.label)("value",r.value)}}function Yt(i,s){if(1&i&&e._UZ(0,"p-radioButton",52),2&i){const r=s.$implicit,o=e.oxw();e.Q6J("formControl",null==o.facilities.controls?null:o.facilities.controls.weeklyoff)("label",r.label)("value",r.value)}}function Pt(i,s){if(1&i&&e._UZ(0,"p-radioButton",53),2&i){const r=s.$implicit,o=e.oxw();e.Q6J("formControl",null==o.facilities.controls?null:o.facilities.controls.transportation)("label",r.label)("value",r.value)}}function Vt(i,s){if(1&i&&e._UZ(0,"p-radioButton",54),2&i){const r=s.$implicit,o=e.oxw();e.Q6J("formControl",null==o.facilities.controls?null:o.facilities.controls.otherFacility)("label",r.label)("value",r.value)}}function Gt(i,s){1&i&&(e.TgZ(0,"div",55)(1,"span",56),e._uU(2,"This value is Required "),e.qZA()())}let zt=(()=>{var i;class s{constructor(){this.radiobutton=[{label:"Yes",value:"Y"},{label:"No",value:"N"}]}}return(i=s).\u0275fac=function(o){return new(o||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["emigrate-add-employer-facilities"]],inputs:{facilities:"facilities",currencyName:"currencyName"},decls:72,vars:37,consts:[[1,"content"],[3,"pageSubTitle"],[1,"form"],[3,"formGroup"],[1,"field","d-flex","align-items-start"],["for","1","inputLabel","Whether Overtime Allowance is payable as per local labour laws? If yes, Allowance value","inputId","overTimeAllowance",1,"block","col-md-5",3,"inputFormControl"],[1,"m-l-75","d-flex"],["class","mr-5","name","overTimeAllowance","inputId","overTimeAllowance",3,"formControl","label","value",4,"ngFor","ngForOf"],[1,"w-100"],["id","overTimeAllowanceDesc","type","text","pInputText","",3,"formControl"],["for","1","inputLabel","Whether free Accommodation is provided? If no, Allowance value","inputId","freeAccommodation",1,"block","col-md-5",3,"inputFormControl"],["class","mr-5","name","freeAccommodation","inputId","freeAccommodation",3,"formControl","label","value",4,"ngFor","ngForOf"],[1,"p-inputgroup"],["id","freeAccomodationDesc","type","text","pInputText","","placeholder","",3,"formControl"],[1,"p-inputgroup-addon"],["for","1","inputLabel","Whether free food is provided? If No, Allowance Value (in case food is included in consolidated salary)","inputId","freeFood",1,"block","col-md-5",3,"inputFormControl"],["class","mr-5","name","freeFood","inputId","freeFood",3,"formControl","label","value",4,"ngFor","ngForOf"],["id","freeFoodDesc","type","text","pInputText","","placeholder","",3,"formControl"],["for","1","inputLabel","Whether free Medical facility is provided? If yes, Medical facility details","inputId","medicalFacility",1,"block","col-md-5",3,"inputFormControl"],["class","mr-5","name","medicalFacility","inputId","medicalFacility",3,"formControl","label","value",4,"ngFor","ngForOf"],["id","medicalFacilityDesc","type","text","pInputText","",3,"formControl"],["for","1","inputLabel","Whether Insurance facility is provided? If yes Insurance details","inputId","insuranceFacility",1,"block","col-md-5",3,"inputFormControl"],["class","mr-5","name","insuranceFacility","inputId","insuranceFacility",3,"formControl","label","value",4,"ngFor","ngForOf"],["id","insuranceFacilityDesc","type","text","pInputText","",3,"formControl"],["for","1","inputLabel","Whether Paid Leave is provided? If yes, give details","inputId","leaveDetails",1,"block","col-md-5",3,"inputFormControl"],["class","mr-5","name","leaveDetails","inputId","leaveDetails",3,"formControl","label","value",4,"ngFor","ngForOf"],["id","leaveDetailsDesc","type","text","pInputText","",3,"formControl"],["for","1","inputLabel","Whether Leave benefits are provided as per local Labour Law?","inputId","leaveBenfits",1,"block","col-md-5",3,"inputFormControl"],["class","mr-5","name","leaveBenfits","inputId","leaveBenfits",3,"formControl","label","value",4,"ngFor","ngForOf"],["for","1","inputLabel","Whether To and from airfare is provided?","inputId","toAndFroAirfare",1,"block","col-md-5",3,"inputFormControl"],["class","mr-5","name","toAndFroAirfare","inputId","1",3,"formControl","label","value",4,"ngFor","ngForOf"],["for","1","inputLabel","Whether Visa fee is provided?","inputId","visaFee",1,"block","col-md-5",3,"inputFormControl"],["class","mr-5","name","visaFee","inputId","visaFee",3,"formControl","label","value",4,"ngFor","ngForOf"],["for","1","inputLabel","Whether Weekly Off is provided?","inputId","weeklyoff",1,"block","col-md-5",3,"inputFormControl"],["class","mr-5","name","weeklyoff","inputId","1",3,"formControl","label","value",4,"ngFor","ngForOf"],["for","1","inputLabel"," Whether Transportation Facility is Provided?","inputId","transportation",1,"block","col-md-5",3,"inputFormControl"],["class","mr-5","name","transportation","inputId","transportation",3,"formControl","label","value",4,"ngFor","ngForOf"],["for","1","inputLabel","Any Other facility is provided? If yes, give details","inputId","otherFacility",1,"block","col-md-5",3,"inputFormControl"],["class","mr-5","name","otherFacility","inputId","otherFacility",3,"formControl","label","value",4,"ngFor","ngForOf"],["id","otherFacilityDesc","type","text","pInputText","",3,"formControl"],[1,"checkbox"],["inputId","disposal","label","Have Provision in regard to disposal or transportation of dead body of Emigrants to India?",1,"mt-2","emigrate-required-facilities",3,"binary","formControl"],["class","emigrate-input-messages",4,"ngIf"],["name","overTimeAllowance","inputId","overTimeAllowance",1,"mr-5",3,"formControl","label","value"],["name","freeAccommodation","inputId","freeAccommodation",1,"mr-5",3,"formControl","label","value"],["name","freeFood","inputId","freeFood",1,"mr-5",3,"formControl","label","value"],["name","medicalFacility","inputId","medicalFacility",1,"mr-5",3,"formControl","label","value"],["name","insuranceFacility","inputId","insuranceFacility",1,"mr-5",3,"formControl","label","value"],["name","leaveDetails","inputId","leaveDetails",1,"mr-5",3,"formControl","label","value"],["name","leaveBenfits","inputId","leaveBenfits",1,"mr-5",3,"formControl","label","value"],["name","toAndFroAirfare","inputId","1",1,"mr-5",3,"formControl","label","value"],["name","visaFee","inputId","visaFee",1,"mr-5",3,"formControl","label","value"],["name","weeklyoff","inputId","1",1,"mr-5",3,"formControl","label","value"],["name","transportation","inputId","transportation",1,"mr-5",3,"formControl","label","value"],["name","otherFacility","inputId","otherFacility",1,"mr-5",3,"formControl","label","value"],[1,"emigrate-input-messages"],[1,"emigrate-message","mr-1"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"emigrate-sh-page-sub-title",1),e.TgZ(2,"div",2)(3,"form",3)(4,"div",4),e._UZ(5,"emigrate-sh-html-input",5),e.TgZ(6,"div",6),e.YNc(7,qt,1,3,"p-radioButton",7),e.qZA(),e.TgZ(8,"div",8),e._UZ(9,"input",9)(10,"br"),e.TgZ(11,"small"),e._uU(12,"(Percentage(%) of salary)"),e.qZA()()(),e.TgZ(13,"div",4),e._UZ(14,"emigrate-sh-html-input",10),e.TgZ(15,"div",6),e.YNc(16,kt,1,3,"p-radioButton",11),e.qZA(),e.TgZ(17,"div",12),e._UZ(18,"input",13),e.TgZ(19,"span",14),e._uU(20),e.qZA()()(),e.TgZ(21,"div",4),e._UZ(22,"emigrate-sh-html-input",15),e.TgZ(23,"div",6),e.YNc(24,Mt,1,3,"p-radioButton",16),e.qZA(),e.TgZ(25,"div",12),e._UZ(26,"input",17),e.TgZ(27,"span",14),e._uU(28),e.qZA()()(),e.TgZ(29,"div",4),e._UZ(30,"emigrate-sh-html-input",18),e.TgZ(31,"div",6),e.YNc(32,Nt,1,3,"p-radioButton",19),e.qZA(),e._UZ(33,"input",20),e.qZA(),e.TgZ(34,"div",4),e._UZ(35,"emigrate-sh-html-input",21),e.TgZ(36,"div",6),e.YNc(37,Jt,1,3,"p-radioButton",22),e.qZA(),e._UZ(38,"input",23),e.qZA(),e.TgZ(39,"div",4),e._UZ(40,"emigrate-sh-html-input",24),e.TgZ(41,"div",6),e.YNc(42,Ut,1,3,"p-radioButton",25),e.qZA(),e._UZ(43,"input",26),e.qZA(),e.TgZ(44,"div",4),e._UZ(45,"emigrate-sh-html-input",27),e.TgZ(46,"div",6),e.YNc(47,Lt,1,3,"p-radioButton",28),e.qZA()(),e.TgZ(48,"div",4),e._UZ(49,"emigrate-sh-html-input",29),e.TgZ(50,"div",6),e.YNc(51,Qt,1,3,"p-radioButton",30),e.qZA()(),e.TgZ(52,"div",4),e._UZ(53,"emigrate-sh-html-input",31),e.TgZ(54,"div",6),e.YNc(55,Ot,1,3,"p-radioButton",32),e.qZA()(),e.TgZ(56,"div",4),e._UZ(57,"emigrate-sh-html-input",33),e.TgZ(58,"div",6),e.YNc(59,Yt,1,3,"p-radioButton",34),e.qZA()(),e.TgZ(60,"div",4),e._UZ(61,"emigrate-sh-html-input",35),e.TgZ(62,"div",6),e.YNc(63,Pt,1,3,"p-radioButton",36),e.qZA()(),e.TgZ(64,"div",4),e._UZ(65,"emigrate-sh-html-input",37),e.TgZ(66,"div",6),e.YNc(67,Vt,1,3,"p-radioButton",38),e.qZA(),e._UZ(68,"input",39),e.qZA(),e.TgZ(69,"div",40),e._UZ(70,"p-checkbox",41),e.YNc(71,Gt,3,0,"div",42),e.qZA()()()()),2&o&&(e.xp6(1),e.Q6J("pageSubTitle","Facilities Provided by Employer in addition to Monthly salary"),e.xp6(4),e.Q6J("inputFormControl",null==t.facilities.controls?null:t.facilities.controls.overTimeAllowance),e.xp6(2),e.Q6J("ngForOf",t.radiobutton),e.xp6(2),e.Q6J("formControl",null==t.facilities.controls?null:t.facilities.controls.overTimeAllowanceDesc),e.xp6(5),e.Q6J("inputFormControl",null==t.facilities.controls?null:t.facilities.controls.freeAccomodation),e.xp6(2),e.Q6J("ngForOf",t.radiobutton),e.xp6(2),e.Q6J("formControl",null==t.facilities.controls?null:t.facilities.controls.freeAccomodationDesc),e.xp6(2),e.Oqu(t.currencyName),e.xp6(2),e.Q6J("inputFormControl",null==t.facilities.controls?null:t.facilities.controls.freeFood),e.xp6(2),e.Q6J("ngForOf",t.radiobutton),e.xp6(2),e.Q6J("formControl",null==t.facilities.controls?null:t.facilities.controls.freeFoodDesc),e.xp6(2),e.Oqu(t.currencyName),e.xp6(2),e.Q6J("inputFormControl",null==t.facilities.controls?null:t.facilities.controls.medicalFacility),e.xp6(2),e.Q6J("ngForOf",t.radiobutton),e.xp6(1),e.Q6J("formControl",null==t.facilities.controls?null:t.facilities.controls.medicalFacilityDesc),e.xp6(2),e.Q6J("inputFormControl",null==t.facilities.controls?null:t.facilities.controls.insuranceFacility),e.xp6(2),e.Q6J("ngForOf",t.radiobutton),e.xp6(1),e.Q6J("formControl",null==t.facilities.controls?null:t.facilities.controls.insuranceFacilityDesc),e.xp6(2),e.Q6J("inputFormControl",null==t.facilities.controls?null:t.facilities.controls.leaveDetails),e.xp6(2),e.Q6J("ngForOf",t.radiobutton),e.xp6(1),e.Q6J("formControl",null==t.facilities.controls?null:t.facilities.controls.leaveDetailsDesc),e.xp6(2),e.Q6J("inputFormControl",null==t.facilities.controls?null:t.facilities.controls.leaveBenifits),e.xp6(2),e.Q6J("ngForOf",t.radiobutton),e.xp6(2),e.Q6J("inputFormControl",null==t.facilities.controls?null:t.facilities.controls.toAndFroAirfare),e.xp6(2),e.Q6J("ngForOf",t.radiobutton),e.xp6(2),e.Q6J("inputFormControl",null==t.facilities.controls?null:t.facilities.controls.visaFee),e.xp6(2),e.Q6J("ngForOf",t.radiobutton),e.xp6(2),e.Q6J("inputFormControl",null==t.facilities.controls?null:t.facilities.controls.weeklyoff),e.xp6(2),e.Q6J("ngForOf",t.radiobutton),e.xp6(2),e.Q6J("inputFormControl",null==t.facilities.controls?null:t.facilities.controls.transportation),e.xp6(2),e.Q6J("ngForOf",t.radiobutton),e.xp6(2),e.Q6J("inputFormControl",null==t.facilities.controls?null:t.facilities.controls.otherFacility),e.xp6(2),e.Q6J("ngForOf",t.radiobutton),e.xp6(1),e.Q6J("formControl",null==t.facilities.controls?null:t.facilities.controls.otherFacilityDesc),e.xp6(2),e.Q6J("binary",!0)("formControl",null==t.facilities.controls?null:t.facilities.controls.disposal),e.xp6(1),e.Q6J("ngIf",1!=(null==t.facilities.controls?null:t.facilities.controls.disposal.value)&&((null==t.facilities.controls?null:t.facilities.controls.disposal.dirty)||(null==t.facilities.controls?null:t.facilities.controls.disposal.touched))))},dependencies:[u.sg,u.O5,n._Y,n.Fj,n.JJ,n.JL,n.oH,n.sg,C.o,M.XZ,k.EU,m.KR,m.jZ]}),s})();function Ht(i,s){if(1&i&&e._UZ(0,"p-radioButton",38),2&i){const r=s.$implicit,o=e.oxw();e.Q6J("formControl",null==o.JobDetails.controls?null:o.JobDetails.controls.gender)("label",r.label)("value",r.value)}}function jt(i,s){if(1&i&&e._UZ(0,"p-radioButton",39),2&i){const r=s.$implicit,o=e.oxw();e.Q6J("formControl",null==o.JobDetails.controls?null:o.JobDetails.controls.releaseofAdvertisement)("label",r.label)("value",r.value)}}let Bt=(()=>{var i;class s extends m.H6{constructor(o,t){super(t),this.routerQuery=o,this.genderValue=[{label:"Male",value:"M"},{label:"Female",value:"F"},{label:"No Preference",value:"O"}],this.radioButton=[{label:"Yes",value:"Y"},{label:"No",value:"N"}]}ngOnInit(){this.ageLimit=this.routerQuery.getData()[0][p.Ps6.AGELIMIT],this.gender=this.routerQuery.getData()[0][p.Ps6.GENDER]}}return(i=s).\u0275fac=function(o){return new(o||i)(e.Y36(f.dt),e.Y36(g.ez))},i.\u0275cmp=e.Xpm({type:i,selectors:[["emigrate-add-emp-rec-job-details"]],inputs:{JobDetails:"JobDetails",currency:"currency"},features:[e.qOj],decls:63,vars:27,consts:[[1,"content"],[3,"formGroup"],[1,"form"],[3,"pageSubTitle"],[1,"container"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"field"],["inputLabel","Job Vacancies","inputId","jobVacancies",1,"block",3,"inputFormControl"],["id","jobVacancies","maxlength","3","type","text","pInputText","",3,"formControl"],[1,"col-md-8","col-sm-6"],["inputLabel","Job Description","inputId","jobDescription",1,"block",3,"inputFormControl"],["id","jobDescription","maxlength","500",3,"formControl"],["inputLabel","Age Limit","inputId","ageLimit",1,"block",3,"inputFormControl"],["id","ageLimit","placeholder","Select an option","EmigrateShDropdown","",3,"options","formControl"],[1,"col-md-4","col-sm-6","d-flex"],["inputLabel","Gender Preference","inputId","gender",1,"block",3,"inputFormControl"],[1,"d-flex","align-items-center"],["class","mr-5","name","gender","inputId","1",3,"formControl","label","value",4,"ngFor","ngForOf"],["inputLabel","Currency","inputId","currency",1,"block",3,"inputFormControl"],["id","currency","placeholder","Select an option","EmigrateShDropdown","",3,"options","formControl"],["inputLabel","Salary Amount/Salary Range","inputId","",1,"block",3,"inputFormControl"],[1,"d-flex"],[1,"p-inputgroup","mr-2"],[1,"p-inputgroup-addon"],["id","minsalary","pInputText","","type","text","placeholder","",3,"formControl"],[1,"p-inputgroup","ml-2"],["id","minsalary","type","text","pInputText","","placeholder","",3,"formControl"],["inputLabel","Contract Period (in months)","inputId","contractPeriod",1,"block",3,"inputFormControl"],["id","contractPeriod","maxlength","2","type","text","pInputText","",3,"formControl"],["inputLabel","Probation Period (in months)","inputId","probationPeriods",1,"block",3,"inputFormControl"],["id","probationPeriods","maxlength","2","type","text","pInputText","",3,"formControl"],["inputLabel","Daily Working Hours","inputId","workingHours",1,"block",3,"inputFormControl"],["id","workingHours","maxlength","2","type","text","pInputText","",3,"formControl"],["inputLabel","Details of mode of settlement of disputes","inputId","settlement",1,"block",3,"inputFormControl"],["id","settlement","type","text","pInputText","",3,"formControl"],["inputLabel","Release of Advertisement is needed for recruitment","inputId","",1,"block",3,"inputFormControl"],["class","mr-5","name","releaseofAdvertisement","inputId","1",3,"formControl","label","value",4,"ngFor","ngForOf"],["name","gender","inputId","1",1,"mr-5",3,"formControl","label","value"],["name","releaseofAdvertisement","inputId","1",1,"mr-5",3,"formControl","label","value"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2),e._UZ(3,"emigrate-sh-page-sub-title",3),e.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"emigrate-sh-html-input",8),e._UZ(9,"input",9),e.qZA()()(),e.TgZ(10,"div",10)(11,"div",7)(12,"emigrate-sh-html-input",11),e._UZ(13,"textarea",12),e.qZA()()()(),e.TgZ(14,"div",5)(15,"div",6)(16,"div",7)(17,"emigrate-sh-html-input",13),e._UZ(18,"p-dropdown",14),e.qZA()()(),e.TgZ(19,"div",15)(20,"div",7)(21,"emigrate-sh-html-input",16)(22,"div",17),e.YNc(23,Ht,1,3,"p-radioButton",18),e.qZA()()()(),e.TgZ(24,"div",6)(25,"div",7)(26,"emigrate-sh-html-input",19),e._UZ(27,"p-dropdown",20),e.qZA()()()(),e.TgZ(28,"div",5)(29,"div",6)(30,"div",7)(31,"emigrate-sh-html-input",21)(32,"div",22)(33,"div",23)(34,"span",24),e._uU(35," Min "),e.qZA(),e._UZ(36,"input",25),e.qZA(),e.TgZ(37,"div",26)(38,"span",24),e._uU(39," Max "),e.qZA(),e._UZ(40,"input",27),e.qZA()()()()(),e.TgZ(41,"div",6)(42,"div",7)(43,"emigrate-sh-html-input",28),e._UZ(44,"input",29),e.qZA()()(),e.TgZ(45,"div",6)(46,"div",7)(47,"emigrate-sh-html-input",30),e._UZ(48,"input",31),e.qZA()()()(),e.TgZ(49,"div",5)(50,"div",6)(51,"div",7)(52,"emigrate-sh-html-input",32),e._UZ(53,"input",33),e.qZA()()(),e.TgZ(54,"div",6)(55,"div",7)(56,"emigrate-sh-html-input",34),e._UZ(57,"input",35),e.qZA()()(),e.TgZ(58,"div",6)(59,"div",7)(60,"emigrate-sh-html-input",36)(61,"div",17),e.YNc(62,jt,1,3,"p-radioButton",37),e.qZA()()()()()()()()()),2&o&&(e.xp6(1),e.Q6J("formGroup",t.JobDetails),e.xp6(2),e.Q6J("pageSubTitle","Job Details"),e.xp6(5),e.Q6J("inputFormControl",null==t.JobDetails.controls?null:t.JobDetails.controls.jobVacancies),e.xp6(1),e.Q6J("formControl",null==t.JobDetails.controls?null:t.JobDetails.controls.jobVacancies),e.xp6(3),e.Q6J("inputFormControl",null==t.JobDetails.controls?null:t.JobDetails.controls.jobDescription),e.xp6(1),e.Q6J("formControl",null==t.JobDetails.controls?null:t.JobDetails.controls.jobDescription),e.xp6(4),e.Q6J("inputFormControl",null==t.JobDetails.controls?null:t.JobDetails.controls.age),e.xp6(1),e.Q6J("options",t.ageLimit)("formControl",null==t.JobDetails.controls?null:t.JobDetails.controls.age),e.xp6(3),e.Q6J("inputFormControl",null==t.JobDetails.controls?null:t.JobDetails.controls.gender),e.xp6(2),e.Q6J("ngForOf",t.genderValue),e.xp6(3),e.Q6J("inputFormControl",null==t.JobDetails.controls?null:t.JobDetails.controls.currency),e.xp6(1),e.Q6J("options",t.currency)("formControl",null==t.JobDetails.controls?null:t.JobDetails.controls.currency),e.xp6(4),e.Q6J("inputFormControl",null==t.JobDetails.controls?null:t.JobDetails.controls.miniSalary),e.xp6(5),e.Q6J("formControl",null==t.JobDetails.controls?null:t.JobDetails.controls.miniSalary),e.xp6(4),e.Q6J("formControl",null==t.JobDetails.controls?null:t.JobDetails.controls.maxSalary),e.xp6(3),e.Q6J("inputFormControl",null==t.JobDetails.controls?null:t.JobDetails.controls.contractPeriod),e.xp6(1),e.Q6J("formControl",null==t.JobDetails.controls?null:t.JobDetails.controls.contractPeriod),e.xp6(3),e.Q6J("inputFormControl",null==t.JobDetails.controls?null:t.JobDetails.controls.probationPeriod),e.xp6(1),e.Q6J("formControl",null==t.JobDetails.controls?null:t.JobDetails.controls.probationPeriod),e.xp6(4),e.Q6J("inputFormControl",null==t.JobDetails.controls?null:t.JobDetails.controls.daliyWorkingHours),e.xp6(1),e.Q6J("formControl",null==t.JobDetails.controls?null:t.JobDetails.controls.daliyWorkingHours),e.xp6(3),e.Q6J("inputFormControl",null==t.JobDetails.controls?null:t.JobDetails.controls.settlementdisputes),e.xp6(1),e.Q6J("formControl",null==t.JobDetails.controls?null:t.JobDetails.controls.settlementdisputes),e.xp6(3),e.Q6J("inputFormControl",null==t.JobDetails.controls?null:t.JobDetails.controls.releaseofAdvertisement),e.xp6(2),e.Q6J("ngForOf",t.radioButton))},dependencies:[u.sg,n._Y,n.Fj,n.JJ,n.JL,n.nD,n.oH,n.sg,A.Lt,C.o,k.EU,m.KR,m.jZ,m.lC]}),s})(),Xt=(()=>{var i;class s{constructor(o){this.routerQuery=o,this.activeIndex=new e.vpe}ngOnInit(){this.getCurrencyName(),this.currency=this.routerQuery.getData()[0][p.Ps6.CURRENCY]}getCurrencyName(){this.recruitmentDetails.controls.jobDetails.controls.currency.valueChanges.subscribe(o=>{this.currencyName=this.currency.filter(t=>t.value==o)[0].label})}get JobDetails(){return this.recruitmentDetails.controls.jobDetails}get facilities(){return this.recruitmentDetails.controls.facilities}getPreviousTab(){this.activeIndex.emit(0)}clear(){this.recruitmentDetails.reset()}savenext(){this.recruitmentDetails.markAllAsTouched(),this.recruitmentDetails.valid&&this.activeIndex.emit(2)}}return(i=s).\u0275fac=function(o){return new(o||i)(e.Y36(f.dt))},i.\u0275cmp=e.Xpm({type:i,selectors:[["emigrate-add-emp-rec-recruitment-details"]],inputs:{recruitmentDetails:"recruitmentDetails"},outputs:{activeIndex:"activeIndex"},decls:9,vars:4,consts:[[3,"currency","JobDetails"],[3,"currencyName","facilities"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"col-12"],[1,"buttons","mt-3"],["pButton","","type","button","label","Previous",1,"btn-format","mr-3","btn-blue",3,"click"],["pButton","","type","button","label","Reset",1,"btn-format","mr-3","btn-blue",3,"click"],["pButton","","type","button","label","Save & Next",1,"btn-format","mr-3","btn-blue",3,"click"]],template:function(o,t){1&o&&(e._UZ(0,"emigrate-add-emp-rec-job-details",0)(1,"emigrate-add-employer-facilities",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"button",6),e.NdJ("click",function(){return t.getPreviousTab()}),e.qZA(),e.TgZ(7,"button",7),e.NdJ("click",function(){return t.clear()}),e.qZA(),e.TgZ(8,"button",8),e.NdJ("click",function(){return t.savenext()}),e.qZA()()()()()),2&o&&(e.Q6J("currency",t.currency)("JobDetails",t.JobDetails),e.xp6(1),e.Q6J("currencyName",t.currencyName)("facilities",t.facilities))},dependencies:[b.Hq,zt,Bt]}),s})();var Wt=h(699),Kt=h(4325),$t=h(1481);let eo=(()=>{var i;class s extends m.H6{constructor(o,t,a,l,c){super(c),this.fb=o,this.dialogService=t,this.sanitizer=a,this.uiService=l,this.activeIndex=new e.vpe,this.isDocumentUploaded=new e.vpe,this.maxFileSize=p.Xef.MAX_FILE_SIZE}getPreviousTab(){this.activeIndex.emit(1)}get documents(){return this.documentFormGroup.controls.listOfDocuments}documentData(o){if(o)switch(o.action){case p.Xef.ACTION.ADD:this.documents.push(this.fb.group({id:o.data.id,docName:o.data.name,fileContent:o.data.file,docExtension:o.data.type,size:o.data.size}));break;case p.Xef.ACTION.REMOVE:this.documents.removeAt(this.documents.value.findIndex(t=>t.id===o.data.id));break;case p.Xef.ACTION.VIEW:this.showFile(this.documents.value.find(t=>t.id===o.data.id))}}showFile(o){this.dialogService.open(Wt.O,{header:o.docName,width:"80%",contentStyle:{overflow:"auto"},baseZIndex:1e4,maximizable:!0,data:{feDocuments:this.sanitizer.bypassSecurityTrustUrl(`data:${o.docExtension};base64,${o.fileContent}`),type:o.docExtension}})}submit(){if(this.documents.valid&&8==this.documents.length){const o=this.documents.getRawValue();let t=0,a=0;o.forEach(l=>{t+=l.fileContent.size,a+=this.maxFileSize}),o.length<0?this.showErrorToast("Please upload all required document"):t>a?this.showErrorToast("combined file size not more than 10MB"):this.isDocumentUploaded.emit(!0)}else this.showErrorToast("Please upload all required document")}}return(i=s).\u0275fac=function(o){return new(o||i)(e.Y36(n.qu),e.Y36(Kt.xA),e.Y36($t.H7),e.Y36(_.n),e.Y36(g.ez))},i.\u0275cmp=e.Xpm({type:i,selectors:[["emigrate-add-emp-rec-document-details"]],inputs:{documentFormGroup:"documentFormGroup"},outputs:{activeIndex:"activeIndex",isDocumentUploaded:"isDocumentUploaded"},features:[e.qOj],decls:82,vars:17,consts:[[1,"container"],[1,"form"],[1,"row"],[3,"pageSubTitle"],[1,"col-md-12"],[1,"p-0","mb-4","file-upload-listing"],[1,"col-md-6"],[1,"field-required"],[3,"documentId","maxFileSize","uploadedFile"],[1,"mr-3"],[1,"col-md-4","col-sm-6"],[1,"col-12"],[1,"buttons","mt-3"],["pButton","","type","button","label","Previous",1,"btn-format","mr-3","btn-blue",3,"click"],["pButton","","type","button","label","Submit",1,"btn-format","mr-3","btn-blue",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"emigrate-sh-page-sub-title",3),e.qZA(),e.TgZ(4,"div",1)(5,"div",2)(6,"div",4)(7,"div",5)(8,"div",2)(9,"div",6)(10,"span"),e._uU(11,"Copy of specimen Employment Contract"),e.TgZ(12,"span",7),e._uU(13,"*"),e.qZA()()(),e.TgZ(14,"div",6)(15,"emigrate-sh-file-upload",8),e.NdJ("uploadedFile",function(l){return t.documentData(l)}),e.qZA()()(),e.TgZ(16,"div",2)(17,"div",6)(18,"span"),e._uU(19,"Employment Contract"),e.TgZ(20,"span",7),e._uU(21,"*"),e.qZA()()(),e.TgZ(22,"div",6)(23,"emigrate-sh-file-upload",8),e.NdJ("uploadedFile",function(l){return t.documentData(l)}),e.qZA()()(),e.TgZ(24,"div",2)(25,"div",6)(26,"span"),e._uU(27,"Demand Letter"),e.TgZ(28,"span",7),e._uU(29,"*"),e.qZA()()(),e.TgZ(30,"div",6)(31,"emigrate-sh-file-upload",8),e.NdJ("uploadedFile",function(l){return t.documentData(l)}),e.qZA()()(),e.TgZ(32,"div",2)(33,"div",6)(34,"span"),e._uU(35,"Power of Attorney"),e.TgZ(36,"span",7),e._uU(37,"*"),e.qZA()()(),e.TgZ(38,"div",6)(39,"emigrate-sh-file-upload",8),e.NdJ("uploadedFile",function(l){return t.documentData(l)}),e.qZA()()(),e.TgZ(40,"div",2)(41,"div",6)(42,"span"),e._uU(43,"Affidavit by Recruiting Agent (RA) stating that the detail entered by RA is correct"),e.TgZ(44,"span",7),e._uU(45,"*"),e.qZA()()(),e.TgZ(46,"div",6)(47,"emigrate-sh-file-upload",8),e.NdJ("uploadedFile",function(l){return t.documentData(l)}),e.qZA()()(),e.TgZ(48,"div",2)(49,"div",6)(50,"span",9)(51,"span"),e._uU(52,"Copy of local Goverment approval issued to FE for hiring Indian worker (Along with english translation if not in english)"),e.TgZ(53,"span",7),e._uU(54,"*"),e.qZA()()()(),e.TgZ(55,"div",6)(56,"emigrate-sh-file-upload",8),e.NdJ("uploadedFile",function(l){return t.documentData(l)}),e.qZA()()(),e.TgZ(57,"div",2)(58,"div",6)(59,"span",9)(60,"span"),e._uU(61,"CR Copy of Employer"),e.TgZ(62,"span",7),e._uU(63,"*"),e.qZA()()()(),e.TgZ(64,"div",6)(65,"emigrate-sh-file-upload",8),e.NdJ("uploadedFile",function(l){return t.documentData(l)}),e.qZA()()(),e.TgZ(66,"div",2)(67,"div",6)(68,"span",9)(69,"span"),e._uU(70,"Other Documents"),e.TgZ(71,"span",7),e._uU(72,"*"),e.qZA()()()(),e.TgZ(73,"div",6)(74,"emigrate-sh-file-upload",8),e.NdJ("uploadedFile",function(l){return t.documentData(l)}),e.qZA()()()()()()(),e.TgZ(75,"div",2)(76,"div",10)(77,"div",11)(78,"div",12)(79,"button",13),e.NdJ("click",function(){return t.getPreviousTab()}),e.qZA(),e.TgZ(80,"button",14),e.NdJ("click",function(){return t.submit()}),e.qZA()()()()()()(),e._UZ(81,"p-toast")),2&o&&(e.xp6(3),e.Q6J("pageSubTitle","List of Documents"),e.xp6(12),e.Q6J("documentId",1)("maxFileSize",t.maxFileSize),e.xp6(8),e.Q6J("documentId",1)("maxFileSize",t.maxFileSize),e.xp6(8),e.Q6J("documentId",3)("maxFileSize",t.maxFileSize),e.xp6(8),e.Q6J("documentId",2)("maxFileSize",t.maxFileSize),e.xp6(8),e.Q6J("documentId",4)("maxFileSize",t.maxFileSize),e.xp6(9),e.Q6J("documentId",5)("maxFileSize",t.maxFileSize),e.xp6(9),e.Q6J("documentId",6)("maxFileSize",t.maxFileSize),e.xp6(9),e.Q6J("documentId",6)("maxFileSize",t.maxFileSize))},dependencies:[b.Hq,D.FN,m.jZ,m.Yr]}),s})(),to=(()=>{var i;class s extends m.H6{constructor(o,t,a,l,c){super(c),this.uiService=o,this.employerRecruitment=t,this.helperService=a,this.routerQuery=l,this.enableSuccess=new e.vpe,this.activeIndex=0,this.disable=!0}ngOnInit(){this.employerRecruitmentDetails=this.helperService.employerRecruitmentDetailsTab(),this.country=this.routerQuery.getData()[0][p.Ps6.COUNTRY]}setActiveIndex(o){this.activeIndex=o}get organizationalDetails(){return this.employerRecruitmentDetails.controls.organizationDetails}get recruitmentDetails(){return this.employerRecruitmentDetails.controls.recruitmentDetails}submitTabForm(){this.organizationalDetails.patchValue({country:this.employerDetails.country,countryOffice:this.employerDetails.country});const o=Object.assign(this.helperService.submitTabEmployeeDetails(this.employerRecruitmentDetails));this.employerRecruitment.submitEmployerRecruitmentDetails(o).subscribe({next:t=>{t.status==p.Xef.SUCCESS?(this.uiService.hideSpinner(),this.showSuccessToast(t.message,"Enter Employer and Recruitment Details"),this.enableSuccess.emit({data:t.data.acknowledgeNumber})):this.showErrorToast(t.message,"Enter Employer and Recruitment Details")},error:t=>{this.showErrorToast(t.message),this.uiService.hideSpinner()},complete:()=>{this.uiService.hideSpinner()}})}}return(i=s).\u0275fac=function(o){return new(o||i)(e.Y36(_.n),e.Y36(wt),e.Y36(L),e.Y36(f.dt),e.Y36(g.ez))},i.\u0275cmp=e.Xpm({type:i,selectors:[["emigrate-add-employer-recruitment-tab"]],inputs:{employerDetails:"employerDetails"},outputs:{enableSuccess:"enableSuccess"},features:[e.qOj],decls:13,vars:15,consts:[[1,"container"],[1,"border","p-3"],[1,"custom_tabs",3,"activeIndex","activeIndexChange"],["header","Organization Details",3,"disabled"],[3,"instructionsText","toolTipText"],[3,"country","employerDetails","organizationalDetails","activeIndex"],["header","Recruitment Details",3,"disabled"],[3,"recruitmentDetails","activeIndex"],["header","Documents Details",3,"disabled"],[3,"documentFormGroup","isDocumentUploaded","activeIndex"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"p-tabView",2),e.NdJ("activeIndexChange",function(l){return t.activeIndex=l}),e.TgZ(3,"p-tabPanel",3),e._UZ(4,"emigrate-sh-page-instructions",4),e.TgZ(5,"emigrate-add-emp-rec-organizational-details",5),e.NdJ("activeIndex",function(l){return t.setActiveIndex(l)}),e.qZA()(),e.TgZ(6,"p-tabPanel",6),e._UZ(7,"emigrate-sh-page-instructions",4),e.TgZ(8,"emigrate-add-emp-rec-recruitment-details",7),e.NdJ("activeIndex",function(l){return t.setActiveIndex(l)}),e.qZA()(),e.TgZ(9,"p-tabPanel",8),e._UZ(10,"emigrate-sh-page-instructions",4),e.TgZ(11,"emigrate-add-emp-rec-document-details",9),e.NdJ("isDocumentUploaded",function(){return t.submitTabForm()})("activeIndex",function(l){return t.setActiveIndex(l)}),e.qZA()()()()(),e._UZ(12,"p-toast")),2&o&&(e.xp6(2),e.Q6J("activeIndex",t.activeIndex),e.xp6(1),e.Q6J("disabled",t.disable),e.xp6(1),e.Q6J("instructionsText","Fields marked with * (asterisk) are mandatory. To avoid mistakes,Please refer guidelines & instructions")("toolTipText","1. Please do not press F5 or Back Button"),e.xp6(1),e.Q6J("country",t.country)("employerDetails",t.employerDetails)("organizationalDetails",t.organizationalDetails),e.xp6(1),e.Q6J("disabled",t.disable),e.xp6(1),e.Q6J("instructionsText","Fields marked with * (asterisk) are mandatory. To avoid mistakes,Please refer guidelines & instructions")("toolTipText","1. Please do not press F5 or Back Button"),e.xp6(1),e.Q6J("recruitmentDetails",t.recruitmentDetails),e.xp6(1),e.Q6J("disabled",t.disable),e.xp6(1),e.Q6J("instructionsText","Fields marked with * (asterisk) are mandatory. To avoid mistakes,Please refer guidelines & instructions")("toolTipText","1. Please do not press F5 or Back Button\n                        2. English translation of the document should be upload along with original document\n                        3. In case any illegible or Invalid and RA shall penalized under Emigration Act 1983 and Emigration Rule 1983\n                        4.Documents exceeding 4 MB size will truncate non mandatory documents\n                        5.Please do not press F5 or back button"),e.xp6(1),e.Q6J("documentFormGroup",t.employerRecruitmentDetails))},dependencies:[D.FN,Q.xf,Q.x4,m.dB,Rt,Xt,eo]}),s})(),oo=(()=>{var i;class s{}return(i=s).\u0275fac=function(o){return new(o||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["emigrate-add-employer-recruitment-success"]],inputs:{arnNo:"arnNo"},decls:10,vars:2,consts:[[1,"container"],[3,"pageSubTitle"],[1,"content","p-5","border","mb-4","text-center"],[1,"colour"],[1,"text-success"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"emigrate-sh-page-sub-title",1),e.TgZ(2,"div",2)(3,"div",3)(4,"p"),e._uU(5,"Your Application has successfully been submitted."),e.qZA(),e.TgZ(6,"p"),e._uU(7," Your Acknowledgement Number is "),e.TgZ(8,"b",4),e._uU(9),e.qZA()()()()()),2&o&&(e.xp6(1),e.Q6J("pageSubTitle","Employer  Registration successfully"),e.xp6(8),e.hij("",t.arnNo.data," "))},dependencies:[m.jZ]}),s})();function ro(i,s){if(1&i){const r=e.EpF();e.TgZ(0,"emigrate-employer-details",4),e.NdJ("activeTab",function(t){e.CHM(r);const a=e.oxw();return e.KtG(a.enableTabEvent(t))}),e.qZA()}}function io(i,s){if(1&i){const r=e.EpF();e.TgZ(0,"emigrate-add-employer-recruitment-tab",5),e.NdJ("enableSuccess",function(t){e.CHM(r);const a=e.oxw();return e.KtG(a.enableSuccess(t))}),e.qZA()}if(2&i){const r=e.oxw();e.Q6J("employerDetails",r.employerDetails)}}function no(i,s){if(1&i&&e._UZ(0,"emigrate-add-employer-recruitment-success",6),2&i){const r=e.oxw();e.Q6J("arnNo",r.arnNo)}}const so=[{path:"emigrant-details/recruited/:passType",pathMatch:"full",component:Z},{path:"emigrant-detail/details-form",pathMatch:"full",component:pe,resolve:[p.WOD]},{path:"emigrant-detail/find-job-id",pathMatch:"full",component:ve,resolve:[p.jGp]},{path:"emigrant-details/deployed/:passType",pathMatch:"full",component:Pe,resolve:[p.yZL]},{path:"grievance-details",pathMatch:"full",component:it},{path:"form-iv",pathMatch:"full",component:vt,resolve:[p.bFi]},{path:"consolidated-report",pathMatch:"full",component:It},{path:"filed-by-ra",pathMatch:"full",component:Te},{path:"view-submitted-monthly-return",pathMatch:"full",component:Fe},{path:"instructions-for-entering-fe-and-recruitment-details",pathMatch:"full",component:At},{path:"add-employer-recruitment",pathMatch:"full",component:(()=>{var i;class s{constructor(o){this.uiService=o,this.enableEmployeeDetails=!0}ngOnInit(){this.initForm()}initForm(){this.breadcrumb=[{label:"Recruitment Agent",routerLink:["/admin"]},{label:"Monthly Return"},{label:"Enter Employer and Recruitment Details"}],this.uiService.initPageSetup(this.breadcrumb,"Enter Employer and Recruitment Details")}enableTabEvent(o){this.enableEmployeeDetails=!1,this.enableTab=!0,this.employerDetails=o}enableSuccess(o){this.enableTab=!1,this.enablesuccess=!0,this.arnNo=o}}return(i=s).\u0275fac=function(o){return new(o||i)(e.Y36(_.n))},i.\u0275cmp=e.Xpm({type:i,selectors:[["emigrate-add-employer-recruitment"]],decls:4,vars:3,consts:[[1,"middle_section"],[3,"activeTab",4,"ngIf"],[3,"employerDetails","enableSuccess",4,"ngIf"],[3,"arnNo",4,"ngIf"],[3,"activeTab"],[3,"employerDetails","enableSuccess"],[3,"arnNo"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.YNc(1,ro,1,0,"emigrate-employer-details",1),e.YNc(2,io,1,1,"emigrate-add-employer-recruitment-tab",2),e.YNc(3,no,1,1,"emigrate-add-employer-recruitment-success",3),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",t.enableEmployeeDetails),e.xp6(1),e.Q6J("ngIf",t.enableTab),e.xp6(1),e.Q6J("ngIf",t.enablesuccess))},dependencies:[u.O5,xt,to,oo]}),s})(),resolve:[p.SN2]}];let lo=(()=>{var i;class s{}return(i=s).\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[v.Bz.forChild(so),v.Bz]}),s})();var mo=h(6270);let uo=(()=>{var i;class s{}return(i=s).\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[u.ez,lo,n.UX,mo.g,n.u5,C.j,m.uR]}),s})()}}]);