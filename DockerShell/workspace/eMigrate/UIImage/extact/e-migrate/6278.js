"use strict";(self.webpackChunke_migrate=self.webpackChunke_migrate||[]).push([[6278],{699:(z,q,g)=>{g.d(q,{O:()=>b});var c=g(1571),s=g(4325),I=g(6895),f=g(2498);function p(v,G){if(1&v&&(c.TgZ(0,"div",2),c._UZ(1,"pdf-viewer",3),c.qZA()),2&v){const T=c.oxw();c.xp6(1),c.Q6J("src",T.documentData)("rotation",0)("original-size",!1)("show-all",!0)("fit-to-page",!1)("zoom",1)("zoom-scale","page-width")("stick-to-page",!1)("render-text",!0)("external-link-target","blank")("autoresize",!0)("show-borders",!1)}}function e(v,G){if(1&v&&(c.TgZ(0,"div",2),c._UZ(1,"pdf-viewer",3),c.qZA()),2&v){const T=c.oxw();c.xp6(1),c.Q6J("src",T.documentData)("rotation",0)("original-size",!1)("show-all",!0)("fit-to-page",!1)("zoom",1)("zoom-scale","page-width")("stick-to-page",!1)("render-text",!0)("external-link-target","blank")("autoresize",!0)("show-borders",!1)}}function Z(v,G){if(1&v&&(c.TgZ(0,"div",2),c._UZ(1,"img",4),c.qZA()),2&v){const T=c.oxw();c.xp6(1),c.s9C("src",T.documentData,c.LSH)}}function u(v,G){if(1&v&&(c.TgZ(0,"div",2),c._UZ(1,"img",4),c.qZA()),2&v){const T=c.oxw();c.xp6(1),c.s9C("src",T.documentData,c.LSH)}}function _(v,G){if(1&v&&(c.TgZ(0,"div",2),c._UZ(1,"img",4),c.qZA()),2&v){const T=c.oxw();c.xp6(1),c.s9C("src",T.documentData,c.LSH)}}function A(v,G){if(1&v&&(c.TgZ(0,"div",2),c._UZ(1,"img",4),c.qZA()),2&v){const T=c.oxw();c.xp6(1),c.s9C("src",T.documentData,c.LSH)}}function d(v,G){if(1&v&&(c.TgZ(0,"div",2),c._UZ(1,"img",4),c.qZA()),2&v){const T=c.oxw();c.xp6(1),c.s9C("src",T.documentData,c.LSH)}}function h(v,G){if(1&v&&(c.TgZ(0,"div",2),c._UZ(1,"img",4),c.qZA()),2&v){const T=c.oxw();c.xp6(1),c.s9C("src",T.documentData,c.LSH)}}let b=(()=>{var v;class G{constructor(D){this.config=D}ngOnInit(){this.documentData=this.config.data.feDocuments?.changingThisBreaksApplicationSecurity,this.type=this.config.data.type}}return(v=G).\u0275fac=function(D){return new(D||v)(c.Y36(s.S))},v.\u0275cmp=c.Xpm({type:v,selectors:[["emigrate-view-docs"]],decls:9,vars:9,consts:[[1,"container",3,"ngSwitch"],["class","content",4,"ngSwitchCase"],[1,"content"],[1,"viewDoc",3,"src","rotation","original-size","show-all","fit-to-page","zoom","zoom-scale","stick-to-page","render-text","external-link-target","autoresize","show-borders"],[3,"src"]],template:function(D,V){1&D&&(c.TgZ(0,"div",0),c.YNc(1,p,2,12,"div",1),c.YNc(2,e,2,12,"div",1),c.YNc(3,Z,2,1,"div",1),c.YNc(4,u,2,1,"div",1),c.YNc(5,_,2,1,"div",1),c.YNc(6,A,2,1,"div",1),c.YNc(7,d,2,1,"div",1),c.YNc(8,h,2,1,"div",1),c.qZA()),2&D&&(c.Q6J("ngSwitch",V.type),c.xp6(1),c.Q6J("ngSwitchCase","pdf"),c.xp6(1),c.Q6J("ngSwitchCase","application/pdf"),c.xp6(1),c.Q6J("ngSwitchCase","png"),c.xp6(1),c.Q6J("ngSwitchCase","jpg"),c.xp6(1),c.Q6J("ngSwitchCase","jpeg"),c.xp6(1),c.Q6J("ngSwitchCase","image/png"),c.xp6(1),c.Q6J("ngSwitchCase","image/jpg"),c.xp6(1),c.Q6J("ngSwitchCase","image/jpeg"))},dependencies:[I.RF,I.n9,f.rQ],styles:[".viewDoc[_ngcontent-%COMP%]{min-height:600px}"]}),G})()},6278:(z,q,g)=>{g.r(q),g.d(q,{GrievanceModule:()=>ai});var c=g(6895),s=g(4006),I=g(6270),f=g(3599),p=g(2976),e=g(1571),Z=g(4325),u=g(1358),_=g(805),A=g(5593),d=g(4826);function h(r,a){if(1&r&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&r){const n=a.$implicit;e.xp6(1),e.Oqu(n.header)}}function b(r,a){if(1&r&&(e.TgZ(0,"tr"),e.YNc(1,h,2,1,"th",23),e.qZA()),2&r){const n=a.$implicit;e.xp6(1),e.Q6J("ngForOf",n)}}function v(r,a){if(1&r&&(e.TgZ(0,"tr",24)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA()()),2&r){const n=a.$implicit;e.Q6J("pSelectableRow",n),e.xp6(2),e.Oqu((null==n?null:n.partnerType)||"NA"),e.xp6(2),e.AsE("",(null==n?null:n.partnerType)||"","",(null==n?null:n.partnerId)||"NA",""),e.xp6(2),e.Oqu((null==n?null:n.organizationName)||"NA"),e.xp6(2),e.Oqu((null==n?null:n.partnerEmailId)||"NA"),e.xp6(2),e.Oqu((null==n?null:n.partnerLandlineNumber)||"NA"),e.xp6(2),e.Oqu((null==n?null:n.partnerMobileNumber)||"NA"),e.xp6(2),e.Oqu((null==n?null:n.partnerOtherDetails)||"NA")}}function G(r,a){1&r&&(e.TgZ(0,"tr",25)(1,"td",26),e._uU(2,"No record found"),e.qZA()())}function T(r,a){if(1&r&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&r){const n=a.$implicit;e.xp6(1),e.Oqu(n.header)}}function D(r,a){if(1&r&&(e.TgZ(0,"tr"),e.YNc(1,T,2,1,"th",23),e.qZA()),2&r){const n=a.$implicit;e.xp6(1),e.Q6J("ngForOf",n)}}function V(r,a){if(1&r&&(e.TgZ(0,"tr",24)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA()()),2&r){const n=a.$implicit;e.Q6J("pSelectableRow",n),e.xp6(2),e.Oqu((null==n?null:n.remarkDate)||"NA"),e.xp6(2),e.Oqu((null==n?null:n.remarkBy)||"NA"),e.xp6(2),e.Oqu((null==n?null:n.role)||"NA"),e.xp6(2),e.Oqu((null==n?null:n.remark)||"NA")}}function oe(r,a){1&r&&(e.TgZ(0,"tr",25)(1,"td",26),e._uU(2,"No record found"),e.qZA()())}let ae=(()=>{var r;class a{constructor(t,i){this.ref=t,this.dialogConfig=i,this.headers=[{field:"",header:"Partner Type"},{field:"",header:"Partner ID"},{field:"",header:"Organization Name"},{field:"",header:"Email ID"},{field:"",header:"Landline Number"},{field:"",header:"Mobile Number"},{field:"",header:"Partner Other Details"}],this.headers2=[{field:"",header:"Date"},{field:"",header:"By"},{field:"",header:"Role"},{field:"",header:"Comment"}]}ngOnInit(){this.grievanceData=this.dialogConfig?.data?this.dialogConfig.data:{}}onClose(){this.ref.close()}}return(r=a).\u0275fac=function(t){return new(t||r)(e.Y36(Z.E7),e.Y36(Z.S))},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-search-grievance-grievance-details"]],decls:123,vars:33,consts:[[1,"container"],[1,"p-3","mt-2","mb-0"],[1,"content"],[1,"form"],[1,"table-border","p-0"],[3,"pageSubTitle"],[1,"p-3"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"mb-1"],[1,"info-text"],[1,"info-text","word-wrap"],[1,"row","my-3"],[1,"col-md-12","col-sm-6"],["responsiveLayout","scroll","selectionMode","single",3,"value","paginator","rows","responsive","columns"],["myTab",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"col-md-8","col-sm-6"],[1,"col-12"],[1,"buttons"],["pButton","","type","submit","label","Close",1,"btn-format","btn-blue",3,"click"],[4,"ngFor","ngForOf"],[3,"pSelectableRow"],[1,"align-items-center"],["colspan","7"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._UZ(5,"emigrate-sh-page-sub-title",5),e.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"p",9),e._uU(10,"Application Reference Number"),e.qZA(),e.TgZ(11,"span",10),e._uU(12),e.qZA()(),e.TgZ(13,"div",8)(14,"p",9),e._uU(15,"Application Raised By"),e.qZA(),e.TgZ(16,"span",11),e._uU(17),e.qZA()(),e.TgZ(18,"div",8)(19,"p",9),e._uU(20,"Application Closed On"),e.qZA(),e.TgZ(21,"span",10),e._uU(22),e.ALo(23,"date"),e.qZA()()(),e.TgZ(24,"div",12)(25,"div",8)(26,"p",9),e._uU(27,"Emigrant Name"),e.qZA(),e.TgZ(28,"span",10),e._uU(29),e.qZA()(),e.TgZ(30,"div",8)(31,"p",9),e._uU(32,"Emigrant Jurisdiction"),e.qZA(),e.TgZ(33,"span",11),e._uU(34),e.qZA()(),e.TgZ(35,"div",8)(36,"p",9),e._uU(37,"Passport Number"),e.qZA(),e.TgZ(38,"span",10),e._uU(39),e.qZA()()(),e.TgZ(40,"div",12)(41,"div",8)(42,"p",9),e._uU(43,"Country of Employment"),e.qZA(),e.TgZ(44,"span",10),e._uU(45),e.qZA()(),e.TgZ(46,"div",8)(47,"p",9),e._uU(48,"Gender"),e.qZA(),e.TgZ(49,"span",11),e._uU(50),e.qZA()(),e.TgZ(51,"div",8)(52,"p",9),e._uU(53,"State/UT of Origin (India)"),e.qZA(),e.TgZ(54,"span",10),e._uU(55),e.qZA()()(),e.TgZ(56,"div",12)(57,"div",13)(58,"p",9),e._uU(59,"Grievance Madad ID"),e.qZA(),e.TgZ(60,"span",10),e._uU(61),e.qZA()()()()()()(),e.TgZ(62,"div",2)(63,"div",4),e._UZ(64,"emigrate-sh-page-sub-title",5),e.TgZ(65,"div",6)(66,"p-table",14,15),e.YNc(68,b,2,1,"ng-template",16),e.YNc(69,v,15,9,"ng-template",17),e.YNc(70,G,3,0,"ng-template",18),e.qZA()()()(),e.TgZ(71,"div",2)(72,"div",4),e._UZ(73,"emigrate-sh-page-sub-title",5),e.TgZ(74,"div",6)(75,"p-table",14,15),e.YNc(77,D,2,1,"ng-template",16),e.YNc(78,V,9,5,"ng-template",17),e.YNc(79,oe,3,0,"ng-template",18),e.qZA()()()(),e.TgZ(80,"div",2)(81,"div",3)(82,"div",4),e._UZ(83,"emigrate-sh-page-sub-title",5),e.TgZ(84,"div",6)(85,"div",7)(86,"div",8)(87,"p",9),e._uU(88,"Grievance Submitted By"),e.qZA(),e.TgZ(89,"span",10),e._uU(90),e.qZA()(),e.TgZ(91,"div",19)(92,"p",9),e._uU(93,"Grievance Against"),e.qZA(),e.TgZ(94,"span",11),e._uU(95),e.qZA()()(),e.TgZ(96,"div",12)(97,"div",13)(98,"p",9),e._uU(99,"Grievance Description"),e.qZA(),e.TgZ(100,"span",10),e._uU(101),e.qZA()()(),e.TgZ(102,"div",12)(103,"div",13)(104,"p",9),e._uU(105,"Complainant Name"),e.qZA(),e.TgZ(106,"span",10),e._uU(107),e.qZA()()()()()()(),e.TgZ(108,"div",2)(109,"div",3)(110,"div",4),e._UZ(111,"emigrate-sh-page-sub-title",5),e.TgZ(112,"div",6)(113,"div",7)(114,"div",13)(115,"p",9),e._uU(116,"Status"),e.qZA(),e.TgZ(117,"span",10),e._uU(118),e.qZA()()()()()()(),e.TgZ(119,"div",7)(120,"div",20)(121,"div",21)(122,"button",22),e.NdJ("click",function(){return i.onClose()}),e.qZA()()()()()()),2&t&&(e.xp6(5),e.Q6J("pageSubTitle","Organization Details"),e.xp6(7),e.Oqu((null==i.grievanceData?null:i.grievanceData.arn)||"NA"),e.xp6(5),e.Oqu((null==i.grievanceData?null:i.grievanceData.applicationRaisedBy)||"NA"),e.xp6(5),e.Oqu(e.xi3(23,30,null==i.grievanceData?null:i.grievanceData.applicationClosedDate,"dd-MM-YYYY")),e.xp6(7),e.Oqu((null==i.grievanceData?null:i.grievanceData.emigrantName)||"NA"),e.xp6(5),e.Oqu((null==i.grievanceData?null:i.grievanceData.emigrantJurisdiction)||"NA"),e.xp6(5),e.Oqu((null==i.grievanceData?null:i.grievanceData.passportNumber)||"NA"),e.xp6(6),e.Oqu((null==i.grievanceData?null:i.grievanceData.countryOfEmployment)||"NA"),e.xp6(5),e.Oqu((null==i.grievanceData?null:i.grievanceData.gender)||"NA"),e.xp6(5),e.Oqu((null==i.grievanceData?null:i.grievanceData.stateOfOrigin)||"NA"),e.xp6(6),e.Oqu((null==i.grievanceData?null:i.grievanceData.grievanceMadadId)||"NA"),e.xp6(3),e.Q6J("pageSubTitle","Partner Details"),e.xp6(2),e.Q6J("value",null==i.grievanceData?null:i.grievanceData.partnerDetailsDTOList)("paginator",!0)("rows",10)("responsive",!0)("columns",i.headers),e.xp6(7),e.Q6J("pageSubTitle","Action Taken Remarks"),e.xp6(2),e.Q6J("value",null==i.grievanceData?null:i.grievanceData.remarkDetailsDTOList)("paginator",!0)("rows",10)("responsive",!0)("columns",i.headers2),e.xp6(8),e.Q6J("pageSubTitle","Grievance Details"),e.xp6(7),e.Oqu((null==i.grievanceData?null:i.grievanceData.grievanceSubmitedBy)||"NA"),e.xp6(5),e.Oqu((null==i.grievanceData?null:i.grievanceData.grievanceAgainst)||"NA"),e.xp6(6),e.Oqu((null==i.grievanceData?null:i.grievanceData.grievanceDescription)||"NA"),e.xp6(6),e.Oqu((null==i.grievanceData?null:i.grievanceData.complainantName)||"NA"),e.xp6(4),e.Q6J("pageSubTitle","Track Status"),e.xp6(7),e.Oqu((null==i.grievanceData?null:i.grievanceData.grievanceStatus)||"NA"))},dependencies:[c.sg,u.jZ,_.jx,A.Hq,d.iA,d.Ei,c.uU],changeDetection:0}),a})(),se=(()=>{var r;class a{constructor(t){this.fb=t}createSearchGrievanceForm(t,i){return this.fb.group({grievanceRefNo:this.fb.control("",s.kI.compose([u.YO.alphaNumericValidator()])),grievanceType:this.fb.control(""),grievanceStatus:this.fb.control(""),partnerId:this.fb.control("",s.kI.compose([u.YO.alphaNumericValidator()])),partnerName:this.fb.control(""),country:this.fb.control(""),dateForm:this.fb.control(""),dateTo:this.fb.control(""),passportNumber:this.fb.control("",s.kI.compose([u.YO.passportNumberValidator()])),madadGrievanceId:this.fb.control("",s.kI.compose([u.YO.alphaNumericValidator()]))})}}return(r=a).\u0275fac=function(t){return new(t||r)(e.LFG(s.qu))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),a})();var le=g(3352),W=g(1754),k=g(6945),R=g(2210),x=g(1740),w=g(2453),H=g(8645);function ce(r,a){1&r&&(e.TgZ(0,"tr")(1,"th",45),e._uU(2,"GRN"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Grievance type"),e.qZA(),e.TgZ(5,"th",46),e._uU(6," Grievance Date "),e._UZ(7,"p-sortIcon",47),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Emigrant First Name"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Emigrant Last Name"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Country"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Partner ID"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Partner Name"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Status"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"MADAD Grievance ID"),e.qZA()())}function pe(r,a){if(1&r){const n=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"a",48),e.NdJ("click",function(){const o=e.CHM(n).$implicit,l=e.oxw();return e.KtG(l.onGrnClick(null==o?null:o.arn))}),e._uU(3),e.qZA()(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"date"),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.qZA()()}if(2&r){const n=a.$implicit;e.xp6(3),e.Oqu(null!=n&&n.arn?null==n?null:n.arn:"NA"),e.xp6(2),e.Oqu(null!=n&&n.grievanceType?null==n?null:n.grievanceType:"NA"),e.xp6(2),e.Oqu(null!=n&&n.grievanceDate?e.xi3(8,10,null==n?null:n.grievanceDate,"dd-MM-YYYY"):"NA"),e.xp6(3),e.Oqu(null!=n&&n.emigrantFirstName?null==n?null:n.emigrantFirstName:"NA"),e.xp6(2),e.Oqu(null!=n&&n.emigrantLastName?null==n?null:n.emigrantLastName:"NA"),e.xp6(2),e.Oqu(null!=n&&n.country?null==n?null:n.country:"NA"),e.xp6(2),e.Oqu(null!=n&&n.partnerId?null==n?null:n.partnerId:"NA"),e.xp6(2),e.Oqu(null!=n&&n.partnerName?null==n?null:n.partnerName:"NA"),e.xp6(2),e.Oqu(null!=n&&n.grievanceStatus?null==n?null:n.grievanceStatus:"NA"),e.xp6(2),e.Oqu(null!=n&&n.madadGrievanceId?null==n?null:n.madadGrievanceId:"NA")}}function ue(r,a){1&r&&(e.TgZ(0,"tr",49)(1,"td",50),e._uU(2,"No record found"),e.qZA()())}const de=function(){return{"min-width":"75rem"}};let me=(()=>{var r;class a{constructor(t,i,o,l,m,C,S){this.formHelper=t,this._submitGrievance=i,this.routerQuery=o,this.messageService=l,this.uiService=m,this.ref=C,this.dialogService=S,this.pageInstructionText=p.Xef.PAGE_INSTRUCTION_TEXT,this.isSearchResults=!1,this.isfilterAvailable=!1,this.grievanceTypes=[],this.grievanceStatus=[],this.grievances=[],this.defaultDateFormat=p.Xef.DEFAULT_DATE_FORMAT,this.first=0}ngOnInit(){this.masterData=this.routerQuery.getData(),this.countries=this.masterData[0][p.WMH.COUNTRY],this.searchGrievanceFormGroup=this.formHelper.createSearchGrievanceForm(!1,{}),this.getGriveanceType(),this.getGrievanceStatus()}onDateChange(t){this.searchGrievanceFormGroup.get("dateTo").clearValidators(),this.searchGrievanceFormGroup.get("dateTo").updateValueAndValidity();let i=new Date(this.searchGrievanceFormGroup.get("dateTo").value),o=new Date(this.searchGrievanceFormGroup.get("dateForm").value);!isNaN(i.getTime())&&!isNaN(o.getTime())&&i.getTime()<o.getTime()?(this.searchGrievanceFormGroup.get("dateTo").setValidators([u.YO.invalidData(!0,"Date To should not be less then Date From")]),this.searchGrievanceFormGroup.get("dateTo").updateValueAndValidity()):(this.searchGrievanceFormGroup.get("dateTo").clearValidators(),this.searchGrievanceFormGroup.get("dateTo").updateValueAndValidity())}getGriveanceType(){this._submitGrievance.getGriveanceType().subscribe(t=>{this.grievanceTypes=t?.data?t.data.map(i=>({label:i.name,value:i.shortName})):[]})}getGrievanceStatus(){this._submitGrievance.grievanceStatus().subscribe(t=>{this.grievanceStatus=t?.data?t.data.map(i=>({label:i.name,value:i.shortName})):[]})}removeTime(t){let i=new Date(t),o=i.getDate(),l=i.getMonth(),m=i.getFullYear();return i.setUTCHours(0,0,0,0),i.setDate(o),i.setMonth(l),i.setFullYear(m),i.toISOString()}paginate(t){this.first=t.first}searchGrievance(){let t=this.searchGrievanceFormGroup.getRawValue();if(this.isfilterAvailable=Object.values(t).every(o=>!o),this.isfilterAvailable)return void this.messageService.add({severity:"error",summary:"Search Grievance",detail:p.rmt.AT_LEAST_ONE_FIELD_REQUIRED});this.uiService.showSpinner();let i={arn:t.grievanceRefNo,grievanceTypeCode:t.grievanceType,grievanceStatusCode:t.grievanceStatus,partnerId:t.partnerId,partnerName:t.partnerName,countryId:t.country,grievanceFromDate:t.dateForm?this.removeTime(t.dateForm):"",grievanceToDate:t.dateTo?this.removeTime(t.dateTo):"",passportNo:t.passportNumber,madadGrievanceId:t.madadGrievanceId};this._submitGrievance.searchGriveance(i).subscribe(o=>{this.grievances=[],this.first=0,this.uiService.hideSpinner(),o?.status.toLowerCase()!==p.Xef.SUCCESS?this.messageService.add({severity:"error",summary:"Find Grievance",detail:o?.error&&o?.error?.errorMessage?o.error.errorMessage:o.message}):(this.grievances=o?.data?o.data:[],this.grievances.length>0?(this.isSearchResults=!0,window.scrollTo(0,500)):(this.messageService.add({severity:"error",summary:"Find Grievance",detail:p.rmt.DEFAULT_NO_DATA_FOUND}),this.isSearchResults=!0))},o=>{this.uiService.hideSpinner(),this.messageService.add({severity:"error",detail:o?.error?.error?.errorMessage?o.error.error.errorMessage:o.message})})}searchGrievanceReset(){this.searchGrievanceFormGroup.reset(),this.grievances=[],this.isSearchResults=!1}onGrnClick(t){this.uiService.showSpinner(),this._submitGrievance.findGriveance(t).subscribe(i=>{if(this.uiService.hideSpinner(),i?.status.toLowerCase()!==p.Xef.SUCCESS)this.messageService.add({severity:"error",summary:"Grievance Details",detail:i?.error&&i?.error?.errorMessage?i.error.errorMessage:i.message});else{let o=i?.data?i.data:{};Object.values(this.grievances).length>0?this.showGrnDetails(o):(this.messageService.add({severity:"error",summary:"Grievance Details",detail:p.rmt.DEFAULT_NO_DATA_FOUND}),this.isSearchResults=!0)}},i=>{this.uiService.hideSpinner(),this.messageService.add({severity:"error",detail:i?.error?.error?.errorMessage?i.error.error.errorMessage:i.message})})}showGrnDetails(t){this.ref=this.dialogService.open(ae,{header:"Grievance Application",width:"80%",contentStyle:{overflow:"auto"},data:t,baseZIndex:1e4,maximizable:!0}),this.ref.onClose.subscribe(i=>{})}}return(r=a).\u0275fac=function(t){return new(t||r)(e.Y36(se),e.Y36(le.f),e.Y36(W.dt),e.Y36(_.ez),e.Y36(k.n),e.Y36(Z.E7),e.Y36(Z.xA))},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-search-grievance"]],decls:67,vars:33,consts:[[1,"container"],[1,"p-3","mt-2","mb-0"],[1,"row","header-background","mb-3"],[3,"pageTitle"],[1,"clearfix"],[1,"content","mt-4"],[1,"row_box","p-0","m-0"],[1,"form"],[1,"mt-0","mb-4"],[3,"formGroup"],[1,"table-border"],[1,"row","align-items-center"],[1,"col-md-4","col-sm-6"],[1,"field"],["inputLabel","Grievance Reference Number","inputId","grievanceRefNo",1,"block",3,"inputFormControl"],["id","grievanceRefNo","type","text","pInputText","","placeholder","","formControlName","grievanceRefNo"],["inputLabel","Grievance Type","inputId","grievanceType",1,"block",3,"inputFormControl"],["id","grievanceType","placeholder","Select an option","formControlName","grievanceType","EmigrateShDropdown","",3,"options","showClear"],["inputLabel","Grievance Status","inputId","grievanceStatus",1,"block",3,"inputFormControl"],["id","grievanceStatus","placeholder","Select an option","formControlName","grievanceStatus","EmigrateShDropdown","",3,"showClear","options"],["inputLabel","Partner ID","inputId","partnerId",1,"block",3,"inputFormControl"],["id","partnerId","type","text","pInputText","","placeholder","","formControlName","partnerId"],["inputLabel","Partner Name","inputId","partnerName",1,"block",3,"inputFormControl"],["id","partnerName","type","text","pInputText","","placeholder","","formControlName","partnerName"],["inputLabel","Country","inputId","country",1,"block",3,"inputFormControl"],["id","country","placeholder","Select an option","formControlName","country","EmigrateShDropdown","",3,"showClear","options"],["inputLabel","Date From","inputId","dateForm",1,"block",3,"inputRequired","inputFormControl"],["appendTo","body","inputId","dateForm","formControlName","dateForm",3,"dateFormat","onSelect"],["inputLabel","Date To","inputId","dateTo",1,"block",3,"inputRequired","inputFormControl"],["appendTo","body","inputId","dateTo","formControlName","dateTo",3,"dateFormat","onSelect"],["inputLabel","Passport Number","inputId","passportNumber",1,"block",3,"inputFormControl"],["id","passportNumber","type","text","pInputText","","placeholder","","formControlName","passportNumber"],["inputLabel","MADAD Grievance ID","inputId","madadGrievanceId",1,"block",3,"inputFormControl"],["id","madadGrievanceId","type","text","pInputText","","placeholder","","formControlName","madadGrievanceId"],[1,"row"],[1,"col-12"],[1,"buttons","mb-3"],["pButton","","type","button","label","Search",1,"btn-format","btn-blue","mr-2",3,"disabled","click"],["pButton","","type","button","label","Clear",1,"btn-format","btn-blue","mr-2",3,"click"],[1,"content","mt-5",3,"hidden"],[1,"table-border","serach-grievance"],["responsiveLayout","scroll","selectionMode","single","sortField","grievances.grievanceDate","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","paginator","rows","first","responsive","tableStyle","sortOrder","showCurrentPageReport","onPage"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"t-td-w-5"],["pSortableColumn","grievanceDate",1,"t-td-w-10"],["field","grievanceDate"],[1,"info-text","cursor",3,"click"],[1,"align-items-center"],["colspan","10"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"p-toast"),e.TgZ(3,"div",2),e._UZ(4,"emigrate-sh-page-title",3),e.qZA(),e._UZ(5,"div",4),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"h4",8),e._uU(10,"Find Grievance"),e.qZA(),e.TgZ(11,"form",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13)(16,"emigrate-sh-html-input",14),e._UZ(17,"input",15),e.qZA()()(),e.TgZ(18,"div",12)(19,"div",13)(20,"emigrate-sh-html-input",16),e._UZ(21,"p-dropdown",17),e.qZA()()(),e.TgZ(22,"div",12)(23,"div",13)(24,"emigrate-sh-html-input",18),e._UZ(25,"p-dropdown",19),e.qZA()()(),e.TgZ(26,"div",12)(27,"div",13)(28,"emigrate-sh-html-input",20),e._UZ(29,"input",21),e.qZA()()(),e.TgZ(30,"div",12)(31,"div",13)(32,"emigrate-sh-html-input",22),e._UZ(33,"input",23),e.qZA()()(),e.TgZ(34,"div",12)(35,"div",13)(36,"emigrate-sh-html-input",24),e._UZ(37,"p-dropdown",25),e.qZA()()(),e.TgZ(38,"div",12)(39,"div",13)(40,"emigrate-sh-html-input",26)(41,"p-calendar",27),e.NdJ("onSelect",function(l){return i.onDateChange(l)}),e.qZA()()()(),e.TgZ(42,"div",12)(43,"div",13)(44,"emigrate-sh-html-input",28)(45,"p-calendar",29),e.NdJ("onSelect",function(l){return i.onDateChange(l)}),e.qZA()()()(),e.TgZ(46,"div",12)(47,"div",13)(48,"emigrate-sh-html-input",30),e._UZ(49,"input",31),e.qZA()()(),e.TgZ(50,"div",12)(51,"div",13)(52,"emigrate-sh-html-input",32),e._UZ(53,"input",33),e.qZA()()()()()()()(),e.TgZ(54,"div",34)(55,"div",35)(56,"div",36)(57,"button",37),e.NdJ("click",function(){return i.searchGrievance()}),e.qZA(),e.TgZ(58,"button",38),e.NdJ("click",function(){return i.searchGrievanceReset()}),e.qZA()()()()(),e.TgZ(59,"div",39)(60,"h4",8),e._uU(61,"Grievance Details"),e.qZA(),e.TgZ(62,"div",40)(63,"p-table",41),e.NdJ("onPage",function(l){return i.paginate(l)}),e.YNc(64,ce,22,0,"ng-template",42),e.YNc(65,pe,23,13,"ng-template",43),e.YNc(66,ue,3,0,"ng-template",44),e.qZA()()()()()),2&t&&(e.xp6(4),e.Q6J("pageTitle","Find Grievance"),e.xp6(7),e.Q6J("formGroup",i.searchGrievanceFormGroup),e.xp6(5),e.Q6J("inputFormControl",i.searchGrievanceFormGroup.controls.grievanceRefNo),e.xp6(4),e.Q6J("inputFormControl",i.searchGrievanceFormGroup.controls.grievanceType),e.xp6(1),e.Q6J("options",i.grievanceTypes)("showClear",!0),e.xp6(3),e.Q6J("inputFormControl",i.searchGrievanceFormGroup.controls.grievanceStatus),e.xp6(1),e.Q6J("showClear",!0)("options",i.grievanceStatus),e.xp6(3),e.Q6J("inputFormControl",i.searchGrievanceFormGroup.controls.partnerId),e.xp6(4),e.Q6J("inputFormControl",i.searchGrievanceFormGroup.controls.partnerName),e.xp6(4),e.Q6J("inputFormControl",i.searchGrievanceFormGroup.controls.country),e.xp6(1),e.Q6J("showClear",!0)("options",i.countries),e.xp6(3),e.Q6J("inputRequired",!0)("inputFormControl",i.searchGrievanceFormGroup.controls.dateForm),e.xp6(1),e.Q6J("dateFormat",i.defaultDateFormat),e.xp6(3),e.Q6J("inputRequired",!0)("inputFormControl",i.searchGrievanceFormGroup.controls.dateTo),e.xp6(1),e.Q6J("dateFormat",i.defaultDateFormat),e.xp6(3),e.Q6J("inputFormControl",i.searchGrievanceFormGroup.controls.passportNumber),e.xp6(4),e.Q6J("inputFormControl",i.searchGrievanceFormGroup.controls.madadGrievanceId),e.xp6(5),e.Q6J("disabled",!i.searchGrievanceFormGroup.valid),e.xp6(2),e.Q6J("hidden",!i.isSearchResults),e.xp6(4),e.Q6J("value",i.grievances)("paginator",!0)("rows",10)("first",i.first)("responsive",!0)("tableStyle",e.DdM(32,de))("sortOrder",-1)("showCurrentPageReport",!0))},dependencies:[u.KR,u.TM,u.lC,_.jx,A.Hq,R.Lt,x.o,w.FN,d.iA,d.lQ,d.fz,H.f,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,c.uU],styles:[".content h4{margin-bottom:0!important}  .serach-grievance table{table-layout:fixed}  .serach-grievance td{word-wrap:break-word}.t-td-w-10[_ngcontent-%COMP%]{width:140px!important}.t-td-w-5[_ngcontent-%COMP%]{width:80px!important}"]}),a})();var ge=g(4675),Y=g(1010),j=g(1989),P=g(3054);function ve(r,a){if(1&r){const n=e.EpF();e.TgZ(0,"span")(1,"p-checkbox",27),e.NdJ("onChange",function(i){e.CHM(n);const o=e.oxw().$implicit,l=e.oxw();return e.KtG(l.checkUncheck(i,null==o?null:o.partnerId))}),e.qZA(),e.TgZ(2,"label",28),e._uU(3),e.qZA()()}if(2&r){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("value",(null==n?null:n.partnerTypeCode)+(null==n?null:n.partnerId)),e.xp6(2),e.Oqu((null==n?null:n.partnerTypeCode)+(null==n?null:n.partnerId))}}function he(r,a){if(1&r&&(e.ynx(0),e.YNc(1,ve,4,2,"span",26),e.BQk()),2&r){const n=a.$implicit;e.xp6(1),e.Q6J("ngIf",(null==n?null:n.partnerTypeCode)&&(null==n?null:n.partnerId))}}let _e=(()=>{var r;class a extends u.H6{constructor(t,i,o,l,m,C,S){super(m),this.ref=t,this.dialogConfig=i,this._claimGrievanceService=o,this._formBuilder=l,this.sessionQuery=C,this.uiService=S,this.maxFileSize=p.Xef.MAX_FILE_SIZE_512KB,this.arnDetails={},this.currentChild=0}ngOnInit(){this.loginUsername=this.sessionQuery.user,this.arnDetails=this.dialogConfig?.data?this.dialogConfig.data:{},this.correspondanceForm=this._formBuilder.group({ownerId:[""],subject:["",[s.kI.required]],message:["",[s.kI.required]]})}checkUncheck(t,i){t.checked.length>0?""!=i&&this.arnDetails?.grievanceAgentList.forEach(o=>{o.grievancePartnerDetailId===i&&(o.checked=!0)}):""!=i&&this.arnDetails?.grievanceAgentList.forEach(o=>{o.grievancePartnerDetailId===i&&(o.checked=!1)})}documentData(t,i){if(this.documents=[],t&&this.clearMaxSizeFile(t))switch(t.action){case p.Xef.ACTION.ADD:this.documents.push({documentVersionNumber:t.data.id,fileName:t.data.name,filePath:t.data.file,documentExtension:t?.data?.type?.split("/")[1],documentSize:t.data.size,fileContent:t.data.file,documentTypeCode:i,date:new Date,createdBy:this.loginUsername?.loginUsername});break;case p.Xef.ACTION.REMOVE:this.documents.splice(this.documents.findIndex(o=>o.id===t.data.id),1)}}clearMaxSizeFile(t){let i=!0;return t&&t?.data?.size>512&&(this.showErrorToast("File size should not be more than 512KB"),this.child.forEach((o,l)=>{o.documentId===this.currentChild&&(o.clearFile(),i=!1)})),i}sendMail(){this.correspondanceForm.markAllAsTouched();let t=this.arnDetails?.grievanceAgentList.filter(i=>!0===i.checked).map(i=>i?.partnerTypeCode+i?.partnerId);if(this.correspondanceForm.valid&&0!==t.length){let i=this.correspondanceForm.value;const o={correspondenceId:0,arnNumber:"GR"+this.arnDetails.grievanceArn,correspondenceTypeCode:"",correspondenceSubject:i?.subject,correspondenceSendDate:new Date,correspondenceOwnerID:[...t],correspondenceStatus:"",correspondenceRequestText:"",correspondenceResponseText:"",correspondenceMessage:i?.message,grievanceDocumentDetailsDTO:this.documents?this.documents:[],owenrId:"",correspondenceType:"",createdBy:"",loginUsername:this.loginUsername?.loginUsername};this.uiService.showSpinner(),this._claimGrievanceService.sendCorrespondance(o).subscribe(l=>{this.uiService.hideSpinner(),l.status.toLowerCase()===p.Xef.SUCCESS?(this.showSuccessToast(l.message),this.correspondanceForm.reset(),this.ref.close()):this.showErrorToast(l.message)},l=>{this.uiService.hideSpinner(),this.showErrorToast(l,"Update Grievance")})}else this.showErrorToast("Please fill the mandatory fields")}close(){this.ref.close()}}return(r=a).\u0275fac=function(t){return new(t||r)(e.Y36(Z.E7),e.Y36(Z.S),e.Y36(Y.W),e.Y36(s.qu),e.Y36(_.ez),e.Y36(p.U_o),e.Y36(k.n))},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-send-correspondance"]],viewQuery:function(t,i){if(1&t&&e.Gf(u.Yr,5),2&t){let o;e.iGM(o=e.CRH())&&(i.child=o)}},features:[e.qOj],decls:51,vars:10,consts:[[1,"content","info-table","p-3"],[3,"pageSubTitle"],[1,"table-border"],[1,"row","mt-3","mb-4"],[1,"col-md-4","col-sm-6"],[1,"mb-1"],[1,"info-text"],[3,"formGroup"],[1,"row"],[1,"col-md-12"],[4,"ngFor","ngForOf"],[1,"row","my-3","d-lg-flex","align-items-center"],[1,"col-md-4","d-flex"],[1,"required"],[1,"col-md-8"],["id","referenceDetail","type","text","required","","pInputText","","formControlName","subject",1,"w-100"],[1,"row","mb-3","d-lg-flex","align-items-center"],["rows","3","cols","20","pInputTextarea","","required","","formControlName","message"],[1,"col-md-4"],[1,"col-md-8",3,"click"],[3,"documentId","maxFileSize","uploadedFile"],[1,"row","mt-3"],[1,"col-12"],[1,"buttons"],["pButton","","type","button","label","Close",1,"btn-format","btn-blue","mr-3",3,"click"],["pButton","","type","button","label","Send Mail",1,"btn-format","btn-blue","ml-2",3,"click"],[4,"ngIf"],["formControlName","ownerId",1,"mr-2",3,"value","onChange"],[1,"mr-5","mb-0"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"emigrate-sh-page-sub-title",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"p",5),e._uU(6,"Application Reference Number"),e.qZA(),e.TgZ(7,"span",6),e._uU(8),e.qZA()(),e.TgZ(9,"div",4)(10,"p",5),e._uU(11,"Work Item Type"),e.qZA(),e.TgZ(12,"span",6),e._uU(13," Grievance Process "),e.qZA()(),e.TgZ(14,"div",4)(15,"p",5),e._uU(16,"Application Submission Date"),e.qZA(),e.TgZ(17,"span",6),e._uU(18),e.ALo(19,"date"),e.qZA()()(),e.TgZ(20,"form",7)(21,"div",8)(22,"div",9),e.YNc(23,he,2,1,"ng-container",10),e.qZA()(),e.TgZ(24,"div",11)(25,"div",12)(26,"p"),e._uU(27,"Subject"),e.qZA(),e.TgZ(28,"span",13),e._uU(29,"*"),e.qZA()(),e.TgZ(30,"div",14),e._UZ(31,"input",15),e.qZA()(),e.TgZ(32,"div",16)(33,"div",12)(34,"p"),e._uU(35,"Message"),e.qZA(),e.TgZ(36,"span",13),e._uU(37,"*"),e.qZA()(),e.TgZ(38,"div",14),e._UZ(39,"textarea",17),e.qZA()(),e.TgZ(40,"div",16)(41,"div",18)(42,"p"),e._uU(43,"Optional Attachment"),e.qZA()(),e.TgZ(44,"div",19),e.NdJ("click",function(){return i.currentChild=1}),e.TgZ(45,"emigrate-sh-file-upload",20),e.NdJ("uploadedFile",function(l){return i.documentData(l,"OPT")}),e.qZA()()()()(),e.TgZ(46,"div",21)(47,"div",22)(48,"div",23)(49,"button",24),e.NdJ("click",function(){return i.close()}),e.qZA(),e.TgZ(50,"button",25),e.NdJ("click",function(){return i.sendMail()}),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("pageSubTitle","Send Correspondence"),e.xp6(7),e.Oqu("GR"+(null==i.arnDetails?null:i.arnDetails.grievanceArn)),e.xp6(10),e.Oqu(e.xi3(19,7,null==i.arnDetails?null:i.arnDetails.receivingDate,"dd-MM-YYYY")),e.xp6(2),e.Q6J("formGroup",i.correspondanceForm),e.xp6(3),e.Q6J("ngForOf",null==i.arnDetails?null:i.arnDetails.grievanceAgentList),e.xp6(22),e.Q6J("documentId",1)("maxFileSize",i.maxFileSize))},dependencies:[c.sg,c.O5,u.jZ,u.Yr,A.Hq,x.o,j.XZ,s._Y,s.Fj,s.JJ,s.JL,s.Q7,P.g,s.sg,s.u,c.uU],styles:["textarea[_ngcontent-%COMP%]{resize:none}"]}),a})();var fe=g(699),Ce=g(1481);const Te=["dt1"];function be(r,a){if(1&r&&(e.ynx(0),e.TgZ(1,"div",12)(2,"div",9)(3,"p",13),e._uU(4,"Application Reference Number"),e.qZA()(),e.TgZ(5,"div",9)(6,"p",13),e._uU(7,"Work Item Type"),e.qZA()()(),e.TgZ(8,"div",12)(9,"div",9)(10,"span",14),e._uU(11),e.qZA()(),e.TgZ(12,"div",9)(13,"span",14),e._uU(14,"Grievance Process"),e.qZA()()(),e.BQk()),2&r){const n=e.oxw();e.xp6(11),e.Oqu(null==n.documentData[0]?null:n.documentData[0].grievanceArn)}}function Ze(r,a){1&r&&(e.TgZ(0,"p",13),e._uU(1,"NO DOCUMENTS AVAILABLE"),e.qZA())}function Ae(r,a){1&r&&(e.TgZ(0,"span"),e._uU(1,"Optional Attachment"),e.qZA())}function Ge(r,a){1&r&&(e.TgZ(0,"span"),e._uU(1,"Optional Attachment 1"),e.qZA())}function Se(r,a){1&r&&(e.TgZ(0,"span"),e._uU(1,"Optional Attachment 2"),e.qZA())}function De(r,a){1&r&&(e.TgZ(0,"span"),e._uU(1,"Optional Attachment 3"),e.qZA())}function we(r,a){1&r&&(e.TgZ(0,"span"),e._uU(1,"Optional Attachment 4"),e.qZA())}function xe(r,a){1&r&&(e.TgZ(0,"span"),e._uU(1,"Optional Attachment 5"),e.qZA())}function Ue(r,a){1&r&&(e.TgZ(0,"span"),e._uU(1,"Optional Attachment 6"),e.qZA())}function Fe(r,a){1&r&&(e.TgZ(0,"span"),e._uU(1,"Optional Attachment 7"),e.qZA())}function Le(r,a){1&r&&(e.TgZ(0,"span"),e._uU(1,"Optional Attachment 8"),e.qZA())}function Ne(r,a){1&r&&(e.TgZ(0,"span"),e._uU(1,"Optional Attachment 9"),e.qZA())}function ye(r,a){1&r&&(e.TgZ(0,"span"),e._uU(1,"Copy of Response Received From RA /Employer/PE"),e.qZA())}function qe(r,a){1&r&&(e.TgZ(0,"span"),e._uU(1,"Copy of Response Sent to Complainant"),e.qZA())}function Ie(r,a){1&r&&(e.TgZ(0,"span"),e._uU(1,"Copy of Response Received From Complainant"),e.qZA())}function ke(r,a){1&r&&(e.TgZ(0,"span"),e._uU(1,"Medical Proof of Disability"),e.qZA())}function Re(r,a){1&r&&(e.TgZ(0,"span"),e._uU(1,"Death Certificate"),e.qZA())}function Oe(r,a){1&r&&(e.TgZ(0,"span"),e._uU(1,"Pay Slip"),e.qZA())}function Je(r,a){1&r&&(e.TgZ(0,"span"),e._uU(1,"Other Documents"),e.qZA())}function Ee(r,a){if(1&r){const n=e.EpF();e.TgZ(0,"tr")(1,"td",17),e.NdJ("click",function(){const o=e.CHM(n).$implicit,l=e.oxw(2);return e.KtG(l.showDocument(o))}),e.YNc(2,Ae,2,0,"span",18),e.YNc(3,Ge,2,0,"span",18),e.YNc(4,Se,2,0,"span",18),e.YNc(5,De,2,0,"span",18),e.YNc(6,we,2,0,"span",18),e.YNc(7,xe,2,0,"span",18),e.YNc(8,Ue,2,0,"span",18),e.YNc(9,Fe,2,0,"span",18),e.YNc(10,Le,2,0,"span",18),e.YNc(11,Ne,2,0,"span",18),e.YNc(12,ye,2,0,"span",18),e.YNc(13,qe,2,0,"span",18),e.YNc(14,Ie,2,0,"span",18),e.YNc(15,ke,2,0,"span",18),e.YNc(16,Re,2,0,"span",18),e.YNc(17,Oe,2,0,"span",18),e.YNc(18,Je,2,0,"span",18),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.ALo(21,"date"),e.qZA(),e.TgZ(22,"td"),e._uU(23),e.qZA(),e.TgZ(24,"td"),e._uU(25),e.qZA()()}if(2&r){const n=a.$implicit;e.xp6(2),e.Q6J("ngIf","OPT"===(null==n?null:n.documentTypeCode)),e.xp6(1),e.Q6J("ngIf","MOR-OPT1"===(null==n?null:n.documentTypeCode)),e.xp6(1),e.Q6J("ngIf","MOR-OPT2"===(null==n?null:n.documentTypeCode)),e.xp6(1),e.Q6J("ngIf","MOR-OPT3"===(null==n?null:n.documentTypeCode)),e.xp6(1),e.Q6J("ngIf","MOR-OPT4"===(null==n?null:n.documentTypeCode)),e.xp6(1),e.Q6J("ngIf","MOR-OPT5"===(null==n?null:n.documentTypeCode)),e.xp6(1),e.Q6J("ngIf","MOR-OPT6"===(null==n?null:n.documentTypeCode)),e.xp6(1),e.Q6J("ngIf","MOR-OPT7"===(null==n?null:n.documentTypeCode)),e.xp6(1),e.Q6J("ngIf","MOR-OPT8"===(null==n?null:n.documentTypeCode)),e.xp6(1),e.Q6J("ngIf","MOR-OPT9"===(null==n?null:n.documentTypeCode)),e.xp6(1),e.Q6J("ngIf","CP-RAFEPE"===(null==n?null:n.documentTypeCode)),e.xp6(1),e.Q6J("ngIf","CP-RSC"===(null==n?null:n.documentTypeCode)),e.xp6(1),e.Q6J("ngIf","CP-RRC"===(null==n?null:n.documentTypeCode)),e.xp6(1),e.Q6J("ngIf","MED-DPRF"===(null==n?null:n.documentTypeCode)),e.xp6(1),e.Q6J("ngIf","CERT-DT"===(null==n?null:n.documentTypeCode)),e.xp6(1),e.Q6J("ngIf","PAY-REC"===(null==n?null:n.documentTypeCode)),e.xp6(1),e.Q6J("ngIf","OTHR-DOC"===(null==n?null:n.documentTypeCode)),e.xp6(2),e.Oqu(e.xi3(21,20,null==n?null:n.modifiedDateTime,"dd-MM-YYYY")),e.xp6(3),e.hij(" ",null!=n&&n.modifiedBy?n.modifiedBy:null!=n&&n.createdBy?n.createdBy:"Applicant"," "),e.xp6(2),e.hij(" ",null!=n&&n.role?null==n?null:n.role:"Applicant"," ")}}function Qe(r,a){if(1&r&&(e.TgZ(0,"div",15)(1,"div",2),e._UZ(2,"emigrate-sh-page-sub-title",3),e.TgZ(3,"div",4)(4,"table")(5,"tr")(6,"th"),e._uU(7,"Document Name"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Date of Submission"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Uploaded By"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Role"),e.qZA()(),e.YNc(14,Ee,26,23,"tr",16),e.qZA()()()()),2&r){const n=e.oxw();e.xp6(2),e.Q6J("pageSubTitle","Application Documents"),e.xp6(12),e.Q6J("ngForOf",n.documentData)}}let Ye=(()=>{var r;class a{constructor(t,i,o,l,m,C){this.ref=t,this.dialogConfig=i,this._claimGrievanceService=o,this.uiService=l,this.dialogService=m,this.sanitizer=C,this.isDetail=!1,this.visible=!1}ngOnInit(){this.documentData=this.dialogConfig?.data?this.dialogConfig.data:[]}close(){this.ref.close()}viewDetail(t,i){this.selectedIndex=i,this.isDetail=!0,this.documentDetail=t}downloadDocument(t){t?.documentLocatorNumber&&(this.uiService.showSpinner(),this._claimGrievanceService.getDocumentDetailById(t?.grievanceArn,t?.documentLocatorNumber).subscribe(i=>{this.uiService.hideSpinner(),i.status.toLowerCase()===p.Xef.SUCCESS&&this.getPdf(i?.data)},i=>{this.uiService.hideSpinner()}))}showDocument(t){t?.documentLocatorNumber&&(this.uiService.showSpinner(),this._claimGrievanceService.getDocumentDetailById(t?.grievanceArn,t?.documentLocatorNumber).subscribe(i=>{this.uiService.hideSpinner(),i.status.toLowerCase()===p.Xef.SUCCESS&&this.getPdf(i?.data)},i=>{this.uiService.hideSpinner()}))}showFile(t){let i=t.fileName.split(".").pop();console.log(i),this.dialogService.open(fe.O,{header:t.fileName,width:"80%",contentStyle:{overflow:"auto"},baseZIndex:1e4,maximizable:!0,data:{feDocuments:this.sanitizer.bypassSecurityTrustUrl(`data:${i};base64,${t.fileContent}`),type:i}})}getPdf(t){this.pdfUrl="";var i=this.b64toBlob(t?.fileContent,"application/pdf");this.pdfUrl=window.URL.createObjectURL(i),this.visible=!0,window.open(this.pdfUrl)}downloadPdf(t){let i=document.createElement("a");document.body.appendChild(i),i.href=this.pdfUrl,i.download=String(t?.fileName),i.click(),window.URL.revokeObjectURL(this.pdfUrl),i.remove()}b64toBlob(t,i){i=i||"";for(var l=atob(t),m=[],C=0;C<l.length;C+=512){for(var S=l.slice(C,C+512),M=new Array(S.length),E=0;E<S.length;E++)M[E]=S.charCodeAt(E);var B=new Uint8Array(M);m.push(B)}return new Blob(m,{type:i})}}return(r=a).\u0275fac=function(t){return new(t||r)(e.Y36(Z.E7),e.Y36(Z.S),e.Y36(Y.W),e.Y36(k.n),e.Y36(Z.xA),e.Y36(Ce.H7))},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-view-doc"]],viewQuery:function(t,i){if(1&t&&e.Gf(Te,5),2&t){let o;e.iGM(o=e.CRH())&&(i.ptable=o.first)}},decls:15,vars:4,consts:[[1,"middle_section"],[1,"container"],[1,"content","info-table"],[3,"pageSubTitle"],[1,"table-border"],[4,"ngIf","ngIfElse"],["Other",""],["class","appl-details",4,"ngIf"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"buttons"],["pButton","","type","button","label","CLOSE",1,"btn-format","btn-blue",3,"click"],[1,"row","mb-3"],[1,"mb-1"],[1,"info-text"],[1,"appl-details"],[4,"ngFor","ngForOf"],[1,"info-text","cursor",3,"click"],[4,"ngIf"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"p-toast"),e.TgZ(2,"div",1)(3,"div",2),e._UZ(4,"emigrate-sh-page-sub-title",3),e.TgZ(5,"div",4),e.YNc(6,be,15,1,"ng-container",5),e.YNc(7,Ze,2,0,"ng-template",null,6,e.W1O),e.qZA()(),e.YNc(9,Qe,15,2,"div",7),e.TgZ(10,"div",8)(11,"div",8)(12,"div",9)(13,"div",10)(14,"button",11),e.NdJ("click",function(){return i.close()}),e.qZA()()()()()()()),2&t){const o=e.MAs(8);e.xp6(4),e.Q6J("pageSubTitle","Process Details"),e.xp6(2),e.Q6J("ngIf",(null==i.documentData?null:i.documentData.length)>0)("ngIfElse",o),e.xp6(3),e.Q6J("ngIf",(null==i.documentData?null:i.documentData.length)>0)}},dependencies:[c.sg,c.O5,u.jZ,A.Hq,w.FN,c.uU],styles:[".content[_ngcontent-%COMP%]   .table-border[_ngcontent-%COMP%]{border:1px solid #e0e0e0;padding:10px 15px;margin-bottom:15px}table[_ngcontent-%COMP%]{width:100%;border:1px solid #e0e0e0;margin:10px 0}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #e0e0e0;border-collapse:collapse;padding:15px}th[_ngcontent-%COMP%]{padding:20px 14px}td[_ngcontent-%COMP%]{font-size:12px}td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000;text-decoration:none}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.p-dialog[_ngcontent-%COMP%]   .p-dialog-header[_ngcontent-%COMP%]   .p-dialog-header-icon[_ngcontent-%COMP%]:focus{box-shadow:none}.correspndance-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#e9eaf1}.correspndance-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#fff}"]}),a})();const Pe=["dt1"];function Me(r,a){if(1&r&&(e.ynx(0),e.TgZ(1,"div",12)(2,"div",13)(3,"span",16),e._uU(4),e.qZA()(),e.TgZ(5,"div",13)(6,"span",16),e._uU(7,"Grievance Process"),e.qZA()()(),e.BQk()),2&r){const n=e.oxw(2);e.xp6(4),e.Oqu(n.documentData[0].grievanceArn)}}function Ve(r,a){if(1&r&&(e.ynx(0),e.TgZ(1,"div",12)(2,"div",13)(3,"p",14),e._uU(4,"Application Reference Number"),e.qZA()(),e.TgZ(5,"div",13)(6,"p",14),e._uU(7,"Work Item Type"),e.qZA()()(),e.YNc(8,Me,8,1,"ng-container",15),e.BQk()),2&r){const n=e.oxw();e.xp6(8),e.Q6J("ngIf",(null==n.documentData?null:n.documentData.length)>0)}}function He(r,a){1&r&&(e.TgZ(0,"p",14),e._uU(1,"NO DOCUMENTS AVAILABLE"),e.qZA())}function Be(r,a){if(1&r&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&r){const n=a.$implicit;e.xp6(1),e.Oqu(n.header)}}function Ke(r,a){if(1&r&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA()()),2&r){const n=a.$implicit;e.xp6(2),e.Oqu(e.xi3(3,5,null==n?null:n.workItemDate,"dd-MM-YYYY")),e.xp6(3),e.Oqu(null==n?null:n.applicationStatus),e.xp6(2),e.Oqu(null==n?null:n.pending),e.xp6(2),e.Oqu(null==n?null:n.role),e.xp6(2),e.Oqu(null==n?null:n.applicationType)}}function ze(r,a){if(1&r&&(e.TgZ(0,"div",2),e._UZ(1,"emigrate-sh-page-sub-title",3),e.TgZ(2,"div",8)(3,"div",17)(4,"table",18)(5,"tr"),e.YNc(6,Be,2,1,"th",19),e.qZA(),e.YNc(7,Ke,12,8,"tr",19),e.qZA()()()()),2&r){const n=e.oxw();e.xp6(1),e.Q6J("pageSubTitle","Application History"),e.xp6(5),e.Q6J("ngForOf",n.columnslist),e.xp6(1),e.Q6J("ngForOf",n.documentData)}}let We=(()=>{var r;class a extends u.H6{constructor(t,i,o){super(t),this.messageservice=t,this.ref=i,this.dialogConfig=o,this.isDetail=!1,this.columnslist=[{field:"date",header:"Date"},{field:"applicationStatus",header:"Application Status"},{field:"pendingWith",header:"Pending With "},{field:"role",header:"Role"},{field:"applicationType",header:"Application Type"}]}ngOnInit(){this.documentData=this.dialogConfig?.data?this.dialogConfig.data:[]}viewDetail(t,i){this.selectedIndex=i,this.isDetail=!0,this.documentDetail=t}close(){this.ref.close()}}return(r=a).\u0275fac=function(t){return new(t||r)(e.Y36(_.ez),e.Y36(Z.E7),e.Y36(Z.S))},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-view-work-item-history"]],viewQuery:function(t,i){if(1&t&&e.Gf(Pe,5),2&t){let o;e.iGM(o=e.CRH())&&(i.ptable=o.first)}},features:[e.qOj],decls:15,vars:4,consts:[[1,"middle_section"],[1,"container"],[1,"content","info-table"],[3,"pageSubTitle"],[1,"table-border"],[4,"ngIf","ngIfElse"],["Other",""],["class","content info-table",4,"ngIf"],[1,"row"],[1,"col-md-4","col-sm-6","mt-4"],[1,"buttons"],["pButton","","type","button","label","Close",1,"btn-format","btn-blue",3,"click"],[1,"row","mb-3"],[1,"col-md-4","col-sm-6"],[1,"mb-1"],[4,"ngIf"],[1,"info-text"],[1,"col-md-12","col-sm-6"],[1,"mt-0"],[4,"ngFor","ngForOf"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"p-toast"),e.TgZ(2,"div",1)(3,"form")(4,"div",2),e._UZ(5,"emigrate-sh-page-sub-title",3),e.TgZ(6,"div",4),e.YNc(7,Ve,9,1,"ng-container",5),e.YNc(8,He,2,0,"ng-template",null,6,e.W1O),e.qZA()()(),e.YNc(10,ze,8,3,"div",7),e.TgZ(11,"div",8)(12,"div",9)(13,"div",10)(14,"button",11),e.NdJ("click",function(){return i.close()}),e.qZA()()()()()()),2&t){const o=e.MAs(9);e.xp6(5),e.Q6J("pageSubTitle","Work Item Details"),e.xp6(2),e.Q6J("ngIf",(null==i.documentData?null:i.documentData.length)>0)("ngIfElse",o),e.xp6(3),e.Q6J("ngIf",i.documentData.length>0)}},dependencies:[c.sg,c.O5,u.jZ,A.Hq,w.FN,s._Y,s.JL,s.F,c.uU],styles:["th[_ngcontent-%COMP%]{padding:20px 14px}"]}),a})(),X=(()=>{var r;class a{constructor(t){this.fb=t}claimGrievanceForm(t){return this.fb.group({grievanceNumber:this.fb.control({value:null,disabled:t},s.kI.compose([s.kI.required,u.YO.alphaNumericValidator()]))})}createUpdateGrievanceMultiForm(t){return this.fb.group({grievanceDetails:this.fb.group({passportType:this.fb.control({value:null,disabled:t}),assignedToLocation:this.fb.control({value:null,disabled:t}),assignedToOffice:this.fb.control({value:null,disabled:t}),assignedToPerson:this.fb.control({value:null,disabled:t}),moreOptionalAttachments:this.fb.control({value:null,disabled:t},s.kI.required)}),listOfGrievanceDocument:this.fb.array([]),remarksDetails:this.fb.group({remarks:this.fb.control({value:null,disabled:t}),date:this.fb.control({value:null,disabled:t}),givenBy:this.fb.control({value:null,disabled:t})})})}createUpdateProcess(t,i){return this.fb.group({grievanceReferenceNumber:this.fb.control({value:i?.grievanceReferenceNumber,disabled:!0}),raiseDate:this.fb.control({value:i?.raiseDate,disabled:!0}),emigrantName:this.fb.control({value:i?.emigrantName,disabled:!0}),passportNumber:this.fb.control({value:i?.passportNumber,disabled:!0}),emigrantAddress:this.fb.control({value:i?.emigrantAddress,disabled:!0}),landLineNumber:this.fb.control({value:i?.landLineNumber,disabled:!0}),mobileNumber:this.fb.control({value:i?.mobileNumber,disabled:!0}),email:this.fb.control({value:i?.email,disabled:!0})})}closeGrievanceForm(t){return this.fb.group({resonForClosure:this.fb.control({value:null,disabled:t},s.kI.compose([s.kI.required])),grievanceResolveDate:this.fb.control({value:null,disabled:t})})}viewCorrespondance(t){return this.fb.group({arn:this.fb.control({value:null,disabled:t}),correspondance:this.fb.control({value:null,disabled:t})})}sendCorrespondance(t){return this.fb.group({applicationReferenceNumber:this.fb.control({value:null,disabled:t}),workItemType:this.fb.control({value:null,disabled:t}),subject:this.fb.control({value:null,disabled:t},s.kI.compose([s.kI.required])),message:this.fb.control({value:null,disabled:t},s.kI.compose([s.kI.required])),listOfSendDocument:this.fb.array([])})}documenToList(t){return{fileName:t.fileName,fileContent:t.fileContent,docExtension:t.docExtension,docVersionNumber:t.docVersionNumber,fkDocTypeCd:t.fkDocTypeCd}}}return(r=a).\u0275fac=function(t){return new(t||r)(e.LFG(s.qu))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),a})();function je(r,a){if(1&r&&(e.TgZ(0,"div",4)(1,"div",10)(2,"p",6),e._uU(3,"Employer/Recruiting Agent/Project Exporter Name"),e.qZA(),e.TgZ(4,"span",7),e._uU(5),e.qZA()(),e.TgZ(6,"div",10)(7,"p",6),e._uU(8,"Employer/Recruiting Agent/Project Exporter ID"),e.qZA(),e.TgZ(9,"span",7),e._uU(10),e.qZA()()()),2&r){const n=a.$implicit;e.xp6(5),e.Oqu((null==n?null:n.partnerName)||"NA"),e.xp6(5),e.AsE("",null!=n&&n.partnerId&&n.partnerTypeCode?n.partnerTypeCode:"","",(null==n?null:n.partnerId)||"NA","")}}function Xe(r,a){if(1&r&&(e.ynx(0),e.YNc(1,je,11,3,"div",12),e.BQk()),2&r){const n=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",null==n.updateGrievanceList?null:n.updateGrievanceList.grievanceAgentList)}}function $e(r,a){1&r&&(e.TgZ(0,"div",4)(1,"div",13)(2,"p",14),e._uU(3,"NA"),e.qZA()()())}function et(r,a){if(1&r&&(e.ynx(0),e.TgZ(1,"div",3)(2,"div",4)(3,"div",5)(4,"p",6),e._uU(5,"Grievance Reference Number"),e.qZA(),e.TgZ(6,"span",7),e._uU(7),e.qZA()(),e.TgZ(8,"div",5)(9,"p",6),e._uU(10,"Raised Date"),e.qZA(),e.TgZ(11,"span",7),e._uU(12),e.ALo(13,"date"),e.qZA()()()(),e.TgZ(14,"div",8),e._UZ(15,"emigrate-sh-page-sub-title",9),e.TgZ(16,"div",3)(17,"div",4)(18,"div",10)(19,"p",6),e._uU(20,"Emigrant Name"),e.qZA(),e.TgZ(21,"span",7),e._uU(22),e.qZA()(),e.TgZ(23,"div",10)(24,"p",6),e._uU(25,"Passport Number"),e.qZA(),e.TgZ(26,"span",7),e._uU(27),e.qZA()(),e.TgZ(28,"div",10)(29,"p",6),e._uU(30,"Emigrant Address"),e.qZA(),e.TgZ(31,"span",7),e._uU(32),e.qZA()(),e.TgZ(33,"div",10)(34,"p",6),e._uU(35,"Landline Number"),e.qZA(),e.TgZ(36,"span",7),e._uU(37),e.qZA()(),e.TgZ(38,"div",10)(39,"p",6),e._uU(40,"Mobile Number"),e.qZA(),e.TgZ(41,"span",7),e._uU(42),e.qZA()(),e.TgZ(43,"div",10)(44,"p",6),e._uU(45,"Email Id"),e.qZA(),e.TgZ(46,"span",7),e._uU(47),e.qZA()()()()(),e.TgZ(48,"div",8),e._UZ(49,"emigrate-sh-page-sub-title",9),e.TgZ(50,"div",3),e.YNc(51,Xe,2,1,"ng-container",1),e.YNc(52,$e,4,0,"ng-template",null,11,e.W1O),e.qZA()(),e.BQk()),2&r){const n=e.MAs(53),t=e.oxw();e.xp6(7),e.Oqu("GR"+(null==t.updateGrievanceList?null:t.updateGrievanceList.grievanceArn)||0),e.xp6(5),e.Oqu(e.xi3(13,12,null==t.updateGrievanceList?null:t.updateGrievanceList.raisedDate,"dd-MM-YYYY")),e.xp6(3),e.Q6J("pageSubTitle","Emigrant Details"),e.xp6(7),e.Oqu((null==t.updateGrievanceList?null:t.updateGrievanceList.emigrantFirstName)+" "+(null==t.updateGrievanceList?null:t.updateGrievanceList.emigrantLastName)||"NA"),e.xp6(5),e.Oqu((null==t.updateGrievanceList?null:t.updateGrievanceList.emigrantPassportNumber)||"NA"),e.xp6(5),e.Oqu((null==t.updateGrievanceList?null:t.updateGrievanceList.emigrantAddress)||"NA"),e.xp6(5),e.Oqu((null==t.updateGrievanceList?null:t.updateGrievanceList.emigrantLandlineNumber)||"NA"),e.xp6(5),e.Oqu((null==t.updateGrievanceList?null:t.updateGrievanceList.emigrantMobileNumber)||"NA"),e.xp6(5),e.Oqu((null==t.updateGrievanceList?null:t.updateGrievanceList.emigrantEmail)||"NA"),e.xp6(2),e.Q6J("pageSubTitle","Grievance Against "+t.grievanceAgainst),e.xp6(2),e.Q6J("ngIf",(null==t.updateGrievanceList?null:t.updateGrievanceList.grievanceAgentList)&&(null==t.updateGrievanceList||null==t.updateGrievanceList.grievanceAgentList?null:t.updateGrievanceList.grievanceAgentList.length)>0)("ngIfElse",n)}}function tt(r,a){1&r&&(e.TgZ(0,"div",3)(1,"div",4)(2,"div",15)(3,"p",6),e._uU(4,"Invalid grievance ARN"),e.qZA()()()())}let it=(()=>{var r;class a{constructor(t){this.formHelper=t,this.isDocumentUploaded=!1,this.grievanceAgainst="",this.arnStatus=new e.vpe,this.updateGrievanceList=[],this.userRa=p.Xef.USER_RA.toUpperCase(),this.userFe=p.Xef.USER_FE.toUpperCase(),this.userPe=p.Xef.USER_PE.toUpperCase(),this.userRaFe=p.Xef.USER_RAFE.toUpperCase()}ngAfterViewInit(){setTimeout(()=>{if(this.updateGrievanceList&&this.updateGrievanceList?.grievanceAgentList&&Array.isArray(this.updateGrievanceList.grievanceAgentList)&&this.updateGrievanceList.grievanceAgentList.length>0){this.updateGrievanceList.grievanceAgainstCode=this.updateGrievanceList.grievanceAgainstCode.replace("GA_","");let t=this.updateGrievanceList?.grievanceAgentList;[this.userRaFe].indexOf(this.updateGrievanceList?.grievanceAgainstCode)>-1&&this.updateGrievanceList.grievanceAgentList.length%2!=0?(this.grievanceAgainst=t.every(i=>i.partnerTypeCode===this.userRa||i.partnerTypeCode===this.userFe)?"Both RA and FE":"",this.updateGrievanceList.grievanceAgentList=[{...this.updateGrievanceList.grievanceAgentList[0]},{partnerName:"",partnerId:""}]):this.grievanceAgainst=t.every(i=>i.partnerTypeCode===this.userRa)?this.userRa:t.every(i=>i.partnerTypeCode===this.userFe)?this.userFe:t.every(i=>i.partnerTypeCode===this.userPe)?this.userPe:t.every(i=>i.partnerTypeCode===this.userRa||i.partnerTypeCode===this.userFe)?"Both RA and FE":""}else this.updateGrievanceList?.grievanceAgainstCode&&(this.updateGrievanceList.grievanceAgainstCode=this.updateGrievanceList.grievanceAgainstCode.replace("GA_",""),[this.userRa,this.userFe,this.userPe,this.userRaFe].indexOf(this.updateGrievanceList?.grievanceAgainstCode)>-1&&(this.updateGrievanceList.grievanceAgentList=this.userRaFe.toLowerCase()!==this.updateGrievanceList?.grievanceAgainstCode.toString().toLowerCase()?[{partnerName:"",partnerId:""}]:[{partnerName:"",partnerId:""},{partnerName:"",partnerId:""}],this.grievanceAgainst=this.updateGrievanceList.grievanceAgainstCode===this.userRa?this.userRa:this.updateGrievanceList.grievanceAgainstCode===this.userFe?this.userFe:this.updateGrievanceList.grievanceAgainstCode===this.userPe?this.userPe:this.updateGrievanceList.grievanceAgainstCode===this.userRaFe?"Both RA and FE":""))},2e3)}}return(r=a).\u0275fac=function(t){return new(t||r)(e.Y36(X))},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-process-grievance"]],inputs:{isUpdateGrievanceList:"isUpdateGrievanceList",updateGrievanceList:"updateGrievanceList"},outputs:{arnStatus:"arnStatus"},decls:4,vars:2,consts:[[1,"content"],[4,"ngIf","ngIfElse"],["noDataFound",""],[1,"table-border"],[1,"row","my-3"],[1,"col-md-4","col-sm-6"],[1,"mb-1"],[1,"info-text"],[1,"form"],[3,"pageSubTitle"],[1,"col-md-4","col-sm-6","mb-2"],["noDataAvailable",""],["class","row my-3",4,"ngFor","ngForOf"],[1,"col-md-12","col-sm-6","mb-2"],[1,"mb-1","info-text"],[1,"col-md-12","col-sm-6"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,et,54,15,"ng-container",1),e.YNc(2,tt,5,0,"ng-template",null,2,e.W1O),e.qZA()),2&t){const o=e.MAs(3);e.xp6(1),e.Q6J("ngIf",null==i.updateGrievanceList?null:i.updateGrievanceList.grievanceArn)("ngIfElse",o)}},dependencies:[c.sg,c.O5,u.jZ,c.uU]}),a})(),nt=(()=>{var r;class a{constructor(){this.updateGrievanceList={},this.officeList=[],this.officeUserList=[],this.officeLocation=[],this.officeLocationModified=[],this.officeListModified=[],this.officeLocationByUserListModified=[],this.passportTypes=[{label:"ECR",value:"ECR"},{label:"ECNR",value:"ECNR"}],this.getLocation=new e.vpe,this.getUser=new e.vpe}officeHandler(t){this.officeName=t.value,this.getLocation.emit(this.officeName)}officeLocationHandler(t){this.officeName&&t.value&&this.getUser.emit({officeName:this.officeName,locationId:t.value})}}return(r=a).\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-update-gr"]],inputs:{updateGrievanceList:"updateGrievanceList",officeList:"officeList",officeUserList:"officeUserList",officeLocation:"officeLocation",grievanceDetailForm:"grievanceDetailForm"},outputs:{getLocation:"getLocation",getUser:"getUser"},decls:31,vars:13,consts:[[1,"row","my-3"],[1,"col-md-3","col-sm-6"],[1,"mb-1"],[1,"info-text"],[1,"info-text","word-wrap"],[1,"col-md-6","col-sm-6"],[3,"formGroup"],[1,"row"],[1,"field"],["for","1","inputLabel","Passport Type","inputId","passportType",1,"block",3,"inputFormControl"],["id","passportType","placeholder","Select an option","optionLabel","label","optionValue","value","EmigrateShDropdown","","formControlName","passportType",3,"options"],["for","1","inputLabel","Assigned To","inputId","assignedTo",1,"block",3,"inputFormControl"],["id","assignedTo","placeholder","Select an Office","optionLabel","label","optionValue","value","EmigrateShDropdown","","formControlName","office",3,"options","onChange"],["inputLabel","Assigned To Location",3,"inputFormControl"],["id","location","placeholder","Select a Location","optionLabel","label","optionValue","value","EmigrateShDropdown","","formControlName","officeLocation",3,"options","onChange"],["inputLabel","Assigned To User",3,"inputFormControl"],["id","user","placeholder","Select an Person","formControlName","officeLocatedUser","optionLabel","value","optionValue","value","filterBy","value",3,"options","filter"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"p",2),e._uU(3,"Grievance Type"),e.qZA(),e.TgZ(4,"span",3),e._uU(5),e.qZA()(),e.TgZ(6,"div",1)(7,"p",2),e._uU(8,"Grievance Description"),e.qZA(),e.TgZ(9,"span",4),e._uU(10),e.qZA()(),e.TgZ(11,"div",5)(12,"p",2),e._uU(13,"Grievance Status"),e.qZA(),e.TgZ(14,"span",3),e._uU(15),e.qZA()()(),e.TgZ(16,"form",6)(17,"div",7)(18,"div",1)(19,"div",8)(20,"emigrate-sh-html-input",9),e._UZ(21,"p-dropdown",10),e.qZA()()(),e.TgZ(22,"div",1)(23,"emigrate-sh-html-input",11)(24,"p-dropdown",12),e.NdJ("onChange",function(l){return i.officeHandler(l)}),e.qZA()()(),e.TgZ(25,"div",1)(26,"emigrate-sh-html-input",13)(27,"p-dropdown",14),e.NdJ("onChange",function(l){return i.officeLocationHandler(l)}),e.qZA()()(),e.TgZ(28,"div",1)(29,"emigrate-sh-html-input",15),e._UZ(30,"p-dropdown",16),e.qZA()()()()),2&t&&(e.xp6(5),e.Oqu((null==i.updateGrievanceList?null:i.updateGrievanceList.grievanceTypeDisplayName)||"NA"),e.xp6(5),e.Oqu((null==i.updateGrievanceList?null:i.updateGrievanceList.grievanceDescription)||"NA"),e.xp6(5),e.Oqu((null==i.updateGrievanceList?null:i.updateGrievanceList.grievanceStatusDisplayName)||"NA"),e.xp6(1),e.Q6J("formGroup",i.grievanceDetailForm),e.xp6(4),e.Q6J("inputFormControl",i.grievanceDetailForm.controls.passportType),e.xp6(1),e.Q6J("options",i.passportTypes),e.xp6(2),e.Q6J("inputFormControl",i.grievanceDetailForm.controls.office),e.xp6(1),e.Q6J("options",i.officeList),e.xp6(2),e.Q6J("inputFormControl",i.grievanceDetailForm.controls.officeLocation),e.xp6(1),e.Q6J("options",i.officeLocation),e.xp6(2),e.Q6J("inputFormControl",i.grievanceDetailForm.controls.officeLocatedUser),e.xp6(1),e.Q6J("options",i.officeUserList)("filter",!0))},dependencies:[u.KR,u.lC,R.Lt,s._Y,s.JJ,s.JL,s.sg,s.u],styles:[".word-wrap[_ngcontent-%COMP%]{word-wrap:break-word}"]}),a})();var $=g(613);function rt(r,a){if(1&r&&(e.TgZ(0,"div",37)(1,"emigrate-sh-html-input",38),e._UZ(2,"p-calendar",39),e.qZA()()),2&r){const n=e.oxw();e.xp6(1),e.Q6J("inputFormControl",n.documentFormGroup.controls.responseAgentDate),e.xp6(1),e.Q6J("dateFormat",n.defaultDateFormat)("disabled",n.isAgentDisable)("readonlyInput",!0)("maxDate",n.maxdate)("minDate",n.mindate)}}function ot(r,a){if(1&r){const n=e.EpF();e.TgZ(0,"div",37)(1,"emigrate-sh-html-input",40)(2,"p-calendar",41),e.NdJ("onSelect",function(i){e.CHM(n);const o=e.oxw();return e.KtG(o.responseDateHandler(i))}),e.qZA()()()}if(2&r){const n=e.oxw();e.xp6(1),e.Q6J("inputFormControl",n.documentFormGroup.controls.responseSendComplaintDate),e.xp6(1),e.Q6J("dateFormat",n.defaultDateFormat)("maxDate",n.maxdate)("minDate",n.mindate)("readonlyInput",!0)("disabled",n.isSendDisable)}}function at(r,a){if(1&r){const n=e.EpF();e.TgZ(0,"div",37)(1,"emigrate-sh-html-input",42)(2,"p-calendar",43),e.NdJ("onSelect",function(i){e.CHM(n);const o=e.oxw();return e.KtG(o.recieveDateHandler(i))}),e.qZA()()()}if(2&r){const n=e.oxw();e.xp6(1),e.Q6J("inputFormControl",n.documentFormGroup.controls.responseRecComplaintDate),e.xp6(1),e.Q6J("dateFormat",n.defaultDateFormat)("maxDate",n.maxdate)("minDate",n.mindate)("readonlyInput",!0)("disabled",n.isRecieveDisable)}}function st(r,a){if(1&r){const n=e.EpF();e.TgZ(0,"div")(1,"div",6)(2,"div",7)(3,"span"),e._uU(4,"Optional Attachment 1"),e.qZA()(),e.TgZ(5,"div",14),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.currentChild=4)}),e.TgZ(6,"emigrate-sh-file-upload",15),e.NdJ("uploadedFile",function(i){e.CHM(n);const o=e.oxw();return e.KtG(o.documentData(i,"MOR-OPT1"))}),e.qZA()()(),e.TgZ(7,"div",18)(8,"div",7)(9,"span",44)(10,"span"),e._uU(11,"Optional Attachment 2"),e.qZA()()(),e.TgZ(12,"div",14),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.currentChild=5)}),e.TgZ(13,"emigrate-sh-file-upload",15),e.NdJ("uploadedFile",function(i){e.CHM(n);const o=e.oxw();return e.KtG(o.documentData(i,"MOR-OPT2"))}),e.qZA()()(),e.TgZ(14,"div",18)(15,"div",7)(16,"span",44)(17,"span"),e._uU(18,"Optional Attachment 3"),e.qZA()()(),e.TgZ(19,"div",14),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.currentChild=6)}),e.TgZ(20,"emigrate-sh-file-upload",15),e.NdJ("uploadedFile",function(i){e.CHM(n);const o=e.oxw();return e.KtG(o.documentData(i,"MOR-OPT3"))}),e.qZA()()(),e.TgZ(21,"div",45)(22,"div",7)(23,"span",44)(24,"span"),e._uU(25,"Optional Attachment 4"),e.qZA()()(),e.TgZ(26,"div",14),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.currentChild=7)}),e.TgZ(27,"emigrate-sh-file-upload",15),e.NdJ("uploadedFile",function(i){e.CHM(n);const o=e.oxw();return e.KtG(o.documentData(i,"MOR-OPT4"))}),e.qZA()()(),e.TgZ(28,"div",18)(29,"div",7)(30,"span",44)(31,"span"),e._uU(32,"Optional Attachment 5"),e.qZA()()(),e.TgZ(33,"div",14),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.currentChild=8)}),e.TgZ(34,"emigrate-sh-file-upload",15),e.NdJ("uploadedFile",function(i){e.CHM(n);const o=e.oxw();return e.KtG(o.documentData(i,"MOR-OPT5"))}),e.qZA()()(),e.TgZ(35,"div",18)(36,"div",7)(37,"span",44)(38,"span"),e._uU(39,"Optional Attachment 6"),e.qZA()()(),e.TgZ(40,"div",14),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.currentChild=9)}),e.TgZ(41,"emigrate-sh-file-upload",15),e.NdJ("uploadedFile",function(i){e.CHM(n);const o=e.oxw();return e.KtG(o.documentData(i,"MOR-OPT6"))}),e.qZA()()(),e.TgZ(42,"div",18)(43,"div",7)(44,"span",44)(45,"span"),e._uU(46,"Optional Attachment 7"),e.qZA()()(),e.TgZ(47,"div",14),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.currentChild=10)}),e.TgZ(48,"emigrate-sh-file-upload",15),e.NdJ("uploadedFile",function(i){e.CHM(n);const o=e.oxw();return e.KtG(o.documentData(i,"MOR-OPT7"))}),e.qZA()()(),e.TgZ(49,"div",18)(50,"div",7)(51,"span",44)(52,"span"),e._uU(53,"Optional Attachment 8"),e.qZA()()(),e.TgZ(54,"div",14),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.currentChild=11)}),e.TgZ(55,"emigrate-sh-file-upload",15),e.NdJ("uploadedFile",function(i){e.CHM(n);const o=e.oxw();return e.KtG(o.documentData(i,"MOR-OPT8"))}),e.qZA()()(),e.TgZ(56,"div",18)(57,"div",7)(58,"span",44)(59,"span"),e._uU(60,"Optional Attachment 9"),e.qZA()()(),e.TgZ(61,"div",14),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.currentChild=12)}),e.TgZ(62,"emigrate-sh-file-upload",15),e.NdJ("uploadedFile",function(i){e.CHM(n);const o=e.oxw();return e.KtG(o.documentData(i,"MOR-OPT9"))}),e.qZA()()()()}if(2&r){const n=e.oxw();e.xp6(6),e.Q6J("documentId",4)("maxFileSize",n.maxFileSize),e.xp6(7),e.Q6J("documentId",5)("maxFileSize",n.maxFileSize),e.xp6(7),e.Q6J("documentId",6)("maxFileSize",n.maxFileSize),e.xp6(7),e.Q6J("documentId",7)("maxFileSize",n.maxFileSize),e.xp6(7),e.Q6J("documentId",8)("maxFileSize",n.maxFileSize),e.xp6(7),e.Q6J("documentId",9)("maxFileSize",n.maxFileSize),e.xp6(7),e.Q6J("documentId",10)("maxFileSize",n.maxFileSize),e.xp6(7),e.Q6J("documentId",11)("maxFileSize",n.maxFileSize),e.xp6(7),e.Q6J("documentId",12)("maxFileSize",n.maxFileSize)}}const ee=function(r){return{"emigrate-required":r}};let lt=(()=>{var r;class a extends u.H6{constructor(t,i){super(t),this.sessionQuery=i,this.referenceList=[],this.maxFileSize=p.Xef.MAX_FILE_SIZE_512KB,this.documents=[],this.refNumRequiredFor=["RO_POL","RO_VIP","RO_CBI"],this.getDocument=new e.vpe,this.currentChild=0,this.isAgentDisable=!1,this.isSendDisable=!1,this.isRecieveDisable=!1,this.isAgentVisible=!1,this.isSendVisible=!1,this.isRecieveVisible=!1,this.codeYes=p.Xef.CODE_YES.toString().toUpperCase(),this.codeNo=p.Xef.CODE_NO.toString().toUpperCase()}ngOnInit(){this.loginUsername=this.sessionQuery.user}ngAfterViewInit(){setTimeout(()=>{let t=this.documentFormGroup.getRawValue();this.maxdate=new Date,this.mindate=this.updateGrievanceList.raisedDate?new Date(this.updateGrievanceList.raisedDate):new Date,t.responseAgent===this.codeYes&&this.commonRadioHandler(t.responseAgent,"Agent"),t.responseSendComplaint===this.codeYes&&this.commonRadioHandler(t.responseSendComplaint,"SendComplaint"),t.responseRecComplaint===this.codeYes&&this.commonRadioHandler(t.responseRecComplaint,"ReceiveComplaint")},2e3)}documentData(t,i){if(t&&this.clearMaxSizeFile(t))switch(t.action){case p.Xef.ACTION.ADD:this.documents.push({documentVersionNumber:t.data.id,fileName:t.data.name,filePath:t.data.name,documentExtension:t?.data?.type?.split("/")[1],documentSize:t.data.size,fileContent:t.data.file,documentTypeCode:i,locatorNum:"",date:new Date,createdBy:this.loginUsername?.loginUsername});break;case p.Xef.ACTION.REMOVE:this.documents?.length>0&&this.documents.splice(this.documents.findIndex(o=>o.documentVersionNumber===t.data.id),1)}this.getDocument.emit(this.documents)}clearMaxSizeFile(t){let i=!0;return t&&t?.data?.size>512&&(this.showErrorToast("File size should not be more than 512KB"),this.child.forEach((o,l)=>{o.documentId===this.currentChild&&(console.log(o,l),o.clearFile(),i=!1)})),i}raidoChange(t){this.showAttachments="yes"==t}radioHandler(t,i){this.commonRadioHandler(t.value,i)}commonRadioHandler(t,i){t===this.codeNo&&"Agent"===i?(this.isAgentDisable=!0,this.isAgentVisible=!1,this.documentFormGroup.get("responseAgentDate").clearValidators(),this.documentFormGroup.get("responseAgentDate").updateValueAndValidity(),this.documentFormGroup.get("responseAgentDate").reset()):t===this.codeNo&&"SendComplaint"===i?(this.isSendDisable=!0,this.isSendVisible=!1,this.documentFormGroup.get("responseSendComplaintDate").clearValidators(),this.documentFormGroup.get("responseSendComplaintDate").updateValueAndValidity(),this.documentFormGroup.get("responseSendComplaintDate").reset()):t===this.codeNo&&"ReceiveComplaint"===i?(this.isRecieveDisable=!0,this.isRecieveVisible=!1,this.documentFormGroup.get("responseRecComplaintDate").clearValidators(),this.documentFormGroup.get("responseRecComplaintDate").updateValueAndValidity(),this.documentFormGroup.get("responseRecComplaintDate").reset()):t===this.codeYes&&"Agent"===i?(this.isAgentDisable=!1,this.isAgentVisible=!0,this.documentFormGroup.get("responseAgentDate").setValidators([s.kI.required]),this.documentFormGroup.get("responseAgentDate").updateValueAndValidity()):t===this.codeYes&&"SendComplaint"===i?(this.isSendDisable=!1,this.isSendVisible=!0,this.documentFormGroup.get("responseSendComplaintDate").setValidators([s.kI.required]),this.documentFormGroup.get("responseSendComplaintDate").updateValueAndValidity()):t===this.codeYes&&"ReceiveComplaint"===i&&(this.isRecieveDisable=!1,this.isRecieveVisible=!0,this.documentFormGroup.get("responseRecComplaintDate").setValidators([s.kI.required]),this.documentFormGroup.get("responseRecComplaintDate").updateValueAndValidity())}checkInput(t){var i="charCode"in t?t.charCode:t.keyCode;32!=i&&!(i>64&&i<91)&&!(i>96&&i<123)&&t.preventDefault()}responseDateHandler(t){this.responseDate=t,t&&this.documentFormGroup.get("responseRecComplaint").value===this.codeYes&&(this.documentFormGroup.get("responseRecComplaintDate").setValidators([s.kI.required]),this.documentFormGroup.get("responseRecComplaintDate").updateValueAndValidity(),this.documentFormGroup.get("responseRecComplaintDate").reset())}recieveDateHandler(t){t<this.responseDate?(this.showErrorToast("Please select the received date is equal to or greater than the sent date"),this.documentFormGroup.get("responseRecComplaintDate").setValidators([u.YO.invalidData(!0,"Invalid Date")]),this.documentFormGroup.get("responseRecComplaintDate").updateValueAndValidity()):(this.documentFormGroup.get("responseRecComplaintDate").clearValidators(),this.documentFormGroup.get("responseRecComplaintDate").setValidators([s.kI.required]),this.documentFormGroup.get("responseRecComplaintDate").updateValueAndValidity())}validateRefrenceNumber(){let t=this.documentFormGroup.get("referencetype").value;this.refNumRequiredFor.indexOf(t)>-1?(this.documentFormGroup.markAllAsTouched(),this.documentFormGroup.get("referenceNumber").setValidators([s.kI.required,u.YO.numericValidator()]),this.documentFormGroup.get("referenceNumber").updateValueAndValidity(),this.documentFormGroup.get("referenceDetail").setValidators([s.kI.required,u.YO.alphaNumericValidatorWithSpace()]),this.documentFormGroup.get("referenceDetail").updateValueAndValidity()):(this.documentFormGroup.get("referenceNumber").clearValidators(),this.documentFormGroup.get("referenceNumber").setValidators([u.YO.numericValidator()]),this.documentFormGroup.get("referenceNumber").updateValueAndValidity(),this.documentFormGroup.get("referenceDetail").clearValidators(),this.documentFormGroup.get("referenceDetail").updateValueAndValidity())}}return(r=a).\u0275fac=function(t){return new(t||r)(e.Y36(_.ez),e.Y36(p.U_o))},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-upload-doc"]],viewQuery:function(t,i){if(1&t&&e.Gf(u.Yr,5),2&t){let o;e.iGM(o=e.CRH())&&(i.child=o)}},inputs:{updateGrievanceList:"updateGrievanceList",referenceList:"referenceList",documentFormGroup:"documentFormGroup"},outputs:{getDocument:"getDocument"},features:[e.qOj],decls:128,vars:24,consts:[[1,"container"],[1,"form"],[3,"formGroup"],[1,"row"],[1,"col-md-12"],[1,"p-0","mb-4","file-upload-listing"],[1,"row","mb-3","d-flex","align-items-center"],[1,"col-md-5"],[1,"col-md-3"],["formControlName","responseAgent","value","Y",1,"mr-2",3,"onClick"],["for","1",1,"mr-5","mb-0"],["formControlName","responseAgent","value","N",1,"mr-2",3,"onClick"],["for","2",1,"mr-5","mb-0"],["class","col-md-4",4,"ngIf"],[1,"col-md-7",3,"click"],[3,"documentId","maxFileSize","uploadedFile"],["formControlName","responseSendComplaint","value","Y",1,"mr-2",3,"onClick"],["formControlName","responseSendComplaint","value","N",1,"mr-2",3,"onClick"],[1,"row","mb-3","align-items-center"],[1,"col-md-7","align-items-center",3,"click"],["formControlName","responseRecComplaint","value","Y",1,"mr-2",3,"onClick"],["formControlName","responseRecComplaint","value","N",1,"mr-2",3,"onClick"],[1,"col-md-7"],["appendTo","body","inputId","demandExpiryDate","formControlName","receiveDate",3,"dateFormat","maxDate","minDate","readonlyInput"],["id","assignedTo","placeholder","Select an Reference","optionLabel","name","optionValue","shortName","EmigrateShDropdown","","formControlName","referencetype",3,"options","onChange"],[3,"ngClass"],["for","referenceNumber","inputId","referenceNumber",1,"block",3,"inputFormControl"],["maxlength","9","id","referenceNumber","type","text","pInputText","","formControlName","referenceNumber","placeholder","Reference Number"],["for","referenceDetail","inputId","referenceDetail",1,"block",3,"inputFormControl"],["maxlength","200","id","referenceDetail","type","text","pInputText","","formControlName","referenceDetail","placeholder","Reference Details"],["formControlName","optionalAttachment","value","Y",1,"mr-2",3,"click"],["formControlName","optionalAttachment","value","N",1,"mr-2",3,"click"],[4,"ngIf"],[1,"row","d-flex","mb-3","align-items-center"],["id","referenceDetail","type","text","maxlength","1000","pInputText","","formControlName","satisfiedResponse",3,"keypress"],["formControlName","resolved","value","Y",1,"mr-2"],["formControlName","resolved","value","N",1,"mr-2"],[1,"col-md-4"],["for","demandExpiryDate","inputId","demandExpiryDate",1,"block",3,"inputFormControl"],["appendTo","body","inputId","demandExpiryDate","formControlName","responseAgentDate",3,"dateFormat","disabled","readonlyInput","maxDate","minDate"],["for","responseSendComplaintDate","inputId","responseSendComplaintDate",1,"block",3,"inputFormControl"],["appendTo","body","inputId","responseSendComplaintDate","formControlName","responseSendComplaintDate",3,"dateFormat","maxDate","minDate","readonlyInput","disabled","onSelect"],["for","responseRecComplaintDate","inputId","responseRecComplaintDate",1,"block",3,"inputFormControl"],["appendTo","body","inputId","responseRecComplaintDate","formControlName","responseRecComplaintDate",3,"dateFormat","maxDate","minDate","readonlyInput","disabled","onSelect"],[1,"mr-3"],[1,"row","mb-3"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"span"),e._uU(9,"Response received from Recruiting Agent/Employer/Project Exporter By Post "),e.qZA()(),e.TgZ(10,"div",8)(11,"div")(12,"span")(13,"p-radioButton",9),e.NdJ("onClick",function(l){return i.radioHandler(l,"Agent")}),e.qZA(),e.TgZ(14,"label",10),e._uU(15,"Yes"),e.qZA()(),e.TgZ(16,"span")(17,"p-radioButton",11),e.NdJ("onClick",function(l){return i.radioHandler(l,"Agent")}),e.qZA(),e.TgZ(18,"label",12),e._uU(19,"No"),e.qZA()()()(),e.YNc(20,rt,3,6,"div",13),e.qZA(),e.TgZ(21,"div",6)(22,"div",7)(23,"span"),e._uU(24,"Copy of Response "),e.qZA()(),e.TgZ(25,"div",14),e.NdJ("click",function(){return i.currentChild=1}),e.TgZ(26,"emigrate-sh-file-upload",15),e.NdJ("uploadedFile",function(l){return i.documentData(l,"CP-RAFEPE")}),e.qZA()()(),e.TgZ(27,"div",6)(28,"div",7)(29,"span"),e._uU(30,"Response sent to Complainant By Post "),e.qZA()(),e.TgZ(31,"div",8)(32,"div")(33,"span")(34,"p-radioButton",16),e.NdJ("onClick",function(l){return i.radioHandler(l,"SendComplaint")}),e.qZA(),e.TgZ(35,"label",10),e._uU(36,"Yes"),e.qZA()(),e.TgZ(37,"span")(38,"p-radioButton",17),e.NdJ("onClick",function(l){return i.radioHandler(l,"SendComplaint")}),e.qZA(),e.TgZ(39,"label",12),e._uU(40,"No"),e.qZA()()()(),e.YNc(41,ot,3,6,"div",13),e.qZA(),e.TgZ(42,"div",18)(43,"div",7)(44,"span"),e._uU(45,"Copy of Response "),e.qZA()(),e.TgZ(46,"div",19),e.NdJ("click",function(){return i.currentChild=2}),e.TgZ(47,"emigrate-sh-file-upload",15),e.NdJ("uploadedFile",function(l){return i.documentData(l,"CP-RSC")}),e.qZA()()(),e.TgZ(48,"div",6)(49,"div",7)(50,"span"),e._uU(51,"Response received from Complainant By Post "),e.qZA()(),e.TgZ(52,"div",8)(53,"div")(54,"span")(55,"p-radioButton",20),e.NdJ("onClick",function(l){return i.radioHandler(l,"ReceiveComplaint")}),e.qZA(),e.TgZ(56,"label",10),e._uU(57,"Yes"),e.qZA()(),e.TgZ(58,"span")(59,"p-radioButton",21),e.NdJ("onClick",function(l){return i.radioHandler(l,"ReceiveComplaint")}),e.qZA(),e.TgZ(60,"label",12),e._uU(61,"No"),e.qZA()()()(),e.YNc(62,at,3,6,"div",13),e.qZA(),e.TgZ(63,"div",6)(64,"div",7)(65,"span"),e._uU(66,"Copy of Response "),e.qZA()(),e.TgZ(67,"div",14),e.NdJ("click",function(){return i.currentChild=3}),e.TgZ(68,"emigrate-sh-file-upload",15),e.NdJ("uploadedFile",function(l){return i.documentData(l,"CP-RRC")}),e.qZA()()(),e.TgZ(69,"div",6)(70,"div",7)(71,"span"),e._uU(72,"Grievance Received Date "),e.qZA()(),e.TgZ(73,"div",22),e._UZ(74,"p-calendar",23),e.qZA()(),e.TgZ(75,"div",6)(76,"div",7)(77,"span"),e._uU(78,"Reference Of "),e.qZA()(),e.TgZ(79,"div",22)(80,"p-dropdown",24),e.NdJ("onChange",function(){return i.validateRefrenceNumber()}),e.qZA()()(),e.TgZ(81,"div",6)(82,"div",7)(83,"span",25),e._uU(84,"Reference Number "),e.qZA()(),e.TgZ(85,"div",22)(86,"emigrate-sh-html-input",26),e._UZ(87,"input",27),e.qZA()()(),e.TgZ(88,"div",6)(89,"div",7)(90,"span",25),e._uU(91,"Reference Details "),e.qZA()(),e.TgZ(92,"div",22)(93,"emigrate-sh-html-input",28),e._UZ(94,"input",29),e.qZA()()(),e.TgZ(95,"div",6)(96,"div",7)(97,"span"),e._uU(98,"More Optional Attachments?"),e.qZA()(),e.TgZ(99,"div",22)(100,"span")(101,"p-radioButton",30),e.NdJ("click",function(){return i.raidoChange("yes")}),e.qZA(),e.TgZ(102,"label",10),e._uU(103,"Yes"),e.qZA()(),e.TgZ(104,"span")(105,"p-radioButton",31),e.NdJ("click",function(){return i.raidoChange("no")}),e.qZA(),e.TgZ(106,"label",12),e._uU(107,"No"),e.qZA()()()(),e.YNc(108,st,63,18,"div",32),e.TgZ(109,"div",33)(110,"div",7)(111,"span"),e._uU(112,"Whether Complainant is Satisfied by Response? "),e.qZA()(),e.TgZ(113,"div",22)(114,"input",34),e.NdJ("keypress",function(l){return i.checkInput(l)}),e.qZA()()(),e.TgZ(115,"div",33)(116,"div",7)(117,"span"),e._uU(118,"Grievance Resolved "),e.qZA()(),e.TgZ(119,"div",22)(120,"span"),e._UZ(121,"p-radioButton",35),e.TgZ(122,"label",10),e._uU(123,"Yes"),e.qZA()(),e.TgZ(124,"span"),e._UZ(125,"p-radioButton",36),e.TgZ(126,"label",12),e._uU(127,"No"),e.qZA()()()()()()()()()()),2&t&&(e.xp6(2),e.Q6J("formGroup",i.documentFormGroup),e.xp6(18),e.Q6J("ngIf",i.isAgentVisible),e.xp6(6),e.Q6J("documentId",1)("maxFileSize",i.maxFileSize),e.xp6(15),e.Q6J("ngIf",i.isSendVisible),e.xp6(6),e.Q6J("documentId",2)("maxFileSize",i.maxFileSize),e.xp6(15),e.Q6J("ngIf",i.isRecieveVisible),e.xp6(6),e.Q6J("documentId",3)("maxFileSize",i.maxFileSize),e.xp6(6),e.Q6J("dateFormat",i.defaultDateFormat)("maxDate",i.maxdate)("minDate",i.mindate)("readonlyInput",!0),e.xp6(6),e.Q6J("options",i.referenceList),e.xp6(3),e.Q6J("ngClass",e.VKq(20,ee,i.refNumRequiredFor.indexOf(i.documentFormGroup.get("referencetype").value)>-1)),e.xp6(3),e.Q6J("inputFormControl",i.documentFormGroup.controls.referenceNumber),e.xp6(4),e.Q6J("ngClass",e.VKq(22,ee,i.refNumRequiredFor.indexOf(i.documentFormGroup.get("referencetype").value)>-1)),e.xp6(3),e.Q6J("inputFormControl",i.documentFormGroup.controls.referenceDetail),e.xp6(15),e.Q6J("ngIf",i.showAttachments))},dependencies:[c.mk,c.O5,u.KR,u.Yr,u.lC,R.Lt,x.o,$.EU,H.f,s._Y,s.Fj,s.JJ,s.JL,s.nD,s.sg,s.u]}),a})();function ct(r,a){1&r&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Remarks"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Date"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Given By"),e.qZA()())}function pt(r,a){if(1&r&&(e.TgZ(0,"tr")(1,"td",12),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td",13),e._uU(7),e.qZA()()),2&r){const n=a.$implicit;e.xp6(2),e.Oqu(null==n?null:n.remark),e.xp6(2),e.Oqu(e.xi3(5,3,null==n?null:n.createdDttm,"dd-MM-YYYY hh:mm:ss a")),e.xp6(3),e.Oqu(null==n?null:n.createdBy)}}function ut(r,a){1&r&&(e.TgZ(0,"div",14)(1,"span",15),e._uU(2," This value is required "),e.qZA()())}let dt=(()=>{var r;class a{constructor(){this.updateGrievanceList={}}}return(r=a).\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-update-remark"]],inputs:{updateGrievanceList:"updateGrievanceList",documentFormGroup:"documentFormGroup",isSaved:"isSaved"},decls:15,vars:4,consts:[[1,""],[3,"value"],["myTab",""],["pTemplate","header"],["pTemplate","body"],[3,"formGroup"],[1,"row"],[1,"col-md-12"],[1,"emigrate-required"],[1,"col-md-12","form"],["rows","5","cols","30","maxlength","1000","pInputTextarea","","placeholder","Enter your remarks","formControlName","remark","required","","id","remarkArea",3,"readonly"],["class","emigrate-input-messages",4,"ngIf"],["width","60%"],["width","20%"],[1,"emigrate-input-messages"],[1,"emigrate-message"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"p-table",1,2),e.YNc(3,ct,7,0,"ng-template",3),e.YNc(4,pt,8,6,"ng-template",4),e.qZA()(),e.TgZ(5,"div",0)(6,"form",5)(7,"div",6)(8,"div",7)(9,"p"),e._uU(10,"Remarks "),e._UZ(11,"span",8),e.qZA()(),e.TgZ(12,"div",9),e._UZ(13,"textarea",10),e.YNc(14,ut,3,0,"div",11),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("value",null==i.updateGrievanceList?null:i.updateGrievanceList.grievanceRemarksList),e.xp6(5),e.Q6J("formGroup",i.documentFormGroup),e.xp6(7),e.Q6J("readonly",i.isSaved),e.xp6(1),e.Q6J("ngIf",i.documentFormGroup.controls.remark.touched&&i.documentFormGroup.controls.remark.errors))},dependencies:[c.O5,_.jx,d.iA,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.nD,P.g,s.sg,s.u,c.uU],styles:["textarea[_ngcontent-%COMP%]{resize:none}"]}),a})(),mt=(()=>{var r;class a{constructor(){this.closerReasonList=[],this.defaultDateFormat=p.Xef.DEFAULT_DATE_FORMAT}ngAfterViewInit(){setTimeout(()=>{this.maxdate=new Date,this.mindate=this.updateGrievanceList.raisedDate?new Date(this.updateGrievanceList.raisedDate):new Date},500)}}return(r=a).\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-close-grievance"]],inputs:{closerReasonList:"closerReasonList",closerFormGroup:"closerFormGroup",updateGrievanceList:"updateGrievanceList"},decls:13,vars:8,consts:[[3,"formGroup"],[1,"table-border","p-0"],[3,"pageSubTitle"],[1,"p-3"],[1,"row","my-3"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","reasonForClosure","inputLabel","Reason for Closure","inputId","reasonForClosure",1,"block",3,"inputFormControl"],["id","reasonForClosure","placeholder","Select an option","optionLabel","name","optionValue","name","EmigrateShDropdown","","formControlName","reason",3,"options"],["for","1","inputLabel","Grievance Resolved Date","inputId","grievanceResolveDate",1,"block",3,"inputFormControl"],["appendTo","body","inputId","grievanceResolveDate","formControlName","resolvedDate",3,"dateFormat","maxDate","minDate"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0)(1,"div",1),e._UZ(2,"emigrate-sh-page-sub-title",2),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"emigrate-sh-html-input",7),e._UZ(8,"p-dropdown",8),e.qZA()()(),e.TgZ(9,"div",5)(10,"div",6)(11,"emigrate-sh-html-input",9),e._UZ(12,"p-calendar",10),e.qZA()()()()()()()),2&t&&(e.Q6J("formGroup",i.closerFormGroup),e.xp6(2),e.Q6J("pageSubTitle","Reason for Closure"),e.xp6(5),e.Q6J("inputFormControl",i.closerFormGroup.controls.reason),e.xp6(1),e.Q6J("options",i.closerReasonList),e.xp6(3),e.Q6J("inputFormControl",i.closerFormGroup.controls.resolvedDate),e.xp6(1),e.Q6J("dateFormat",i.defaultDateFormat)("maxDate",i.maxdate)("minDate",i.mindate))},dependencies:[u.KR,u.jZ,u.lC,R.Lt,H.f,s._Y,s.JJ,s.JL,s.sg,s.u]}),a})();function gt(r,a){1&r&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"S. No."),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Application Reference Number"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Correspondence with RA/FE ID"),e.qZA()())}function vt(r,a){if(1&r){const n=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"span",9),e.NdJ("click",function(){const o=e.CHM(n).$implicit,l=e.oxw(2);return e.KtG(l.showDetail(o))}),e._uU(5),e.qZA()(),e.TgZ(6,"td"),e._uU(7),e.qZA()()}if(2&r){const n=a.$implicit,t=a.rowIndex;e.xp6(2),e.Oqu(t+1),e.xp6(3),e.Oqu(null==n?null:n.arnNumber),e.xp6(2),e.Oqu(null==n?null:n.correspondenceOwnerID)}}function ht(r,a){if(1&r&&(e.ynx(0),e.TgZ(1,"p-table",5,6),e.YNc(3,gt,7,0,"ng-template",7),e.YNc(4,vt,8,3,"ng-template",8),e.qZA(),e.BQk()),2&r){const n=e.oxw();e.xp6(1),e.Q6J("value",n.viewCorresPondanceList)}}function _t(r,a){1&r&&(e.TgZ(0,"p",10),e._uU(1,"NO CORRESPONDENCE AVAILABLE"),e.qZA())}function ft(r,a){if(1&r&&(e.TgZ(0,"div",11)(1,"div",12),e._UZ(2,"emigrate-sh-page-sub-title",13),e.TgZ(3,"div",14)(4,"div",15)(5,"div",16)(6,"div",17)(7,"div",18)(8,"p"),e._uU(9,"Subject"),e.qZA()(),e.TgZ(10,"div",19),e._UZ(11,"input",20),e.qZA()()(),e.TgZ(12,"div",21)(13,"div",17)(14,"div",18)(15,"p"),e._uU(16,"Message Sent"),e.qZA()(),e.TgZ(17,"div",19),e._UZ(18,"textarea",22),e.qZA()()(),e.TgZ(19,"div",21)(20,"div",17)(21,"div",18)(22,"p"),e._uU(23,"Message Received"),e.qZA()(),e.TgZ(24,"div",19),e._UZ(25,"textarea",22),e.qZA()()()()()()()),2&r){const n=e.oxw();e.xp6(2),e.Q6J("pageSubTitle","Correspondence Details"),e.xp6(9),e.Q6J("value",null==n.viewCorrespondanceDetail?null:n.viewCorrespondanceDetail.correspondenceSubject),e.xp6(7),e.Q6J("value",null==n.viewCorrespondanceDetail?null:n.viewCorrespondanceDetail.correspondenceRequestText),e.xp6(7),e.Q6J("value",null==n.viewCorrespondanceDetail?null:n.viewCorrespondanceDetail.correspondenceResponseText)}}let Ct=(()=>{var r;class a{constructor(){this.viewCorresPondanceList=[],this.viewCorrespondanceDetail={},this.viewCorrespondanceById=new e.vpe,this.iscorrospendanceDetail=!1}showDetail(t){this.iscorrospendanceDetail=!this.iscorrospendanceDetail,this.viewCorrespondanceById.emit({arn:t?.arnNumber,id:t?.correspondenceId})}}return(r=a).\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-view-correspondance"]],inputs:{viewCorresPondanceList:"viewCorresPondanceList",viewCorrespondanceDetail:"viewCorrespondanceDetail"},outputs:{viewCorrespondanceById:"viewCorrespondanceById"},decls:6,vars:3,consts:[[1,"content"],[1,"process-table","table-border"],[4,"ngIf","ngIfElse"],["Other",""],["class","content mt-3",4,"ngIf"],[3,"value"],["myTab",""],["pTemplate","header"],["pTemplate","body"],[1,"info-text","cursor",3,"click"],[1,"mb-1"],[1,"content","mt-3"],[1,"border"],[3,"pageSubTitle"],[1,"p-3"],[1,"row","my-3"],[1,"col-md-12","col-sm-6"],[1,"row","mb-3","d-lg-flex","align-items-center"],[1,"col-md-4"],[1,"col-md-8"],["id","subject","type","text","pInputText","","readonly","",1,"w-100",3,"value"],[1,"col-md-12","mb-2","col-sm-6"],["rows","3","cols","20","pInputTextarea","","readonly","",3,"value"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,ht,5,1,"ng-container",2),e.YNc(3,_t,2,0,"ng-template",null,3,e.W1O),e.qZA()(),e.YNc(5,ft,26,4,"div",4)),2&t){const o=e.MAs(4);e.xp6(2),e.Q6J("ngIf",(null==i.viewCorresPondanceList?null:i.viewCorresPondanceList.length)>0)("ngIfElse",o),e.xp6(3),e.Q6J("ngIf",i.iscorrospendanceDetail)}},dependencies:[c.O5,u.jZ,_.jx,x.o,d.iA,P.g],styles:["textarea[_ngcontent-%COMP%]{resize:none}"]}),a})();function Tt(r,a){if(1&r){const n=e.EpF();e.TgZ(0,"div")(1,"form")(2,"div",3)(3,"div",4),e._UZ(4,"emigrate-sh-page-title",5),e.qZA(),e.TgZ(5,"div",6),e._UZ(6,"emigrate-sh-page-instructions",7),e.qZA(),e.TgZ(7,"div",8)(8,"div",9)(9,"div",10),e._UZ(10,"emigrate-sh-page-sub-title",11),e.TgZ(11,"div",12)(12,"div",6)(13,"div",13)(14,"div",14)(15,"emigrate-sh-html-input",15),e._UZ(16,"input",16),e.qZA()()()()()()(),e.TgZ(17,"div",6)(18,"div",17)(19,"div",18)(20,"button",19),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.getGrievance())}),e.qZA()()()()()()()()}if(2&r){const n=e.oxw();e.xp6(4),e.Q6J("pageTitle","Claim Grievance Work item by ARN"),e.xp6(2),e.Q6J("instructionsText",n.pageInstructionText),e.xp6(4),e.Q6J("pageSubTitle","Claim Grievance Work Item "),e.xp6(5),e.Q6J("inputFormControl",n.claimGrievanceWorkForm.controls.grievanceNumber),e.xp6(1),e.Q6J("formControl",n.claimGrievanceWorkForm.controls.grievanceNumber)}}function bt(r,a){if(1&r){const n=e.EpF();e.TgZ(0,"button",40),e.NdJ("click",function(){e.CHM(n);const i=e.oxw(3);return e.KtG(i.closureGrievance())}),e.qZA()}}function Zt(r,a){if(1&r){const n=e.EpF();e.ynx(0),e._UZ(1,"emigrate-sh-page-sub-title",11),e.TgZ(2,"div",22)(3,"div",23)(4,"emigrate-update-gr",24),e.NdJ("getLocation",function(i){e.CHM(n);const o=e.oxw(2);return e.KtG(o.getLocation(i))})("getUser",function(i){e.CHM(n);const o=e.oxw(2);return e.KtG(o.getUser(i))}),e.qZA()(),e.TgZ(5,"div",25)(6,"div",18)(7,"button",26),e.NdJ("click",function(){e.CHM(n);const i=e.oxw(2);return e.KtG(!i.forwarded&&i.forward())}),e.qZA()()()(),e._UZ(8,"emigrate-sh-page-sub-title",11),e.TgZ(9,"div",23)(10,"div",9)(11,"emigrate-upload-doc",27),e.NdJ("getDocument",function(i){e.CHM(n);const o=e.oxw(2);return e.KtG(o.getDocument(i))}),e.qZA()()(),e.TgZ(12,"emigrate-sh-page-sub-title",11)(13,"span"),e._uU(14,"*"),e.qZA()(),e.TgZ(15,"div",23)(16,"div",9),e._UZ(17,"emigrate-update-remark",28),e.qZA()(),e.TgZ(18,"div",29)(19,"div",17)(20,"div",30)(21,"button",31),e.NdJ("click",function(){e.CHM(n);const i=e.oxw(2);return e.KtG(i.getDocumentData())}),e.qZA(),e.TgZ(22,"button",32),e.NdJ("click",function(){e.CHM(n);const i=e.oxw(2);return e.KtG(i.getDocumentHistory())}),e.qZA(),e.YNc(23,bt,1,0,"button",33),e.TgZ(24,"button",34),e.NdJ("click",function(){e.CHM(n);const i=e.oxw(2);return e.KtG(i.saveClaim())}),e.qZA(),e.TgZ(25,"button",35),e.NdJ("click",function(){e.CHM(n);const i=e.oxw(2);return e.KtG(i.cancel())})("mousedown",function(){e.CHM(n);const i=e.oxw(2);return e.KtG(i.cancel())}),e.qZA(),e.TgZ(26,"button",36),e.NdJ("click",function(){e.CHM(n);const i=e.oxw(2);return e.KtG((null==i.updateGrievanceList?null:i.updateGrievanceList.grievanceAgentList)&&(null==i.updateGrievanceList||null==i.updateGrievanceList.grievanceAgentList?null:i.updateGrievanceList.grievanceAgentList.length)>0&&i.viewCorrespndance())}),e.qZA(),e.TgZ(27,"button",37),e.NdJ("click",function(){e.CHM(n);const i=e.oxw(2);return e.KtG((null==i.updateGrievanceList?null:i.updateGrievanceList.grievanceAgentList)&&(null==i.updateGrievanceList||null==i.updateGrievanceList.grievanceAgentList?null:i.updateGrievanceList.grievanceAgentList.length)>0&&i.sendCorrespndance())}),e.qZA()()(),e.TgZ(28,"div",38)(29,"button",39),e.NdJ("click",function(){e.CHM(n);const i=e.oxw(2);return e.KtG(i.onHold())}),e.qZA()()(),e.BQk()}if(2&r){const n=e.oxw(2);e.xp6(1),e.Q6J("pageSubTitle","Grievance Details"),e.xp6(3),e.Q6J("updateGrievanceList",n.updateGrievanceList)("officeList",n.officeList)("officeLocation",n.officeLocation)("officeUserList",n.officeUserList)("grievanceDetailForm",n.grievanceDetailForm),e.xp6(3),e.Q6J("disabled",n.forwarded),e.xp6(1),e.Q6J("pageSubTitle","Update"),e.xp6(3),e.Q6J("updateGrievanceList",n.updateGrievanceList)("referenceList",n.referenceList)("documentFormGroup",n.documentFormGroup),e.xp6(1),e.Q6J("pageSubTitle","Remarks"),e.xp6(5),e.Q6J("updateGrievanceList",n.updateGrievanceList)("documentFormGroup",n.documentFormGroup)("isSaved",n.isSaved),e.xp6(6),e.Q6J("ngIf",!n.roleRictrictionForClose),e.xp6(3),e.Q6J("disabled",!n.isProjectId),e.xp6(1),e.Q6J("disabled",!n.isProjectId)}}function At(r,a){if(1&r&&(e.TgZ(0,"div",20)(1,"div",4),e._UZ(2,"emigrate-sh-page-title",5),e.qZA(),e.TgZ(3,"div",6),e._UZ(4,"emigrate-sh-page-instructions",7),e.qZA(),e._UZ(5,"emigrate-sh-page-sub-title",11),e.TgZ(6,"div",9),e._UZ(7,"emigrate-process-grievance",21),e.qZA(),e.YNc(8,Zt,30,18,"ng-container",1),e.qZA()),2&r){const n=e.oxw();e.xp6(2),e.Q6J("pageTitle","Work Item for Processing"),e.xp6(2),e.Q6J("instructionsText",n.pageInstructionText),e.xp6(1),e.Q6J("pageSubTitle","Process Grievance"),e.xp6(2),e.Q6J("updateGrievanceList",n.updateGrievanceList),e.xp6(1),e.Q6J("ngIf",n.updateGrievanceList)}}function Gt(r,a){if(1&r){const n=e.EpF();e.TgZ(0,"div")(1,"form")(2,"div",3)(3,"div",4),e._UZ(4,"emigrate-sh-page-title",5),e.qZA(),e.TgZ(5,"div",8)(6,"div",9),e._UZ(7,"emigrate-close-grievance",41),e.qZA(),e.TgZ(8,"div",6)(9,"div",17)(10,"div",18)(11,"button",42),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.closeGrievanceSubmit())}),e.qZA(),e.TgZ(12,"button",43),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.back())}),e.qZA()()()()()()()()}if(2&r){const n=e.oxw();e.xp6(4),e.Q6J("pageTitle","Reason for Closure of Grievance"),e.xp6(3),e.Q6J("closerReasonList",n.closerReasonList)("closerFormGroup",n.closerFormGroup)("updateGrievanceList",n.updateGrievanceList)}}function St(r,a){if(1&r){const n=e.EpF();e.TgZ(0,"div")(1,"div",3)(2,"div",4),e._UZ(3,"emigrate-sh-page-title",5),e.qZA(),e.TgZ(4,"div",44),e._UZ(5,"emigrate-sh-page-sub-title",11),e.TgZ(6,"div",45)(7,"span")(8,"b"),e._uU(9),e.qZA()()()(),e.TgZ(10,"div",6)(11,"div",17)(12,"div",18)(13,"button",46),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.OnCloseClick())}),e.qZA()()()()()()}if(2&r){const n=e.oxw();e.xp6(3),e.Q6J("pageTitle","Reason for Closure of Grievance"),e.xp6(2),e.Q6J("pageSubTitle","Note"),e.xp6(4),e.hij("Grievance ","GR"+(null==n.updateGrievanceList?null:n.updateGrievanceList.grievanceArn)," Closed Successfully")}}function Dt(r,a){if(1&r){const n=e.EpF();e.TgZ(0,"div")(1,"form")(2,"div",3)(3,"div",4),e._UZ(4,"emigrate-sh-page-title",5),e.qZA(),e.TgZ(5,"div",8),e._UZ(6,"emigrate-sh-page-sub-title",11),e.TgZ(7,"emigrate-view-correspondance",47),e.NdJ("viewCorrespondanceById",function(i){e.CHM(n);const o=e.oxw();return e.KtG(o.viewCorrespondanceById(i))}),e.qZA(),e.TgZ(8,"div",6)(9,"div",17)(10,"div",18)(11,"button",46),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.closeView())}),e.qZA()()()()()()()()}if(2&r){const n=e.oxw();e.xp6(4),e.Q6J("pageTitle","View Correspondence"),e.xp6(2),e.Q6J("pageSubTitle","Correspondence"),e.xp6(1),e.Q6J("viewCorresPondanceList",n.viewCorresPondanceList)("viewCorrespondanceDetail",n.viewCorrespondanceDetail)}}let te=(()=>{var r;class a extends u.H6{constructor(t,i,o,l,m,C,S,M,E,B,K){super(i),this.router=t,this.helperService=o,this._claimGrievanceService=l,this.dialogService=m,this._formBuilder=C,this._activatedRoute=S,this.sessionQuery=M,this.uiService=E,this.renderer=B,this.datePipe=K,this.user=!0,this.submit=!1,this.isUpdateGrievance=!0,this.isUpdateGrievanceList=!1,this.isGrievanceClousre=!1,this.updateGrievanceList=[],this.updateGrievanceData=[],this.updateGrievanceDataDoc=[],this.updateGrievanceDataRemark=[],this.closeGrievance=[],this.isGrievanceClousreSubmit=!1,this.pageInstructionText=p.Xef.PAGE_INSTRUCTION_TEXT,this.officeList=[{label:"INDIAN MISSION",value:"IM"},{label:"PGOE",value:"PGOE"},{label:"POE",value:"POE"},{label:"STATE NODAL OFFICER",value:"STNO"}],this.officeLocation=[],this.referenceList=[],this.isViewCorrespondance=!1,this.isSaved=!1,this.forwarded=!1,this.isProjectId=!1,this.roleRictrictionForClose=!1,this.grievanceDetailForm=this._formBuilder.group({passportType:[""],office:[""],officeLocation:[""],officeLocatedUser:["",[s.kI.required]]}),this.documentFormGroup=this._formBuilder.group({responseAgent:[""],responseAgentDate:[""],responseSendComplaint:[""],responseSendComplaintDate:[""],responseRecComplaint:[""],responseRecComplaintDate:[""],receiveDate:[""],referenceNumber:["",[u.YO.numericValidator()]],referenceDetail:["",[u.YO.alphaNumericValidatorWithSpace()]],referencetype:[""],optionalAttachment:[""],satisfiedResponse:[""],resolved:[""],remark:["",[s.kI.required]]}),this.closerFormGroup=this._formBuilder.group({reason:["",[s.kI.required]],resolvedDate:["",[s.kI.required]]})}ngOnInit(){this.loginUsername=this.sessionQuery.user,this.initForm(),this.resetPageState(),this.arnNumber=this._activatedRoute.snapshot.paramMap.get("arn"),this.arnNumber&&(this.user=!1,this.isUpdateGrievanceList=!0,this.getGrievance())}initForm(){this.claimGrievanceWorkForm=this.helperService.claimGrievanceForm(!1),this.claimGrievanceWorkForm.get("grievanceNumber").setValidators([u.YO.minLenValidator(6,"Min length should be 6"),u.YO.alphaNumericValidator()])}resetPageState(){this.loginUsername.role===p.Xef.ROLE.POE_EXECUTIVE||this.loginUsername.role===p.Xef.ROLE.EMBASSY_CONSULATE_EXECUTIVE||this.loginUsername.role===p.Xef.ROLE.PGOE_OFF||this.loginUsername.role===p.Xef.ROLE.PGOE_EXE?(this.roleRictrictionForClose=!0,this.documentFormGroup.get("remark").clearValidators(),this.documentFormGroup.get("remark").updateValueAndValidity()):(this.roleRictrictionForClose=!1,this.documentFormGroup.get("remark").setValidators([s.kI.required]),this.documentFormGroup.get("remark").updateValueAndValidity())}getGrievance(){let t;if(this.claimGrievanceWorkForm.markAllAsTouched(),this.arnNumber)t=this.arnNumber,this.uiService.showSpinner(),this._claimGrievanceService.validateArn(t).subscribe(i=>{i.status.toLowerCase()===p.Xef.SUCCESS?(this.updateGrievanceList=i?.data?.arn||null,this.updateGrievanceList?.passportType&&(this.grievanceDetailForm.get("passportType").setValue(this.updateGrievanceList.passportType),this.grievanceDetailForm.get("passportType").disable()),this.updateGrievanceList?.grievanceAgentList?.length>0&&(this.isProjectId=this.updateGrievanceList?.grievanceAgentList.some(o=>o.partnerId)),this.uiService.hideSpinner(),this.showSuccessToast(i.message,"Update Claim"),this.getReferenceType(),this.getCloserReason(),this.patchFormData(this.updateGrievanceList),this.user=!1,this.isUpdateGrievanceList=!0):(this.updateGrievanceList=null,this.uiService.hideSpinner(),this.showErrorToast(i.message,"Update Claim"))},i=>{this.updateGrievanceList=null,this.router.navigateByUrl("admin/grievance/claim-grievance-pbsk"),this.uiService.hideSpinner(),this.showErrorToast(i,"Update Claim")});else{if(t=this.claimGrievanceWorkForm.value.grievanceNumber,!this.claimGrievanceWorkForm.valid)return void this.showErrorToast("Please enter the arn number");this.uiService.showSpinner(),this._claimGrievanceService.validateArn(t).subscribe(i=>{i.status.toLowerCase()===p.Xef.SUCCESS?(this.updateGrievanceList=i?.data?.arn,this.updateGrievanceList?.grievanceAgentList?.length>0&&(this.isProjectId=this.updateGrievanceList?.grievanceAgentList.some(o=>o.partnerId)),this.uiService.hideSpinner(),this.showSuccessToast(i.message,"Update Claim"),this.getReferenceType(),this.getCloserReason(),this.patchFormData(this.updateGrievanceList),this.user=!1,this.isUpdateGrievanceList=!0):(this.uiService.hideSpinner(),this.showErrorToast(i.message,"Update Claim"))},i=>{this.user=!0,this.isUpdateGrievanceList=!1,this.uiService.hideSpinner(),this.showErrorToast(i,"Update Grievance")})}}patchFormData(t){this.documentFormGroup.patchValue({responseAgent:t&&t.responseRecievedFromPartner?t.responseRecievedFromPartner:"",responseAgentDate:t&&t.responseRecievedFromPartnerDate?new Date(t.responseRecievedFromPartnerDate):"",responseSendComplaint:t&&t.responseSentToComplainant?t.responseSentToComplainant:"",responseSendComplaintDate:t&&t.responseSentToComplainantDate?new Date(t.responseSentToComplainantDate):"",responseRecComplaint:t&&t.responseRecievedFromComplainant?t.responseRecievedFromComplainant:"",responseRecComplaintDate:t&&t.responseRecievedFromComplainantDate?new Date(t.responseRecievedFromComplainantDate):"",receiveDate:t&&t.receivingDate?new Date(t.receivingDate):"",referenceNumber:t&&t.referenceNumber?t.referenceNumber:"",referenceDetail:t&&t.referenceDetails?t.referenceDetails:"",referencetype:t&&t.referenceOf?t.referenceOf:"",optionalAttachment:t&&t.optionalAttachments?t.optionalAttachments:"",satisfiedResponse:t&&t.complainantResponseSatisfied?t.complainantResponseSatisfied:"",resolved:t&&t.grievanceResolved?t.grievanceResolved:""})}getLocation(t){this.uiService.showSpinner(),this.officeLocation=[],this._claimGrievanceService.getLocation(t).subscribe(i=>{this.uiService.hideSpinner(),i.status.toLowerCase()===p.Xef.SUCCESS&&(this.officeLocation=i?.data,this.officeLocation&&(this.officeLocation=this.officeLocation.map(o=>({label:o.name,value:o.id}))))},i=>{this.uiService.hideSpinner(),this.showErrorToast(i,"Update Grievance")})}getUser(t){this.uiService.showSpinner(),this._claimGrievanceService.getUser(t).subscribe(i=>{this.uiService.hideSpinner(),i.status.toLowerCase()===p.Xef.SUCCESS&&(this.officeUserList=i?.data,this.officeUserList=this.officeUserList.filter(o=>o.loginUserName!==this.loginUsername.loginUsername).map(o=>({label:o.firstName+" "+o.lastName,value:o.loginUserName})))},i=>{this.uiService.hideSpinner(),this.showErrorToast(i,"Update Grievance")})}forward(){if(this.grievanceDetailForm.markAllAsTouched(),this.documentFormGroup.markAllAsTouched(),this.grievanceDetailForm.valid){if(0===this.documentFormGroup.controls.remark.value?.toString()?.trim()?.length)return this.showErrorToast("Please enter remarks"),void this.renderer.selectRootElement("#remarkArea").focus();{let t=this.documentFormGroup.value,i=t?.receiveDate?t?.receiveDate:this.updateGrievanceList?.grievanceRecievedDate,o=Date.parse(i);i=isNaN(o)?null:this.datePipe.transform(i,"YYYY-MM-dd");let l={loginUsername:this.loginUsername?.loginUsername,forwardToUsername:this.grievanceDetailForm.controls.officeLocatedUser.value,locationId:this.grievanceDetailForm.controls.officeLocation.value,remark:t.remark,passportyType:this.grievanceDetailForm.controls.passportType.value,updateGrievanceDetailInternalDTO:{responseRecievedFromPartner:t.responseAgent?t.responseAgent:"",responseRecievedFromPartnerDate:t?.responseAgentDate?this.removeTime(t?.responseAgentDate):"",responseSentToComplainant:t?.responseSendComplaint?t?.responseSendComplaint:"",responseSentToComplainantDate:t?.responseSendComplaintDate?this.removeTime(t?.responseSendComplaintDate):"",responseRecievedFromComplainant:t?.responseRecComplaint?t?.responseRecComplaint:"",responseRecievedFromComplainantDate:t?.responseRecComplaintDate?this.removeTime(t?.responseRecComplaintDate):"",grievanceRecievedDate:i,optionalAttachments:t?.optionalAttachment?t?.optionalAttachment:"",complainantResponseSatisfied:t?.satisfiedResponse?t?.satisfiedResponse:"",grievanceResolved:t?.resolved?t?.resolved:"",referenceType:t.referencetype?t.referencetype:"",referenceNumber:t.referenceNumber?t.referenceNumber:"",referenceDetails:t.referenceDetail?t.referenceDetail:"",grievanceDocumentDetailsList:this.documentList?this.documentList:[]}};this.uiService.showSpinner(),this._claimGrievanceService.saveForward(this.updateGrievanceList?.grievanceArn,l).subscribe(m=>{m.status.toLowerCase()===p.Xef.SUCCESS?(this.forwarded=!0,this.showSuccessToast(m.message,"Update Grievance"),setTimeout(()=>{this.uiService.hideSpinner(),this.router.navigate(["admin/dashboard"])},3e3),this.grievanceDetailForm.reset()):(this.uiService.hideSpinner(),this.showErrorToast(m.message,"Update Grievance"))},m=>{this.uiService.hideSpinner(),this.showErrorToast(m,"Update Grievance")})}}else this.showErrorToast("Please select the user to forward")}getReferenceType(){this.uiService.showSpinner(),this._claimGrievanceService.getReferenceType().subscribe(t=>{if(this.uiService.hideSpinner(),t.status.toLowerCase()===p.Xef.SUCCESS){this.referenceList=t?.data;let i=this.referenceList.filter(o=>"none"===o?.name?.toString()?.toLowerCase()).map(o=>o.shortName)[0]||"";this.documentFormGroup.get("referencetype").value||this.documentFormGroup.get("referencetype").setValue(i)}},t=>{this.uiService.hideSpinner(),this.showErrorToast(t,"Update Grievance")})}getDocument(t){this.documentList=t}saveClaim(){if(this.documentFormGroup.markAllAsTouched(),this.documentFormGroup.valid){if(0===this.documentFormGroup.controls.remark.value?.toString()?.trim()?.length)return this.showErrorToast("Please enter remarks"),void this.renderer.selectRootElement("#remarkArea").focus();{let t=this.documentFormGroup.value,i=t?.receiveDate?t?.receiveDate:this.updateGrievanceList?.grievanceRecievedDate,o=Date.parse(i);i=isNaN(o)?null:this.datePipe.transform(i,"YYYY-MM-dd");const l={responseRecievedFromPartner:t?.responseAgent?t?.responseAgent:"",responseRecievedFromPartnerDate:this.removeTime(t?.responseAgentDate?t?.responseAgentDate:this.updateGrievanceList?.responseRecievedFromPartnerDate),responseSentToComplainant:t?.responseSendComplaint?t?.responseSendComplaint:"",responseSentToComplainantDate:this.removeTime(t?.responseSendComplaintDate?t?.responseSendComplaintDate:this.updateGrievanceList?.responseSentToComplainantDate),responseRecievedFromComplainant:t?.responseRecComplaint?t?.responseRecComplaint:"",responseRecievedFromComplainantDate:this.removeTime(t?.responseRecComplaintDate?t?.responseRecComplaintDate:this.updateGrievanceList?.responseRecievedFromComplainantDate),grievanceRecievedDate:i,optionalAttachments:t?.optionalAttachment?t?.optionalAttachment:"",closureReason:"",resolvedDate:"",onHold:"N",loginUsername:this.loginUsername.loginUsername,grievanceDocumentDetailsList:this.documentList?this.documentList:[],complainantResponseSatisfied:t?.satisfiedResponse?t?.satisfiedResponse:this.updateGrievanceList?.complainantResponseSatisfied,grievanceResolved:t?.resolved?t?.resolved:"",grievanceWorkflowRemark:{remarkId:0,workItemId:0,remark:t?.remark?t?.remark:"",modifiedDate:new Date,modifiedBy:this.loginUsername?.loginUsername},referenceDetails:t.referenceDetail?t.referenceDetail:"",referenceNumber:t.referenceNumber?t.referenceNumber:"",referenceType:t.referencetype?t.referencetype:""};l&&(this.uiService.showSpinner(),this._claimGrievanceService.saveClaim(this.updateGrievanceList?.grievanceArn,l).subscribe(m=>{m.status.toLowerCase()===p.Xef.SUCCESS?(this.showSuccessToast(m.message,"Update Grievance"),this.isSaved=!0,setTimeout(()=>{this.router.navigate(["admin/dashboard"]),this.uiService.hideSpinner()},3e3)):(this.uiService.hideSpinner(),this.showErrorToast(m.message,"Update Grievance"),this.isSaved=!1)},m=>{this.uiService.hideSpinner(),this.showErrorToast(m,"Update Grievance"),this.isSaved=!1}))}}else this.showErrorToast(p.rmt.TOAST_FILL_ALL_FIELDS)}removeTime(t){let i=new Date(t),o=i.getDate(),l=i.getMonth(),m=i.getFullYear();return i.setUTCHours(0,0,0,0),i.setDate(o),i.setMonth(l),i.setFullYear(m),i.toISOString()}getDocumentData(){this.uiService.showSpinner(),this._claimGrievanceService.getDocumentDetails(this.updateGrievanceList?.grievanceArn).subscribe(t=>{if(this.uiService.hideSpinner(),t.status.toLowerCase()===p.Xef.SUCCESS){let i=t?.data;i.forEach(o=>{console.log("this.documentData",o.grievanceArn),-1===o?.grievanceArn.toString().indexOf("GR")&&(o.grievanceArn="GR"+o.grievanceArn)}),this.documentData=i,this.showDocuments()}},t=>{this.uiService.hideSpinner(),this.showErrorToast(t,"Update Grievance")})}getCloserReason(){this.uiService.showSpinner(),this._claimGrievanceService.getReasonCloser().subscribe(t=>{this.uiService.hideSpinner(),t.status.toLowerCase()===p.Xef.SUCCESS&&(this.closerReasonList=t?.data)},t=>{this.uiService.hideSpinner(),this.showErrorToast(t,"Update Grievance")})}viewCorrespondanceList(){this.uiService.showSpinner(),this._claimGrievanceService.getViewCorrespondanceList(this.updateGrievanceList?.grievanceArn,this.loginUsername?.userId).subscribe(t=>{this.uiService.hideSpinner(),t.status.toLowerCase()===p.Xef.SUCCESS&&(this.viewCorresPondanceList=t?.data)},t=>{this.uiService.hideSpinner(),this.showErrorToast(t,"Update Grievance")})}viewCorrespondanceById(t){this.uiService.showSpinner(),this._claimGrievanceService.getViewCorrespondanceById(t?.arn,t?.id,this.loginUsername?.userId).subscribe(i=>{this.uiService.hideSpinner(),i.status.toLowerCase()===p.Xef.SUCCESS&&(this.viewCorrespondanceDetail=i?.data)},i=>{this.uiService.hideSpinner(),this.showErrorToast(i,"Update Grievance")})}getDocumentHistory(){this.uiService.showSpinner(),this._claimGrievanceService.viewDocumentHistory(this.updateGrievanceList?.grievanceArn).subscribe(t=>{if(this.uiService.hideSpinner(),t.status.toLowerCase()===p.Xef.SUCCESS){let i=t?.data?.arn;i.forEach(o=>{-1===o?.grievanceArn.toString().indexOf("GR")&&(o.grievanceArn="GR"+o.grievanceArn)}),this.viewDocumentHistoryList=i,this.showWorkItemHistory()}},t=>{this.uiService.hideSpinner(),this.showErrorToast(t,"Update Grievance")})}closureGrievance(){if(this.documentFormGroup.markAllAsTouched(),0===this.documentFormGroup.controls.remark.value?.toString()?.trim()?.length)return this.showErrorToast("Please enter remarks"),void this.renderer.selectRootElement("#remarkArea").focus();this.documentFormGroup.valid?(this.user=!1,this.isUpdateGrievanceList=!1,this.isGrievanceClousre=!0):this.showErrorToast(p.rmt.TOAST_FILL_ALL_FIELDS)}closeGrievanceSubmit(){if(this.closerFormGroup.markAllAsTouched(),this.closerFormGroup.valid){let t=this.closerFormGroup.value,i=t.resolvedDate,o=Date.parse(i);i=isNaN(o)?"":this.datePipe.transform(i,"YYYY-MM-dd");const l={closureReason:t.reason,resolvedDate:this.removeTime(i),loginUsername:this.loginUsername.loginUsername,grievanceWorkflowRemark:{remark:this.documentFormGroup.get("remark").value}};this.uiService.showSpinner(),this._claimGrievanceService.saveClaim(this.updateGrievanceList?.grievanceArn,l).subscribe(m=>{this.uiService.hideSpinner(),m.status.toLowerCase()===p.Xef.SUCCESS?(this.showSuccessToast(m.message,"Update Grievance"),this.closerFormGroup.reset(),this.user=!1,this.isUpdateGrievanceList=!1,this.isGrievanceClousre=!1,this.isGrievanceClousreSubmit=!0):this.showErrorToast(m.message,"Update Grievance")},m=>{this.uiService.hideSpinner(),this.showErrorToast(m,"Update Grievance"),this.user=!1,this.isUpdateGrievanceList=!1,this.isGrievanceClousre=!0,this.isGrievanceClousreSubmit=!1})}else this.showErrorToast(p.rmt.TOAST_FILL_ALL_FIELDS)}back(){this.user=!1,this.isUpdateGrievanceList=!0,this.isGrievanceClousre=!1,this.isGrievanceClousreSubmit=!1,this.closerFormGroup.reset()}OnCloseClick(){this.router.navigate(["admin/dashboard"])}showDocuments(){this.ref=this.dialogService.open(Ye,{header:"List of Documents",width:"80%",contentStyle:{overflow:"auto"},data:this.documentData,baseZIndex:1e4,maximizable:!0}),this.ref.onClose.subscribe(t=>{}),this.ref.onMaximize.subscribe(t=>{})}showWorkItemHistory(){this.ref=this.dialogService.open(We,{header:"Work Item History",width:"80%",contentStyle:{overflow:"auto"},data:this.viewDocumentHistoryList,baseZIndex:1e4,maximizable:!0}),this.ref.onClose.subscribe(t=>{}),this.ref.onMaximize.subscribe(t=>{})}sendCorrespndance(){this.ref=this.dialogService.open(_e,{header:"Send Correspondence",width:"80%",contentStyle:{overflow:"auto"},data:this.updateGrievanceList,baseZIndex:1e4,maximizable:!0}),this.ref.onClose.subscribe(t=>{}),this.ref.onMaximize.subscribe(t=>{})}viewCorrespndance(){this.viewCorrespondanceList(),this.user=!1,this.isUpdateGrievanceList=!1,this.isViewCorrespondance=!0}onHold(){}closeView(){this.user=!1,this.isUpdateGrievanceList=!0,this.isViewCorrespondance=!1}cancel(){this.arnNumber?(this.user=!1,this.isUpdateGrievanceList=!1,this.isViewCorrespondance=!1,this.documentFormGroup.reset(),this.closerFormGroup.reset(),this.grievanceDetailForm.reset(),this.claimGrievanceWorkForm.reset(),this.router.navigateByUrl("/admin/dashboard")):(this.user=!0,this.isUpdateGrievanceList=!1,this.isViewCorrespondance=!1,this.documentFormGroup.reset(),this.closerFormGroup.reset(),this.grievanceDetailForm.reset(),this.claimGrievanceWorkForm.reset())}}return(r=a).\u0275fac=function(t){return new(t||r)(e.Y36(f.F0),e.Y36(_.ez),e.Y36(X),e.Y36(Y.W),e.Y36(Z.xA),e.Y36(s.qu),e.Y36(f.gz),e.Y36(p.U_o),e.Y36(k.n),e.Y36(e.Qsj),e.Y36(c.uU))},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-claim-grievance"]],features:[e.qOj],decls:8,vars:5,consts:[[1,"middle_section"],[4,"ngIf"],["class","container content info-table",4,"ngIf"],[1,"container"],[1,"row","header-background","mb-3"],[3,"pageTitle"],[1,"row"],[3,"instructionsText"],[1,"content"],[1,"form"],[1,"table-border","p-0"],[3,"pageSubTitle"],[1,"p-3"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","1","inputLabel","Application Reference Number","inputId","grievanceNumber",1,"block",3,"inputFormControl"],["id","grievanceNumber","maxlength","8","type","text","pInputText","","placeholder","Application Reference Number",1,"w-60",3,"formControl"],[1,"col-12"],[1,"buttons"],["pButton","","type","submit","label","Submit",1,"btn-format","btn-blue",3,"click"],[1,"container","content","info-table"],[3,"updateGrievanceList"],[1,"form","mb-2"],[1,"table-border"],[3,"updateGrievanceList","officeList","officeLocation","officeUserList","grievanceDetailForm","getLocation","getUser"],[1,"col-12","pl-0","pb-2"],["pButton","","type","submit","label","Forward",1,"btn-format","btn-blue",3,"disabled","click"],[3,"updateGrievanceList","referenceList","documentFormGroup","getDocument"],[3,"updateGrievanceList","documentFormGroup","isSaved"],[1,"row","mt-3"],[1,"buttons","d-flex","align-items-center","justify-content-between"],["pButton","","label","View Documents",1,"btn-format","btn-blue",3,"click"],["pButton","","label","View Work Item History",1,"btn-format","btn-blue",3,"click"],["pButton","","label","Close Grievance","class","btn-format btn-blue",3,"click",4,"ngIf"],["pButton","","label","Save",1,"btn-format","btn-blue",3,"click"],["pButton","","label","Cancel",1,"btn-format","btn-blue",3,"click","mousedown"],["pButton","","label","View Correspondence",1,"btn-format","btn-blue",3,"disabled","click"],["pButton","","label","Send Correspondence",1,"btn-format","btn-blue",3,"disabled","click"],[1,"col-md-12","d-flex","justify-content-center","mt-3"],["pButton","","type","submit","label","On Hold","disabled","",1,"btn-format","btn-blue",3,"click"],["pButton","","label","Close Grievance",1,"btn-format","btn-blue",3,"click"],[3,"closerReasonList","closerFormGroup","updateGrievanceList"],["pButton","","type","button","label","Submit",1,"btn-format","btn-blue","mr-3",3,"click"],["pButton","","type","button","label","Back",1,"btn-format","btn-blue","ml-2",3,"click"],[1,"border"],[1,"content","text-center","p-4","text-green"],["pButton","","type","submit","label","Close",1,"btn-format","btn-blue","mt-3",3,"click"],[3,"viewCorresPondanceList","viewCorrespondanceDetail","viewCorrespondanceById"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"p-toast"),e.YNc(2,Tt,21,5,"div",1),e.TgZ(3,"form"),e.YNc(4,At,9,5,"div",2),e.qZA(),e.YNc(5,Gt,13,4,"div",1),e.YNc(6,St,14,3,"div",1),e.YNc(7,Dt,12,4,"div",1),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf",i.user),e.xp6(2),e.Q6J("ngIf",i.isUpdateGrievanceList),e.xp6(1),e.Q6J("ngIf",i.isGrievanceClousre),e.xp6(1),e.Q6J("ngIf",i.isGrievanceClousreSubmit),e.xp6(1),e.Q6J("ngIf",i.isViewCorrespondance))},dependencies:[c.O5,u.KR,u.TM,u.jZ,u.dB,A.Hq,x.o,w.FN,s._Y,s.Fj,s.JJ,s.JL,s.nD,s.F,s.oH,it,nt,lt,dt,mt,Ct],styles:[".w-60[_ngcontent-%COMP%]{width:60%}"]}),a})();var O,ie=g(7579),U=g(655),F=g(8513),L=g(8505),N=g(262);class Q{constructor(a){this.viewGrievanceService=a,this.subject=new ie.x}GrievanceList(a,n){return this.viewGrievanceService.grievanceList(a,n).pipe((0,L.b)(t=>{}),(0,N.K)(t=>{throw t}))}GrievanceDetail(a){return this.viewGrievanceService.grievanceDetail(a).pipe((0,L.b)(n=>{}),(0,N.K)(n=>{throw n}))}}(O=Q).\u0275fac=function(a){return new(a||O)(e.LFG(p.lR0))},O.\u0275prov=e.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),(0,U.gn)([(0,F.PS)()],Q.prototype,"GrievanceList",null),(0,U.gn)([(0,F.PS)()],Q.prototype,"GrievanceDetail",null);let wt=(()=>{var r;class a{constructor(t){this.fb=t}createGrievanceNumberForm(t){return this.fb.group({grNumber:this.fb.control({value:null,disabled:t}),raiseDate:this.fb.control({value:null,disabled:t})})}createGrievanceAgainstForm(t){return this.fb.group({name:this.fb.control({value:null,disabled:t}),id:this.fb.control({value:null,disabled:t})})}createGrievanceDetailsForm(t){return this.fb.group({grType:this.fb.control({value:null,disabled:t}),grDetails:this.fb.control({value:null,disabled:t}),grStatus:this.fb.control({value:null,disabled:t}),resolutionPeriod:this.fb.control({value:null,disabled:t})})}}return(r=a).\u0275fac=function(t){return new(t||r)(e.LFG(s.qu))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),a})(),xt=(()=>{var r;class a{constructor(t,i,o,l,m,C){this.formHelpService=t,this.router=i,this.dialogService=o,this.messageService=l,this.viewGrievanceListService=m,this.datepipe=C,this.grievanceDetail={},this.pageInstructionText=p.Xef.PAGE_INSTRUCTION_TEXT,this.previousActive=new e.vpe}ngOnInit(){this.grievanceNumberFormGroup=this.formHelpService.createGrievanceNumberForm(!1),this.grievanceAgainstFormGroup=this.formHelpService.createGrievanceAgainstForm(!1),this.grievanceDetailsFormGroup=this.formHelpService.createGrievanceDetailsForm(!1);let t={grNumber:this.grievanceDetail.arn.grievanceArn?.toString()?.startsWith("GR")?this.grievanceDetail.arn.grievanceArn:"GR"+this.grievanceDetail.arn.grievanceArn,raiseDate:this.datepipe.transform(this.grievanceDetail.arn.raisedDate,"dd-MM-YYYY")};for(const m in t)this.grievanceNumberFormGroup.get(m).disable();let i=[],o=[];if(this.grievanceDetail.arn.grievanceAgentList.length>0){this.grievanceDetail.arn.grievanceAgentList.forEach(C=>{i.push(C.partnerName),o.push(C.partnerTypeCode?C.partnerTypeCode+C.partnerId:C.partnerId)});let m={name:i.join("\r\n"),id:o.join("\r\n")};this.grievanceAgainstFormGroup.patchValue(m);for(const C in m)this.grievanceAgainstFormGroup.get(C).disable()}let l={grType:this.grievanceDetail.arn.grievanceTypeDisplayName,grDetails:this.grievanceDetail.arn.grievanceDescription,grStatus:this.grievanceDetail.arn.grievanceStatusDisplayName,resolutionPeriod:this.grievanceDetail.arn.resolutionPeriod};for(const m in l)this.grievanceDetailsFormGroup.get(m).disable();this.grievanceNumberFormGroup.patchValue(t),this.grievanceDetailsFormGroup.patchValue(l),this.showSuccessToast(p.rmt.DEFAULT_DATA_FETCHED_SUCCESS)}showErrorToast(t){this.messageService.add({severity:"error",summary:"API Failurre",detail:t})}showSuccessToast(t){this.messageService.add({severity:"success",summary:"View Grievance",detail:t})}previous(){this.viewGrievanceListService.subject.next()}}return(r=a).\u0275fac=function(t){return new(t||r)(e.Y36(wt),e.Y36(f.F0),e.Y36(Z.xA),e.Y36(_.ez),e.Y36(Q),e.Y36(c.uU))},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-data-view-grievance"]],inputs:{grievanceDetail:"grievanceDetail"},outputs:{previousActive:"previousActive"},decls:56,vars:23,consts:[[1,"container","content","p-3"],[1,"row_box"],[1,"row"],[3,"instructionsText"],[1,"content","form","info-table",3,"formGroup"],[3,"pageSubTitle"],[1,"table-border"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","1","inputLabel","Grievance Reference Number","inputId","grNumber",1,"block",3,"inputFormControl"],["id","grNumber","type","text","pInputText","","placeholder","",3,"formControl"],["for","1","inputLabel","Raised Date","inputId","date",1,"block",3,"inputFormControl"],["id","date","type","text","pInputText","","placeholder","",3,"formControl"],["for","1","inputLabel","Employer/Recruiting Agent/Project Exporter Name","inputId","name",1,"block",3,"inputFormControl"],["id","name","rows","3","cols","120",1,"p-inputtext",3,"formControl"],["for","1","inputLabel","Employer/Recruiting Agent/Project Exporter ID","inputId","id",1,"block",3,"inputFormControl"],["id","id","rows","3","cols","120",1,"p-inputtext",3,"formControl"],[1,"col-md-5","col-sm-6"],["for","1","inputLabel","Grievance Type","inputId","grType",1,"block",3,"inputFormControl"],["id","grType","rows","3","cols","120",1,"p-inputtext",3,"formControl"],["for","1","inputLabel","Grievance Details","inputId","grDetails",1,"block",3,"inputFormControl"],["id","grDetails","rows","3","cols","120",1,"p-inputtext",3,"formControl"],["for","1","inputLabel","Grievance Status","inputId","grStatus",1,"block",3,"inputFormControl"],["id","grStatus","rows","3","cols","120",1,"p-inputtext",3,"formControl"],["for","1","inputLabel","Resolution Period (in Days)","inputId","resolutionPeriod",1,"block",3,"inputFormControl"],[1,"d-flex"],["id","resolutionPeriod","rows","3","cols","120",1,"p-inputtext",3,"formControl"],[1,"col-12"],[1,"buttons","f-gap-10"],["pButton","","type","previous","label","Previous",1,"btn-format","btn-blue",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"form")(2,"div",1)(3,"div",2),e._UZ(4,"emigrate-sh-page-instructions",3),e.qZA(),e.TgZ(5,"div",4),e._UZ(6,"emigrate-sh-page-sub-title",5),e.TgZ(7,"div",6)(8,"div",2)(9,"div",7)(10,"div",8)(11,"emigrate-sh-html-input",9),e._UZ(12,"input",10),e.qZA()()(),e.TgZ(13,"div",7)(14,"div",8)(15,"emigrate-sh-html-input",11),e._UZ(16,"input",12),e.qZA()()()()()()(),e.TgZ(17,"div",4),e._UZ(18,"emigrate-sh-page-sub-title",5),e.TgZ(19,"div",6)(20,"div",2)(21,"div",7)(22,"div",8)(23,"emigrate-sh-html-input",13),e._UZ(24,"textarea",14),e.qZA()()(),e.TgZ(25,"div",7)(26,"div",8)(27,"emigrate-sh-html-input",15),e._UZ(28,"textarea",16),e.qZA()()()()()(),e.TgZ(29,"div",4),e._UZ(30,"emigrate-sh-page-sub-title",5),e.TgZ(31,"div",6)(32,"div",2)(33,"div",17)(34,"div",8)(35,"emigrate-sh-html-input",18),e._UZ(36,"textarea",19),e.qZA()()(),e.TgZ(37,"div",17)(38,"div",8)(39,"emigrate-sh-html-input",20),e._UZ(40,"textarea",21),e.qZA()()()(),e.TgZ(41,"div",2)(42,"div",17)(43,"div",8)(44,"emigrate-sh-html-input",22),e._UZ(45,"textarea",23),e.qZA()()(),e.TgZ(46,"div",17)(47,"div",8)(48,"emigrate-sh-html-input",24)(49,"div",25),e._UZ(50,"textarea",26),e.qZA()()()()()()(),e.TgZ(51,"div",2)(52,"div",27)(53,"div",28)(54,"button",29),e.NdJ("click",function(){return i.previous()}),e.qZA()()()()()(),e._UZ(55,"p-toast")),2&t&&(e.xp6(4),e.Q6J("instructionsText",i.pageInstructionText),e.xp6(1),e.Q6J("formGroup",i.grievanceNumberFormGroup),e.xp6(1),e.Q6J("pageSubTitle","Grievance Details"),e.xp6(5),e.Q6J("inputFormControl",i.grievanceNumberFormGroup.controls.grNumber),e.xp6(1),e.Q6J("formControl",i.grievanceNumberFormGroup.controls.grNumber),e.xp6(3),e.Q6J("inputFormControl",i.grievanceNumberFormGroup.controls.raiseDate),e.xp6(1),e.Q6J("formControl",i.grievanceNumberFormGroup.controls.raiseDate),e.xp6(1),e.Q6J("formGroup",i.grievanceAgainstFormGroup),e.xp6(1),e.Q6J("pageSubTitle","Grievance Against"),e.xp6(5),e.Q6J("inputFormControl",i.grievanceAgainstFormGroup.controls.name),e.xp6(1),e.Q6J("formControl",i.grievanceAgainstFormGroup.controls.name),e.xp6(3),e.Q6J("inputFormControl",i.grievanceAgainstFormGroup.controls.id),e.xp6(1),e.Q6J("formControl",i.grievanceAgainstFormGroup.controls.id),e.xp6(1),e.Q6J("formGroup",i.grievanceDetailsFormGroup),e.xp6(1),e.Q6J("pageSubTitle","Grievance Details"),e.xp6(5),e.Q6J("inputFormControl",i.grievanceDetailsFormGroup.controls.grType),e.xp6(1),e.Q6J("formControl",i.grievanceDetailsFormGroup.controls.grType),e.xp6(3),e.Q6J("inputFormControl",i.grievanceDetailsFormGroup.controls.grDetails),e.xp6(1),e.Q6J("formControl",i.grievanceDetailsFormGroup.controls.grDetails),e.xp6(4),e.Q6J("inputFormControl",i.grievanceDetailsFormGroup.controls.grStatus),e.xp6(1),e.Q6J("formControl",i.grievanceDetailsFormGroup.controls.grStatus),e.xp6(3),e.Q6J("inputFormControl",i.grievanceDetailsFormGroup.controls.resolutionPeriod),e.xp6(2),e.Q6J("formControl",i.grievanceDetailsFormGroup.controls.resolutionPeriod))},dependencies:[u.KR,u.jZ,u.dB,A.Hq,x.o,w.FN,s._Y,s.Fj,s.JJ,s.JL,s.F,s.oH,s.sg]}),a})();function Ut(r,a){1&r&&(e.TgZ(0,"tr")(1,"th",18)(2,"div",19)(3,"span"),e._uU(4," Grievance Reference Number"),e.qZA(),e._UZ(5,"span",19),e.qZA()(),e.TgZ(6,"th",20)(7,"div",19)(8,"span"),e._uU(9,"Raised Date"),e.qZA(),e.TgZ(10,"span",19),e._UZ(11,"p-sortIcon",21),e.qZA()()(),e.TgZ(12,"th",22)(13,"div",23),e._uU(14," Grievance Type "),e._UZ(15,"p-sortIcon",24),e.qZA()(),e.TgZ(16,"th",25)(17,"div",23),e._uU(18," Grievance Status "),e._UZ(19,"p-sortIcon",26),e.qZA()()())}function Ft(r,a){if(1&r){const n=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"a",27),e.NdJ("click",function(){const o=e.CHM(n).$implicit,l=e.oxw(2);return e.KtG(l.redirectToDataView(o))}),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"span",28),e._uU(6),e.ALo(7,"date"),e.qZA()(),e.TgZ(8,"td")(9,"span",28),e._uU(10),e.qZA()(),e.TgZ(11,"td")(12,"span",29),e._uU(13),e.qZA()()()}if(2&r){const n=a.$implicit;e.xp6(3),e.Oqu(n.grievanceArn),e.xp6(3),e.hij(" ",e.xi3(7,4,n.submittedOn,"dd-MM-YYYY")," "),e.xp6(4),e.hij(" ",n.grievanceType," "),e.xp6(3),e.Oqu(n.status||"NA")}}const Lt=function(){return[10,25,50]};function Nt(r,a){if(1&r&&(e.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"h4",10),e._uU(4,"View Grievance"),e.qZA()()(),e.TgZ(5,"div",11)(6,"div",12)(7,"div",13)(8,"p-table",14,15),e.YNc(10,Ut,20,0,"ng-template",16),e.YNc(11,Ft,14,7,"ng-template",17),e.qZA()()()()()),2&r){const n=e.oxw();e.xp6(8),e.Q6J("value",n.searchResult)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(6,Lt))("loading",n.loading)("paginator",!0)}}function yt(r,a){if(1&r&&(e.TgZ(0,"div"),e._UZ(1,"emigrate-data-view-grievance",30),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.Q6J("grievanceDetail",n.grievanceDetail)}}let qt=(()=>{var r;class a{constructor(t,i,o,l){this.viewGrievanceService=t,this.messageService=i,this.sessionQuery=o,this.uiService=l,this.pageInstructionText=p.Xef.PAGE_INSTRUCTION_TEXT,this.searchResult=[],this.grievanceDetail=[],this.showGrievanceDetail=!1,this.eventSubject=new ie.x,this.loading=!1,this.viewGrievanceService.subject.subscribe(m=>{this.showGrievanceDetail=!1})}ngOnInit(){this.currentUser=this.sessionQuery.user,this.getGrievanceList()}getGrievanceList(){let t=this.currentUser,i=this.currentUser.username,o=t?.userId?t.userId:"";this.uiService.showSpinner(),this.viewGrievanceService.GrievanceList(i,o).subscribe(l=>{this.uiService.hideSpinner(),l?.status.toLowerCase()!==p.Xef.SUCCESS?this.messageService.add({severity:"error",summary:"View Grievance",detail:l?.error&&l?.error?.errorMessage?l.error.errorMessage:l.message}):this.searchResult=l.data},l=>{this.uiService.hideSpinner(),this.messageService.add({severity:"error",summary:"View Grievance",detail:p.Xef.FAILURE})})}redirectToDataView(t){this.showGrievanceDetail=!1,this.uiService.showSpinner(),this.viewGrievanceService.GrievanceDetail(t.grievanceArn).subscribe(i=>{i&&(this.uiService.hideSpinner(),i?.status.toLowerCase()!==p.Xef.SUCCESS?this.messageService.add({severity:"error",summary:"View Grievance",detail:i?.error&&i?.error?.errorMessage?i.error.errorMessage:i.message}):(this.grievanceDetail=i.data,this.showGrievanceDetail=!0))},i=>{this.uiService.hideSpinner(),this.messageService.add({severity:"error",summary:"View Grievance",detail:p.Xef.FAILURE})})}}return(r=a).\u0275fac=function(t){return new(t||r)(e.Y36(Q),e.Y36(_.ez),e.Y36(p.U_o),e.Y36(k.n))},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-view-grievance"]],decls:9,vars:3,consts:[[1,"container"],[1,"p-3","mt-2","mb-2"],[1,"row","header-background","mb-3"],[3,"pageTitle"],[1,"clearfix"],["class","content info-table",4,"ngIf"],[4,"ngIf"],[1,"content","info-table"],[1,"row_box","p-0","m-0"],[1,"form"],[1,"mt-0"],[1,"content"],[1,"card"],[1,"table-border","pbsk-detail-table","pr-4","pl-4","mb-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","showCurrentPageReport","rowsPerPageOptions","loading","paginator"],["dt1",""],["pTemplate","header"],["pTemplate","body"],[1,"p-3"],[1,"d-flex","align-items-center"],["pSortableColumn","submittedOn",1,"p-3"],["field","submittedOn"],["pSortableColumn","grievanceType",1,"p-3"],[1,"flex","align-items-center"],["field","grievanceType"],["pSortableColumn","grievanceStatus",1,"p-3"],["field","grievanceStatus"],[1,"align-items-center","vertical-align-middle","info-text","cursor",3,"click"],[1,"text-center","vertical-align-middle"],[1,"align-items-center","vertical-align-middle"],[3,"grievanceDetail"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"p-toast"),e.TgZ(3,"div",2),e._UZ(4,"emigrate-sh-page-title",3),e.qZA(),e._UZ(5,"div",4),e.YNc(6,Nt,12,7,"div",5),e.qZA()(),e.YNc(7,yt,2,1,"div",6),e._UZ(8,"p-toast")),2&t&&(e.xp6(4),e.Q6J("pageTitle","View Grievance"),e.xp6(2),e.Q6J("ngIf",!i.showGrievanceDetail),e.xp6(1),e.Q6J("ngIf",i.showGrievanceDetail))},dependencies:[c.O5,u.TM,_.jx,w.FN,d.iA,d.lQ,d.fz,xt,c.uU]}),a})();function It(r,a){1&r&&(e.TgZ(0,"tr")(1,"th",14)(2,"div",15)(3,"span"),e._uU(4," PBBY Claim Request"),e.qZA(),e._UZ(5,"span",15),e.qZA()(),e.TgZ(6,"th",16)(7,"div",15)(8,"span"),e._uU(9,"ARN"),e.qZA(),e.TgZ(10,"span",15),e._UZ(11,"p-sortIcon",17),e.qZA()()(),e.TgZ(12,"th",18)(13,"div",19),e._uU(14," Grievance Against both "),e._UZ(15,"br"),e._uU(16," RA and Emplyer "),e._UZ(17,"p-sortIcon",20),e.qZA()(),e.TgZ(18,"th",21)(19,"div",15)(20,"span"),e._uU(21,"Jurisdiction"),e.qZA(),e.TgZ(22,"span",15),e._UZ(23,"p-sortIcon",22),e.qZA()()(),e.TgZ(24,"th",23)(25,"div",15)(26,"span"),e._uU(27," Type of "),e._UZ(28,"br"),e._uU(29,"Grievance"),e.qZA(),e.TgZ(30,"span",15),e._UZ(31,"p-sortIcon",24),e.qZA()()(),e.TgZ(32,"th",25)(33,"div",19),e._uU(34," Submission Date "),e._UZ(35,"p-sortIcon",26),e.qZA()()())}function kt(r,a){1&r&&(e.TgZ(0,"span",30),e._uU(1,"Grievance Process"),e.qZA())}function Rt(r,a){if(1&r&&(e.ynx(0),e.TgZ(1,"span",31),e._uU(2),e.qZA(),e.BQk()),2&r){const n=a.$implicit;e.xp6(2),e.AsE(" ",null!=n&&n.partnerName?null==n?null:n.partnerName:""," \xa0 (",null!=n&&n.partnerId?null==n?null:n.partnerId:"",") ")}}function Ot(r,a){if(1&r){const n=e.EpF();e.TgZ(0,"tr")(1,"td"),e.YNc(2,kt,2,0,"span",27),e.qZA(),e.TgZ(3,"td")(4,"span",28),e.NdJ("click",function(){const o=e.CHM(n).$implicit,l=e.oxw();return e.KtG(l.showDetails(o.grievanceArn))}),e._uU(5),e.qZA()(),e.TgZ(6,"td"),e.YNc(7,Rt,3,2,"ng-container",29),e.qZA(),e.TgZ(8,"td")(9,"span",30),e._uU(10),e.qZA()(),e.TgZ(11,"td")(12,"span",31),e._uU(13),e.qZA()(),e.TgZ(14,"td")(15,"span",31),e._uU(16),e.ALo(17,"date"),e.qZA()()()}if(2&r){const n=a.$implicit,t=a.rowIndex;e.xp6(2),e.Q6J("ngIf",0===t),e.xp6(3),e.Oqu(null==n?null:n.grievanceArn),e.xp6(2),e.Q6J("ngForOf",n.grievanceAgainst),e.xp6(3),e.Oqu(null!=n&&n.jurisdiction?null==n?null:n.jurisdiction:""),e.xp6(3),e.Oqu(null!=n&&n.grievanceType?null==n?null:n.grievanceType:""),e.xp6(3),e.Oqu(e.xi3(17,6,n.submittedOn,"dd-MM-YYYY"))}}const Jt=function(){return[10,25,50]},Et=function(){return{"min-width":"120rem"}};let Qt=(()=>{var r;class a extends u.H6{constructor(t,i,o,l,m){super(i),this.routerQuery=t,this._claimGrievanceService=o,this.sessionQuery=l,this.router=m,this.loading=!1}ngOnInit(){this.user=this.sessionQuery.user,this._claimGrievanceService.pbskGrievanceListData(this.user.userId).subscribe(t=>{t.status.toLowerCase()!==p.Xef.SUCCESS||(this.grList=t.data)})}showDetails(t){this.router.navigateByUrl("admin/grievance/claim-grievance/"+t)}}return(r=a).\u0275fac=function(t){return new(t||r)(e.Y36(W.dt),e.Y36(_.ez),e.Y36(Y.W),e.Y36(p.U_o),e.Y36(f.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-claim-grievance-pbsk"]],features:[e.qOj],decls:18,vars:8,consts:[[1,"container"],[1,"p-3","border","mt-2","mb-2"],[1,"row"],[1,"clearfix"],[1,"content"],[1,"row_box","p-0","m-0"],[1,"form"],[1,"mt-0"],[1,"card"],[1,"table-border","pbsk-detail-table","pr-4","pl-4"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","showCurrentPageReport","rowsPerPageOptions","paginator","tableStyle"],["dt1",""],["pTemplate","header"],["pTemplate","body"],[1,"p-3"],[1,"d-flex","align-items-center"],["pSortableColumn","grievanceArn",1,"p-3"],["field","grievanceArn"],["pSortableColumn","grievanceAgainst",1,"p-3"],[1,"flex","align-items-center"],["field","grievanceAgainst"],["pSortableColumn","jurisdiction",1,"p-3"],["field","jurisdiction"],["pSortableColumn","grievanceType",1,"p-3"],["field","grievanceType"],["pSortableColumn","submittedOn",1,"p-3"],["field","submittedOn"],["class","align-items-center vertical-align-middle",4,"ngIf"],[1,"align-items-center","vertical-align-middle","info-text","cursor",3,"click"],[4,"ngFor","ngForOf"],[1,"align-items-center","vertical-align-middle"],[1,"text-center","vertical-align-middle"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"p-toast")(3,"div",2)(4,"div",3),e.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"h4",7),e._uU(9,"Process Names"),e.qZA()()(),e.TgZ(10,"div",4)(11,"div",8)(12,"div",9)(13,"p-table",10,11),e.YNc(15,It,36,0,"ng-template",12),e.YNc(16,Ot,18,9,"ng-template",13),e.qZA()()()()()(),e._UZ(17,"div"),e.qZA()),2&t&&(e.xp6(13),e.Q6J("value",i.grList)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(6,Jt))("paginator",!0)("tableStyle",e.DdM(7,Et)))},dependencies:[c.sg,c.O5,_.jx,w.FN,d.iA,d.lQ,d.fz,c.uU]}),a})();var J;class y{constructor(a){this.reassignGrievanceService=a}reassignGrievanceSearch(a){return this.reassignGrievanceService.reassignGrievanceSearch(a).pipe((0,L.b)(n=>{}),(0,N.K)(n=>{throw n}))}getLocation(a){return this.reassignGrievanceService.getLocation(a).pipe((0,L.b)(n=>{}),(0,N.K)(n=>{throw n}))}getUser(a){return this.reassignGrievanceService.getUserList(a).pipe((0,L.b)(n=>{}),(0,N.K)(n=>{throw n}))}getRole(a){return this.reassignGrievanceService.getRoleList(a).pipe((0,L.b)(n=>{}),(0,N.K)(n=>{throw n}))}reassignSubmit(a){return this.reassignGrievanceService.reassignSubmit(a).pipe((0,L.b)(n=>{}),(0,N.K)(n=>{throw n}))}}function Yt(r,a){1&r&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Check List"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Application Reference Number"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Workitem With"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"ARN Date"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Workitem Type"),e.qZA()())}function Pt(r,a){if(1&r){const n=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"p-checkbox",7),e.NdJ("onChange",function(){const o=e.CHM(n).$implicit,l=e.oxw();return e.KtG(l.selected(o))}),e.qZA()(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA()()}if(2&r){const n=a.$implicit;e.xp6(2),e.Q6J("name","selected")("binary",!0),e.xp6(2),e.Oqu(n.arnNumber),e.xp6(2),e.Oqu(n.workItemWith),e.xp6(2),e.Oqu(e.xi3(9,6,n.arnDate,"dd-MM-YYYY")),e.xp6(3),e.Oqu(n.workItemType)}}(J=y).\u0275fac=function(a){return new(a||J)(e.LFG(p.Bt8))},J.\u0275prov=e.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),(0,U.gn)([(0,F.PS)()],y.prototype,"reassignGrievanceSearch",null),(0,U.gn)([(0,F.PS)()],y.prototype,"getLocation",null),(0,U.gn)([(0,F.PS)()],y.prototype,"getUser",null),(0,U.gn)([(0,F.PS)()],y.prototype,"getRole",null),(0,U.gn)([(0,F.PS)()],y.prototype,"reassignSubmit",null);let ne=(()=>{var r;class a{constructor(){this.searchResult=[],this.selectedArn=new e.vpe,this.reassignItem=[]}selected(t){this.reassignItem.push(t.arnNumber),this.selectedArn.emit(this.reassignItem)}}return(r=a).\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-search-results"]],inputs:{searchResult:"searchResult"},outputs:{selectedArn:"selectedArn"},decls:7,vars:2,consts:[[1,"border"],[3,"pageSubTitle"],[1,"container","content","p-3"],[1,"table",3,"value"],["myTab",""],["pTemplate","header"],["pTemplate","body"],["inputId","ny",3,"name","binary","onChange"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"emigrate-sh-page-sub-title",1),e.TgZ(2,"div",2)(3,"p-table",3,4),e.YNc(5,Yt,11,0,"ng-template",5),e.YNc(6,Pt,12,9,"ng-template",6),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("pageSubTitle","Search Results"),e.xp6(2),e.Q6J("value",i.searchResult))},dependencies:[u.jZ,_.jx,j.XZ,d.iA,c.uU]}),a})(),re=(()=>{var r;class a{constructor(){this.officeList=[],this.locationList=[],this.userList=[],this.roleList=[],this.getLocation=new e.vpe,this.getRoleList=new e.vpe,this.getUserList=new e.vpe}officeHandler(t){this.officeName=t.value,this.getLocation.emit(this.officeName)}locationHandler(t){this.locationId=t.value,this.getUserList.emit({officeName:this.officeName,locationId:t.value,reassign:!0})}userHandler(t){this.getRoleList.emit({officeName:this.officeName,locationId:t.value,userId:t.value})}}return(r=a).\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-workitem-reassign"]],inputs:{officeList:"officeList",locationList:"locationList",userList:"userList",roleList:"roleList",reassignFormgroup:"reassignFormgroup"},outputs:{getLocation:"getLocation",getRoleList:"getRoleList",getUserList:"getUserList"},decls:25,vars:11,consts:[[1,"form"],[3,"formGroup"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"field"],["inputLabel"," Reassigned to Office","inputId","office",1,"block",3,"inputFormControl"],["id","office","optionLabel","label","optionValue","value","placeholder","Select Office","EmigrateShDropdown","","formControlName","office",3,"options","onChange"],["inputLabel","Reassigned to Jurisdiction/Location","inputId","location",1,"block",3,"inputFormControl"],["id","location","optionLabel","label","optionValue","value","placeholder","Select Jurisdiction","EmigrateShDropdown","","formControlName","location",3,"options","onChange"],["inputLabel","Reassigned to Workitem With","inputId","workItem",1,"block",3,"inputFormControl"],["id","workItem","optionLabel","loginUserName","optionValue","value","placeholder","Select User","filterBy","loginUserName","formControlName","user",3,"options","filter","onChange"],["inputLabel","Reassigned to Role","inputId","role",1,"block",3,"inputFormControl"],["id","role","optionLabel","label","optionValue","label","placeholder","Select Role","EmigrateShDropdown","","formControlName","role",3,"options"],[1,"col-md-12","col-sm-12"],["for","1","inputLabel","Reason for Reassigned","inputId","reason",1,"block",3,"inputFormControl"],["rows","3","cols","20","maxlength","1000","pInputTextarea","","required","","formControlName","reason"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"emigrate-sh-html-input",5)(6,"p-dropdown",6),e.NdJ("onChange",function(l){return i.officeHandler(l)}),e.qZA()()()(),e.TgZ(7,"div",3)(8,"div",4)(9,"emigrate-sh-html-input",7)(10,"p-dropdown",8),e.NdJ("onChange",function(l){return i.locationHandler(l)}),e.qZA()()()(),e.TgZ(11,"div",3)(12,"div",4)(13,"emigrate-sh-html-input",9)(14,"p-dropdown",10),e.NdJ("onChange",function(l){return i.userHandler(l)}),e.qZA()()()()(),e.TgZ(15,"div",2)(16,"div",3)(17,"div",4)(18,"emigrate-sh-html-input",11),e._UZ(19,"p-dropdown",12),e.qZA()()()(),e.TgZ(20,"div",2)(21,"div",13)(22,"div",4)(23,"emigrate-sh-html-input",14),e._UZ(24,"textarea",15),e.qZA()()()()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",i.reassignFormgroup),e.xp6(4),e.Q6J("inputFormControl",i.reassignFormgroup.controls.office),e.xp6(1),e.Q6J("options",i.officeList),e.xp6(3),e.Q6J("inputFormControl",i.reassignFormgroup.controls.location),e.xp6(1),e.Q6J("options",i.locationList),e.xp6(3),e.Q6J("inputFormControl",i.reassignFormgroup.controls.user),e.xp6(1),e.Q6J("options",i.userList)("filter",!0),e.xp6(4),e.Q6J("inputFormControl",i.reassignFormgroup.controls.role),e.xp6(1),e.Q6J("options",i.roleList),e.xp6(4),e.Q6J("inputFormControl",i.reassignFormgroup.controls.reason))},dependencies:[u.KR,u.lC,R.Lt,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.nD,P.g,s.sg,s.u],styles:["textarea[_ngcontent-%COMP%]{resize:none}"]}),a})(),Mt=(()=>{var r;class a{constructor(){this.officeList=[],this.locationList=[],this.userList=[],this.roleList=[],this.getLocation=new e.vpe,this.getRoleList=new e.vpe,this.getUserList=new e.vpe}officeHandler(t){this.officeName=t.value,this.getLocation.emit(this.officeName)}locationHandler(t){this.locationId=t.value,this.getUserList.emit({officeName:this.officeName,locationId:t.value})}userHandler(t){this.getRoleList.emit({officeName:this.officeName,locationId:t.value,userId:t.value})}}return(r=a).\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-reassignworkitem"]],inputs:{officeList:"officeList",locationList:"locationList",userList:"userList",roleList:"roleList",workItemFormGroup:"workItemFormGroup"},outputs:{getLocation:"getLocation",getRoleList:"getRoleList",getUserList:"getUserList"},decls:20,vars:10,consts:[[1,"form"],[3,"formGroup"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"field"],["inputLabel"," Office","inputId","office",1,"block",3,"inputFormControl"],["id","office","optionLabel","label","optionValue","value","placeholder","Select Office","EmigrateShDropdown","","formControlName","office",3,"options","onChange"],["inputLabel","Reassigned to Jurisdiction/Location","inputId","location",1,"block",3,"inputFormControl"],["id","location","optionLabel","label","optionValue","value","placeholder","Select Jurisdiction","EmigrateShDropdown","","formControlName","location",3,"options","onChange"],["inputLabel"," Workitem With","inputId","workItem",1,"block",3,"inputFormControl"],["id","workItem","optionLabel","loginUserName","optionValue","value","placeholder","Select User","filterBy","loginUserName","formControlName","user",3,"options","filter","onChange"],["inputLabel"," Role","inputId","role",1,"block",3,"inputFormControl"],["id","role","optionLabel","label","optionValue","label","placeholder","Select Role","EmigrateShDropdown","","formControlName","role",3,"options"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"emigrate-sh-html-input",5)(6,"p-dropdown",6),e.NdJ("onChange",function(l){return i.officeHandler(l)}),e.qZA()()()(),e.TgZ(7,"div",3)(8,"div",4)(9,"emigrate-sh-html-input",7)(10,"p-dropdown",8),e.NdJ("onChange",function(l){return i.locationHandler(l)}),e.qZA()()()(),e.TgZ(11,"div",3)(12,"div",4)(13,"emigrate-sh-html-input",9)(14,"p-dropdown",10),e.NdJ("onChange",function(l){return i.userHandler(l)}),e.qZA()()()()(),e.TgZ(15,"div",2)(16,"div",3)(17,"div",4)(18,"emigrate-sh-html-input",11),e._UZ(19,"p-dropdown",12),e.qZA()()()()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",i.workItemFormGroup),e.xp6(4),e.Q6J("inputFormControl",i.workItemFormGroup.controls.office),e.xp6(1),e.Q6J("options",i.officeList),e.xp6(3),e.Q6J("inputFormControl",i.workItemFormGroup.controls.location),e.xp6(1),e.Q6J("options",i.locationList),e.xp6(3),e.Q6J("inputFormControl",i.workItemFormGroup.controls.user),e.xp6(1),e.Q6J("options",i.userList)("filter",!0),e.xp6(4),e.Q6J("inputFormControl",i.workItemFormGroup.controls.role),e.xp6(1),e.Q6J("options",i.roleList))},dependencies:[u.KR,u.lC,R.Lt,s._Y,s.JJ,s.JL,s.sg,s.u]}),a})(),Vt=(()=>{var r;class a{constructor(){}}return(r=a).\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-reassignarn"]],inputs:{arnFormGroup:"arnFormGroup"},decls:7,vars:2,consts:[[1,"content"],[3,"formGroup"],[1,"row"],[1,"col-md-4","col-sm-6"],[1,"field"],["for","1","inputLabel","Application Reference Number","inputId","arn",1,"block",3,"inputFormControl"],["maxlength","8","id","arn","type","text","pInputText","","placeholder"," Enter Reference Number","formControlName","arn","autocomplete","off",1,"w-60"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"emigrate-sh-html-input",5),e._UZ(6,"input",6),e.qZA()()()()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",i.arnFormGroup),e.xp6(4),e.Q6J("inputFormControl",i.arnFormGroup.controls.arn))},dependencies:[u.KR,x.o,s._Y,s.Fj,s.JJ,s.JL,s.nD,s.sg,s.u]}),a})();function Ht(r,a){if(1&r&&(e.TgZ(0,"div",4),e._UZ(1,"emigrate-sh-page-instructions",5),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.Q6J("instructionsText",n.pageInstructionText)}}function Bt(r,a){if(1&r){const n=e.EpF();e.ynx(0),e.TgZ(1,"span")(2,"p-radioButton",17),e.NdJ("onClick",function(i){e.CHM(n);const o=e.oxw(2);return e.KtG(o.selectionChange(i))}),e.qZA()(),e.BQk()}if(2&r){const n=a.$implicit,t=a.index,i=e.oxw(2);e.xp6(2),e.MGl("inputId","1",t,""),e.Q6J("label",n.label)("value",n.value)("formControl",i.assignedTo)("disabled",i.isSearch)}}function Kt(r,a){if(1&r&&(e.TgZ(0,"div",18),e._UZ(1,"emigrate-reassignarn",19),e.qZA()),2&r){const n=e.oxw(2);e.xp6(1),e.Q6J("arnFormGroup",n.arnFormGroup)}}function zt(r,a){if(1&r){const n=e.EpF();e.TgZ(0,"div",18)(1,"emigrate-reassignworkitem",20),e.NdJ("getLocation",function(i){e.CHM(n);const o=e.oxw(2);return e.KtG(o.getLocation(i))})("getUserList",function(i){e.CHM(n);const o=e.oxw(2);return e.KtG(o.getUserList(i))})("getRoleList",function(i){e.CHM(n);const o=e.oxw(2);return e.KtG(o.getRoleList(i))}),e.qZA()()}if(2&r){const n=e.oxw(2);e.xp6(1),e.Q6J("officeList",n.officeList)("locationList",n.locationList)("userList",n.userList)("workItemFormGroup",n.workItemFormGroup)("roleList",n.roleList)}}function Wt(r,a){if(1&r){const n=e.EpF();e.TgZ(0,"div",21)(1,"div",22)(2,"div",23)(3,"button",24),e.NdJ("click",function(){e.CHM(n);const i=e.oxw(2);return e.KtG(i.search())}),e.qZA(),e.TgZ(4,"button",25),e.NdJ("click",function(){e.CHM(n);const i=e.oxw(2);return e.KtG(i.selectionCancel())}),e.qZA()()()()}}function jt(r,a){if(1&r&&(e.ynx(0),e.TgZ(1,"div",6),e._UZ(2,"emigrate-sh-page-sub-title",7),e.TgZ(3,"div",8)(4,"div",4)(5,"div",9)(6,"div",10)(7,"label",11),e._uU(8,"Reassign By "),e._UZ(9,"span",12),e.qZA(),e.TgZ(10,"div",4)(11,"div",13),e.YNc(12,Bt,3,5,"ng-container",14),e.qZA()()(),e.YNc(13,Kt,2,1,"div",15),e.YNc(14,zt,2,5,"div",15),e.qZA()()()(),e.YNc(15,Wt,5,0,"div",16),e.BQk()),2&r){const n=e.oxw();e.xp6(2),e.Q6J("pageSubTitle","Reassign Grievance Workitem"),e.xp6(10),e.Q6J("ngForOf",n.radioButtonvalues),e.xp6(1),e.Q6J("ngIf",n.isArn),e.xp6(1),e.Q6J("ngIf",n.isWorkItem),e.xp6(1),e.Q6J("ngIf",n.isArn||n.isWorkItem)}}function Xt(r,a){if(1&r){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",26)(2,"emigrate-search-results",27),e.NdJ("selectedArn",function(i){e.CHM(n);const o=e.oxw();return e.KtG(o.selectedArn(i))}),e.qZA(),e.TgZ(3,"div",28)(4,"button",29),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.reAssign())}),e.qZA(),e.TgZ(5,"button",25),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.searchCancel())}),e.qZA()()(),e.BQk()}if(2&r){const n=e.oxw();e.xp6(2),e.Q6J("searchResult",n.searchResult)}}function $t(r,a){if(1&r){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",30),e._UZ(2,"emigrate-sh-page-sub-title",7),e.TgZ(3,"div",31)(4,"emigrate-workitem-reassign",32),e.NdJ("getLocation",function(i){e.CHM(n);const o=e.oxw();return e.KtG(o.getLocation(i))})("getUserList",function(i){e.CHM(n);const o=e.oxw();return e.KtG(o.getUserList(i))})("getRoleList",function(i){e.CHM(n);const o=e.oxw();return e.KtG(o.getRoleList(i))}),e.qZA()()(),e.TgZ(5,"div",28)(6,"button",33),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.submit())}),e.qZA(),e.TgZ(7,"button",34),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.reset())}),e.qZA(),e.TgZ(8,"button",25),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.cancel())}),e.qZA()(),e.BQk()}if(2&r){const n=e.oxw();e.xp6(2),e.Q6J("pageSubTitle","Reassign Grievance Workitem"),e.xp6(2),e.Q6J("officeList",n.officeList)("locationList",n.locationList)("userList",n.userList)("reassignFormgroup",n.reassignFormgroup)("roleList",n.roleList)}}function ei(r,a){if(1&r){const n=e.EpF();e.TgZ(0,"div")(1,"div",30),e._UZ(2,"emigrate-sh-page-sub-title",7),e.TgZ(3,"p",35)(4,"b"),e._uU(5),e.qZA()()(),e.TgZ(6,"div",28)(7,"button",36),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.selectionCancel())}),e.qZA()()()}if(2&r){const n=e.oxw();e.xp6(2),e.Q6J("pageSubTitle","Success Page"),e.xp6(3),e.hij("",n.message," ")}}let ti=(()=>{var r;class a extends u.H6{constructor(t,i,o,l,m,C){super(l),this._formBuilder=t,this.reassignService=i,this._router=o,this.uiService=m,this.sessionQuery=C,this.pageInstructionText=p.Xef.PAGE_INSTRUCTION_TEXT,this.officeList=[{label:"INDIAN MISSION",value:"IM"},{label:"PGOE",value:"PGOE"},{label:"POE",value:"POE"},{label:"STATE NODAL OFFICER",value:"STNO"}],this.locationList=[],this.assignedTo=new s.NI(null),this.userList=[],this.roleList=[],this.isSelection=!1,this.isArn=!1,this.isWorkItem=!1,this.isSearch=!1,this.isReassign=!1,this.isStatus=!1,this.searchResult=[],this.radioButtonvalues=[{value:"1",label:"Application Reference Number (ARN)"},{value:"2",label:"Workitem Owner"}]}ngOnInit(){this.loginUsername=this.sessionQuery.user,this.buildForm(),this.isSelection=!0}buildForm(){this.arnFormGroup=this._formBuilder.group({arn:["",[s.kI.required,u.YO.minLenValidator(6,"Min length should be 6"),u.YO.alphaNumericValidator()]]}),this.workItemFormGroup=this._formBuilder.group({office:["",[s.kI.required]],location:["",[s.kI.required]],user:["",[s.kI.required]],role:["",[s.kI.required]]}),this.reassignFormgroup=this._formBuilder.group({office:["",[s.kI.required]],location:["",[s.kI.required]],user:["",[s.kI.required]],role:["",[s.kI.required]],reason:["",[s.kI.required]]})}selectionChange(t){console.log("assignedTo",this.assignedTo.value),"1"==t.value?(this.isArn=!0,this.isWorkItem=!1):(this.isWorkItem=!0,this.isArn=!1)}getLocation(t){this.uiService.showSpinner(),this.reassignService.getLocation(t).subscribe(i=>{this.uiService.hideSpinner(),this.locationList=i.data,this.locationList&&(this.locationList=this.locationList.map(o=>({label:o.name,value:o.id})))},i=>{this.showErrorToast(i),this.uiService.hideSpinner()})}getUserList(t){this.uiService.showSpinner(),this.reassignService.getUser(t).subscribe(i=>{this.uiService.hideSpinner(),this.userList=i.data,this.userList=this.userList?.map(o=>({label:o?.firstName?o.firstName+" "+o.lastName:"NA",value:o?.userId?o.userId:"NA",loginUserName:o?.loginUserName?o.loginUserName:"NA"}))},i=>{this.uiService.hideSpinner(),this.showErrorToast(i)})}getRoleList(t){this.uiService.showSpinner(),this.reassignService.getRole(t).subscribe(i=>{this.uiService.hideSpinner(),this.roleList=i.data.userGroupList,this.roleList=this.roleList.map(o=>({label:o.groupShortName}))},i=>{this.uiService.hideSpinner(),this.showErrorToast(i)})}search(){let t;if(1==this.isArn){if(this.arnFormGroup.markAllAsTouched(),!this.arnFormGroup.valid)return void this.showErrorToast("Please fill mandatory fields");t=this.arnFormGroup.value}else if(1==this.isWorkItem){if(this.workItemFormGroup.markAllAsTouched(),!this.workItemFormGroup.valid)return void this.showErrorToast("Please fill mandatory fields");t=this.workItemFormGroup.value}let i=this.userList.filter(l=>l.value===t.user)||[];i.length>0&&""!==i[0].loginUserName&&(t.user=i[0].loginUserName),console.log(i,t.user);const o={arnNumber:t.arn?t.arn:"",office:t.office?t.office:"",location:t.location?t.location:"",workItemWith:t.user?t.user:"",role:t.role?t.role:""};this.uiService.showSpinner(),this.reassignService.reassignGrievanceSearch(o).subscribe(l=>{this.uiService.hideSpinner(),l.data?.length>0?(this.isSearch=!0,this.searchResult=l.data):(this.uiService.hideSpinner(),this.showErrorToast(l.message))},l=>{this.uiService.hideSpinner(),this.showErrorToast(l)})}selectionCancel(){this._router.navigateByUrl("/admin/dashboard")}reAssign(){this.selectedArnNumber?.length>0?(this.isSelection=!1,this.isSearch=!1,this.isReassign=!0):this.showErrorToast("Please select atleast one reference number")}searchCancel(){this.isSelection=!0,this.isSearch=!1,this.isReassign=!1,this.isArn=!1,this.isWorkItem=!1,this.workItemFormGroup.reset(),this.selectedArnNumber=[]}selectedArn(t){this.selectedArnNumber=t}submit(){if(this.reassignFormgroup.valid){let t=this.reassignFormgroup.value;const i=this.userList.find(l=>l.value===t?.user),o={grivanceArn:this.selectedArnNumber,office:t.office?t.office:"",location:t.location?t.location:"",workItemWith:i?.loginUserName?i?.loginUserName:"",reAssignedToRole:t.role?t.role:"",reasonForReassign:t.reason?t.reason:"",loginUsername:this.loginUsername.loginUsername};this.uiService.showSpinner(),this.reassignService.reassignSubmit(o).subscribe(l=>{this.uiService.hideSpinner(),this.message=l.message,this.isStatus=!0,this.isReassign=!1,this.showSuccessToast(l.message)},l=>{this.uiService.hideSpinner(),this.showErrorToast(l)})}else this.showErrorToast("Please fill the mandatory fields")}reset(){this.reassignFormgroup.reset()}cancel(){this.isSelection=!0,this.isSearch=!0,this.isReassign=!1,this.reassignFormgroup.reset()}}return(r=a).\u0275fac=function(t){return new(t||r)(e.Y36(s.qu),e.Y36(y),e.Y36(f.F0),e.Y36(_.ez),e.Y36(k.n),e.Y36(p.U_o))},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-reassigned-grievance"]],features:[e.qOj],decls:8,vars:6,consts:[[1,"row","header-background","mb-3"],[3,"pageTitle"],["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[3,"instructionsText"],[1,"content","border","my-3"],[3,"pageSubTitle"],[1,"p-2"],[1,"col-md-12","col-sm-6","mb-2"],[1,"field"],[1,"block"],[1,"emigrate-required"],[1,"col-md-6","d-lg-flex","align-items-center","justify-content-between"],[4,"ngFor","ngForOf"],["class","col-md-12 col-sm-6",4,"ngIf"],["class","row mb-3",4,"ngIf"],["name","reassignBy",1,"radio-button",3,"label","value","inputId","formControl","disabled","onClick"],[1,"col-md-12","col-sm-6"],[3,"arnFormGroup"],[3,"officeList","locationList","userList","workItemFormGroup","roleList","getLocation","getUserList","getRoleList"],[1,"row","mb-3"],[1,"col-12"],[1,"buttons","f-gap-10"],["pButton","","type","search","label","Search",1,"btn-format","btn-blue",3,"click"],["pButton","","type","cancel","label","Cancel",1,"btn-format","btn-blue",3,"click"],[1,"my-3"],[3,"searchResult","selectedArn"],[1,"buttons","f-gap-10","my-3"],["pButton","","type","reassign","label","Reassign",1,"btn-format","btn-blue",3,"click"],[1,"border","my-3"],[1,"container","content","p-3"],[3,"officeList","locationList","userList","reassignFormgroup","roleList","getLocation","getUserList","getRoleList"],["pButton","","type","button","label","Submit",1,"btn-format","btn-blue",3,"click"],["pButton","","type","reset","label","Reset",1,"btn-format","btn-blue",3,"click"],[1,"mb-0","pt-5","pb-5","text-center"],["pButton","","type","cancel","label","Close",1,"btn-format","btn-blue",3,"click"]],template:function(t,i){1&t&&(e._UZ(0,"p-toast"),e.TgZ(1,"div",0),e._UZ(2,"emigrate-sh-page-title",1),e.qZA(),e.YNc(3,Ht,2,1,"div",2),e.YNc(4,jt,16,5,"ng-container",3),e.YNc(5,Xt,6,1,"ng-container",3),e.YNc(6,$t,9,6,"ng-container",3),e.YNc(7,ei,8,2,"div",3)),2&t&&(e.xp6(2),e.Q6J("pageTitle","Reassign Grievance Workitem"),e.xp6(1),e.Q6J("ngIf",!i.isStatus),e.xp6(1),e.Q6J("ngIf",i.isSelection),e.xp6(1),e.Q6J("ngIf",i.isSearch),e.xp6(1),e.Q6J("ngIf",i.isReassign),e.xp6(1),e.Q6J("ngIf",i.isStatus))},dependencies:[c.sg,c.O5,u.TM,u.jZ,u.dB,A.Hq,w.FN,$.EU,s.JJ,s.oH,ne,re,Mt,Vt]}),a})();var ii=g(7612);const ri=[{path:"search-grievance",pathMatch:"full",component:me,resolve:[p.sxH]},{path:"submit-grievance-int",pathMatch:"full",data:{userType:"internal"},resolve:[p.GNQ],component:ge.f},{path:"update-grievance-int",pathMatch:"full",data:{userTyp:"internalUser"},component:ii.X},{path:"claim-grievance",pathMatch:"full",component:te},{path:"claim-grievance/:arn",pathMatch:"full",component:te},{path:"view-grievance",pathMatch:"full",component:qt},{path:"claim-grievance-pbsk",pathMatch:"full",component:Qt},{path:"reassign-grievance",pathMatch:"full",component:ti},{path:"search-results",pathMatch:"full",component:ne},{path:"workitem-reassign",pathMatch:"full",component:re},{path:"pendency-grievance",pathMatch:"full",component:(()=>{var r;class a{constructor(t,i,o){this._claimGrievancesService=t,this.sessionQuery=i,this.router=o,this.notificationCount=0}ngOnInit(){this.todayDate=new Date,this.user=this.sessionQuery.user,this._claimGrievancesService.grievancePendency(this.user.userId).subscribe(i=>{i.status.toLowerCase()===p.Xef.SUCCESS&&(this.notificationCount=i.data.pendingGrievanceCount)})}OnCloseClick(){this.router.navigate(["admin/dashboard"])}}return(r=a).\u0275fac=function(t){return new(t||r)(e.Y36(p.P0I),e.Y36(p.U_o),e.Y36(f.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["emigrate-pendency-grievance"]],decls:15,vars:6,consts:[[1,"middle_section","mb-5"],[1,"container"],[1,"content","info-table"],[3,"pageSubTitle"],[1,"update"],[1,"row"],[1,"col-12"],[1,"border","p-5","text-center"],[1,"buttons"],["pButton","","type","submit","label","Close",1,"btn-format","btn-blue","mt-3",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"emigrate-sh-page-sub-title",3),e.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"p"),e._uU(9),e.ALo(10,"date"),e.qZA()()()()()(),e.TgZ(11,"div",5)(12,"div",6)(13,"div",8)(14,"button",9),e.NdJ("click",function(){return i.OnCloseClick()}),e.qZA()()()()()()),2&t&&(e.xp6(3),e.Q6J("pageSubTitle","Grievance Pendency Count"),e.xp6(6),e.AsE("As on ",e.xi3(10,3,i.todayDate,"dd-MM-YYYY")," Pending Workitem Count with you are ",i.notificationCount,"."))},dependencies:[u.jZ,A.Hq,c.uU]}),a})()}];let oi=(()=>{var r;class a{}return(r=a).\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[f.Bz.forChild(ri),f.Bz]}),a})(),ai=(()=>{var r;class a{}return(r=a).\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[c.ez,oi,u.uR,I.g,s.u5,s.UX,A.hJ]}),a})()},1010:(z,q,g)=>{g.d(q,{W:()=>_});var u,c=g(655),s=g(8513),I=g(1135),f=g(8505),p=g(262),e=g(1571),Z=g(2976);class _{constructor(d){this.claimGrievancesService=d,this.getOTPDetails=new I.X({})}pbskGrievanceListData(d){return this.claimGrievancesService.pbskGrievanceList(d).pipe((0,f.b)(h=>{}),(0,p.K)(h=>{throw h}))}validateArn(d){return this.claimGrievancesService.validateArn(d).pipe((0,f.b)(h=>{}),(0,p.K)(h=>{throw h}))}getLocation(d){return this.claimGrievancesService.getLocation(d).pipe((0,f.b)(h=>{}),(0,p.K)(h=>{throw h}))}getUser(d){return this.claimGrievancesService.getUser(d).pipe((0,f.b)(h=>{}),(0,p.K)(h=>{throw h}))}saveForward(d,h){return this.claimGrievancesService.saveForward(d,h).pipe((0,f.b)(b=>{}),(0,p.K)(b=>{throw b}))}getReferenceType(){return this.claimGrievancesService.getReferenceType().pipe((0,f.b)(d=>{}),(0,p.K)(d=>{throw d}))}saveClaim(d,h){return this.claimGrievancesService.saveClaim(d,h).pipe((0,f.b)(b=>{}),(0,p.K)(b=>{throw b}))}getDocumentDetails(d){return this.claimGrievancesService.getDocumentDetails(d).pipe((0,f.b)(h=>{}),(0,p.K)(h=>{throw h}))}getDocumentDetailById(d,h){return this.claimGrievancesService.getDocumentDetailById(d,h).pipe((0,f.b)(b=>{}),(0,p.K)(b=>{throw b}))}getReasonCloser(){return this.claimGrievancesService.getReasonCloser().pipe((0,f.b)(d=>{}),(0,p.K)(d=>{throw d}))}getViewCorrespondanceList(d,h){return this.claimGrievancesService.getViewCorrespondanceList("GR"+d,h).pipe((0,f.b)(b=>{}),(0,p.K)(b=>{throw b}))}getViewCorrespondanceById(d,h,b){return this.claimGrievancesService.getViewCorrespondanceById(d,h,b).pipe((0,f.b)(v=>{}),(0,p.K)(v=>{throw v}))}sendCorrespondance(d){return this.claimGrievancesService.sendCorrespondance(d).pipe((0,f.b)(h=>{}),(0,p.K)(h=>{throw h}))}viewDocumentHistory(d){return this.claimGrievancesService.viewDocumentHistory(d).pipe((0,f.b)(h=>{}),(0,p.K)(h=>{throw h}))}passOTPDetails(d){this.getOTPDetails.next(d)}getDocumentDetailByIdwithArn(d,h,b){return this.claimGrievancesService.getDocumentDetailByIdwithArn(d,h,b).pipe((0,f.b)(v=>{}),(0,p.K)(v=>{throw v}))}}(u=_).\u0275fac=function(d){return new(d||u)(e.LFG(Z.P0I))},u.\u0275prov=e.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),(0,c.gn)([(0,s.PS)()],_.prototype,"pbskGrievanceListData",null),(0,c.gn)([(0,s.PS)()],_.prototype,"validateArn",null),(0,c.gn)([(0,s.PS)()],_.prototype,"getLocation",null),(0,c.gn)([(0,s.PS)()],_.prototype,"getUser",null),(0,c.gn)([(0,s.PS)()],_.prototype,"saveForward",null),(0,c.gn)([(0,s.PS)()],_.prototype,"getReferenceType",null),(0,c.gn)([(0,s.PS)()],_.prototype,"saveClaim",null)}}]);